const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Y2bq20Ww.js","assets/hooks.module-C-K7Ztl2.js","assets/index-BjIL6YcH.js","assets/events-GuyNZyjl.js","assets/browser-CJmL7KiQ.js","assets/metamask-sdk-BQpvxHut.js","assets/index.es-BNOkUNmm.js"])))=>i.map(i=>d[i]);
var Og=e=>{throw TypeError(e)};var Du=(e,t,r)=>t.has(e)||Og("Cannot "+r);var Q=(e,t,r)=>(Du(e,t,"read from private field"),r?r.call(e):t.get(e)),Te=(e,t,r)=>t.has(e)?Og("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,s)=>(Du(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Re=(e,t,r)=>(Du(e,t,"access private method"),r);var Ol=(e,t,r,s)=>({set _(a){ye(e,t,a,r)},get _(){return Q(e,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var I3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var Bv={exports:{}},zd={},zv={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),_3=Symbol.for("react.portal"),F3=Symbol.for("react.fragment"),O3=Symbol.for("react.strict_mode"),D3=Symbol.for("react.profiler"),$3=Symbol.for("react.provider"),B3=Symbol.for("react.context"),z3=Symbol.for("react.forward_ref"),U3=Symbol.for("react.suspense"),V3=Symbol.for("react.memo"),W3=Symbol.for("react.lazy"),Dg=Symbol.iterator;function H3(e){return e===null||typeof e!="object"?null:(e=Dg&&e[Dg]||e["@@iterator"],typeof e=="function"?e:null)}var Uv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vv=Object.assign,Wv={};function wi(e,t,r){this.props=e,this.context=t,this.refs=Wv,this.updater=r||Uv}wi.prototype.isReactComponent={};wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hv(){}Hv.prototype=wi.prototype;function op(e,t,r){this.props=e,this.context=t,this.refs=Wv,this.updater=r||Uv}var lp=op.prototype=new Hv;lp.constructor=op;Vv(lp,wi.prototype);lp.isPureReactComponent=!0;var $g=Array.isArray,Gv=Object.prototype.hasOwnProperty,cp={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Kv(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Gv.call(t,s)&&!qv.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:bl,type:e,key:i,ref:o,props:a,_owner:cp.current}}function G3(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dp(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function q3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bg=/\/+/g;function $u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q3(""+e.key):t.toString(36)}function vc(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bl:case _3:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+$u(o,0):s,$g(a)?(r="",e!=null&&(r=e.replace(Bg,"$&/")+"/"),vc(a,t,r,"",function(d){return d})):a!=null&&(dp(a)&&(a=G3(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Bg,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",$g(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+$u(i,l);o+=vc(i,t,r,c,a)}else if(c=H3(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+$u(i,l++),o+=vc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dl(e,t,r){if(e==null)return e;var s=[],a=0;return vc(e,s,"","",function(i){return t.call(r,i,a++)}),s}function K3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},wc={transition:null},Y3={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:wc,ReactCurrentOwner:cp};function Yv(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Dl,forEach:function(e,t,r){Dl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dl(e,function(){t++}),t},toArray:function(e){return Dl(e,function(t){return t})||[]},only:function(e){if(!dp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=wi;Fe.Fragment=F3;Fe.Profiler=D3;Fe.PureComponent=op;Fe.StrictMode=O3;Fe.Suspense=U3;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y3;Fe.act=Yv;Fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Vv({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=cp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gv.call(t,c)&&!qv.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:bl,type:e.type,key:a,ref:i,props:s,_owner:o}};Fe.createContext=function(e){return e={$$typeof:B3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$3,_context:e},e.Consumer=e};Fe.createElement=Kv;Fe.createFactory=function(e){var t=Kv.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:z3,render:e}};Fe.isValidElement=dp;Fe.lazy=function(e){return{$$typeof:W3,_payload:{_status:-1,_result:e},_init:K3}};Fe.memo=function(e,t){return{$$typeof:V3,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=wc.transition;wc.transition={};try{e()}finally{wc.transition=t}};Fe.unstable_act=Yv;Fe.useCallback=function(e,t){return Ut.current.useCallback(e,t)};Fe.useContext=function(e){return Ut.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return Ut.current.useEffect(e,t)};Fe.useId=function(){return Ut.current.useId()};Fe.useImperativeHandle=function(e,t,r){return Ut.current.useImperativeHandle(e,t,r)};Fe.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return Ut.current.useMemo(e,t)};Fe.useReducer=function(e,t,r){return Ut.current.useReducer(e,t,r)};Fe.useRef=function(e){return Ut.current.useRef(e)};Fe.useState=function(e){return Ut.current.useState(e)};Fe.useSyncExternalStore=function(e,t,r){return Ut.current.useSyncExternalStore(e,t,r)};Fe.useTransition=function(){return Ut.current.useTransition()};Fe.version="18.3.1";zv.exports=Fe;var w=zv.exports;const Q3=$v(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3=w,Z3=Symbol.for("react.element"),J3=Symbol.for("react.fragment"),e5=Object.prototype.hasOwnProperty,t5=X3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n5={key:!0,ref:!0,__self:!0,__source:!0};function Qv(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)e5.call(t,s)&&!n5.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Z3,type:e,key:i,ref:o,props:a,_owner:t5.current}}zd.Fragment=J3;zd.jsx=Qv;zd.jsxs=Qv;Bv.exports=zd;var n=Bv.exports,Xv={},Ud={};Ud.byteLength=a5;Ud.toByteArray=o5;Ud.fromByteArray=d5;var Kn=[],mn=[],r5=typeof Uint8Array<"u"?Uint8Array:Array,Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var pa=0,s5=Bu.length;pa<s5;++pa)Kn[pa]=Bu[pa],mn[Bu.charCodeAt(pa)]=pa;mn[45]=62;mn[95]=63;function Zv(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var s=r===t?0:4-r%4;return[r,s]}function a5(e){var t=Zv(e),r=t[0],s=t[1];return(r+s)*3/4-s}function i5(e,t,r){return(t+r)*3/4-r}function o5(e){var t,r=Zv(e),s=r[0],a=r[1],i=new r5(i5(e,s,a)),o=0,l=a>0?s-4:s,c;for(c=0;c<l;c+=4)t=mn[e.charCodeAt(c)]<<18|mn[e.charCodeAt(c+1)]<<12|mn[e.charCodeAt(c+2)]<<6|mn[e.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return a===2&&(t=mn[e.charCodeAt(c)]<<2|mn[e.charCodeAt(c+1)]>>4,i[o++]=t&255),a===1&&(t=mn[e.charCodeAt(c)]<<10|mn[e.charCodeAt(c+1)]<<4|mn[e.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function l5(e){return Kn[e>>18&63]+Kn[e>>12&63]+Kn[e>>6&63]+Kn[e&63]}function c5(e,t,r){for(var s,a=[],i=t;i<r;i+=3)s=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),a.push(l5(s));return a.join("")}function d5(e){for(var t,r=e.length,s=r%3,a=[],i=16383,o=0,l=r-s;o<l;o+=i)a.push(c5(e,o,o+i>l?l:o+i));return s===1?(t=e[r-1],a.push(Kn[t>>2]+Kn[t<<4&63]+"==")):s===2&&(t=(e[r-2]<<8)+e[r-1],a.push(Kn[t>>10]+Kn[t>>4&63]+Kn[t<<2&63]+"=")),a.join("")}var up={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */up.read=function(e,t,r,s,a){var i,o,l=a*8-s-1,c=(1<<l)-1,d=c>>1,u=-7,m=r?a-1:0,h=r?-1:1,p=e[t+m];for(m+=h,i=p&(1<<-u)-1,p>>=-u,u+=l;u>0;i=i*256+e[t+m],m+=h,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=s;u>0;o=o*256+e[t+m],m+=h,u-=8);if(i===0)i=1-d;else{if(i===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,s),i=i-d}return(p?-1:1)*o*Math.pow(2,i-s)};up.write=function(e,t,r,s,a,i){var o,l,c,d=i*8-a-1,u=(1<<d)-1,m=u>>1,h=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:i-1,f=s?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+m>=1?t+=h/c:t+=h*Math.pow(2,1-m),t*c>=2&&(o++,c/=2),o+m>=u?(l=0,o=u):o+m>=1?(l=(t*c-1)*Math.pow(2,a),o=o+m):(l=t*Math.pow(2,m-1)*Math.pow(2,a),o=0));a>=8;e[r+p]=l&255,p+=f,l/=256,a-=8);for(o=o<<a|l,d+=a;d>0;e[r+p]=o&255,p+=f,o/=256,d-=8);e[r+p-f]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Ud,r=up,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=i(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const M=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(M,S),M.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(M){if(M>a)throw new RangeError('The value "'+M+'" is invalid for option "size"');const S=new Uint8Array(M);return Object.setPrototypeOf(S,l.prototype),S}function l(M,S,C){if(typeof M=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(M)}return c(M,S,C)}l.poolSize=8192;function c(M,S,C){if(typeof M=="string")return h(M,S);if(ArrayBuffer.isView(M))return f(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(se(M,ArrayBuffer)||M&&se(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(M,SharedArrayBuffer)||M&&se(M.buffer,SharedArrayBuffer)))return v(M,S,C);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=M.valueOf&&M.valueOf();if(D!=null&&D!==M)return l.from(D,S,C);const W=y(M);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return l.from(M[Symbol.toPrimitive]("string"),S,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}l.from=function(M,S,C){return c(M,S,C)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function u(M,S,C){return d(M),M<=0?o(M):S!==void 0?typeof C=="string"?o(M).fill(S,C):o(M).fill(S):o(M)}l.alloc=function(M,S,C){return u(M,S,C)};function m(M){return d(M),o(M<0?0:g(M)|0)}l.allocUnsafe=function(M){return m(M)},l.allocUnsafeSlow=function(M){return m(M)};function h(M,S){if((typeof S!="string"||S==="")&&(S="utf8"),!l.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const C=b(M,S)|0;let D=o(C);const W=D.write(M,S);return W!==C&&(D=D.slice(0,W)),D}function p(M){const S=M.length<0?0:g(M.length)|0,C=o(S);for(let D=0;D<S;D+=1)C[D]=M[D]&255;return C}function f(M){if(se(M,Uint8Array)){const S=new Uint8Array(M);return v(S.buffer,S.byteOffset,S.byteLength)}return p(M)}function v(M,S,C){if(S<0||M.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<S+(C||0))throw new RangeError('"length" is outside of buffer bounds');let D;return S===void 0&&C===void 0?D=new Uint8Array(M):C===void 0?D=new Uint8Array(M,S):D=new Uint8Array(M,S,C),Object.setPrototypeOf(D,l.prototype),D}function y(M){if(l.isBuffer(M)){const S=g(M.length)|0,C=o(S);return C.length===0||M.copy(C,0,0,S),C}if(M.length!==void 0)return typeof M.length!="number"||de(M.length)?o(0):p(M);if(M.type==="Buffer"&&Array.isArray(M.data))return p(M.data)}function g(M){if(M>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return M|0}function x(M){return+M!=M&&(M=0),l.alloc(+M)}l.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==l.prototype},l.compare=function(S,C){if(se(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),se(C,Uint8Array)&&(C=l.from(C,C.offset,C.byteLength)),!l.isBuffer(S)||!l.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===C)return 0;let D=S.length,W=C.length;for(let V=0,ae=Math.min(D,W);V<ae;++V)if(S[V]!==C[V]){D=S[V],W=C[V];break}return D<W?-1:W<D?1:0},l.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(S,C){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return l.alloc(0);let D;if(C===void 0)for(C=0,D=0;D<S.length;++D)C+=S[D].length;const W=l.allocUnsafe(C);let V=0;for(D=0;D<S.length;++D){let ae=S[D];if(se(ae,Uint8Array))V+ae.length>W.length?(l.isBuffer(ae)||(ae=l.from(ae)),ae.copy(W,V)):Uint8Array.prototype.set.call(W,ae,V);else if(l.isBuffer(ae))ae.copy(W,V);else throw new TypeError('"list" argument must be an Array of Buffers');V+=ae.length}return W};function b(M,S){if(l.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||se(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const C=M.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&C===0)return 0;let W=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return ue(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return ve(M).length;default:if(W)return D?-1:ue(M).length;S=(""+S).toLowerCase(),W=!0}}l.byteLength=b;function N(M,S,C){let D=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,S>>>=0,C<=S))return"";for(M||(M="utf8");;)switch(M){case"hex":return O(this,S,C);case"utf8":case"utf-8":return ne(this,S,C);case"ascii":return A(this,S,C);case"latin1":case"binary":return E(this,S,C);case"base64":return K(this,S,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,S,C);default:if(D)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),D=!0}}l.prototype._isBuffer=!0;function j(M,S,C){const D=M[S];M[S]=M[C],M[C]=D}l.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<S;C+=2)j(this,C,C+1);return this},l.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<S;C+=4)j(this,C,C+3),j(this,C+1,C+2);return this},l.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<S;C+=8)j(this,C,C+7),j(this,C+1,C+6),j(this,C+2,C+5),j(this,C+3,C+4);return this},l.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?ne(this,0,S):N.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(S){if(!l.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:l.compare(this,S)===0},l.prototype.inspect=function(){let S="";const C=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(S+=" ... "),"<Buffer "+S+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(S,C,D,W,V){if(se(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),!l.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(C===void 0&&(C=0),D===void 0&&(D=S?S.length:0),W===void 0&&(W=0),V===void 0&&(V=this.length),C<0||D>S.length||W<0||V>this.length)throw new RangeError("out of range index");if(W>=V&&C>=D)return 0;if(W>=V)return-1;if(C>=D)return 1;if(C>>>=0,D>>>=0,W>>>=0,V>>>=0,this===S)return 0;let ae=V-W,we=D-C;const Ue=Math.min(ae,we),Ie=this.slice(W,V),Ne=S.slice(C,D);for(let Pe=0;Pe<Ue;++Pe)if(Ie[Pe]!==Ne[Pe]){ae=Ie[Pe],we=Ne[Pe];break}return ae<we?-1:we<ae?1:0};function k(M,S,C,D,W){if(M.length===0)return-1;if(typeof C=="string"?(D=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,de(C)&&(C=W?0:M.length-1),C<0&&(C=M.length+C),C>=M.length){if(W)return-1;C=M.length-1}else if(C<0)if(W)C=0;else return-1;if(typeof S=="string"&&(S=l.from(S,D)),l.isBuffer(S))return S.length===0?-1:T(M,S,C,D,W);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(M,S,C):Uint8Array.prototype.lastIndexOf.call(M,S,C):T(M,[S],C,D,W);throw new TypeError("val must be string, number or Buffer")}function T(M,S,C,D,W){let V=1,ae=M.length,we=S.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(M.length<2||S.length<2)return-1;V=2,ae/=2,we/=2,C/=2}function Ue(Ne,Pe){return V===1?Ne[Pe]:Ne.readUInt16BE(Pe*V)}let Ie;if(W){let Ne=-1;for(Ie=C;Ie<ae;Ie++)if(Ue(M,Ie)===Ue(S,Ne===-1?0:Ie-Ne)){if(Ne===-1&&(Ne=Ie),Ie-Ne+1===we)return Ne*V}else Ne!==-1&&(Ie-=Ie-Ne),Ne=-1}else for(C+we>ae&&(C=ae-we),Ie=C;Ie>=0;Ie--){let Ne=!0;for(let Pe=0;Pe<we;Pe++)if(Ue(M,Ie+Pe)!==Ue(S,Pe)){Ne=!1;break}if(Ne)return Ie}return-1}l.prototype.includes=function(S,C,D){return this.indexOf(S,C,D)!==-1},l.prototype.indexOf=function(S,C,D){return k(this,S,C,D,!0)},l.prototype.lastIndexOf=function(S,C,D){return k(this,S,C,D,!1)};function P(M,S,C,D){C=Number(C)||0;const W=M.length-C;D?(D=Number(D),D>W&&(D=W)):D=W;const V=S.length;D>V/2&&(D=V/2);let ae;for(ae=0;ae<D;++ae){const we=parseInt(S.substr(ae*2,2),16);if(de(we))return ae;M[C+ae]=we}return ae}function I(M,S,C,D){return ke(ue(S,M.length-C),M,C,D)}function B(M,S,C,D){return ke(xe(S),M,C,D)}function U(M,S,C,D){return ke(ve(S),M,C,D)}function q(M,S,C,D){return ke(ge(S,M.length-C),M,C,D)}l.prototype.write=function(S,C,D,W){if(C===void 0)W="utf8",D=this.length,C=0;else if(D===void 0&&typeof C=="string")W=C,D=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(D)?(D=D>>>0,W===void 0&&(W="utf8")):(W=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const V=this.length-C;if((D===void 0||D>V)&&(D=V),S.length>0&&(D<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let ae=!1;for(;;)switch(W){case"hex":return P(this,S,C,D);case"utf8":case"utf-8":return I(this,S,C,D);case"ascii":case"latin1":case"binary":return B(this,S,C,D);case"base64":return U(this,S,C,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,S,C,D);default:if(ae)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ae=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(M,S,C){return S===0&&C===M.length?t.fromByteArray(M):t.fromByteArray(M.slice(S,C))}function ne(M,S,C){C=Math.min(M.length,C);const D=[];let W=S;for(;W<C;){const V=M[W];let ae=null,we=V>239?4:V>223?3:V>191?2:1;if(W+we<=C){let Ue,Ie,Ne,Pe;switch(we){case 1:V<128&&(ae=V);break;case 2:Ue=M[W+1],(Ue&192)===128&&(Pe=(V&31)<<6|Ue&63,Pe>127&&(ae=Pe));break;case 3:Ue=M[W+1],Ie=M[W+2],(Ue&192)===128&&(Ie&192)===128&&(Pe=(V&15)<<12|(Ue&63)<<6|Ie&63,Pe>2047&&(Pe<55296||Pe>57343)&&(ae=Pe));break;case 4:Ue=M[W+1],Ie=M[W+2],Ne=M[W+3],(Ue&192)===128&&(Ie&192)===128&&(Ne&192)===128&&(Pe=(V&15)<<18|(Ue&63)<<12|(Ie&63)<<6|Ne&63,Pe>65535&&Pe<1114112&&(ae=Pe))}}ae===null?(ae=65533,we=1):ae>65535&&(ae-=65536,D.push(ae>>>10&1023|55296),ae=56320|ae&1023),D.push(ae),W+=we}return L(D)}const J=4096;function L(M){const S=M.length;if(S<=J)return String.fromCharCode.apply(String,M);let C="",D=0;for(;D<S;)C+=String.fromCharCode.apply(String,M.slice(D,D+=J));return C}function A(M,S,C){let D="";C=Math.min(M.length,C);for(let W=S;W<C;++W)D+=String.fromCharCode(M[W]&127);return D}function E(M,S,C){let D="";C=Math.min(M.length,C);for(let W=S;W<C;++W)D+=String.fromCharCode(M[W]);return D}function O(M,S,C){const D=M.length;(!S||S<0)&&(S=0),(!C||C<0||C>D)&&(C=D);let W="";for(let V=S;V<C;++V)W+=je[M[V]];return W}function F(M,S,C){const D=M.slice(S,C);let W="";for(let V=0;V<D.length-1;V+=2)W+=String.fromCharCode(D[V]+D[V+1]*256);return W}l.prototype.slice=function(S,C){const D=this.length;S=~~S,C=C===void 0?D:~~C,S<0?(S+=D,S<0&&(S=0)):S>D&&(S=D),C<0?(C+=D,C<0&&(C=0)):C>D&&(C=D),C<S&&(C=S);const W=this.subarray(S,C);return Object.setPrototypeOf(W,l.prototype),W};function R(M,S,C){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+S>C)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(S,C,D){S=S>>>0,C=C>>>0,D||R(S,C,this.length);let W=this[S],V=1,ae=0;for(;++ae<C&&(V*=256);)W+=this[S+ae]*V;return W},l.prototype.readUintBE=l.prototype.readUIntBE=function(S,C,D){S=S>>>0,C=C>>>0,D||R(S,C,this.length);let W=this[S+--C],V=1;for(;C>0&&(V*=256);)W+=this[S+--C]*V;return W},l.prototype.readUint8=l.prototype.readUInt8=function(S,C){return S=S>>>0,C||R(S,1,this.length),this[S]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(S,C){return S=S>>>0,C||R(S,2,this.length),this[S]|this[S+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(S,C){return S=S>>>0,C||R(S,2,this.length),this[S]<<8|this[S+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(S,C){return S=S>>>0,C||R(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(S,C){return S=S>>>0,C||R(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},l.prototype.readBigUInt64LE=Le(function(S){S=S>>>0,z(S,"offset");const C=this[S],D=this[S+7];(C===void 0||D===void 0)&&X(S,this.length-8);const W=C+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,V=this[++S]+this[++S]*2**8+this[++S]*2**16+D*2**24;return BigInt(W)+(BigInt(V)<<BigInt(32))}),l.prototype.readBigUInt64BE=Le(function(S){S=S>>>0,z(S,"offset");const C=this[S],D=this[S+7];(C===void 0||D===void 0)&&X(S,this.length-8);const W=C*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],V=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+D;return(BigInt(W)<<BigInt(32))+BigInt(V)}),l.prototype.readIntLE=function(S,C,D){S=S>>>0,C=C>>>0,D||R(S,C,this.length);let W=this[S],V=1,ae=0;for(;++ae<C&&(V*=256);)W+=this[S+ae]*V;return V*=128,W>=V&&(W-=Math.pow(2,8*C)),W},l.prototype.readIntBE=function(S,C,D){S=S>>>0,C=C>>>0,D||R(S,C,this.length);let W=C,V=1,ae=this[S+--W];for(;W>0&&(V*=256);)ae+=this[S+--W]*V;return V*=128,ae>=V&&(ae-=Math.pow(2,8*C)),ae},l.prototype.readInt8=function(S,C){return S=S>>>0,C||R(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},l.prototype.readInt16LE=function(S,C){S=S>>>0,C||R(S,2,this.length);const D=this[S]|this[S+1]<<8;return D&32768?D|4294901760:D},l.prototype.readInt16BE=function(S,C){S=S>>>0,C||R(S,2,this.length);const D=this[S+1]|this[S]<<8;return D&32768?D|4294901760:D},l.prototype.readInt32LE=function(S,C){return S=S>>>0,C||R(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},l.prototype.readInt32BE=function(S,C){return S=S>>>0,C||R(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},l.prototype.readBigInt64LE=Le(function(S){S=S>>>0,z(S,"offset");const C=this[S],D=this[S+7];(C===void 0||D===void 0)&&X(S,this.length-8);const W=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(D<<24);return(BigInt(W)<<BigInt(32))+BigInt(C+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),l.prototype.readBigInt64BE=Le(function(S){S=S>>>0,z(S,"offset");const C=this[S],D=this[S+7];(C===void 0||D===void 0)&&X(S,this.length-8);const W=(C<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(W)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+D)}),l.prototype.readFloatLE=function(S,C){return S=S>>>0,C||R(S,4,this.length),r.read(this,S,!0,23,4)},l.prototype.readFloatBE=function(S,C){return S=S>>>0,C||R(S,4,this.length),r.read(this,S,!1,23,4)},l.prototype.readDoubleLE=function(S,C){return S=S>>>0,C||R(S,8,this.length),r.read(this,S,!0,52,8)},l.prototype.readDoubleBE=function(S,C){return S=S>>>0,C||R(S,8,this.length),r.read(this,S,!1,52,8)};function _(M,S,C,D,W,V){if(!l.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>W||S<V)throw new RangeError('"value" argument is out of bounds');if(C+D>M.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(S,C,D,W){if(S=+S,C=C>>>0,D=D>>>0,!W){const we=Math.pow(2,8*D)-1;_(this,S,C,D,we,0)}let V=1,ae=0;for(this[C]=S&255;++ae<D&&(V*=256);)this[C+ae]=S/V&255;return C+D},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(S,C,D,W){if(S=+S,C=C>>>0,D=D>>>0,!W){const we=Math.pow(2,8*D)-1;_(this,S,C,D,we,0)}let V=D-1,ae=1;for(this[C+V]=S&255;--V>=0&&(ae*=256);)this[C+V]=S/ae&255;return C+D},l.prototype.writeUint8=l.prototype.writeUInt8=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,1,255,0),this[C]=S&255,C+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,2,65535,0),this[C]=S&255,this[C+1]=S>>>8,C+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,2,65535,0),this[C]=S>>>8,this[C+1]=S&255,C+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,4,4294967295,0),this[C+3]=S>>>24,this[C+2]=S>>>16,this[C+1]=S>>>8,this[C]=S&255,C+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,4,4294967295,0),this[C]=S>>>24,this[C+1]=S>>>16,this[C+2]=S>>>8,this[C+3]=S&255,C+4};function Y(M,S,C,D,W){$(S,D,W,M,C,7);let V=Number(S&BigInt(4294967295));M[C++]=V,V=V>>8,M[C++]=V,V=V>>8,M[C++]=V,V=V>>8,M[C++]=V;let ae=Number(S>>BigInt(32)&BigInt(4294967295));return M[C++]=ae,ae=ae>>8,M[C++]=ae,ae=ae>>8,M[C++]=ae,ae=ae>>8,M[C++]=ae,C}function ee(M,S,C,D,W){$(S,D,W,M,C,7);let V=Number(S&BigInt(4294967295));M[C+7]=V,V=V>>8,M[C+6]=V,V=V>>8,M[C+5]=V,V=V>>8,M[C+4]=V;let ae=Number(S>>BigInt(32)&BigInt(4294967295));return M[C+3]=ae,ae=ae>>8,M[C+2]=ae,ae=ae>>8,M[C+1]=ae,ae=ae>>8,M[C]=ae,C+8}l.prototype.writeBigUInt64LE=Le(function(S,C=0){return Y(this,S,C,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Le(function(S,C=0){return ee(this,S,C,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(S,C,D,W){if(S=+S,C=C>>>0,!W){const Ue=Math.pow(2,8*D-1);_(this,S,C,D,Ue-1,-Ue)}let V=0,ae=1,we=0;for(this[C]=S&255;++V<D&&(ae*=256);)S<0&&we===0&&this[C+V-1]!==0&&(we=1),this[C+V]=(S/ae>>0)-we&255;return C+D},l.prototype.writeIntBE=function(S,C,D,W){if(S=+S,C=C>>>0,!W){const Ue=Math.pow(2,8*D-1);_(this,S,C,D,Ue-1,-Ue)}let V=D-1,ae=1,we=0;for(this[C+V]=S&255;--V>=0&&(ae*=256);)S<0&&we===0&&this[C+V+1]!==0&&(we=1),this[C+V]=(S/ae>>0)-we&255;return C+D},l.prototype.writeInt8=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,1,127,-128),S<0&&(S=255+S+1),this[C]=S&255,C+1},l.prototype.writeInt16LE=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,2,32767,-32768),this[C]=S&255,this[C+1]=S>>>8,C+2},l.prototype.writeInt16BE=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,2,32767,-32768),this[C]=S>>>8,this[C+1]=S&255,C+2},l.prototype.writeInt32LE=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,4,2147483647,-2147483648),this[C]=S&255,this[C+1]=S>>>8,this[C+2]=S>>>16,this[C+3]=S>>>24,C+4},l.prototype.writeInt32BE=function(S,C,D){return S=+S,C=C>>>0,D||_(this,S,C,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[C]=S>>>24,this[C+1]=S>>>16,this[C+2]=S>>>8,this[C+3]=S&255,C+4},l.prototype.writeBigInt64LE=Le(function(S,C=0){return Y(this,S,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Le(function(S,C=0){return ee(this,S,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(M,S,C,D,W,V){if(C+D>M.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function le(M,S,C,D,W){return S=+S,C=C>>>0,W||me(M,S,C,4),r.write(M,S,C,D,23,4),C+4}l.prototype.writeFloatLE=function(S,C,D){return le(this,S,C,!0,D)},l.prototype.writeFloatBE=function(S,C,D){return le(this,S,C,!1,D)};function ce(M,S,C,D,W){return S=+S,C=C>>>0,W||me(M,S,C,8),r.write(M,S,C,D,52,8),C+8}l.prototype.writeDoubleLE=function(S,C,D){return ce(this,S,C,!0,D)},l.prototype.writeDoubleBE=function(S,C,D){return ce(this,S,C,!1,D)},l.prototype.copy=function(S,C,D,W){if(!l.isBuffer(S))throw new TypeError("argument should be a Buffer");if(D||(D=0),!W&&W!==0&&(W=this.length),C>=S.length&&(C=S.length),C||(C=0),W>0&&W<D&&(W=D),W===D||S.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),S.length-C<W-D&&(W=S.length-C+D);const V=W-D;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,D,W):Uint8Array.prototype.set.call(S,this.subarray(D,W),C),V},l.prototype.fill=function(S,C,D,W){if(typeof S=="string"){if(typeof C=="string"?(W=C,C=0,D=this.length):typeof D=="string"&&(W=D,D=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!l.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(S.length===1){const ae=S.charCodeAt(0);(W==="utf8"&&ae<128||W==="latin1")&&(S=ae)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(C<0||this.length<C||this.length<D)throw new RangeError("Out of range index");if(D<=C)return this;C=C>>>0,D=D===void 0?this.length:D>>>0,S||(S=0);let V;if(typeof S=="number")for(V=C;V<D;++V)this[V]=S;else{const ae=l.isBuffer(S)?S:l.from(S,W),we=ae.length;if(we===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(V=0;V<D-C;++V)this[V+C]=ae[V%we]}return this};const G={};function H(M,S,C){G[M]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}H("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(M,S){return`The "${M}" argument must be of type number. Received type ${typeof S}`},TypeError),H("ERR_OUT_OF_RANGE",function(M,S,C){let D=`The value of "${M}" is out of range.`,W=C;return Number.isInteger(C)&&Math.abs(C)>2**32?W=re(String(C)):typeof C=="bigint"&&(W=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(W=re(W)),W+="n"),D+=` It must be ${S}. Received ${W}`,D},RangeError);function re(M){let S="",C=M.length;const D=M[0]==="-"?1:0;for(;C>=D+4;C-=3)S=`_${M.slice(C-3,C)}${S}`;return`${M.slice(0,C)}${S}`}function te(M,S,C){z(S,"offset"),(M[S]===void 0||M[S+C]===void 0)&&X(S,M.length-(C+1))}function $(M,S,C,D,W,V){if(M>C||M<S){const ae=typeof S=="bigint"?"n":"";let we;throw S===0||S===BigInt(0)?we=`>= 0${ae} and < 2${ae} ** ${(V+1)*8}${ae}`:we=`>= -(2${ae} ** ${(V+1)*8-1}${ae}) and < 2 ** ${(V+1)*8-1}${ae}`,new G.ERR_OUT_OF_RANGE("value",we,M)}te(D,W,V)}function z(M,S){if(typeof M!="number")throw new G.ERR_INVALID_ARG_TYPE(S,"number",M)}function X(M,S,C){throw Math.floor(M)!==M?(z(M,C),new G.ERR_OUT_OF_RANGE("offset","an integer",M)):S<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,M)}const ie=/[^+/0-9A-Za-z-_]/g;function oe(M){if(M=M.split("=")[0],M=M.trim().replace(ie,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function ue(M,S){S=S||1/0;let C;const D=M.length;let W=null;const V=[];for(let ae=0;ae<D;++ae){if(C=M.charCodeAt(ae),C>55295&&C<57344){if(!W){if(C>56319){(S-=3)>-1&&V.push(239,191,189);continue}else if(ae+1===D){(S-=3)>-1&&V.push(239,191,189);continue}W=C;continue}if(C<56320){(S-=3)>-1&&V.push(239,191,189),W=C;continue}C=(W-55296<<10|C-56320)+65536}else W&&(S-=3)>-1&&V.push(239,191,189);if(W=null,C<128){if((S-=1)<0)break;V.push(C)}else if(C<2048){if((S-=2)<0)break;V.push(C>>6|192,C&63|128)}else if(C<65536){if((S-=3)<0)break;V.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((S-=4)<0)break;V.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return V}function xe(M){const S=[];for(let C=0;C<M.length;++C)S.push(M.charCodeAt(C)&255);return S}function ge(M,S){let C,D,W;const V=[];for(let ae=0;ae<M.length&&!((S-=2)<0);++ae)C=M.charCodeAt(ae),D=C>>8,W=C%256,V.push(W),V.push(D);return V}function ve(M){return t.toByteArray(oe(M))}function ke(M,S,C,D){let W;for(W=0;W<D&&!(W+C>=S.length||W>=M.length);++W)S[W+C]=M[W];return W}function se(M,S){return M instanceof S||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===S.name}function de(M){return M!==M}const je=function(){const M="0123456789abcdef",S=new Array(256);for(let C=0;C<16;++C){const D=C*16;for(let W=0;W<16;++W)S[D+W]=M[C]+M[W]}return S}();function Le(M){return typeof BigInt>"u"?pe:M}function pe(){throw new Error("BigInt not supported")}})(Xv);var ji=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},si=typeof window>"u"||"Deno"in globalThis;function pn(){}function u5(e,t){return typeof e=="function"?e(t):e}function rm(e){return typeof e=="number"&&e>=0&&e!==1/0}function Jv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fa(e,t){return typeof e=="function"?e(t):e}function zg(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==mp(o,t.options))return!1}else if(!No(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Ug(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Js(t.options.mutationKey)!==Js(i))return!1}else if(!No(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function mp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Js)(e)}function Js(e){return JSON.stringify(e,(t,r)=>sm(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function No(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!No(e[r],t[r])):!1}function hp(e,t){if(e===t)return e;const r=Vg(e)&&Vg(t);if(r||sm(e)&&sm(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=hp(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Vc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Vg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sm(e){if(!Wg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Wg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wg(e){return Object.prototype.toString.call(e)==="[object Object]"}function m5(e){return new Promise(t=>{setTimeout(t,e)})}function am(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?hp(e,t):t}function h5(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function p5(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var e1=Symbol(),t1=(e,t)=>!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===e1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn,Us,Gr,Ha,Pv,f5=(Pv=class extends ji{constructor(){super();Te(this,Us);Te(this,Gr);Te(this,Ha);ye(this,Ha,t=>{if(!si&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Q(this,Gr)||this.setEventListener(Q(this,Ha))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Gr))==null||t.call(this),ye(this,Gr,void 0))}setEventListener(t){var r;ye(this,Ha,t),(r=Q(this,Gr))==null||r.call(this),ye(this,Gr,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Q(this,Us)!==t&&(ye(this,Us,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Q(this,Us)=="boolean"?Q(this,Us):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Us=new WeakMap,Gr=new WeakMap,Ha=new WeakMap,Pv),pp=new f5,Ga,qr,qa,Av,g5=(Av=class extends ji{constructor(){super();Te(this,Ga,!0);Te(this,qr);Te(this,qa);ye(this,qa,t=>{if(!si&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){Q(this,qr)||this.setEventListener(Q(this,qa))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,qr))==null||t.call(this),ye(this,qr,void 0))}setEventListener(t){var r;ye(this,qa,t),(r=Q(this,qr))==null||r.call(this),ye(this,qr,t(this.setOnline.bind(this)))}setOnline(t){Q(this,Ga)!==t&&(ye(this,Ga,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Q(this,Ga)}},Ga=new WeakMap,qr=new WeakMap,qa=new WeakMap,Av),Wc=new g5;function x5(e){return Math.min(1e3*2**e,3e4)}function n1(e){return(e??"online")==="online"?Wc.isOnline():!0}var r1=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zu(e){return e instanceof r1}function s1(e){let t=!1,r=0,s=!1,a,i,o;const l=new Promise((g,x)=>{i=g,o=x}),c=g=>{var x;s||(f(new r1(g)),(x=e.abort)==null||x.call(e))},d=()=>{t=!0},u=()=>{t=!1},m=()=>pp.isFocused()&&(e.networkMode==="always"||Wc.isOnline())&&e.canRun(),h=()=>n1(e.networkMode)&&e.canRun(),p=g=>{var x;s||(s=!0,(x=e.onSuccess)==null||x.call(e,g),a==null||a(),i(g))},f=g=>{var x;s||(s=!0,(x=e.onError)==null||x.call(e,g),a==null||a(),o(g))},v=()=>new Promise(g=>{var x;a=b=>{(s||m())&&g(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;a=void 0,s||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(s)return;let g;const x=r===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(p).catch(b=>{var P;if(s)return;const N=e.retry??(si?0:3),j=e.retryDelay??x5,k=typeof j=="function"?j(r,b):j,T=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,b);if(t||!T){f(b);return}r++,(P=e.onFail)==null||P.call(e,r,b),m5(k).then(()=>m()?void 0:v()).then(()=>{t?f(b):y()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:d,continueRetry:u,canStart:h,start:()=>(h()?y():v().then(y),l)}}function y5(){let e=[],t=0,r=h=>{h()},s=h=>{h()},a=h=>setTimeout(h,0);const i=h=>{a=h},o=h=>{let p;t++;try{p=h()}finally{t--,t||d()}return p},l=h=>{t?e.push(h):a(()=>{r(h)})},c=h=>(...p)=>{l(()=>{h(...p)})},d=()=>{const h=e;e=[],h.length&&a(()=>{s(()=>{h.forEach(p=>{r(p)})})})};return{batch:o,batchCalls:c,schedule:l,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{s=h},setScheduler:i}}var ht=y5(),Vs,Mv,a1=(Mv=class{constructor(){Te(this,Vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rm(this.gcTime)&&ye(this,Vs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(si?1/0:5*60*1e3))}clearGcTimeout(){Q(this,Vs)&&(clearTimeout(Q(this,Vs)),ye(this,Vs,void 0))}},Vs=new WeakMap,Mv),Ka,Ya,hn,Et,fl,Ws,En,ar,Rv,b5=(Rv=class extends a1{constructor(t){super();Te(this,En);Te(this,Ka);Te(this,Ya);Te(this,hn);Te(this,Et);Te(this,fl);Te(this,Ws);ye(this,Ws,!1),ye(this,fl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,hn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Ka,t.state||v5(this.options)),this.state=Q(this,Ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Et))==null?void 0:t.promise}setOptions(t){this.options={...Q(this,fl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,hn).remove(this)}setData(t,r){const s=am(this.state.data,t,this.options);return Re(this,En,ar).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Re(this,En,ar).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=Q(this,Et))==null?void 0:s.promise;return(a=Q(this,Et))==null||a.cancel(t),r?r.then(pn).catch(pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Ka))}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Jv(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Et))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Et))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,hn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Q(this,Et)&&(Q(this,Ws)?Q(this,Et).cancel({revert:!0}):Q(this,Et).cancelRetry()),this.scheduleGc()),Q(this,hn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Re(this,En,ar).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Et))return Q(this,Et).continueRetry(),Q(this,Et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ye(this,Ws,!0),s.signal)})},i=()=>{const m=t1(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),ye(this,Ws,!1),this.options.persister?this.options.persister(m,h,this):m(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ye(this,Ya,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Re(this,En,ar).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=m=>{var h,p,f,v;zu(m)&&m.silent||Re(this,En,ar).call(this,{type:"error",error:m}),zu(m)||((p=(h=Q(this,hn).config).onError)==null||p.call(h,m,this),(v=(f=Q(this,hn).config).onSettled)==null||v.call(f,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ye(this,Et,s1({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var h,p,f,v;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(m),(p=(h=Q(this,hn).config).onSuccess)==null||p.call(h,m,this),(v=(f=Q(this,hn).config).onSettled)==null||v.call(f,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(m,h)=>{Re(this,En,ar).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Re(this,En,ar).call(this,{type:"pause"})},onContinue:()=>{Re(this,En,ar).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Q(this,Et).start()}},Ka=new WeakMap,Ya=new WeakMap,hn=new WeakMap,Et=new WeakMap,fl=new WeakMap,Ws=new WeakMap,En=new WeakSet,ar=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...i1(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return zu(a)&&a.revert&&Q(this,Ya)?{...Q(this,Ya),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),ht.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Q(this,hn).notify({query:this,type:"updated",action:t})})},Rv);function i1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function v5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wn,Lv,w5=(Lv=class extends ji{constructor(t={}){super();Te(this,Wn);this.config=t,ye(this,Wn,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??mp(a,r);let o=this.get(i);return o||(o=new b5({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Q(this,Wn).has(t.queryHash)||(Q(this,Wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Q(this,Wn).get(t.queryHash);r&&(t.destroy(),r===t&&Q(this,Wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Wn).get(t)}getAll(){return[...Q(this,Wn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>zg(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>zg(t,s)):r}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wn=new WeakMap,Lv),Hn,It,Hs,Gn,$r,Iv,j5=(Iv=class extends a1{constructor(t){super();Te(this,Gn);Te(this,Hn);Te(this,It);Te(this,Hs);this.mutationId=t.mutationId,ye(this,It,t.mutationCache),ye(this,Hn,[]),this.state=t.state||o1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,Hn).includes(t)||(Q(this,Hn).push(t),this.clearGcTimeout(),Q(this,It).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Hn,Q(this,Hn).filter(r=>r!==t)),this.scheduleGc(),Q(this,It).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,Hn).length||(this.state.status==="pending"?this.scheduleGc():Q(this,It).remove(this))}continue(){var t;return((t=Q(this,Hs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,m,h,p,f,v,y,g,x,b,N,j,k,T;ye(this,Hs,s1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{Re(this,Gn,$r).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{Re(this,Gn,$r).call(this,{type:"pause"})},onContinue:()=>{Re(this,Gn,$r).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,It).canRun(this)}));const r=this.state.status==="pending",s=!Q(this,Hs).canStart();try{if(!r){Re(this,Gn,$r).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=Q(this,It).config).onMutate)==null?void 0:i.call(a,t,this));const I=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));I!==this.state.context&&Re(this,Gn,$r).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const P=await Q(this,Hs).start();return await((d=(c=Q(this,It).config).onSuccess)==null?void 0:d.call(c,P,t,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,P,t,this.state.context)),await((p=(h=Q(this,It).config).onSettled)==null?void 0:p.call(h,P,null,this.state.variables,this.state.context,this)),await((v=(f=this.options).onSettled)==null?void 0:v.call(f,P,null,t,this.state.context)),Re(this,Gn,$r).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(y=Q(this,It).config).onError)==null?void 0:g.call(y,P,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,P,t,this.state.context)),await((j=(N=Q(this,It).config).onSettled)==null?void 0:j.call(N,void 0,P,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,P,t,this.state.context)),P}finally{Re(this,Gn,$r).call(this,{type:"error",error:P})}}finally{Q(this,It).runNext(this)}}},Hn=new WeakMap,It=new WeakMap,Hs=new WeakMap,Gn=new WeakSet,$r=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ht.batch(()=>{Q(this,Hn).forEach(s=>{s.onMutationUpdate(t)}),Q(this,It).notify({mutation:this,type:"updated",action:t})})},Iv);function o1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var en,gl,_v,N5=(_v=class extends ji{constructor(t={}){super();Te(this,en);Te(this,gl);this.config=t,ye(this,en,new Map),ye(this,gl,Date.now())}build(t,r,s){const a=new j5({mutationCache:this,mutationId:++Ol(this,gl)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=$l(t),s=Q(this,en).get(r)??[];s.push(t),Q(this,en).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=$l(t);if(Q(this,en).has(r)){const a=(s=Q(this,en).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?Q(this,en).delete(r):Q(this,en).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=Q(this,en).get($l(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=Q(this,en).get($l(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Q(this,en).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Ug(r,s))}findAll(t={}){return this.getAll().filter(r=>Ug(t,r))}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ht.batch(()=>Promise.all(t.map(r=>r.continue().catch(pn))))}},en=new WeakMap,gl=new WeakMap,_v);function $l(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function S5(e){return{onFetch:(t,r)=>{const s=async()=>{var f,v,y,g,x;const a=t.options,i=(y=(v=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:v.fetchMore)==null?void 0:y.direction,o=((g=t.state.data)==null?void 0:g.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[],c={pages:[],pageParams:[]};let d=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},m=t1(t.options,t.fetchOptions),h=async(b,N,j)=>{if(d)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};u(k);const T=await m(k),{maxPages:P}=t.options,I=j?p5:h5;return{pages:I(b.pages,T,P),pageParams:I(b.pageParams,N,P)}};let p;if(i&&o.length){const b=i==="backward",N=b?C5:Hg,j={pages:o,pageParams:l},k=N(a,j);p=await h(j,k,b)}else{p=await h(c,l[0]??a.initialPageParam);const b=e??o.length;for(let N=1;N<b;N++){const j=Hg(a,p);p=await h(p,j)}}return p};t.options.persister?t.fetchFn=()=>{var a,i;return(i=(a=t.options).persister)==null?void 0:i.call(a,s,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=s}}}function Hg(e,{pages:t,pageParams:r}){const s=t.length-1;return e.getNextPageParam(t[s],t,r[s],r)}function C5(e,{pages:t,pageParams:r}){var s;return(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r)}var at,Kr,Yr,Qa,Xa,Qr,Za,Ja,Fv,k5=(Fv=class{constructor(e={}){Te(this,at);Te(this,Kr);Te(this,Yr);Te(this,Qa);Te(this,Xa);Te(this,Qr);Te(this,Za);Te(this,Ja);ye(this,at,e.queryCache||new w5),ye(this,Kr,e.mutationCache||new N5),ye(this,Yr,e.defaultOptions||{}),ye(this,Qa,new Map),ye(this,Xa,new Map),ye(this,Qr,0)}mount(){Ol(this,Qr)._++,Q(this,Qr)===1&&(ye(this,Za,pp.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,at).onFocus())})),ye(this,Ja,Wc.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,at).onOnline())})))}unmount(){var e,t;Ol(this,Qr)._--,Q(this,Qr)===0&&((e=Q(this,Za))==null||e.call(this),ye(this,Za,void 0),(t=Q(this,Ja))==null||t.call(this),ye(this,Ja,void 0))}isFetching(e){return Q(this,at).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Kr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,at).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=Q(this,at).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Fa(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Q(this,at).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=Q(this,at).get(s.queryHash),i=a==null?void 0:a.state.data,o=u5(t,i);if(o!==void 0)return Q(this,at).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ht.batch(()=>Q(this,at).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,at).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Q(this,at);ht.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Q(this,at),s={type:"active",...e};return ht.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=ht.batch(()=>Q(this,at).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(pn).catch(pn)}invalidateQueries(e={},t={}){return ht.batch(()=>{if(Q(this,at).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=ht.batch(()=>Q(this,at).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(pn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(pn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Q(this,at).build(this,t);return r.isStaleByTime(Fa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pn).catch(pn)}fetchInfiniteQuery(e){return e.behavior=S5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pn).catch(pn)}resumePausedMutations(){return Wc.isOnline()?Q(this,Kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,at)}getMutationCache(){return Q(this,Kr)}getDefaultOptions(){return Q(this,Yr)}setDefaultOptions(e){ye(this,Yr,e)}setQueryDefaults(e,t){Q(this,Qa).set(Js(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,Qa).values()];let r={};return t.forEach(s=>{No(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){Q(this,Xa).set(Js(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,Xa).values()];let r={};return t.forEach(s=>{No(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,Yr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===e1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,Yr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,at).clear(),Q(this,Kr).clear()}},at=new WeakMap,Kr=new WeakMap,Yr=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,Qr=new WeakMap,Za=new WeakMap,Ja=new WeakMap,Fv),Wt,Ve,xl,_t,Gs,ei,qn,yl,ti,ni,qs,Ks,Xr,ri,ze,to,im,om,lm,cm,dm,um,mm,l1,Ov,T5=(Ov=class extends ji{constructor(t,r){super();Te(this,ze);Te(this,Wt);Te(this,Ve);Te(this,xl);Te(this,_t);Te(this,Gs);Te(this,ei);Te(this,qn);Te(this,yl);Te(this,ti);Te(this,ni);Te(this,qs);Te(this,Ks);Te(this,Xr);Te(this,ri,new Set);this.options=r,ye(this,Wt,t),ye(this,qn,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,Ve).addObserver(this),Gg(Q(this,Ve),this.options)?Re(this,ze,to).call(this):this.updateResult(),Re(this,ze,cm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hm(Q(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hm(Q(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Re(this,ze,dm).call(this),Re(this,ze,um).call(this),Q(this,Ve).removeObserver(this)}setOptions(t,r){const s=this.options,a=Q(this,Ve);if(this.options=Q(this,Wt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");Re(this,ze,mm).call(this),Q(this,Ve).setOptions(this.options),s._defaulted&&!Vc(this.options,s)&&Q(this,Wt).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,Ve),observer:this});const i=this.hasListeners();i&&qg(Q(this,Ve),a,this.options,s)&&Re(this,ze,to).call(this),this.updateResult(r),i&&(Q(this,Ve)!==a||this.options.enabled!==s.enabled||Fa(this.options.staleTime,Q(this,Ve))!==Fa(s.staleTime,Q(this,Ve)))&&Re(this,ze,im).call(this);const o=Re(this,ze,om).call(this);i&&(Q(this,Ve)!==a||this.options.enabled!==s.enabled||o!==Q(this,Xr))&&Re(this,ze,lm).call(this,o)}getOptimisticResult(t){const r=Q(this,Wt).getQueryCache().build(Q(this,Wt),t),s=this.createResult(r,t);return P5(this,s)&&(ye(this,_t,s),ye(this,ei,this.options),ye(this,Gs,Q(this,Ve).state)),s}getCurrentResult(){return Q(this,_t)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){Q(this,ri).add(t)}getCurrentQuery(){return Q(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Q(this,Wt).defaultQueryOptions(t),s=Q(this,Wt).getQueryCache().build(Q(this,Wt),r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Re(this,ze,to).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,_t)))}createResult(t,r){var T;const s=Q(this,Ve),a=this.options,i=Q(this,_t),o=Q(this,Gs),l=Q(this,ei),d=t!==s?t.state:Q(this,xl),{state:u}=t;let m={...u},h=!1,p;if(r._optimisticResults){const P=this.hasListeners(),I=!P&&Gg(t,r),B=P&&qg(t,s,r,a);(I||B)&&(m={...m,...i1(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:f,errorUpdatedAt:v,status:y}=m;if(r.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&r.select===Q(this,yl))p=Q(this,ti);else try{ye(this,yl,r.select),p=r.select(m.data),p=am(i==null?void 0:i.data,p,r),ye(this,ti,p),ye(this,qn,null)}catch(P){ye(this,qn,P)}else p=m.data;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let P;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))P=i.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((T=Q(this,ni))==null?void 0:T.state.data,Q(this,ni)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),ye(this,qn,null)}catch(I){ye(this,qn,I)}P!==void 0&&(y="success",p=am(i==null?void 0:i.data,P,r),h=!0)}Q(this,qn)&&(f=Q(this,qn),p=Q(this,ti),v=Date.now(),y="error");const g=m.fetchStatus==="fetching",x=y==="pending",b=y==="error",N=x&&g,j=p!==void 0;return{status:y,fetchStatus:m.fetchStatus,isPending:x,isSuccess:y==="success",isError:b,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:m.dataUpdatedAt,error:f,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:b&&!j,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&j,isStale:fp(t,r),refetch:this.refetch}}updateResult(t){const r=Q(this,_t),s=this.createResult(Q(this,Ve),this.options);if(ye(this,Gs,Q(this,Ve).state),ye(this,ei,this.options),Q(this,Gs).data!==void 0&&ye(this,ni,Q(this,Ve)),Vc(s,r))return;ye(this,_t,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Q(this,ri).size)return!0;const c=new Set(l??Q(this,ri));return this.options.throwOnError&&c.add("error"),Object.keys(Q(this,_t)).some(d=>{const u=d;return Q(this,_t)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Re(this,ze,l1).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Re(this,ze,cm).call(this)}},Wt=new WeakMap,Ve=new WeakMap,xl=new WeakMap,_t=new WeakMap,Gs=new WeakMap,ei=new WeakMap,qn=new WeakMap,yl=new WeakMap,ti=new WeakMap,ni=new WeakMap,qs=new WeakMap,Ks=new WeakMap,Xr=new WeakMap,ri=new WeakMap,ze=new WeakSet,to=function(t){Re(this,ze,mm).call(this);let r=Q(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(pn)),r},im=function(){Re(this,ze,dm).call(this);const t=Fa(this.options.staleTime,Q(this,Ve));if(si||Q(this,_t).isStale||!rm(t))return;const s=Jv(Q(this,_t).dataUpdatedAt,t)+1;ye(this,qs,setTimeout(()=>{Q(this,_t).isStale||this.updateResult()},s))},om=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,Ve)):this.options.refetchInterval)??!1},lm=function(t){Re(this,ze,um).call(this),ye(this,Xr,t),!(si||this.options.enabled===!1||!rm(Q(this,Xr))||Q(this,Xr)===0)&&ye(this,Ks,setInterval(()=>{(this.options.refetchIntervalInBackground||pp.isFocused())&&Re(this,ze,to).call(this)},Q(this,Xr)))},cm=function(){Re(this,ze,im).call(this),Re(this,ze,lm).call(this,Re(this,ze,om).call(this))},dm=function(){Q(this,qs)&&(clearTimeout(Q(this,qs)),ye(this,qs,void 0))},um=function(){Q(this,Ks)&&(clearInterval(Q(this,Ks)),ye(this,Ks,void 0))},mm=function(){const t=Q(this,Wt).getQueryCache().build(Q(this,Wt),this.options);if(t===Q(this,Ve))return;const r=Q(this,Ve);ye(this,Ve,t),ye(this,xl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},l1=function(t){ht.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Q(this,_t))}),Q(this,Wt).getQueryCache().notify({query:Q(this,Ve),type:"observerResultsUpdated"})})},Ov);function E5(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Gg(e,t){return E5(e,t)||e.state.data!==void 0&&hm(e,t,t.refetchOnMount)}function hm(e,t,r){if(t.enabled!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&fp(e,t)}return!1}function qg(e,t,r,s){return(e!==t||s.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&fp(e,r)}function fp(e,t){return t.enabled!==!1&&e.isStaleByTime(Fa(t.staleTime,e))}function P5(e,t){return!Vc(e.getCurrentResult(),t)}var Zr,Jr,Ht,cr,br,jc,pm,Dv,A5=(Dv=class extends ji{constructor(r,s){super();Te(this,br);Te(this,Zr);Te(this,Jr);Te(this,Ht);Te(this,cr);ye(this,Zr,r),this.setOptions(s),this.bindMethods(),Re(this,br,jc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=Q(this,Zr).defaultMutationOptions(r),Vc(this.options,s)||Q(this,Zr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,Ht),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Js(s.mutationKey)!==Js(this.options.mutationKey)?this.reset():((a=Q(this,Ht))==null?void 0:a.state.status)==="pending"&&Q(this,Ht).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Q(this,Ht))==null||r.removeObserver(this)}onMutationUpdate(r){Re(this,br,jc).call(this),Re(this,br,pm).call(this,r)}getCurrentResult(){return Q(this,Jr)}reset(){var r;(r=Q(this,Ht))==null||r.removeObserver(this),ye(this,Ht,void 0),Re(this,br,jc).call(this),Re(this,br,pm).call(this)}mutate(r,s){var a;return ye(this,cr,s),(a=Q(this,Ht))==null||a.removeObserver(this),ye(this,Ht,Q(this,Zr).getMutationCache().build(Q(this,Zr),this.options)),Q(this,Ht).addObserver(this),Q(this,Ht).execute(r)}},Zr=new WeakMap,Jr=new WeakMap,Ht=new WeakMap,cr=new WeakMap,br=new WeakSet,jc=function(){var s;const r=((s=Q(this,Ht))==null?void 0:s.state)??o1();ye(this,Jr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},pm=function(r){ht.batch(()=>{var s,a,i,o,l,c,d,u;if(Q(this,cr)&&this.hasListeners()){const m=Q(this,Jr).variables,h=Q(this,Jr).context;(r==null?void 0:r.type)==="success"?((a=(s=Q(this,cr)).onSuccess)==null||a.call(s,r.data,m,h),(o=(i=Q(this,cr)).onSettled)==null||o.call(i,r.data,null,m,h)):(r==null?void 0:r.type)==="error"&&((c=(l=Q(this,cr)).onError)==null||c.call(l,r.error,m,h),(u=(d=Q(this,cr)).onSettled)==null||u.call(d,void 0,r.error,m,h))}this.listeners.forEach(m=>{m(Q(this,Jr))})})},Dv),c1=w.createContext(void 0),d1=e=>{const t=w.useContext(c1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},M5=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(c1.Provider,{value:e,children:t})),u1=w.createContext(!1),R5=()=>w.useContext(u1);u1.Provider;function L5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var I5=w.createContext(L5()),_5=()=>w.useContext(I5);function m1(e,t){return typeof e=="function"?e(...t):!!e}function F5(){}var O5=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},D5=e=>{w.useEffect(()=>{e.clearReset()},[e])},$5=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&m1(r,[e.error,s]),B5=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},z5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,U5=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function V5(e,t,r){const s=d1(),a=R5(),i=_5(),o=s.defaultQueryOptions(e);o._optimisticResults=a?"isRestoring":"optimistic",B5(o),O5(o,i),D5(i);const[l]=w.useState(()=>new t(s,o)),c=l.getOptimisticResult(o);if(w.useSyncExternalStore(w.useCallback(d=>{const u=a?()=>{}:l.subscribe(ht.batchCalls(d));return l.updateResult(),u},[l,a]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),w.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),z5(o,c))throw U5(o,l,i);if($5({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw c.error;return o.notifyOnChangeProps?c:l.trackResult(c)}function W5(e,t){return V5(e,T5)}function Vd(e,t){const r=d1(),[s]=w.useState(()=>new A5(r,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const a=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(ht.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=w.useCallback((o,l)=>{s.mutate(o,l).catch(F5)},[s]);if(a.error&&m1(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var fm={},h1={exports:{}},ln={},p1={exports:{}},f1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,O){var F=E.length;E.push(O);e:for(;0<F;){var R=F-1>>>1,_=E[R];if(0<a(_,O))E[R]=O,E[F]=_,F=R;else break e}}function r(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var O=E[0],F=E.pop();if(F!==O){E[0]=F;e:for(var R=0,_=E.length,Y=_>>>1;R<Y;){var ee=2*(R+1)-1,me=E[ee],le=ee+1,ce=E[le];if(0>a(me,F))le<_&&0>a(ce,me)?(E[R]=ce,E[le]=F,R=le):(E[R]=me,E[ee]=F,R=ee);else if(le<_&&0>a(ce,F))E[R]=ce,E[le]=F,R=le;else break e}}return O}function a(E,O){var F=E.sortIndex-O.sortIndex;return F!==0?F:E.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var O=r(d);O!==null;){if(O.callback===null)s(d);else if(O.startTime<=E)s(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function N(E){if(v=!1,b(E),!f)if(r(c)!==null)f=!0,L(j);else{var O=r(d);O!==null&&A(N,O.startTime-E)}}function j(E,O){f=!1,v&&(v=!1,g(P),P=-1),p=!0;var F=h;try{for(b(O),m=r(c);m!==null&&(!(m.expirationTime>O)||E&&!U());){var R=m.callback;if(typeof R=="function"){m.callback=null,h=m.priorityLevel;var _=R(m.expirationTime<=O);O=e.unstable_now(),typeof _=="function"?m.callback=_:m===r(c)&&s(c),b(O)}else s(c);m=r(c)}if(m!==null)var Y=!0;else{var ee=r(d);ee!==null&&A(N,ee.startTime-O),Y=!1}return Y}finally{m=null,h=F,p=!1}}var k=!1,T=null,P=-1,I=5,B=-1;function U(){return!(e.unstable_now()-B<I)}function q(){if(T!==null){var E=e.unstable_now();B=E;var O=!0;try{O=T(!0,E)}finally{O?K():(k=!1,T=null)}}else k=!1}var K;if(typeof x=="function")K=function(){x(q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,J=ne.port2;ne.port1.onmessage=q,K=function(){J.postMessage(null)}}else K=function(){y(q,0)};function L(E){T=E,k||(k=!0,K())}function A(E,O){P=y(function(){E(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,L(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var F=h;h=O;try{return E()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=h;h=E;try{return O()}finally{h=F}},e.unstable_scheduleCallback=function(E,O,F){var R=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?R+F:R):F=R,E){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=F+_,E={id:u++,callback:O,priorityLevel:E,startTime:F,expirationTime:_,sortIndex:-1},F>R?(E.sortIndex=F,t(d,E),r(c)===null&&E===r(d)&&(v?(g(P),P=-1):v=!0,A(N,F-R))):(E.sortIndex=_,t(c,E),f||p||(f=!0,L(j))),E},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(E){var O=h;return function(){var F=h;h=O;try{return E.apply(this,arguments)}finally{h=F}}}})(f1);p1.exports=f1;var H5=p1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5=w,an=H5;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g1=new Set,So={};function ca(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(So[e]=t,e=0;e<t.length;e++)g1.add(t[e])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gm=Object.prototype.hasOwnProperty,q5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kg={},Yg={};function K5(e){return gm.call(Yg,e)?!0:gm.call(Kg,e)?!1:q5.test(e)?Yg[e]=!0:(Kg[e]=!0,!1)}function Y5(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q5(e,t,r,s){if(t===null||typeof t>"u"||Y5(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gp=/[\-:]([a-z])/g;function xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gp,xp);Ct[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gp,xp);Ct[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gp,xp);Ct[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function yp(e,t,r,s){var a=Ct.hasOwnProperty(t)?Ct[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q5(t,r,a,s)&&(r=null),s||a===null?K5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Er=G5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),ya=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),y1=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),wp=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),b1=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function Fi(e){return e===null||typeof e!="object"?null:(e=Qg&&e[Qg]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,Uu;function no(e){if(Uu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Uu=t&&t[1]||""}return`
`+Uu+e}var Vu=!1;function Wu(e,t){if(!e||Vu)return"";Vu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Vu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?no(e):""}function X5(e){switch(e.tag){case 5:return no(e.type);case 16:return no("Lazy");case 13:return no("Suspense");case 19:return no("SuspenseList");case 0:case 2:case 15:return e=Wu(e.type,!1),e;case 11:return e=Wu(e.type.render,!1),e;case 1:return e=Wu(e.type,!0),e;default:return""}}function vm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ba:return"Fragment";case ya:return"Portal";case xm:return"Profiler";case bp:return"StrictMode";case ym:return"Suspense";case bm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case y1:return(e.displayName||"Context")+".Consumer";case x1:return(e._context.displayName||"Context")+".Provider";case vp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wp:return t=e.displayName||null,t!==null?t:vm(e.type)||"Memo";case Ur:t=e._payload,e=e._init;try{return vm(e(t))}catch{}}return null}function Z5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(t);case 8:return t===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function v1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J5(e){var t=v1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=J5(e))}function w1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=v1(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wm(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xg(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=hs(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function j1(e,t){t=t.checked,t!=null&&yp(e,"checked",t,!1)}function jm(e,t){j1(e,t);var r=hs(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nm(e,t.type,hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nm(e,t,r){(t!=="number"||Hc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ro=Array.isArray;function Oa(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+hs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Sm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(ro(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hs(r)}}function N1(e,t){var r=hs(t.value),s=hs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function ex(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ul,C1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ul.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Co(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eS=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(e){eS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lo[t]=lo[e]})});function k1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lo.hasOwnProperty(e)&&lo[e]?(""+t).trim():t+"px"}function T1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=k1(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var tS=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(e,t){if(t){if(tS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Tm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function jp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pm=null,Da=null,$a=null;function tx(e){if(e=jl(e)){if(typeof Pm!="function")throw Error(he(280));var t=e.stateNode;t&&(t=Kd(t),Pm(e.stateNode,e.type,t))}}function E1(e){Da?$a?$a.push(e):$a=[e]:Da=e}function P1(){if(Da){var e=Da,t=$a;if($a=Da=null,tx(e),t)for(e=0;e<t.length;e++)tx(t[e])}}function A1(e,t){return e(t)}function M1(){}var Hu=!1;function R1(e,t,r){if(Hu)return e(t,r);Hu=!0;try{return A1(e,t,r)}finally{Hu=!1,(Da!==null||$a!==null)&&(M1(),P1())}}function ko(e,t){var r=e.stateNode;if(r===null)return null;var s=Kd(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var Am=!1;if(vr)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Am=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Am=!1}function nS(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var co=!1,Gc=null,qc=!1,Mm=null,rS={onError:function(e){co=!0,Gc=e}};function sS(e,t,r,s,a,i,o,l,c){co=!1,Gc=null,nS.apply(rS,arguments)}function aS(e,t,r,s,a,i,o,l,c){if(sS.apply(this,arguments),co){if(co){var d=Gc;co=!1,Gc=null}else throw Error(he(198));qc||(qc=!0,Mm=d)}}function da(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nx(e){if(da(e)!==e)throw Error(he(188))}function iS(e){var t=e.alternate;if(!t){if(t=da(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return nx(a),e;if(i===s)return nx(a),t;i=i.sibling}throw Error(he(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(he(189))}}if(r.alternate!==s)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function I1(e){return e=iS(e),e!==null?_1(e):null}function _1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_1(e);if(t!==null)return t;e=e.sibling}return null}var F1=an.unstable_scheduleCallback,rx=an.unstable_cancelCallback,oS=an.unstable_shouldYield,lS=an.unstable_requestPaint,ct=an.unstable_now,cS=an.unstable_getCurrentPriorityLevel,Np=an.unstable_ImmediatePriority,O1=an.unstable_UserBlockingPriority,Kc=an.unstable_NormalPriority,dS=an.unstable_LowPriority,D1=an.unstable_IdlePriority,Wd=null,Qn=null;function uS(e){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Wd,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:pS,mS=Math.log,hS=Math.LN2;function pS(e){return e>>>=0,e===0?32:31-(mS(e)/hS|0)|0}var Vl=64,Wl=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yc(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=so(l):(i&=o,i!==0&&(s=so(i)))}else o=r&~a,o!==0?s=so(o):i!==0&&(s=so(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ln(t),a=1<<r,s|=e[r],t&=~a;return s}function fS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gS(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ln(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=fS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Rm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $1(){var e=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),e}function Gu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=r}function xS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ln(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Sp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ln(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var He=0;function B1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var z1,Cp,U1,V1,W1,Lm=!1,Hl=[],rs=null,ss=null,as=null,To=new Map,Eo=new Map,Wr=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sx(e,t){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":To.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(t.pointerId)}}function Di(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=jl(t),t!==null&&Cp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function bS(e,t,r,s,a){switch(t){case"focusin":return rs=Di(rs,e,t,r,s,a),!0;case"dragenter":return ss=Di(ss,e,t,r,s,a),!0;case"mouseover":return as=Di(as,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return To.set(i,Di(To.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Eo.set(i,Di(Eo.get(i)||null,e,t,r,s,a)),!0}return!1}function H1(e){var t=Fs(e.target);if(t!==null){var r=da(t);if(r!==null){if(t=r.tag,t===13){if(t=L1(r),t!==null){e.blockedOn=t,W1(e.priority,function(){U1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Im(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Em=s,r.target.dispatchEvent(s),Em=null}else return t=jl(r),t!==null&&Cp(t),e.blockedOn=r,!1;t.shift()}return!0}function ax(e,t,r){Nc(e)&&r.delete(t)}function vS(){Lm=!1,rs!==null&&Nc(rs)&&(rs=null),ss!==null&&Nc(ss)&&(ss=null),as!==null&&Nc(as)&&(as=null),To.forEach(ax),Eo.forEach(ax)}function $i(e,t){e.blockedOn===t&&(e.blockedOn=null,Lm||(Lm=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,vS)))}function Po(e){function t(a){return $i(a,e)}if(0<Hl.length){$i(Hl[0],e);for(var r=1;r<Hl.length;r++){var s=Hl[r];s.blockedOn===e&&(s.blockedOn=null)}}for(rs!==null&&$i(rs,e),ss!==null&&$i(ss,e),as!==null&&$i(as,e),To.forEach(t),Eo.forEach(t),r=0;r<Wr.length;r++)s=Wr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Wr.length&&(r=Wr[0],r.blockedOn===null);)H1(r),r.blockedOn===null&&Wr.shift()}var Ba=Er.ReactCurrentBatchConfig,Qc=!0;function wS(e,t,r,s){var a=He,i=Ba.transition;Ba.transition=null;try{He=1,kp(e,t,r,s)}finally{He=a,Ba.transition=i}}function jS(e,t,r,s){var a=He,i=Ba.transition;Ba.transition=null;try{He=4,kp(e,t,r,s)}finally{He=a,Ba.transition=i}}function kp(e,t,r,s){if(Qc){var a=Im(e,t,r,s);if(a===null)n0(e,t,s,Xc,r),sx(e,s);else if(bS(a,e,t,r,s))s.stopPropagation();else if(sx(e,s),t&4&&-1<yS.indexOf(e)){for(;a!==null;){var i=jl(a);if(i!==null&&z1(i),i=Im(e,t,r,s),i===null&&n0(e,t,s,Xc,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else n0(e,t,s,null,r)}}var Xc=null;function Im(e,t,r,s){if(Xc=null,e=jp(s),e=Fs(e),e!==null)if(t=da(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xc=e,null}function G1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cS()){case Np:return 1;case O1:return 4;case Kc:case dS:return 16;case D1:return 536870912;default:return 16}default:return 16}}var es=null,Tp=null,Sc=null;function q1(){if(Sc)return Sc;var e,t=Tp,r=t.length,s,a="value"in es?es.value:es.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Sc=a.slice(e,1<s?1-s:void 0)}function Cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function ix(){return!1}function cn(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gl:ix,this.isPropagationStopped=ix,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ep=cn(Ni),wl=st({},Ni,{view:0,detail:0}),NS=cn(wl),qu,Ku,Bi,Hd=st({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(qu=e.screenX-Bi.screenX,Ku=e.screenY-Bi.screenY):Ku=qu=0,Bi=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Ku}}),ox=cn(Hd),SS=st({},Hd,{dataTransfer:0}),CS=cn(SS),kS=st({},wl,{relatedTarget:0}),Yu=cn(kS),TS=st({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),ES=cn(TS),PS=st({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AS=cn(PS),MS=st({},Ni,{data:0}),lx=cn(MS),RS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IS[e])?!!t[e]:!1}function Pp(){return _S}var FS=st({},wl,{key:function(e){if(e.key){var t=RS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(e){return e.type==="keypress"?Cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OS=cn(FS),DS=st({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cx=cn(DS),$S=st({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),BS=cn($S),zS=st({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),US=cn(zS),VS=st({},Hd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=cn(VS),HS=[9,13,27,32],Ap=vr&&"CompositionEvent"in window,uo=null;vr&&"documentMode"in document&&(uo=document.documentMode);var GS=vr&&"TextEvent"in window&&!uo,K1=vr&&(!Ap||uo&&8<uo&&11>=uo),dx=" ",ux=!1;function Y1(e,t){switch(e){case"keyup":return HS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function qS(e,t){switch(e){case"compositionend":return Q1(t);case"keypress":return t.which!==32?null:(ux=!0,dx);case"textInput":return e=t.data,e===dx&&ux?null:e;default:return null}}function KS(e,t){if(va)return e==="compositionend"||!Ap&&Y1(e,t)?(e=q1(),Sc=Tp=es=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return K1&&t.locale!=="ko"?null:t.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YS[e.type]:t==="textarea"}function X1(e,t,r,s){E1(s),t=Zc(t,"onChange"),0<t.length&&(r=new Ep("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var mo=null,Ao=null;function QS(e){l2(e,0)}function Gd(e){var t=Na(e);if(w1(t))return e}function XS(e,t){if(e==="change")return t}var Z1=!1;if(vr){var Qu;if(vr){var Xu="oninput"in document;if(!Xu){var hx=document.createElement("div");hx.setAttribute("oninput","return;"),Xu=typeof hx.oninput=="function"}Qu=Xu}else Qu=!1;Z1=Qu&&(!document.documentMode||9<document.documentMode)}function px(){mo&&(mo.detachEvent("onpropertychange",J1),Ao=mo=null)}function J1(e){if(e.propertyName==="value"&&Gd(Ao)){var t=[];X1(t,Ao,e,jp(e)),R1(QS,t)}}function ZS(e,t,r){e==="focusin"?(px(),mo=t,Ao=r,mo.attachEvent("onpropertychange",J1)):e==="focusout"&&px()}function JS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gd(Ao)}function e6(e,t){if(e==="click")return Gd(t)}function t6(e,t){if(e==="input"||e==="change")return Gd(t)}function n6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:n6;function Mo(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!gm.call(t,a)||!Fn(e[a],t[a]))return!1}return!0}function fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gx(e,t){var r=fx(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fx(r)}}function e2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?e2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function t2(){for(var e=window,t=Hc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hc(e.document)}return t}function Mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function r6(e){var t=t2(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&e2(r.ownerDocument.documentElement,r)){if(s!==null&&Mp(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=gx(r,i);var o=gx(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s6=vr&&"documentMode"in document&&11>=document.documentMode,wa=null,_m=null,ho=null,Fm=!1;function xx(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fm||wa==null||wa!==Hc(s)||(s=wa,"selectionStart"in s&&Mp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ho&&Mo(ho,s)||(ho=s,s=Zc(_m,"onSelect"),0<s.length&&(t=new Ep("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=wa)))}function ql(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ja={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionend:ql("Transition","TransitionEnd")},Zu={},n2={};vr&&(n2=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function qd(e){if(Zu[e])return Zu[e];if(!ja[e])return e;var t=ja[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in n2)return Zu[e]=t[r];return e}var r2=qd("animationend"),s2=qd("animationiteration"),a2=qd("animationstart"),i2=qd("transitionend"),o2=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(e,t){o2.set(e,t),ca(t,[e])}for(var Ju=0;Ju<yx.length;Ju++){var e0=yx[Ju],a6=e0.toLowerCase(),i6=e0[0].toUpperCase()+e0.slice(1);Ns(a6,"on"+i6)}Ns(r2,"onAnimationEnd");Ns(s2,"onAnimationIteration");Ns(a2,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(i2,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o6=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function bx(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,aS(s,t,void 0,e),e.currentTarget=null}function l2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;bx(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;bx(a,l,d),i=c}}}if(qc)throw e=Mm,qc=!1,Mm=null,e}function Qe(e,t){var r=t[zm];r===void 0&&(r=t[zm]=new Set);var s=e+"__bubble";r.has(s)||(c2(t,e,2,!1),r.add(s))}function t0(e,t,r){var s=0;t&&(s|=4),c2(r,e,s,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[Kl]){e[Kl]=!0,g1.forEach(function(r){r!=="selectionchange"&&(o6.has(r)||t0(r,!1,e),t0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,t0("selectionchange",!1,t))}}function c2(e,t,r,s){switch(G1(t)){case 1:var a=wS;break;case 4:a=jS;break;default:a=kp}r=a.bind(null,t,r,e),a=void 0,!Am||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function n0(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Fs(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}R1(function(){var d=i,u=jp(r),m=[];e:{var h=o2.get(e);if(h!==void 0){var p=Ep,f=e;switch(e){case"keypress":if(Cc(r)===0)break e;case"keydown":case"keyup":p=OS;break;case"focusin":f="focus",p=Yu;break;case"focusout":f="blur",p=Yu;break;case"beforeblur":case"afterblur":p=Yu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=CS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BS;break;case r2:case s2:case a2:p=ES;break;case i2:p=US;break;case"scroll":p=NS;break;case"wheel":p=WS;break;case"copy":case"cut":case"paste":p=AS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cx}var v=(t&4)!==0,y=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var x=d,b;x!==null;){b=x;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,g!==null&&(N=ko(x,g),N!=null&&v.push(Lo(x,N,b)))),y)break;x=x.return}0<v.length&&(h=new p(h,f,null,r,u),m.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Em&&(f=r.relatedTarget||r.fromElement)&&(Fs(f)||f[wr]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=r.relatedTarget||r.toElement,p=d,f=f?Fs(f):null,f!==null&&(y=da(f),f!==y||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=d),p!==f)){if(v=ox,N="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=cx,N="onPointerLeave",g="onPointerEnter",x="pointer"),y=p==null?h:Na(p),b=f==null?h:Na(f),h=new v(N,x+"leave",p,r,u),h.target=y,h.relatedTarget=b,N=null,Fs(u)===d&&(v=new v(g,x+"enter",f,r,u),v.target=b,v.relatedTarget=y,N=v),y=N,p&&f)t:{for(v=p,g=f,x=0,b=v;b;b=fa(b))x++;for(b=0,N=g;N;N=fa(N))b++;for(;0<x-b;)v=fa(v),x--;for(;0<b-x;)g=fa(g),b--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=fa(v),g=fa(g)}v=null}else v=null;p!==null&&vx(m,h,p,v,!1),f!==null&&y!==null&&vx(m,y,f,v,!0)}}e:{if(h=d?Na(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=XS;else if(mx(h))if(Z1)j=t6;else{j=JS;var k=ZS}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=e6);if(j&&(j=j(e,d))){X1(m,j,r,u);break e}k&&k(e,h,d),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Nm(h,"number",h.value)}switch(k=d?Na(d):window,e){case"focusin":(mx(k)||k.contentEditable==="true")&&(wa=k,_m=d,ho=null);break;case"focusout":ho=_m=wa=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,xx(m,r,u);break;case"selectionchange":if(s6)break;case"keydown":case"keyup":xx(m,r,u)}var T;if(Ap)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else va?Y1(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(K1&&r.locale!=="ko"&&(va||P!=="onCompositionStart"?P==="onCompositionEnd"&&va&&(T=q1()):(es=u,Tp="value"in es?es.value:es.textContent,va=!0)),k=Zc(d,P),0<k.length&&(P=new lx(P,e,null,r,u),m.push({event:P,listeners:k}),T?P.data=T:(T=Q1(r),T!==null&&(P.data=T)))),(T=GS?qS(e,r):KS(e,r))&&(d=Zc(d,"onBeforeInput"),0<d.length&&(u=new lx("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=T))}l2(m,t)})}function Lo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zc(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ko(e,r),i!=null&&s.unshift(Lo(e,i,a)),i=ko(e,t),i!=null&&s.push(Lo(e,i,a))),e=e.return}return s}function fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vx(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=ko(r,i),c!=null&&o.unshift(Lo(r,c,l))):a||(c=ko(r,i),c!=null&&o.push(Lo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var l6=/\r\n?/g,c6=/\u0000|\uFFFD/g;function wx(e){return(typeof e=="string"?e:""+e).replace(l6,`
`).replace(c6,"")}function Yl(e,t,r){if(t=wx(t),wx(e)!==t&&r)throw Error(he(425))}function Jc(){}var Om=null,Dm=null;function $m(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bm=typeof setTimeout=="function"?setTimeout:void 0,d6=typeof clearTimeout=="function"?clearTimeout:void 0,jx=typeof Promise=="function"?Promise:void 0,u6=typeof queueMicrotask=="function"?queueMicrotask:typeof jx<"u"?function(e){return jx.resolve(null).then(e).catch(m6)}:Bm;function m6(e){setTimeout(function(){throw e})}function r0(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Po(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Po(t)}function is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Si,Io="__reactProps$"+Si,wr="__reactContainer$"+Si,zm="__reactEvents$"+Si,h6="__reactListeners$"+Si,p6="__reactHandles$"+Si;function Fs(e){var t=e[Yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wr]||r[Yn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nx(e);e!==null;){if(r=e[Yn])return r;e=Nx(e)}return t}e=r,r=e.parentNode}return null}function jl(e){return e=e[Yn]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Kd(e){return e[Io]||null}var Um=[],Sa=-1;function Ss(e){return{current:e}}function Xe(e){0>Sa||(e.current=Um[Sa],Um[Sa]=null,Sa--)}function qe(e,t){Sa++,Um[Sa]=e.current,e.current=t}var ps={},Lt=Ss(ps),Kt=Ss(!1),ea=ps;function ii(e,t){var r=e.type.contextTypes;if(!r)return ps;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Yt(e){return e=e.childContextTypes,e!=null}function ed(){Xe(Kt),Xe(Lt)}function Sx(e,t,r){if(Lt.current!==ps)throw Error(he(168));qe(Lt,t),qe(Kt,r)}function d2(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(he(108,Z5(e)||"Unknown",a));return st({},r,s)}function td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ps,ea=Lt.current,qe(Lt,e),qe(Kt,Kt.current),!0}function Cx(e,t,r){var s=e.stateNode;if(!s)throw Error(he(169));r?(e=d2(e,t,ea),s.__reactInternalMemoizedMergedChildContext=e,Xe(Kt),Xe(Lt),qe(Lt,e)):Xe(Kt),qe(Kt,r)}var or=null,Yd=!1,s0=!1;function u2(e){or===null?or=[e]:or.push(e)}function f6(e){Yd=!0,u2(e)}function Cs(){if(!s0&&or!==null){s0=!0;var e=0,t=He;try{var r=or;for(He=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}or=null,Yd=!1}catch(a){throw or!==null&&(or=or.slice(e+1)),F1(Np,Cs),a}finally{He=t,s0=!1}}return null}var Ca=[],ka=0,nd=null,rd=0,fn=[],gn=0,ta=null,dr=1,ur="";function Ms(e,t){Ca[ka++]=rd,Ca[ka++]=nd,nd=e,rd=t}function m2(e,t,r){fn[gn++]=dr,fn[gn++]=ur,fn[gn++]=ta,ta=e;var s=dr;e=ur;var a=32-Ln(s)-1;s&=~(1<<a),r+=1;var i=32-Ln(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,dr=1<<32-Ln(t)+a|r<<a|s,ur=i+e}else dr=1<<i|r<<a|s,ur=e}function Rp(e){e.return!==null&&(Ms(e,1),m2(e,1,0))}function Lp(e){for(;e===nd;)nd=Ca[--ka],Ca[ka]=null,rd=Ca[--ka],Ca[ka]=null;for(;e===ta;)ta=fn[--gn],fn[gn]=null,ur=fn[--gn],fn[gn]=null,dr=fn[--gn],fn[gn]=null}var rn=null,nn=null,Je=!1,An=null;function h2(e,t){var r=xn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rn=e,nn=is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rn=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ta!==null?{id:dr,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rn=e,nn=null,!0):!1;default:return!1}}function Vm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wm(e){if(Je){var t=nn;if(t){var r=t;if(!kx(e,t)){if(Vm(e))throw Error(he(418));t=is(r.nextSibling);var s=rn;t&&kx(e,t)?h2(s,r):(e.flags=e.flags&-4097|2,Je=!1,rn=e)}}else{if(Vm(e))throw Error(he(418));e.flags=e.flags&-4097|2,Je=!1,rn=e}}}function Tx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function Ql(e){if(e!==rn)return!1;if(!Je)return Tx(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$m(e.type,e.memoizedProps)),t&&(t=nn)){if(Vm(e))throw p2(),Error(he(418));for(;t;)h2(e,t),t=is(t.nextSibling)}if(Tx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nn=is(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=rn?is(e.stateNode.nextSibling):null;return!0}function p2(){for(var e=nn;e;)e=is(e.nextSibling)}function oi(){nn=rn=null,Je=!1}function Ip(e){An===null?An=[e]:An.push(e)}var g6=Er.ReactCurrentBatchConfig;function zi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var s=r.stateNode}if(!s)throw Error(he(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function Xl(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ex(e){var t=e._init;return t(e._payload)}function f2(e){function t(g,x){if(e){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=ds(g,x),g.index=0,g.sibling=null,g}function i(g,x,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,b,N){return x===null||x.tag!==6?(x=u0(b,g.mode,N),x.return=g,x):(x=a(x,b),x.return=g,x)}function c(g,x,b,N){var j=b.type;return j===ba?u(g,x,b.props.children,N,b.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ur&&Ex(j)===x.type)?(N=a(x,b.props),N.ref=zi(g,x,b),N.return=g,N):(N=Rc(b.type,b.key,b.props,null,g.mode,N),N.ref=zi(g,x,b),N.return=g,N)}function d(g,x,b,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=m0(b,g.mode,N),x.return=g,x):(x=a(x,b.children||[]),x.return=g,x)}function u(g,x,b,N,j){return x===null||x.tag!==7?(x=Qs(b,g.mode,N,j),x.return=g,x):(x=a(x,b),x.return=g,x)}function m(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=u0(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bl:return b=Rc(x.type,x.key,x.props,null,g.mode,b),b.ref=zi(g,null,x),b.return=g,b;case ya:return x=m0(x,g.mode,b),x.return=g,x;case Ur:var N=x._init;return m(g,N(x._payload),b)}if(ro(x)||Fi(x))return x=Qs(x,g.mode,b,null),x.return=g,x;Xl(g,x)}return null}function h(g,x,b,N){var j=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(g,x,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bl:return b.key===j?c(g,x,b,N):null;case ya:return b.key===j?d(g,x,b,N):null;case Ur:return j=b._init,h(g,x,j(b._payload),N)}if(ro(b)||Fi(b))return j!==null?null:u(g,x,b,N,null);Xl(g,b)}return null}function p(g,x,b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(b)||null,l(x,g,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Bl:return g=g.get(N.key===null?b:N.key)||null,c(x,g,N,j);case ya:return g=g.get(N.key===null?b:N.key)||null,d(x,g,N,j);case Ur:var k=N._init;return p(g,x,b,k(N._payload),j)}if(ro(N)||Fi(N))return g=g.get(b)||null,u(x,g,N,j,null);Xl(x,N)}return null}function f(g,x,b,N){for(var j=null,k=null,T=x,P=x=0,I=null;T!==null&&P<b.length;P++){T.index>P?(I=T,T=null):I=T.sibling;var B=h(g,T,b[P],N);if(B===null){T===null&&(T=I);break}e&&T&&B.alternate===null&&t(g,T),x=i(B,x,P),k===null?j=B:k.sibling=B,k=B,T=I}if(P===b.length)return r(g,T),Je&&Ms(g,P),j;if(T===null){for(;P<b.length;P++)T=m(g,b[P],N),T!==null&&(x=i(T,x,P),k===null?j=T:k.sibling=T,k=T);return Je&&Ms(g,P),j}for(T=s(g,T);P<b.length;P++)I=p(T,g,P,b[P],N),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?P:I.key),x=i(I,x,P),k===null?j=I:k.sibling=I,k=I);return e&&T.forEach(function(U){return t(g,U)}),Je&&Ms(g,P),j}function v(g,x,b,N){var j=Fi(b);if(typeof j!="function")throw Error(he(150));if(b=j.call(b),b==null)throw Error(he(151));for(var k=j=null,T=x,P=x=0,I=null,B=b.next();T!==null&&!B.done;P++,B=b.next()){T.index>P?(I=T,T=null):I=T.sibling;var U=h(g,T,B.value,N);if(U===null){T===null&&(T=I);break}e&&T&&U.alternate===null&&t(g,T),x=i(U,x,P),k===null?j=U:k.sibling=U,k=U,T=I}if(B.done)return r(g,T),Je&&Ms(g,P),j;if(T===null){for(;!B.done;P++,B=b.next())B=m(g,B.value,N),B!==null&&(x=i(B,x,P),k===null?j=B:k.sibling=B,k=B);return Je&&Ms(g,P),j}for(T=s(g,T);!B.done;P++,B=b.next())B=p(T,g,P,B.value,N),B!==null&&(e&&B.alternate!==null&&T.delete(B.key===null?P:B.key),x=i(B,x,P),k===null?j=B:k.sibling=B,k=B);return e&&T.forEach(function(q){return t(g,q)}),Je&&Ms(g,P),j}function y(g,x,b,N){if(typeof b=="object"&&b!==null&&b.type===ba&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bl:e:{for(var j=b.key,k=x;k!==null;){if(k.key===j){if(j=b.type,j===ba){if(k.tag===7){r(g,k.sibling),x=a(k,b.props.children),x.return=g,g=x;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ur&&Ex(j)===k.type){r(g,k.sibling),x=a(k,b.props),x.ref=zi(g,k,b),x.return=g,g=x;break e}r(g,k);break}else t(g,k);k=k.sibling}b.type===ba?(x=Qs(b.props.children,g.mode,N,b.key),x.return=g,g=x):(N=Rc(b.type,b.key,b.props,null,g.mode,N),N.ref=zi(g,x,b),N.return=g,g=N)}return o(g);case ya:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(g,x.sibling),x=a(x,b.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=m0(b,g.mode,N),x.return=g,g=x}return o(g);case Ur:return k=b._init,y(g,x,k(b._payload),N)}if(ro(b))return f(g,x,b,N);if(Fi(b))return v(g,x,b,N);Xl(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,b),x.return=g,g=x):(r(g,x),x=u0(b,g.mode,N),x.return=g,g=x),o(g)):r(g,x)}return y}var li=f2(!0),g2=f2(!1),sd=Ss(null),ad=null,Ta=null,_p=null;function Fp(){_p=Ta=ad=null}function Op(e){var t=sd.current;Xe(sd),e._currentValue=t}function Hm(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function za(e,t){ad=e,_p=Ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(_p!==e)if(e={context:e,memoizedValue:t,next:null},Ta===null){if(ad===null)throw Error(he(308));Ta=e,ad.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var Os=null;function Dp(e){Os===null?Os=[e]:Os.push(e)}function x2(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Dp(t)):(r.next=a.next,a.next=r),t.interleaved=r,jr(e,s)}function jr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vr=!1;function $p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function os(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Oe&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,jr(e,r)}return a=s.interleaved,a===null?(t.next=t,Dp(s)):(t.next=a.next,a.next=t),s.interleaved=t,jr(e,r)}function kc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Sp(e,r)}}function Px(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function id(e,t,r,s){var a=e.updateQueue;Vr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,v=l;switch(h=t,p=r,v.tag){case 1:if(f=v.payload,typeof f=="function"){m=f.call(p,m,h);break e}m=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,h=typeof f=="function"?f.call(p,m,h):f,h==null)break e;m=st({},m,h);break e;case 2:Vr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ra|=o,e.lanes=o,e.memoizedState=m}}function Ax(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(he(191,a));a.call(s)}}}var Nl={},Xn=Ss(Nl),_o=Ss(Nl),Fo=Ss(Nl);function Ds(e){if(e===Nl)throw Error(he(174));return e}function Bp(e,t){switch(qe(Fo,t),qe(_o,e),qe(Xn,Nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cm(t,e)}Xe(Xn),qe(Xn,t)}function ci(){Xe(Xn),Xe(_o),Xe(Fo)}function b2(e){Ds(Fo.current);var t=Ds(Xn.current),r=Cm(t,e.type);t!==r&&(qe(_o,e),qe(Xn,r))}function zp(e){_o.current===e&&(Xe(Xn),Xe(_o))}var tt=Ss(0);function od(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var a0=[];function Up(){for(var e=0;e<a0.length;e++)a0[e]._workInProgressVersionPrimary=null;a0.length=0}var Tc=Er.ReactCurrentDispatcher,i0=Er.ReactCurrentBatchConfig,na=0,rt=null,mt=null,ft=null,ld=!1,po=!1,Oo=0,x6=0;function kt(){throw Error(he(321))}function Vp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fn(e[r],t[r]))return!1;return!0}function Wp(e,t,r,s,a,i){if(na=i,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tc.current=e===null||e.memoizedState===null?w6:j6,e=r(s,a),po){i=0;do{if(po=!1,Oo=0,25<=i)throw Error(he(301));i+=1,ft=mt=null,t.updateQueue=null,Tc.current=N6,e=r(s,a)}while(po)}if(Tc.current=cd,t=mt!==null&&mt.next!==null,na=0,ft=mt=rt=null,ld=!1,t)throw Error(he(300));return e}function Hp(){var e=Oo!==0;return Oo=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?rt.memoizedState=ft=e:ft=ft.next=e,ft}function wn(){if(mt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=ft===null?rt.memoizedState:ft.next;if(t!==null)ft=t,mt=e;else{if(e===null)throw Error(he(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},ft===null?rt.memoizedState=ft=e:ft=ft.next=e}return ft}function Do(e,t){return typeof t=="function"?t(e):t}function o0(e){var t=wn(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var s=mt,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((na&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,rt.lanes|=u,ra|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Fn(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,rt.lanes|=i,ra|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function l0(e){var t=wn(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Fn(i,t.memoizedState)||(qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function v2(){}function w2(e,t){var r=rt,s=wn(),a=t(),i=!Fn(s.memoizedState,a);if(i&&(s.memoizedState=a,qt=!0),s=s.queue,Gp(S2.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,$o(9,N2.bind(null,r,s,a,t),void 0,null),xt===null)throw Error(he(349));na&30||j2(r,t,a)}return a}function j2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function N2(e,t,r,s){t.value=r,t.getSnapshot=s,C2(t)&&k2(e)}function S2(e,t,r){return r(function(){C2(t)&&k2(e)})}function C2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fn(e,r)}catch{return!0}}function k2(e){var t=jr(e,1);t!==null&&In(t,e,1,-1)}function Mx(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},t.queue=e,e=e.dispatch=v6.bind(null,rt,e),[t.memoizedState,e]}function $o(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function T2(){return wn().memoizedState}function Ec(e,t,r,s){var a=Vn();rt.flags|=e,a.memoizedState=$o(1|t,r,void 0,s===void 0?null:s)}function Qd(e,t,r,s){var a=wn();s=s===void 0?null:s;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,s!==null&&Vp(s,o.deps)){a.memoizedState=$o(t,r,i,s);return}}rt.flags|=e,a.memoizedState=$o(1|t,r,i,s)}function Rx(e,t){return Ec(8390656,8,e,t)}function Gp(e,t){return Qd(2048,8,e,t)}function E2(e,t){return Qd(4,2,e,t)}function P2(e,t){return Qd(4,4,e,t)}function A2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M2(e,t,r){return r=r!=null?r.concat([e]):null,Qd(4,4,A2.bind(null,t,e),r)}function qp(){}function R2(e,t){var r=wn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Vp(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function L2(e,t){var r=wn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Vp(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function I2(e,t,r){return na&21?(Fn(r,t)||(r=$1(),rt.lanes|=r,ra|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r)}function y6(e,t){var r=He;He=r!==0&&4>r?r:4,e(!0);var s=i0.transition;i0.transition={};try{e(!1),t()}finally{He=r,i0.transition=s}}function _2(){return wn().memoizedState}function b6(e,t,r){var s=cs(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},F2(e))O2(t,r);else if(r=x2(e,t,r,s),r!==null){var a=Dt();In(r,e,s,a),D2(r,t,s)}}function v6(e,t,r){var s=cs(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(F2(e))O2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Fn(l,o)){var c=t.interleaved;c===null?(a.next=a,Dp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=x2(e,t,a,s),r!==null&&(a=Dt(),In(r,e,s,a),D2(r,t,s))}}function F2(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function O2(e,t){po=ld=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function D2(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Sp(e,r)}}var cd={readContext:vn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},w6={readContext:vn,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:Rx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ec(4194308,4,A2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ec(4,2,e,t)},useMemo:function(e,t){var r=Vn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Vn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=b6.bind(null,rt,e),[s.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:Mx,useDebugValue:qp,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=Mx(!1),t=e[0];return e=y6.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=rt,a=Vn();if(Je){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),xt===null)throw Error(he(349));na&30||j2(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Rx(S2.bind(null,s,i,e),[e]),s.flags|=2048,$o(9,N2.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Vn(),t=xt.identifierPrefix;if(Je){var r=ur,s=dr;r=(s&~(1<<32-Ln(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Oo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=x6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j6={readContext:vn,useCallback:R2,useContext:vn,useEffect:Gp,useImperativeHandle:M2,useInsertionEffect:E2,useLayoutEffect:P2,useMemo:L2,useReducer:o0,useRef:T2,useState:function(){return o0(Do)},useDebugValue:qp,useDeferredValue:function(e){var t=wn();return I2(t,mt.memoizedState,e)},useTransition:function(){var e=o0(Do)[0],t=wn().memoizedState;return[e,t]},useMutableSource:v2,useSyncExternalStore:w2,useId:_2,unstable_isNewReconciler:!1},N6={readContext:vn,useCallback:R2,useContext:vn,useEffect:Gp,useImperativeHandle:M2,useInsertionEffect:E2,useLayoutEffect:P2,useMemo:L2,useReducer:l0,useRef:T2,useState:function(){return l0(Do)},useDebugValue:qp,useDeferredValue:function(e){var t=wn();return mt===null?t.memoizedState=e:I2(t,mt.memoizedState,e)},useTransition:function(){var e=l0(Do)[0],t=wn().memoizedState;return[e,t]},useMutableSource:v2,useSyncExternalStore:w2,useId:_2,unstable_isNewReconciler:!1};function Tn(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gm(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xd={isMounted:function(e){return(e=e._reactInternals)?da(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Dt(),a=cs(e),i=mr(s,a);i.payload=t,r!=null&&(i.callback=r),t=os(e,i,a),t!==null&&(In(t,e,a,s),kc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Dt(),a=cs(e),i=mr(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=os(e,i,a),t!==null&&(In(t,e,a,s),kc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),s=cs(e),a=mr(r,s);a.tag=2,t!=null&&(a.callback=t),t=os(e,a,s),t!==null&&(In(t,e,s,r),kc(t,e,s))}};function Lx(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Mo(r,s)||!Mo(a,i):!0}function $2(e,t,r){var s=!1,a=ps,i=t.contextType;return typeof i=="object"&&i!==null?i=vn(i):(a=Yt(t)?ea:Lt.current,s=t.contextTypes,i=(s=s!=null)?ii(e,a):ps),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xd,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ix(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Xd.enqueueReplaceState(t,t.state,null)}function qm(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},$p(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=vn(i):(i=Yt(t)?ea:Lt.current,a.context=ii(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xd.enqueueReplaceState(a,a.state,null),id(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function di(e,t){try{var r="",s=t;do r+=X5(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function c0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Km(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var S6=typeof WeakMap=="function"?WeakMap:Map;function B2(e,t,r){r=mr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ud||(ud=!0,sh=s),Km(e,t)},r}function z2(e,t,r){r=mr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Km(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Km(e,t),typeof s!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _x(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new S6;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=D6.bind(null,e,t,r),t.then(e,e))}function Fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ox(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mr(-1,1),t.tag=2,os(r,t,1))),r.lanes|=1),e)}var C6=Er.ReactCurrentOwner,qt=!1;function Ft(e,t,r,s){t.child=e===null?g2(t,null,r,s):li(t,e.child,r,s)}function Dx(e,t,r,s,a){r=r.render;var i=t.ref;return za(t,a),s=Wp(e,t,r,s,i,a),r=Hp(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Nr(e,t,a)):(Je&&r&&Rp(t),t.flags|=1,Ft(e,t,s,a),t.child)}function $x(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!tf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,U2(e,t,i,s,a)):(e=Rc(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(o,s)&&e.ref===t.ref)return Nr(e,t,a)}return t.flags|=1,e=ds(i,s),e.ref=t.ref,e.return=t,t.child=e}function U2(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Mo(i,s)&&e.ref===t.ref)if(qt=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Nr(e,t,a)}return Ym(e,t,r,s,a)}function V2(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Pa,tn),tn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(Pa,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,qe(Pa,tn),tn|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,qe(Pa,tn),tn|=s;return Ft(e,t,a,r),t.child}function W2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ym(e,t,r,s,a){var i=Yt(r)?ea:Lt.current;return i=ii(t,i),za(t,a),r=Wp(e,t,r,s,i,a),s=Hp(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Nr(e,t,a)):(Je&&s&&Rp(t),t.flags|=1,Ft(e,t,r,a),t.child)}function Bx(e,t,r,s,a){if(Yt(r)){var i=!0;td(t)}else i=!1;if(za(t,a),t.stateNode===null)Pc(e,t),$2(t,r,s),qm(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=vn(d):(d=Yt(r)?ea:Lt.current,d=ii(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Ix(t,o,s,d),Vr=!1;var h=t.memoizedState;o.state=h,id(t,s,o,a),c=t.memoizedState,l!==s||h!==c||Kt.current||Vr?(typeof u=="function"&&(Gm(t,r,u,s),c=t.memoizedState),(l=Vr||Lx(t,r,l,s,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,y2(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Tn(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vn(c):(c=Yt(r)?ea:Lt.current,c=ii(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&Ix(t,o,s,c),Vr=!1,h=t.memoizedState,o.state=h,id(t,s,o,a);var f=t.memoizedState;l!==m||h!==f||Kt.current||Vr?(typeof p=="function"&&(Gm(t,r,p,s),f=t.memoizedState),(d=Vr||Lx(t,r,d,s,h,f,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,f,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,f,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=f),o.props=s,o.state=f,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Qm(e,t,r,s,i,a)}function Qm(e,t,r,s,a,i){W2(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Cx(t,r,!1),Nr(e,t,i);s=t.stateNode,C6.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=li(t,e.child,null,i),t.child=li(t,null,l,i)):Ft(e,t,l,i),t.memoizedState=s.state,a&&Cx(t,r,!0),t.child}function H2(e){var t=e.stateNode;t.pendingContext?Sx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sx(e,t.context,!1),Bp(e,t.containerInfo)}function zx(e,t,r,s,a){return oi(),Ip(a),t.flags|=256,Ft(e,t,r,s),t.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Zm(e){return{baseLanes:e,cachePool:null,transitions:null}}function G2(e,t,r){var s=t.pendingProps,a=tt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qe(tt,a&1),e===null)return Wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=eu(o,s,0,null),e=Qs(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zm(r),t.memoizedState=Xm,e):Kp(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return k6(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ds(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ds(l,i):(i=Qs(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Zm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Xm,s}return i=e.child,e=i.sibling,s=ds(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Kp(e,t){return t=eu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,r,s){return s!==null&&Ip(s),li(t,e.child,null,r),e=Kp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k6(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=c0(Error(he(422))),Zl(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=eu({mode:"visible",children:s.children},a,0,null),i=Qs(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&li(t,e.child,null,o),t.child.memoizedState=Zm(o),t.memoizedState=Xm,i);if(!(t.mode&1))return Zl(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(he(419)),s=c0(i,s,void 0),Zl(e,t,o,s)}if(l=(o&e.childLanes)!==0,qt||l){if(s=xt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,jr(e,a),In(s,e,a,-1))}return ef(),s=c0(Error(he(421))),Zl(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,nn=is(a.nextSibling),rn=t,Je=!0,An=null,e!==null&&(fn[gn++]=dr,fn[gn++]=ur,fn[gn++]=ta,dr=e.id,ur=e.overflow,ta=t),t=Kp(t,s.children),t.flags|=4096,t)}function Ux(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Hm(e.return,t,r)}function d0(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function q2(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Ft(e,t,s.children,r),s=tt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ux(e,r,t);else if(e.tag===19)Ux(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(qe(tt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&od(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),d0(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&od(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}d0(t,!0,r,null,i);break;case"together":d0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ra|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=ds(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ds(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function T6(e,t,r){switch(t.tag){case 3:H2(t),oi();break;case 5:b2(t);break;case 1:Yt(t.type)&&td(t);break;case 4:Bp(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;qe(sd,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(qe(tt,tt.current&1),t.flags|=128,null):r&t.child.childLanes?G2(e,t,r):(qe(tt,tt.current&1),e=Nr(e,t,r),e!==null?e.sibling:null);qe(tt,tt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return q2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qe(tt,tt.current),s)break;return null;case 22:case 23:return t.lanes=0,V2(e,t,r)}return Nr(e,t,r)}var K2,Jm,Y2,Q2;K2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jm=function(){};Y2=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Ds(Xn.current);var i=null;switch(r){case"input":a=wm(e,a),s=wm(e,s),i=[];break;case"select":a=st({},a,{value:void 0}),s=st({},s,{value:void 0}),i=[];break;case"textarea":a=Sm(e,a),s=Sm(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Jc)}km(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(So.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(So.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Q2=function(e,t,r,s){r!==s&&(t.flags|=4)};function Ui(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function E6(e,t,r){var s=t.pendingProps;switch(Lp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Yt(t.type)&&ed(),Tt(t),null;case 3:return s=t.stateNode,ci(),Xe(Kt),Xe(Lt),Up(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ql(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,An!==null&&(oh(An),An=null))),Jm(e,t),Tt(t),null;case 5:zp(t);var a=Ds(Fo.current);if(r=t.type,e!==null&&t.stateNode!=null)Y2(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(he(166));return Tt(t),null}if(e=Ds(Xn.current),Ql(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Yn]=t,s[Io]=i,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<ao.length;a++)Qe(ao[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Xg(s,i),Qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",s);break;case"textarea":Jg(s,i),Qe("invalid",s)}km(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Yl(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Yl(s.textContent,l,e),a=["children",""+l]):So.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",s)}switch(r){case"input":zl(s),Zg(s,i,!0);break;case"textarea":zl(s),ex(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Jc)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Yn]=t,e[Io]=s,K2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Tm(r,s),r){case"dialog":Qe("cancel",e),Qe("close",e),a=s;break;case"iframe":case"object":case"embed":Qe("load",e),a=s;break;case"video":case"audio":for(a=0;a<ao.length;a++)Qe(ao[a],e);a=s;break;case"source":Qe("error",e),a=s;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),a=s;break;case"details":Qe("toggle",e),a=s;break;case"input":Xg(e,s),a=wm(e,s),Qe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=st({},s,{value:void 0}),Qe("invalid",e);break;case"textarea":Jg(e,s),a=Sm(e,s),Qe("invalid",e);break;default:a=s}km(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?T1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&C1(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Co(e,c):typeof c=="number"&&Co(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(So.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",e):c!=null&&yp(e,i,c,o))}switch(r){case"input":zl(e),Zg(e,s,!1);break;case"textarea":zl(e),ex(e);break;case"option":s.value!=null&&e.setAttribute("value",""+hs(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Oa(e,!!s.multiple,i,!1):s.defaultValue!=null&&Oa(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Jc)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Q2(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(he(166));if(r=Ds(Fo.current),Ds(Xn.current),Ql(t)){if(s=t.stateNode,r=t.memoizedProps,s[Yn]=t,(i=s.nodeValue!==r)&&(e=rn,e!==null))switch(e.tag){case 3:Yl(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yl(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Yn]=t,t.stateNode=s}return Tt(t),null;case 13:if(Xe(tt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&nn!==null&&t.mode&1&&!(t.flags&128))p2(),oi(),t.flags|=98560,i=!1;else if(i=Ql(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Yn]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),i=!1}else An!==null&&(oh(An),An=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?pt===0&&(pt=3):ef())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return ci(),Jm(e,t),e===null&&Ro(t.stateNode.containerInfo),Tt(t),null;case 10:return Op(t.type._context),Tt(t),null;case 17:return Yt(t.type)&&ed(),Tt(t),null;case 19:if(Xe(tt),i=t.memoizedState,i===null)return Tt(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Ui(i,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=od(e),o!==null){for(t.flags|=128,Ui(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(tt,tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ct()>ui&&(t.flags|=128,s=!0,Ui(i,!1),t.lanes=4194304)}else{if(!s)if(e=od(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ui(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return Tt(t),null}else 2*ct()-i.renderingStartTime>ui&&r!==1073741824&&(t.flags|=128,s=!0,Ui(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,r=tt.current,qe(tt,s?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return Jp(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?tn&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function P6(e,t){switch(Lp(t),t.tag){case 1:return Yt(t.type)&&ed(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(),Xe(Kt),Xe(Lt),Up(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zp(t),null;case 13:if(Xe(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(tt),null;case 4:return ci(),null;case 10:return Op(t.type._context),null;case 22:case 23:return Jp(),null;case 24:return null;default:return null}}var Jl=!1,At=!1,A6=typeof WeakSet=="function"?WeakSet:Set,be=null;function Ea(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ot(e,t,s)}else r.current=null}function eh(e,t,r){try{r()}catch(s){ot(e,t,s)}}var Vx=!1;function M6(e,t){if(Om=Qc,e=t2(),Mp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===s&&(c=o),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dm={focusedElem:e,selectionRange:r},Qc=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,y=f.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tn(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(N){ot(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return f=Vx,Vx=!1,f}function fo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&eh(t,r,i)}a=a.next}while(a!==s)}}function Zd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function th(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function X2(e){var t=e.alternate;t!==null&&(e.alternate=null,X2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[Io],delete t[zm],delete t[h6],delete t[p6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z2(e){return e.tag===5||e.tag===3||e.tag===4}function Wx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jc));else if(s!==4&&(e=e.child,e!==null))for(nh(e,t,r),e=e.sibling;e!==null;)nh(e,t,r),e=e.sibling}function rh(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(rh(e,t,r),e=e.sibling;e!==null;)rh(e,t,r),e=e.sibling}var yt=null,Pn=!1;function Lr(e,t,r){for(r=r.child;r!==null;)J2(e,t,r),r=r.sibling}function J2(e,t,r){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Wd,r)}catch{}switch(r.tag){case 5:At||Ea(r,t);case 6:var s=yt,a=Pn;yt=null,Lr(e,t,r),yt=s,Pn=a,yt!==null&&(Pn?(e=yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yt.removeChild(r.stateNode));break;case 18:yt!==null&&(Pn?(e=yt,r=r.stateNode,e.nodeType===8?r0(e.parentNode,r):e.nodeType===1&&r0(e,r),Po(e)):r0(yt,r.stateNode));break;case 4:s=yt,a=Pn,yt=r.stateNode.containerInfo,Pn=!0,Lr(e,t,r),yt=s,Pn=a;break;case 0:case 11:case 14:case 15:if(!At&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&eh(r,t,o),a=a.next}while(a!==s)}Lr(e,t,r);break;case 1:if(!At&&(Ea(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){ot(r,t,l)}Lr(e,t,r);break;case 21:Lr(e,t,r);break;case 22:r.mode&1?(At=(s=At)||r.memoizedState!==null,Lr(e,t,r),At=s):Lr(e,t,r);break;default:Lr(e,t,r)}}function Hx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new A6),t.forEach(function(s){var a=B6.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Cn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:yt=l.stateNode,Pn=!1;break e;case 3:yt=l.stateNode.containerInfo,Pn=!0;break e;case 4:yt=l.stateNode.containerInfo,Pn=!0;break e}l=l.return}if(yt===null)throw Error(he(160));J2(i,o,a),yt=null,Pn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ot(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ew(t,e),t=t.sibling}function ew(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(t,e),Bn(e),s&4){try{fo(3,e,e.return),Zd(3,e)}catch(v){ot(e,e.return,v)}try{fo(5,e,e.return)}catch(v){ot(e,e.return,v)}}break;case 1:Cn(t,e),Bn(e),s&512&&r!==null&&Ea(r,r.return);break;case 5:if(Cn(t,e),Bn(e),s&512&&r!==null&&Ea(r,r.return),e.flags&32){var a=e.stateNode;try{Co(a,"")}catch(v){ot(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&j1(a,i),Tm(l,o);var d=Tm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?T1(a,m):u==="dangerouslySetInnerHTML"?C1(a,m):u==="children"?Co(a,m):yp(a,u,m,d)}switch(l){case"input":jm(a,i);break;case"textarea":N1(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Oa(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Oa(a,!!i.multiple,i.defaultValue,!0):Oa(a,!!i.multiple,i.multiple?[]:"",!1))}a[Io]=i}catch(v){ot(e,e.return,v)}}break;case 6:if(Cn(t,e),Bn(e),s&4){if(e.stateNode===null)throw Error(he(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){ot(e,e.return,v)}}break;case 3:if(Cn(t,e),Bn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(v){ot(e,e.return,v)}break;case 4:Cn(t,e),Bn(e);break;case 13:Cn(t,e),Bn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Xp=ct())),s&4&&Hx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(At=(d=At)||u,Cn(t,e),At=d):Cn(t,e),Bn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(m=be=u;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:fo(4,h,h.return);break;case 1:Ea(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){ot(s,r,v)}}break;case 5:Ea(h,h.return);break;case 22:if(h.memoizedState!==null){qx(m);continue}}p!==null?(p.return=h,be=p):qx(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=k1("display",o))}catch(v){ot(e,e.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){ot(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Cn(t,e),Bn(e),s&4&&Hx(e);break;case 21:break;default:Cn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Z2(r)){var s=r;break e}r=r.return}throw Error(he(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Co(a,""),s.flags&=-33);var i=Wx(e);rh(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Wx(e);nh(e,l,o);break;default:throw Error(he(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R6(e,t,r){be=e,tw(e)}function tw(e,t,r){for(var s=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Jl;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||At;l=Jl;var d=At;if(Jl=o,(At=c)&&!d)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?Kx(a):c!==null?(c.return=o,be=c):Kx(a);for(;i!==null;)be=i,tw(i),i=i.sibling;be=a,Jl=l,At=d}Gx(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):Gx(e)}}function Gx(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||Zd(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!At)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Tn(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ax(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ax(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Po(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}At||t.flags&512&&th(t)}catch(h){ot(t,t.return,h)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function qx(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Kx(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zd(4,t)}catch(c){ot(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){ot(t,a,c)}}var i=t.return;try{th(t)}catch(c){ot(t,i,c)}break;case 5:var o=t.return;try{th(t)}catch(c){ot(t,o,c)}}}catch(c){ot(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var L6=Math.ceil,dd=Er.ReactCurrentDispatcher,Yp=Er.ReactCurrentOwner,yn=Er.ReactCurrentBatchConfig,Oe=0,xt=null,ut=null,St=0,tn=0,Pa=Ss(0),pt=0,Bo=null,ra=0,Jd=0,Qp=0,go=null,Gt=null,Xp=0,ui=1/0,ir=null,ud=!1,sh=null,ls=null,ec=!1,ts=null,md=0,xo=0,ah=null,Ac=-1,Mc=0;function Dt(){return Oe&6?ct():Ac!==-1?Ac:Ac=ct()}function cs(e){return e.mode&1?Oe&2&&St!==0?St&-St:g6.transition!==null?(Mc===0&&(Mc=$1()),Mc):(e=He,e!==0||(e=window.event,e=e===void 0?16:G1(e.type)),e):1}function In(e,t,r,s){if(50<xo)throw xo=0,ah=null,Error(he(185));vl(e,r,s),(!(Oe&2)||e!==xt)&&(e===xt&&(!(Oe&2)&&(Jd|=r),pt===4&&Hr(e,St)),Qt(e,s),r===1&&Oe===0&&!(t.mode&1)&&(ui=ct()+500,Yd&&Cs()))}function Qt(e,t){var r=e.callbackNode;gS(e,t);var s=Yc(e,e===xt?St:0);if(s===0)r!==null&&rx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&rx(r),t===1)e.tag===0?f6(Yx.bind(null,e)):u2(Yx.bind(null,e)),u6(function(){!(Oe&6)&&Cs()}),r=null;else{switch(B1(s)){case 1:r=Np;break;case 4:r=O1;break;case 16:r=Kc;break;case 536870912:r=D1;break;default:r=Kc}r=cw(r,nw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nw(e,t){if(Ac=-1,Mc=0,Oe&6)throw Error(he(327));var r=e.callbackNode;if(Ua()&&e.callbackNode!==r)return null;var s=Yc(e,e===xt?St:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=hd(e,s);else{t=s;var a=Oe;Oe|=2;var i=sw();(xt!==e||St!==t)&&(ir=null,ui=ct()+500,Ys(e,t));do try{F6();break}catch(l){rw(e,l)}while(!0);Fp(),dd.current=i,Oe=a,ut!==null?t=0:(xt=null,St=0,t=pt)}if(t!==0){if(t===2&&(a=Rm(e),a!==0&&(s=a,t=ih(e,a))),t===1)throw r=Bo,Ys(e,0),Hr(e,s),Qt(e,ct()),r;if(t===6)Hr(e,s);else{if(a=e.current.alternate,!(s&30)&&!I6(a)&&(t=hd(e,s),t===2&&(i=Rm(e),i!==0&&(s=i,t=ih(e,i))),t===1))throw r=Bo,Ys(e,0),Hr(e,s),Qt(e,ct()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(he(345));case 2:Rs(e,Gt,ir);break;case 3:if(Hr(e,s),(s&130023424)===s&&(t=Xp+500-ct(),10<t)){if(Yc(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Dt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Bm(Rs.bind(null,e,Gt,ir),t);break}Rs(e,Gt,ir);break;case 4:if(Hr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Ln(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=ct()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*L6(s/1960))-s,10<s){e.timeoutHandle=Bm(Rs.bind(null,e,Gt,ir),s);break}Rs(e,Gt,ir);break;case 5:Rs(e,Gt,ir);break;default:throw Error(he(329))}}}return Qt(e,ct()),e.callbackNode===r?nw.bind(null,e):null}function ih(e,t){var r=go;return e.current.memoizedState.isDehydrated&&(Ys(e,t).flags|=256),e=hd(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&oh(t)),e}function oh(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function I6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Fn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hr(e,t){for(t&=~Qp,t&=~Jd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ln(t),s=1<<r;e[r]=-1,t&=~s}}function Yx(e){if(Oe&6)throw Error(he(327));Ua();var t=Yc(e,0);if(!(t&1))return Qt(e,ct()),null;var r=hd(e,t);if(e.tag!==0&&r===2){var s=Rm(e);s!==0&&(t=s,r=ih(e,s))}if(r===1)throw r=Bo,Ys(e,0),Hr(e,t),Qt(e,ct()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e,Gt,ir),Qt(e,ct()),null}function Zp(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(ui=ct()+500,Yd&&Cs())}}function sa(e){ts!==null&&ts.tag===0&&!(Oe&6)&&Ua();var t=Oe;Oe|=1;var r=yn.transition,s=He;try{if(yn.transition=null,He=1,e)return e()}finally{He=s,yn.transition=r,Oe=t,!(Oe&6)&&Cs()}}function Jp(){tn=Pa.current,Xe(Pa)}function Ys(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,d6(r)),ut!==null)for(r=ut.return;r!==null;){var s=r;switch(Lp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ed();break;case 3:ci(),Xe(Kt),Xe(Lt),Up();break;case 5:zp(s);break;case 4:ci();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:Op(s.type._context);break;case 22:case 23:Jp()}r=r.return}if(xt=e,ut=e=ds(e.current,null),St=tn=t,pt=0,Bo=null,Qp=Jd=ra=0,Gt=go=null,Os!==null){for(t=0;t<Os.length;t++)if(r=Os[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Os=null}return e}function rw(e,t){do{var r=ut;try{if(Fp(),Tc.current=cd,ld){for(var s=rt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ld=!1}if(na=0,ft=mt=rt=null,po=!1,Oo=0,Yp.current=null,r===null||r.return===null){pt=1,Bo=t,ut=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=St,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Fx(o);if(p!==null){p.flags&=-257,Ox(p,o,l,i,t),p.mode&1&&_x(i,d,t),t=p,c=d;var f=t.updateQueue;if(f===null){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}else{if(!(t&1)){_x(i,d,t),ef();break e}c=Error(he(426))}}else if(Je&&l.mode&1){var y=Fx(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Ox(y,o,l,i,t),Ip(di(c,l));break e}}i=c=di(c,l),pt!==4&&(pt=2),go===null?go=[i]:go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=B2(i,c,t);Px(i,g);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ls===null||!ls.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=z2(i,l,t);Px(i,N);break e}}i=i.return}while(i!==null)}iw(r)}catch(j){t=j,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function sw(){var e=dd.current;return dd.current=cd,e===null?cd:e}function ef(){(pt===0||pt===3||pt===2)&&(pt=4),xt===null||!(ra&268435455)&&!(Jd&268435455)||Hr(xt,St)}function hd(e,t){var r=Oe;Oe|=2;var s=sw();(xt!==e||St!==t)&&(ir=null,Ys(e,t));do try{_6();break}catch(a){rw(e,a)}while(!0);if(Fp(),Oe=r,dd.current=s,ut!==null)throw Error(he(261));return xt=null,St=0,pt}function _6(){for(;ut!==null;)aw(ut)}function F6(){for(;ut!==null&&!oS();)aw(ut)}function aw(e){var t=lw(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?iw(e):ut=t,Yp.current=null}function iw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=P6(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ut=null;return}}else if(r=E6(r,t,tn),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);pt===0&&(pt=5)}function Rs(e,t,r){var s=He,a=yn.transition;try{yn.transition=null,He=1,O6(e,t,r,s)}finally{yn.transition=a,He=s}return null}function O6(e,t,r,s){do Ua();while(ts!==null);if(Oe&6)throw Error(he(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(xS(e,i),e===xt&&(ut=xt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ec||(ec=!0,cw(Kc,function(){return Ua(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=yn.transition,yn.transition=null;var o=He;He=1;var l=Oe;Oe|=4,Yp.current=null,M6(e,r),ew(r,e),r6(Dm),Qc=!!Om,Dm=Om=null,e.current=r,R6(r),lS(),Oe=l,He=o,yn.transition=i}else e.current=r;if(ec&&(ec=!1,ts=e,md=a),i=e.pendingLanes,i===0&&(ls=null),uS(r.stateNode),Qt(e,ct()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(ud)throw ud=!1,e=sh,sh=null,e;return md&1&&e.tag!==0&&Ua(),i=e.pendingLanes,i&1?e===ah?xo++:(xo=0,ah=e):xo=0,Cs(),null}function Ua(){if(ts!==null){var e=B1(md),t=yn.transition,r=He;try{if(yn.transition=null,He=16>e?16:e,ts===null)var s=!1;else{if(e=ts,ts=null,md=0,Oe&6)throw Error(he(331));var a=Oe;for(Oe|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:fo(8,u,i)}var m=u.child;if(m!==null)m.return=u,be=m;else for(;be!==null;){u=be;var h=u.sibling,p=u.return;if(X2(u),u===d){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var f=i.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,be=g;break e}be=i.return}}var x=e.current;for(be=x;be!==null;){o=be;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,be=b;else e:for(o=x;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zd(9,l)}}catch(j){ot(l,l.return,j)}if(l===o){be=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,be=N;break e}be=l.return}}if(Oe=a,Cs(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Wd,e)}catch{}s=!0}return s}finally{He=r,yn.transition=t}}return!1}function Qx(e,t,r){t=di(r,t),t=B2(e,t,1),e=os(e,t,1),t=Dt(),e!==null&&(vl(e,1,t),Qt(e,t))}function ot(e,t,r){if(e.tag===3)Qx(e,e,r);else for(;t!==null;){if(t.tag===3){Qx(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ls===null||!ls.has(s))){e=di(r,e),e=z2(t,e,1),t=os(t,e,1),e=Dt(),t!==null&&(vl(t,1,e),Qt(t,e));break}}t=t.return}}function D6(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,xt===e&&(St&r)===r&&(pt===4||pt===3&&(St&130023424)===St&&500>ct()-Xp?Ys(e,0):Qp|=r),Qt(e,t)}function ow(e,t){t===0&&(e.mode&1?(t=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):t=1);var r=Dt();e=jr(e,t),e!==null&&(vl(e,t,r),Qt(e,r))}function $6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ow(e,r)}function B6(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(he(314))}s!==null&&s.delete(t),ow(e,r)}var lw;lw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kt.current)qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qt=!1,T6(e,t,r);qt=!!(e.flags&131072)}else qt=!1,Je&&t.flags&1048576&&m2(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Pc(e,t),e=t.pendingProps;var a=ii(t,Lt.current);za(t,r),a=Wp(null,t,s,e,a,r);var i=Hp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(s)?(i=!0,td(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$p(t),a.updater=Xd,t.stateNode=a,a._reactInternals=t,qm(t,s,e,r),t=Qm(null,t,s,!0,i,r)):(t.tag=0,Je&&i&&Rp(t),Ft(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Pc(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=U6(s),e=Tn(s,e),a){case 0:t=Ym(null,t,s,e,r);break e;case 1:t=Bx(null,t,s,e,r);break e;case 11:t=Dx(null,t,s,e,r);break e;case 14:t=$x(null,t,s,Tn(s.type,e),r);break e}throw Error(he(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Tn(s,a),Ym(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Tn(s,a),Bx(e,t,s,a,r);case 3:e:{if(H2(t),e===null)throw Error(he(387));s=t.pendingProps,i=t.memoizedState,a=i.element,y2(e,t),id(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=di(Error(he(423)),t),t=zx(e,t,s,r,a);break e}else if(s!==a){a=di(Error(he(424)),t),t=zx(e,t,s,r,a);break e}else for(nn=is(t.stateNode.containerInfo.firstChild),rn=t,Je=!0,An=null,r=g2(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oi(),s===a){t=Nr(e,t,r);break e}Ft(e,t,s,r)}t=t.child}return t;case 5:return b2(t),e===null&&Wm(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,$m(s,a)?o=null:i!==null&&$m(s,i)&&(t.flags|=32),W2(e,t),Ft(e,t,o,r),t.child;case 6:return e===null&&Wm(t),null;case 13:return G2(e,t,r);case 4:return Bp(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=li(t,null,s,r):Ft(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Tn(s,a),Dx(e,t,s,a,r);case 7:return Ft(e,t,t.pendingProps,r),t.child;case 8:return Ft(e,t,t.pendingProps.children,r),t.child;case 12:return Ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,qe(sd,s._currentValue),s._currentValue=o,i!==null)if(Fn(i.value,o)){if(i.children===a.children&&!Kt.current){t=Nr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=mr(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Hm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(he(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Hm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ft(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,za(t,r),a=vn(a),s=s(a),t.flags|=1,Ft(e,t,s,r),t.child;case 14:return s=t.type,a=Tn(s,t.pendingProps),a=Tn(s.type,a),$x(e,t,s,a,r);case 15:return U2(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Tn(s,a),Pc(e,t),t.tag=1,Yt(s)?(e=!0,td(t)):e=!1,za(t,r),$2(t,s,a),qm(t,s,a,r),Qm(null,t,s,!0,e,r);case 19:return q2(e,t,r);case 22:return V2(e,t,r)}throw Error(he(156,t.tag))};function cw(e,t){return F1(e,t)}function z6(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,r,s){return new z6(e,t,r,s)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U6(e){if(typeof e=="function")return tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vp)return 11;if(e===wp)return 14}return 2}function ds(e,t){var r=e.alternate;return r===null?(r=xn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rc(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")tf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ba:return Qs(r.children,a,i,t);case bp:o=8,a|=8;break;case xm:return e=xn(12,r,t,a|2),e.elementType=xm,e.lanes=i,e;case ym:return e=xn(13,r,t,a),e.elementType=ym,e.lanes=i,e;case bm:return e=xn(19,r,t,a),e.elementType=bm,e.lanes=i,e;case b1:return eu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x1:o=10;break e;case y1:o=9;break e;case vp:o=11;break e;case wp:o=14;break e;case Ur:o=16,s=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=xn(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Qs(e,t,r,s){return e=xn(7,e,s,t),e.lanes=r,e}function eu(e,t,r,s){return e=xn(22,e,s,t),e.elementType=b1,e.lanes=r,e.stateNode={isHidden:!1},e}function u0(e,t,r){return e=xn(6,e,null,t),e.lanes=r,e}function m0(e,t,r){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function V6(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function nf(e,t,r,s,a,i,o,l,c){return e=new V6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(i),e}function W6(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function dw(e){if(!e)return ps;e=e._reactInternals;e:{if(da(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(Yt(r))return d2(e,r,t)}return t}function uw(e,t,r,s,a,i,o,l,c){return e=nf(r,s,!0,e,a,i,o,l,c),e.context=dw(null),r=e.current,s=Dt(),a=cs(r),i=mr(s,a),i.callback=t??null,os(r,i,a),e.current.lanes=a,vl(e,a,s),Qt(e,s),e}function tu(e,t,r,s){var a=t.current,i=Dt(),o=cs(a);return r=dw(r),t.context===null?t.context=r:t.pendingContext=r,t=mr(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=os(a,t,o),e!==null&&(In(e,a,o,i),kc(e,a,o)),o}function pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rf(e,t){Xx(e,t),(e=e.alternate)&&Xx(e,t)}function H6(){return null}var mw=typeof reportError=="function"?reportError:function(e){console.error(e)};function sf(e){this._internalRoot=e}nu.prototype.render=sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));tu(e,t,null,null)};nu.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sa(function(){tu(null,e,null,null)}),t[wr]=null}};function nu(e){this._internalRoot=e}nu.prototype.unstable_scheduleHydration=function(e){if(e){var t=V1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wr.length&&t!==0&&t<Wr[r].priority;r++);Wr.splice(r,0,e),r===0&&H1(e)}};function af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zx(){}function G6(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=pd(o);i.call(d)}}var o=uw(t,s,e,0,null,!1,!1,"",Zx);return e._reactRootContainer=o,e[wr]=o.current,Ro(e.nodeType===8?e.parentNode:e),sa(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=pd(c);l.call(d)}}var c=nf(e,0,!1,null,null,!1,!1,"",Zx);return e._reactRootContainer=c,e[wr]=c.current,Ro(e.nodeType===8?e.parentNode:e),sa(function(){tu(t,c,r,s)}),c}function su(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=pd(o);l.call(c)}}tu(t,o,e,a)}else o=G6(r,t,e,a,s);return pd(o)}z1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=so(t.pendingLanes);r!==0&&(Sp(t,r|1),Qt(t,ct()),!(Oe&6)&&(ui=ct()+500,Cs()))}break;case 13:sa(function(){var s=jr(e,1);if(s!==null){var a=Dt();In(s,e,1,a)}}),rf(e,1)}};Cp=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var r=Dt();In(t,e,134217728,r)}rf(e,134217728)}};U1=function(e){if(e.tag===13){var t=cs(e),r=jr(e,t);if(r!==null){var s=Dt();In(r,e,t,s)}rf(e,t)}};V1=function(){return He};W1=function(e,t){var r=He;try{return He=e,t()}finally{He=r}};Pm=function(e,t,r){switch(t){case"input":if(jm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Kd(s);if(!a)throw Error(he(90));w1(s),jm(s,a)}}}break;case"textarea":N1(e,r);break;case"select":t=r.value,t!=null&&Oa(e,!!r.multiple,t,!1)}};A1=Zp;M1=sa;var q6={usingClientEntryPoint:!1,Events:[jl,Na,Kd,E1,P1,Zp]},Vi={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K6={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I1(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||H6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Wd=tc.inject(K6),Qn=tc}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q6;ln.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(t))throw Error(he(200));return W6(e,t,null,r)};ln.createRoot=function(e,t){if(!af(e))throw Error(he(299));var r=!1,s="",a=mw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nf(e,1,!1,null,null,r,!1,s,a),e[wr]=t.current,Ro(e.nodeType===8?e.parentNode:e),new sf(t)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=I1(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return sa(e)};ln.hydrate=function(e,t,r){if(!ru(t))throw Error(he(200));return su(null,e,t,!0,r)};ln.hydrateRoot=function(e,t,r){if(!af(e))throw Error(he(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=mw;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=uw(t,null,e,1,r??null,a,!1,i,o),e[wr]=t.current,Ro(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new nu(t)};ln.render=function(e,t,r){if(!ru(t))throw Error(he(200));return su(null,e,t,!1,r)};ln.unmountComponentAtNode=function(e){if(!ru(e))throw Error(he(40));return e._reactRootContainer?(sa(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};ln.unstable_batchedUpdates=Zp;ln.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!ru(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return su(e,t,r,!1,s)};ln.version="18.3.1-next-f1338f8080-20240426";function hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hw)}catch(e){console.error(e)}}hw(),h1.exports=ln;var Y6=h1.exports,Jx=Y6;fm.createRoot=Jx.createRoot,fm.hydrateRoot=Jx.hydrateRoot;const pw="2.24.1";let Wi={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${pw}`},fe=class lh extends Error{constructor(t,r={}){var l;const s=(()=>{var c;return r.cause instanceof lh?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),a=r.cause instanceof lh&&r.cause.docsPath||r.docsPath,i=(l=Wi.getDocsUrl)==null?void 0:l.call(Wi,{...r,docsPath:a}),o=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...s?[`Details: ${s}`]:[],...Wi.version?[`Version: ${Wi.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=a,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=pw}walk(t){return fw(this,t)}};function fw(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?fw(e.cause,t):t?null:e}class gw extends fe{constructor({max:t,min:r,signed:s,size:a,value:i}){super(`Number "${i}" is not in safe ${a?`${a*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class Q6 extends fe{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class X6 extends fe{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}class xw extends fe{constructor({offset:t,position:r,size:s}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}}class yw extends fe{constructor({size:t,targetSize:r,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}class ey extends fe{constructor({size:t,targetSize:r,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} is expected to be ${r} ${s} long, but is ${t} ${s} long.`,{name:"InvalidBytesLengthError"})}}function Ci(e,{dir:t,size:r=32}={}){return typeof e=="string"?us(e,{dir:t,size:r}):Z6(e,{dir:t,size:r})}function us(e,{dir:t,size:r=32}={}){if(r===null)return e;const s=e.replace("0x","");if(s.length>r*2)throw new yw({size:Math.ceil(s.length/2),targetSize:r,type:"hex"});return`0x${s[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function Z6(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new yw({size:e.length,targetSize:r,type:"bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const i=t==="right";s[i?a:r-a-1]=e[i?a:e.length-a-1]}return s}function fs(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function gt(e){return fs(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function gs(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,s=0;for(let a=0;a<r.length-1&&r[t==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=t==="left"?r.slice(s):r.slice(0,r.length-s),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}const J6=new TextEncoder;function of(e,t={}){return typeof e=="number"||typeof e=="bigint"?tC(e,t):typeof e=="boolean"?eC(e,t):fs(e)?nr(e,t):bw(e,t)}function eC(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Dn(r,{size:t.size}),Ci(r,{size:t.size})):r}const sr={zero:48,nine:57,A:65,F:70,a:97,f:102};function ty(e){if(e>=sr.zero&&e<=sr.nine)return e-sr.zero;if(e>=sr.A&&e<=sr.F)return e-(sr.A-10);if(e>=sr.a&&e<=sr.f)return e-(sr.a-10)}function nr(e,t={}){let r=e;t.size&&(Dn(r,{size:t.size}),r=Ci(r,{dir:"right",size:t.size}));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,i=new Uint8Array(a);for(let o=0,l=0;o<a;o++){const c=ty(s.charCodeAt(l++)),d=ty(s.charCodeAt(l++));if(c===void 0||d===void 0)throw new fe(`Invalid byte sequence ("${s[l-2]}${s[l-1]}" in "${s}").`);i[o]=c*16+d}return i}function tC(e,t){const r=Ae(e,t);return nr(r)}function bw(e,t={}){const r=J6.encode(e);return typeof t.size=="number"?(Dn(r,{size:t.size}),Ci(r,{dir:"right",size:t.size})):r}function Dn(e,{size:t}){if(gt(e)>t)throw new X6({givenSize:gt(e),maxSize:t})}function Mn(e,t={}){const{signed:r}=t;t.size&&Dn(e,{size:t.size});const s=BigInt(e);if(!r)return s;const a=(e.length-2)/2,i=(1n<<BigInt(a)*8n-1n)-1n;return s<=i?s:s-BigInt(`0x${"f".padStart(a*2,"f")}`)-1n}function Sr(e,t={}){return Number(Mn(e,t))}function nC(e,t={}){let r=nr(e);return t.size&&(Dn(r,{size:t.size}),r=gs(r,{dir:"right"})),new TextDecoder().decode(r)}const rC=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Me(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ae(e,t):typeof e=="string"?lf(e,t):typeof e=="boolean"?vw(e,t):Bt(e,t)}function vw(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(Dn(r,{size:t.size}),Ci(r,{size:t.size})):r}function Bt(e,t={}){let r="";for(let a=0;a<e.length;a++)r+=rC[e[a]];const s=`0x${r}`;return typeof t.size=="number"?(Dn(s,{size:t.size}),Ci(s,{dir:"right",size:t.size})):s}function Ae(e,t={}){const{signed:r,size:s}=t,a=BigInt(e);let i;s?r?i=(1n<<BigInt(s)*8n-1n)-1n:i=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&a>i||a<o){const c=typeof e=="bigint"?"n":"";throw new gw({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:r,size:s,value:`${e}${c}`})}const l=`0x${(r&&a<0?(1n<<BigInt(s*8))+BigInt(a):a).toString(16)}`;return s?Ci(l,{size:s}):l}const sC=new TextEncoder;function lf(e,t={}){const r=sC.encode(e);return Bt(r,t)}function mi(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new gC(e.type);return`${e.name}(${cf(e.inputs,{includeName:t})})`}function cf(e,{includeName:t=!1}={}){return e?e.map(r=>aC(r,{includeName:t})).join(t?", ":","):""}function aC(e,{includeName:t}){return e.type.startsWith("tuple")?`(${cf(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class iC extends fe{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ny extends fe{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class oC extends fe{constructor({data:t,params:r,size:s}){super([`Data size of ${s} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${cf(r,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=s}}class au extends fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class lC extends fe{constructor({expectedLength:t,givenLength:r,type:s}){super([`ABI encoding array length mismatch for type ${s}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class cC extends fe{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${gt(r)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class dC extends fe{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class ww extends fe{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class fd extends fe{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class uC extends fe{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class mC extends fe{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${mi(t.abiItem)}\`, and`,`\`${r.type}\` in \`${mi(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class hC extends fe{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class pC extends fe{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}class fC extends fe{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class gC extends fe{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function hi(e){return typeof e[0]=="string"?Pr(e):xC(e)}function xC(e){let t=0;for(const a of e)t+=a.length;const r=new Uint8Array(t);let s=0;for(const a of e)r.set(a,s),s+=a.length;return r}function Pr(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}class jn extends fe{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class iu extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}function gd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function yC(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Sl(e,...t){if(!yC(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function jD(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gd(e.outputLen),gd(e.blockLen)}function xd(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function jw(e,t){Sl(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const nc=BigInt(2**32-1),ry=BigInt(32);function bC(e,t=!1){return t?{h:Number(e&nc),l:Number(e>>ry&nc)}:{h:Number(e>>ry&nc)|0,l:Number(e&nc)|0}}function vC(e,t=!1){let r=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:i,l:o}=bC(e[a],t);[r[a],s[a]]=[i,o]}return[r,s]}const wC=(e,t,r)=>e<<r|t>>>32-r,jC=(e,t,r)=>t<<r|e>>>32-r,NC=(e,t,r)=>t<<r-32|e>>>64-r,SC=(e,t,r)=>e<<r-32|t>>>64-r,ga=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function CC(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function h0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function zn(e,t){return e<<32-t|e>>>t}const sy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function kC(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ay(e){for(let t=0;t<e.length;t++)e[t]=kC(e[t])}const TC=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ND(e){Sl(e);let t="";for(let r=0;r<e.length;r++)t+=TC[e[r]];return t}function EC(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function ou(e){return typeof e=="string"&&(e=EC(e)),Sl(e),e}function SD(...e){let t=0;for(let s=0;s<e.length;s++){const a=e[s];Sl(a),t+=a.length}const r=new Uint8Array(t);for(let s=0,a=0;s<e.length;s++){const i=e[s];r.set(i,a),a+=i.length}return r}class Nw{clone(){return this._cloneInto()}}function Sw(e){const t=s=>e().update(ou(s)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function PC(e){const t=(s,a)=>e(a).update(ou(s)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=s=>e(s),t}function CD(e=32){if(ga&&typeof ga.getRandomValues=="function")return ga.getRandomValues(new Uint8Array(e));if(ga&&typeof ga.randomBytes=="function")return ga.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Cw=[],kw=[],Tw=[],AC=BigInt(0),Hi=BigInt(1),MC=BigInt(2),RC=BigInt(7),LC=BigInt(256),IC=BigInt(113);for(let e=0,t=Hi,r=1,s=0;e<24;e++){[r,s]=[s,(2*r+3*s)%5],Cw.push(2*(5*s+r)),kw.push((e+1)*(e+2)/2%64);let a=AC;for(let i=0;i<7;i++)t=(t<<Hi^(t>>RC)*IC)%LC,t&MC&&(a^=Hi<<(Hi<<BigInt(i))-Hi);Tw.push(a)}const[_C,FC]=vC(Tw,!0),iy=(e,t,r)=>r>32?NC(e,t,r):wC(e,t,r),oy=(e,t,r)=>r>32?SC(e,t,r):jC(e,t,r);function Ew(e,t=24){const r=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,c=(o+2)%10,d=r[c],u=r[c+1],m=iy(d,u,1)^r[l],h=oy(d,u,1)^r[l+1];for(let p=0;p<50;p+=10)e[o+p]^=m,e[o+p+1]^=h}let a=e[2],i=e[3];for(let o=0;o<24;o++){const l=kw[o],c=iy(a,i,l),d=oy(a,i,l),u=Cw[o];a=e[u],i=e[u+1],e[u]=c,e[u+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)r[l]=e[o+l];for(let l=0;l<10;l++)e[o+l]^=~r[(l+2)%10]&r[(l+4)%10]}e[0]^=_C[s],e[1]^=FC[s]}r.fill(0)}class Cl extends Nw{constructor(t,r,s,a=!1,i=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=s,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,gd(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=CC(this.state)}keccak(){sy||ay(this.state32),Ew(this.state32,this.rounds),sy||ay(this.state32),this.posOut=0,this.pos=0}update(t){xd(this);const{blockLen:r,state:s}=this;t=ou(t);const a=t.length;for(let i=0;i<a;){const o=Math.min(r-this.pos,a-i);for(let l=0;l<o;l++)s[this.pos++]^=t[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:s,blockLen:a}=this;t[s]^=r,r&128&&s===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){xd(this,!1),Sl(t),this.finish();const r=this.state,{blockLen:s}=this;for(let a=0,i=t.length;a<i;){this.posOut>=s&&this.keccak();const o=Math.min(s-this.posOut,i-a);t.set(r.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return gd(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(jw(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:s,outputLen:a,rounds:i,enableXOF:o}=this;return t||(t=new Cl(r,s,a,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=s,t.outputLen=a,t.enableXOF=o,t.destroyed=this.destroyed,t}}const ks=(e,t,r)=>Sw(()=>new Cl(t,e,r)),OC=ks(6,144,224/8),DC=ks(6,136,256/8),$C=ks(6,104,384/8),BC=ks(6,72,512/8),zC=ks(1,144,224/8),Pw=ks(1,136,256/8),UC=ks(1,104,384/8),VC=ks(1,72,512/8),Aw=(e,t,r)=>PC((s={})=>new Cl(t,e,s.dkLen===void 0?r:s.dkLen,!0)),WC=Aw(31,168,128/8),HC=Aw(31,136,256/8),kD=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Cl,keccakP:Ew,keccak_224:zC,keccak_256:Pw,keccak_384:UC,keccak_512:VC,sha3_224:OC,sha3_256:DC,sha3_384:$C,sha3_512:BC,shake128:WC,shake256:HC},Symbol.toStringTag,{value:"Module"}));function lu(e,t){const r=t||"hex",s=Pw(fs(e,{strict:!1})?of(e):e);return r==="bytes"?s:Me(s)}const p0=new iu(8192);function cu(e,t){if(p0.has(`${e}.${t}`))return p0.get(`${e}.${t}`);const r=e.substring(2).toLowerCase(),s=lu(bw(r),"bytes"),a=r.split("");for(let o=0;o<40;o+=2)s[o>>1]>>4>=8&&a[o]&&(a[o]=a[o].toUpperCase()),(s[o>>1]&15)>=8&&a[o+1]&&(a[o+1]=a[o+1].toUpperCase());const i=`0x${a.join("")}`;return p0.set(`${e}.${t}`,i),i}function jt(e,t){if(!Be(e,{strict:!1}))throw new jn({address:e});return cu(e,t)}const GC=/^0x[a-fA-F0-9]{40}$/,f0=new iu(8192);function Be(e,t){const{strict:r=!0}=t??{},s=`${e}.${r}`;if(f0.has(s))return f0.get(s);const a=GC.test(e)?e.toLowerCase()===e?!0:r?cu(e)===e:!0:!1;return f0.set(s,a),a}function zo(e,t,r,{strict:s}={}){return fs(e,{strict:!1})?qC(e,t,r,{strict:s}):Lw(e,t,r,{strict:s})}function Mw(e,t){if(typeof t=="number"&&t>0&&t>gt(e)-1)throw new xw({offset:t,position:"start",size:gt(e)})}function Rw(e,t,r){if(typeof t=="number"&&typeof r=="number"&&gt(e)!==r-t)throw new xw({offset:r,position:"end",size:gt(e)})}function Lw(e,t,r,{strict:s}={}){Mw(e,t);const a=e.slice(t,r);return s&&Rw(a,t,r),a}function qC(e,t,r,{strict:s}={}){Mw(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return s&&Rw(a,t,r),a}const KC=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Iw(e,t){if(e.length!==t.length)throw new dC({expectedLength:e.length,givenLength:t.length});const r=YC({params:e,values:t}),s=uf(r);return s.length===0?"0x":s}function YC({params:e,values:t}){const r=[];for(let s=0;s<e.length;s++)r.push(df({param:e[s],value:t[s]}));return r}function df({param:e,value:t}){const r=mf(e.type);if(r){const[s,a]=r;return XC(t,{length:s,param:{...e,type:a}})}if(e.type==="tuple")return nk(t,{param:e});if(e.type==="address")return QC(t);if(e.type==="bool")return JC(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const s=e.type.startsWith("int"),[,,a="256"]=KC.exec(e.type)??[];return ek(t,{signed:s,size:Number(a)})}if(e.type.startsWith("bytes"))return ZC(t,{param:e});if(e.type==="string")return tk(t);throw new hC(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function uf(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:l}=e[i];o?t+=32:t+=gt(l)}const r=[],s=[];let a=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:l}=e[i];o?(r.push(Ae(t+a,{size:32})),s.push(l),a+=gt(l)):r.push(l)}return hi([...r,...s])}function QC(e){if(!Be(e))throw new jn({address:e});return{dynamic:!1,encoded:us(e.toLowerCase())}}function XC(e,{length:t,param:r}){const s=t===null;if(!Array.isArray(e))throw new fC(e);if(!s&&e.length!==t)throw new lC({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let a=!1;const i=[];for(let o=0;o<e.length;o++){const l=df({param:r,value:e[o]});l.dynamic&&(a=!0),i.push(l)}if(s||a){const o=uf(i);if(s){const l=Ae(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?hi([l,o]):l}}if(a)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:hi(i.map(({encoded:o})=>o))}}function ZC(e,{param:t}){const[,r]=t.type.split("bytes"),s=gt(e);if(!r){let a=e;return s%32!==0&&(a=us(a,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:hi([us(Ae(s,{size:32})),a])}}if(s!==Number.parseInt(r))throw new cC({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:us(e,{dir:"right"})}}function JC(e){if(typeof e!="boolean")throw new fe(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:us(vw(e))}}function ek(e,{signed:t,size:r=256}){if(typeof r=="number"){const s=2n**(BigInt(r)-(t?1n:0n))-1n,a=t?-s-1n:0n;if(e>s||e<a)throw new gw({max:s.toString(),min:a.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:Ae(e,{size:32,signed:t})}}function tk(e){const t=lf(e),r=Math.ceil(gt(t)/32),s=[];for(let a=0;a<r;a++)s.push(us(zo(t,a*32,(a+1)*32),{dir:"right"}));return{dynamic:!0,encoded:hi([us(Ae(gt(t),{size:32})),...s])}}function nk(e,{param:t}){let r=!1;const s=[];for(let a=0;a<t.components.length;a++){const i=t.components[a],o=Array.isArray(e)?a:i.name,l=df({param:i,value:e[o]});s.push(l),l.dynamic&&(r=!0)}return{dynamic:r,encoded:r?uf(s):hi(s.map(({encoded:a})=>a))}}function mf(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const g0="/docs/contract/encodeDeployData";function _w(e){const{abi:t,args:r,bytecode:s}=e;if(!r||r.length===0)return s;const a=t.find(o=>"type"in o&&o.type==="constructor");if(!a)throw new iC({docsPath:g0});if(!("inputs"in a))throw new ny({docsPath:g0});if(!a.inputs||a.inputs.length===0)throw new ny({docsPath:g0});const i=Iw(a.inputs,r);return Pr([s,i])}function Ar(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}class Fw extends fe{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class x0 extends fe{constructor({docsPath:t,metaMessages:r,type:s}){super(`Account type "${s}" is not supported.`,{docsPath:t,metaMessages:r,name:"AccountTypeNotSupportedError"})}}function rk(e){const t=lu(`0x${e.substring(4)}`).substring(26);return cu(`0x${t}`)}const sk="modulepreload",ak=function(e){return"/"+e},ly={},ki=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=ak(c),c in ly)return;ly[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":sk,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,p)=>{m.addEventListener("load",h),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};async function ik({hash:e,signature:t}){const r=fs(e)?e:Me(e),{secp256k1:s}=await ki(async()=>{const{secp256k1:o}=await import("./secp256k1-CEgA1o6k.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:u,v:m,yParity:h}=t,p=Number(h??m),f=cy(p);return new s.Signature(Mn(d),Mn(u)).addRecoveryBit(f)}const o=fs(t)?t:Me(t),l=Sr(`0x${o.slice(130)}`),c=cy(l);return s.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function cy(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ok({hash:e,signature:t}){return rk(await ik({hash:e,signature:t}))}class dy extends fe{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class lk extends fe{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class ck extends fe{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const dk={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ck({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new lk({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new dy({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new dy({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function hf(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(dk);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function xs(e,t="hex"){const r=Ow(e),s=hf(new Uint8Array(r.length));return r.encode(s),t==="hex"?Bt(s.bytes):s.bytes}function Ow(e){return Array.isArray(e)?uk(e.map(t=>Ow(t))):mk(e)}function uk(e){const t=e.reduce((a,i)=>a+i.length,0),r=Dw(t);return{length:t<=55?1+t:1+r+t,encode(a){t<=55?a.pushByte(192+t):(a.pushByte(247+r),r===1?a.pushUint8(t):r===2?a.pushUint16(t):r===3?a.pushUint24(t):a.pushUint32(t));for(const{encode:i}of e)i(a)}}}function mk(e){const t=typeof e=="string"?nr(e):e,r=Dw(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(a){t.length===1&&t[0]<128?a.pushBytes(t):t.length<=55?(a.pushByte(128+t.length),a.pushBytes(t)):(a.pushByte(183+r),r===1?a.pushUint8(t.length):r===2?a.pushUint16(t.length):r===3?a.pushUint24(t.length):a.pushUint32(t.length),a.pushBytes(t))}}}function Dw(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new fe("Length is too large.")}function hk(e){const{chainId:t,nonce:r,to:s}=e,a=e.contractAddress??e.address,i=lu(Pr(["0x05",xs([t?Ae(t):"0x",a,r?Ae(r):"0x"])]));return s==="bytes"?nr(i):i}async function $w(e){const{authorization:t,signature:r}=e;return ok({hash:hk(t),signature:r??t})}class ch extends fe{constructor({blockNumber:t,chain:r,contract:s}){super(`Chain "${r.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...t&&s.blockCreated&&s.blockCreated>t?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${s.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class pk extends fe{constructor({chain:t,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class fk extends fe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Bw extends fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class du extends fe{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function gk({chain:e,currentChainId:t}){if(!e)throw new fk;if(t!==e.id)throw new pk({chain:e,currentChainId:t})}const zw={gwei:9,wei:18},xk={ether:-9,wei:9};function Uw(e,t){let r=e.toString();const s=r.startsWith("-");s&&(r=r.slice(1)),r=r.padStart(t,"0");let[a,i]=[r.slice(0,r.length-t),r.slice(r.length-t)];return i=i.replace(/(0+)$/,""),`${s?"-":""}${a||"0"}${i?`.${i}`:""}`}function Xt(e,t="wei"){return Uw(e,xk[t])}class Aa extends fe{constructor({cause:t,message:r}={}){var a;const s=(a=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:a.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Aa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class aa extends fe{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Xt(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(aa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class dh extends fe{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Xt(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(dh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class uh extends fe{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(uh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class mh extends fe{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(mh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class hh extends fe{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(hh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class ph extends fe{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(ph,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class fh extends fe{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(fh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class gh extends fe{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(gh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class xh extends fe{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(xh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Uo extends fe{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Xt(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${Xt(s)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Uo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class uu extends fe{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Mt(e,t="wei"){return Uw(e,zw[t])}function kl(e){const t=Object.entries(e).map(([s,a])=>a===void 0||a===!1?null:[s,a]).filter(Boolean),r=t.reduce((s,[a])=>Math.max(s,a.length),0);return t.map(([s,a])=>`  ${`${s}:`.padEnd(r+1)}  ${a}`).join(`
`)}class yk extends fe{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class bk extends fe{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class vk extends fe{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",kl(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class wk extends fe{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class jk extends fe{constructor(t,{account:r,docsPath:s,chain:a,data:i,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:m,value:h}){var f;const p=kl({chain:a&&`${a==null?void 0:a.name} (id: ${a==null?void 0:a.id})`,from:r==null?void 0:r.address,to:m,value:typeof h<"u"&&`${Mt(h)} ${((f=a==null?void 0:a.nativeCurrency)==null?void 0:f.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${Xt(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xt(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Xt(d)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Vw extends fe{constructor({blockHash:t,blockNumber:r,blockTag:s,hash:a,index:i}){let o="Transaction";s&&i!==void 0&&(o=`Transaction at block time "${s}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),r&&i!==void 0&&(o=`Transaction at block number "${r}" at index "${i}"`),a&&(o=`Transaction with hash "${a}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Ww extends fe{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Nk extends fe{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const _n=(e,t,r)=>JSON.stringify(e,(s,a)=>typeof a=="bigint"?a.toString():a,r),Sk=e=>e,pf=e=>e;class yo extends fe{constructor({body:t,cause:r,details:s,headers:a,status:i,url:o}){super("HTTP request failed.",{cause:r,details:s,metaMessages:[i&&`Status: ${i}`,`URL: ${pf(o)}`,t&&`Request body: ${_n(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=a,this.status=i,this.url=o}}class ff extends fe{constructor({body:t,error:r,url:s}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${pf(s)}`,`Request body: ${_n(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class uy extends fe{constructor({body:t,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${pf(r)}`,`Request body: ${_n(t)}`],name:"TimeoutError"})}}const Ck=-1;class Jt extends fe{constructor(t,{code:r,docsPath:s,metaMessages:a,name:i,shortMessage:o}){super(o,{cause:t,docsPath:s,metaMessages:a||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof ff?t.code:r??Ck}}class Ti extends Jt{constructor(t,r){super(t,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Vo extends Jt{constructor(t){super(t,{code:Vo.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Vo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Wo extends Jt{constructor(t){super(t,{code:Wo.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Wo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ho extends Jt{constructor(t,{method:r}={}){super(t,{code:Ho.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ho,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Go extends Jt{constructor(t){super(t,{code:Go.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Go,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ia extends Jt{constructor(t){super(t,{code:ia.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class qo extends Jt{constructor(t){super(t,{code:qo.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Ko extends Jt{constructor(t){super(t,{code:Ko.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Zn extends Jt{constructor(t){super(t,{code:Zn.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Yo extends Jt{constructor(t){super(t,{code:Yo.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class $s extends Jt{constructor(t,{method:r}={}){super(t,{code:$s.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty($s,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class pi extends Jt{constructor(t){super(t,{code:pi.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(pi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Qo extends Jt{constructor(t){super(t,{code:Qo.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class De extends Ti{constructor(t){super(t,{code:De.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(De,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Xo extends Ti{constructor(t){super(t,{code:Xo.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Xo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Zo extends Ti{constructor(t,{method:r}={}){super(t,{code:Zo.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Zo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Jo extends Ti{constructor(t){super(t,{code:Jo.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class el extends Ti{constructor(t){super(t,{code:el.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(el,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class $t extends Ti{constructor(t){super(t,{code:$t.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class kk extends Jt{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function gf(e,t){const r=(e.details||"").toLowerCase(),s=e instanceof fe?e.walk(a=>(a==null?void 0:a.code)===Aa.code):e;return s instanceof fe?new Aa({cause:e,message:s.details}):Aa.nodeMessage.test(r)?new Aa({cause:e,message:e.details}):aa.nodeMessage.test(r)?new aa({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):dh.nodeMessage.test(r)?new dh({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):uh.nodeMessage.test(r)?new uh({cause:e,nonce:t==null?void 0:t.nonce}):mh.nodeMessage.test(r)?new mh({cause:e,nonce:t==null?void 0:t.nonce}):hh.nodeMessage.test(r)?new hh({cause:e,nonce:t==null?void 0:t.nonce}):ph.nodeMessage.test(r)?new ph({cause:e}):fh.nodeMessage.test(r)?new fh({cause:e,gas:t==null?void 0:t.gas}):gh.nodeMessage.test(r)?new gh({cause:e,gas:t==null?void 0:t.gas}):xh.nodeMessage.test(r)?new xh({cause:e}):Uo.nodeMessage.test(r)?new Uo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new uu({cause:e})}function Tk(e,{docsPath:t,...r}){const s=(()=>{const a=gf(e,r);return a instanceof uu?e:a})();return new jk(s,{docsPath:t,...r})}function xf(e,{format:t}){if(!t)return{};const r={};function s(i){const o=Object.keys(i);for(const l of o)l in e&&(r[l]=e[l]),i[l]&&typeof i[l]=="object"&&!Array.isArray(i[l])&&s(i[l])}const a=t(e||{});return s(a),r}function yf(e,t){return({exclude:r,format:s})=>({exclude:r,format:a=>{const i=t(a);if(r)for(const o of r)delete i[o];return{...i,...s(a)}},type:e})}const Ek={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function bf(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Pk(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(r=>Bt(r)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=Ae(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=Ae(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=Ae(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=Ae(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=Ae(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=Ae(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Ek[e.type]),typeof e.value<"u"&&(t.value=Ae(e.value)),t}function Pk(e){return e.map(t=>({address:t.address,r:t.r?Ae(BigInt(t.r)):t.r,s:t.s?Ae(BigInt(t.s)):t.s,chainId:Ae(t.chainId),nonce:Ae(t.nonce),...typeof t.yParity<"u"?{yParity:Ae(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:Ae(t.v)}:{}}))}function dt(e,t,r){const s=e[t.name];if(typeof s=="function")return s;const a=e[r];return typeof a=="function"?a:i=>t(e,i)}const mu=2n**256n-1n;function hu(e){const{account:t,gasPrice:r,maxFeePerGas:s,maxPriorityFeePerGas:a,to:i}=e,o=t?Ar(t):void 0;if(o&&!Be(o.address))throw new jn({address:o.address});if(i&&!Be(i))throw new jn({address:i});if(typeof r<"u"&&(typeof s<"u"||typeof a<"u"))throw new yk;if(s&&s>mu)throw new aa({maxFeePerGas:s});if(a&&s&&a>s)throw new Uo({maxFeePerGas:s,maxPriorityFeePerGas:a})}async function Hw(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Sr(t)}class Ak extends fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class vf extends fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Mk extends fe{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Xt(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Gw extends fe{constructor({blockHash:t,blockNumber:r}){let s="Block";t&&(s=`Block at hash "${t}"`),r&&(s=`Block at number "${r}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}const qw={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function pu(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Sr(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Sr(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?qw[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=Lk(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const Rk=yf("transaction",pu);function Lk(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Kw(e){const t=(e.transactions??[]).map(r=>typeof r=="string"?r:pu(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Ik=yf("block",Kw);async function tl(e,{blockHash:t,blockNumber:r,blockTag:s,includeTransactions:a}={}){var u,m,h;const i=s??"latest",o=a??!1,l=r!==void 0?Ae(r):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[l||i,o]},{dedupe:!!l}),!c)throw new Gw({blockHash:t,blockNumber:r});return(((h=(m=(u=e.chain)==null?void 0:u.formatters)==null?void 0:m.block)==null?void 0:h.format)||Kw)(c)}async function Yw(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function _k(e,t){var i,o;const{block:r,chain:s=e.chain,request:a}=t||{};try{const l=((i=s==null?void 0:s.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=s==null?void 0:s.fees)==null?void 0:o.defaultPriorityFee);if(typeof l=="function"){const d=r||await dt(e,tl,"getBlock")({}),u=await l({block:d,client:e,request:a});if(u===null)throw new Error;return u}if(typeof l<"u")return l;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Mn(c)}catch{const[l,c]=await Promise.all([r?Promise.resolve(r):dt(e,tl,"getBlock")({}),dt(e,Yw,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new vf;const d=c-l.baseFeePerGas;return d<0n?0n:d}}async function my(e,t){var h,p;const{block:r,chain:s=e.chain,request:a,type:i="eip1559"}=t||{},o=await(async()=>{var f,v;return typeof((f=s==null?void 0:s.fees)==null?void 0:f.baseFeeMultiplier)=="function"?s.fees.baseFeeMultiplier({block:r,client:e,request:a}):((v=s==null?void 0:s.fees)==null?void 0:v.baseFeeMultiplier)??1.2})();if(o<1)throw new Ak;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),d=f=>f*BigInt(Math.ceil(o*c))/BigInt(c),u=r||await dt(e,tl,"getBlock")({});if(typeof((p=s==null?void 0:s.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const f=await s.fees.estimateFeesPerGas({block:r,client:e,multiply:d,request:a,type:i});if(f!==null)return f}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new vf;const f=typeof(a==null?void 0:a.maxPriorityFeePerGas)=="bigint"?a.maxPriorityFeePerGas:await _k(e,{block:u,chain:s,request:a}),v=d(u.baseFeePerGas);return{maxFeePerGas:(a==null?void 0:a.maxFeePerGas)??v+f,maxPriorityFeePerGas:f}}return{gasPrice:(a==null?void 0:a.gasPrice)??d(await dt(e,Yw,"getGasPrice")({}))}}class Fk extends fe{constructor(t,{account:r,docsPath:s,chain:a,data:i,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:m,value:h}){var f;const p=kl({from:r==null?void 0:r.address,to:m,value:typeof h<"u"&&`${Mt(h)} ${((f=a==null?void 0:a.nativeCurrency)==null?void 0:f.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${Xt(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xt(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Xt(d)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Ok(e,{docsPath:t,...r}){const s=(()=>{const a=gf(e,r);return a instanceof uu?e:a})();return new Fk(s,{docsPath:t,...r})}class Dk extends fe{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class $k extends fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function hy(e){return e.reduce((t,{slot:r,value:s})=>`${t}        ${r}: ${s}
`,"")}function Bk(e){return e.reduce((t,{address:r,...s})=>{let a=`${t}    ${r}:
`;return s.nonce&&(a+=`      nonce: ${s.nonce}
`),s.balance&&(a+=`      balance: ${s.balance}
`),s.code&&(a+=`      code: ${s.code}
`),s.state&&(a+=`      state:
`,a+=hy(s.state)),s.stateDiff&&(a+=`      stateDiff:
`,a+=hy(s.stateDiff)),a},`  State Override:
`).slice(0,-1)}function py(e){if(!(!e||e.length===0))return e.reduce((t,{slot:r,value:s})=>{if(r.length!==66)throw new ey({size:r.length,targetSize:66,type:"hex"});if(s.length!==66)throw new ey({size:s.length,targetSize:66,type:"hex"});return t[r]=s,t},{})}function zk(e){const{balance:t,nonce:r,state:s,stateDiff:a,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=Ae(t)),r!==void 0&&(o.nonce=Ae(r)),s!==void 0&&(o.state=py(s)),a!==void 0){if(o.state)throw new $k;o.stateDiff=py(a)}return o}function Qw(e){if(!e)return;const t={};for(const{address:r,...s}of e){if(!Be(r,{strict:!1}))throw new jn({address:r});if(t[r])throw new Dk({address:r});t[r]=zk(s)}return t}async function Uk(e,{address:t,blockNumber:r,blockTag:s="latest"}){const a=r?Ae(r):void 0,i=await e.request({method:"eth_getBalance",params:[t,a||s]});return BigInt(i)}async function Vk(e,t){var a,i,o;const{account:r=e.account}=t,s=r?Ar(r):void 0;try{let ne=function(L){const{block:A,request:E,rpcStateOverride:O}=L;return e.request({method:"eth_estimateGas",params:O?[E,A??"latest",O]:A?[E,A]:[E]})};const{accessList:l,authorizationList:c,blobs:d,blobVersionedHashes:u,blockNumber:m,blockTag:h,data:p,gas:f,gasPrice:v,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:x,nonce:b,value:N,stateOverride:j,...k}=await aj(e,{...t,parameters:(s==null?void 0:s.type)==="local"?void 0:["blobVersionedHashes"]}),P=(m?Ae(m):void 0)||h,I=Qw(j),B=await(async()=>{if(k.to)return k.to;if(c&&c.length>0)return await $w({authorization:c[0]}).catch(()=>{throw new fe("`to` is required. Could not infer from `authorizationList`")})})();hu(t);const U=(o=(i=(a=e.chain)==null?void 0:a.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,K=(U||bf)({...xf(k,{format:U}),from:s==null?void 0:s.address,accessList:l,authorizationList:c,blobs:d,blobVersionedHashes:u,data:p,gas:f,gasPrice:v,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:x,nonce:b,to:B,value:N});let J=BigInt(await ne({block:P,request:K,rpcStateOverride:I}));if(c){const L=await Uk(e,{address:K.from}),A=await Promise.all(c.map(async E=>{const{address:O}=E,F=await ne({block:P,request:{authorizationList:void 0,data:p,from:s==null?void 0:s.address,to:O,value:Ae(L)},rpcStateOverride:I}).catch(()=>100000n);return 2n*BigInt(F)}));J+=A.reduce((E,O)=>E+O,0n)}return J}catch(l){throw Ok(l,{...t,account:s,chain:e.chain})}}async function Wk(e,{address:t,blockTag:r="latest",blockNumber:s}){const a=await e.request({method:"eth_getTransactionCount",params:[t,s?Ae(s):r]},{dedupe:!!s});return Sr(a)}function wf(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(i=>nr(i)):e.blobs,a=[];for(const i of s)a.push(Uint8Array.from(t.blobToKzgCommitment(i)));return r==="bytes"?a:a.map(i=>Bt(i))}function jf(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>nr(o)):e.blobs,a=typeof e.commitments[0]=="string"?e.commitments.map(o=>nr(o)):e.commitments,i=[];for(let o=0;o<s.length;o++){const l=s[o],c=a[o];i.push(Uint8Array.from(t.computeBlobKzgProof(l,c)))}return r==="bytes"?i:i.map(o=>Bt(o))}function Hk(e,t,r,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,s);const a=BigInt(32),i=BigInt(4294967295),o=Number(r>>a&i),l=Number(r&i),c=s?4:0,d=s?0:4;e.setUint32(t+c,o,s),e.setUint32(t+d,l,s)}function Gk(e,t,r){return e&t^~e&r}function qk(e,t,r){return e&t^e&r^t&r}class Kk extends Nw{constructor(t,r,s,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=s,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=h0(this.buffer)}update(t){xd(this);const{view:r,buffer:s,blockLen:a}=this;t=ou(t);const i=t.length;for(let o=0;o<i;){const l=Math.min(a-this.pos,i-o);if(l===a){const c=h0(t);for(;a<=i-o;o+=a)this.process(c,o);continue}s.set(t.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){xd(this),jw(t,this),this.finished=!0;const{buffer:r,view:s,blockLen:a,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>a-o&&(this.process(s,0),o=0);for(let m=o;m<a;m++)r[m]=0;Hk(s,a-8,BigInt(this.length*8),i),this.process(s,0);const l=h0(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,u=this.get();if(d>u.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)l.setUint32(4*m,u[m],i)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const s=t.slice(0,r);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:s,length:a,finished:i,destroyed:o,pos:l}=this;return t.length=a,t.pos=l,t.finished=i,t.destroyed=o,a%r&&t.buffer.set(s),t}}const Yk=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ir=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_r=new Uint32Array(64);class Qk extends Kk{constructor(){super(64,32,8,!1),this.A=Ir[0]|0,this.B=Ir[1]|0,this.C=Ir[2]|0,this.D=Ir[3]|0,this.E=Ir[4]|0,this.F=Ir[5]|0,this.G=Ir[6]|0,this.H=Ir[7]|0}get(){const{A:t,B:r,C:s,D:a,E:i,F:o,G:l,H:c}=this;return[t,r,s,a,i,o,l,c]}set(t,r,s,a,i,o,l,c){this.A=t|0,this.B=r|0,this.C=s|0,this.D=a|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=c|0}process(t,r){for(let m=0;m<16;m++,r+=4)_r[m]=t.getUint32(r,!1);for(let m=16;m<64;m++){const h=_r[m-15],p=_r[m-2],f=zn(h,7)^zn(h,18)^h>>>3,v=zn(p,17)^zn(p,19)^p>>>10;_r[m]=v+_r[m-7]+f+_r[m-16]|0}let{A:s,B:a,C:i,D:o,E:l,F:c,G:d,H:u}=this;for(let m=0;m<64;m++){const h=zn(l,6)^zn(l,11)^zn(l,25),p=u+h+Gk(l,c,d)+Yk[m]+_r[m]|0,v=(zn(s,2)^zn(s,13)^zn(s,22))+qk(s,a,i)|0;u=d,d=c,c=l,l=o+p|0,o=i,i=a,a=s,s=p+v|0}s=s+this.A|0,a=a+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,c=c+this.F|0,d=d+this.G|0,u=u+this.H|0,this.set(s,a,i,o,l,c,d,u)}roundClean(){_r.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Xk=Sw(()=>new Qk);function Zk(e,t){return Xk(fs(e,{strict:!1})?of(e):e)}function Jk(e){const{commitment:t,version:r=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),a=Zk(t);return a.set([r],0),s==="bytes"?a:Bt(a)}function Xw(e){const{commitments:t,version:r}=e,s=e.to??(typeof t[0]=="string"?"hex":"bytes"),a=[];for(const i of t)a.push(Jk({commitment:i,to:s,version:r}));return a}const fy=6,Zw=32,Nf=4096,Jw=Zw*Nf,gy=Jw*fy-1-1*Nf*fy,ej=1;class eT extends fe{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class tj extends fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class tT extends fe{constructor({hash:t,size:r}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class nT extends fe{constructor({hash:t,version:r}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${ej}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function rT(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),r=typeof e.data=="string"?nr(e.data):e.data,s=gt(r);if(!s)throw new tj;if(s>gy)throw new eT({maxSize:gy,size:s});const a=[];let i=!0,o=0;for(;i;){const l=hf(new Uint8Array(Jw));let c=0;for(;c<Nf;){const d=r.slice(o,o+(Zw-1));if(l.pushByte(0),l.pushBytes(d),d.length<31){l.pushByte(128),i=!1;break}c++,o+=31}a.push(l)}return t==="bytes"?a.map(l=>l.bytes):a.map(l=>Bt(l.bytes))}function nj(e){const{data:t,kzg:r,to:s}=e,a=e.blobs??rT({data:t,to:s}),i=e.commitments??wf({blobs:a,kzg:r,to:s}),o=e.proofs??jf({blobs:a,commitments:i,kzg:r,to:s}),l=[];for(let c=0;c<a.length;c++)l.push({blob:a[c],commitment:i[c],proof:o[c]});return l}function rj(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new vk({transaction:e})}const sj=["blobVersionedHashes","chainId","fees","gas","nonce","type"],xy=new Map;async function aj(e,t){const{account:r=e.account,blobs:s,chain:a,gas:i,kzg:o,nonce:l,nonceManager:c,parameters:d=sj,type:u}=t,m=r&&Ar(r),h={...t,...m?{from:m==null?void 0:m.address}:{}};let p;async function f(){return p||(p=await dt(e,tl,"getBlock")({blockTag:"latest"}),p)}let v;async function y(){return v||(a?a.id:typeof t.chainId<"u"?t.chainId:(v=await dt(e,Hw,"getChainId")({}),v))}if(d.includes("nonce")&&typeof l>"u"&&m)if(c){const g=await y();h.nonce=await c.consume({address:m.address,chainId:g,client:e})}else h.nonce=await dt(e,Wk,"getTransactionCount")({address:m.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&s&&o){const g=wf({blobs:s,kzg:o});if(d.includes("blobVersionedHashes")){const x=Xw({commitments:g,to:"hex"});h.blobVersionedHashes=x}if(d.includes("sidecars")){const x=jf({blobs:s,commitments:g,kzg:o}),b=nj({blobs:s,commitments:g,proofs:x,to:"hex"});h.sidecars=b}}if(d.includes("chainId")&&(h.chainId=await y()),(d.includes("fees")||d.includes("type"))&&typeof u>"u")try{h.type=rj(h)}catch{let g=xy.get(e.uid);if(typeof g>"u"){const x=await f();g=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",xy.set(e.uid,g)}h.type=g?"eip1559":"legacy"}if(d.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const g=await f(),{maxFeePerGas:x,maxPriorityFeePerGas:b}=await my(e,{block:g,chain:a,request:h});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<b)throw new Mk({maxPriorityFeePerGas:b});h.maxPriorityFeePerGas=b,h.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new vf;if(typeof t.gasPrice>"u"){const g=await f(),{gasPrice:x}=await my(e,{block:g,chain:a,request:h,type:"legacy"});h.gasPrice=x}}return d.includes("gas")&&typeof i>"u"&&(h.gas=await dt(e,Vk,"estimateGas")({...h,account:m&&{address:m.address,type:"json-rpc"}})),hu(h),delete h.parameters,h}async function sT(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const y0=new iu(128);async function aT(e,t){var g,x,b,N;const{account:r=e.account,chain:s=e.chain,accessList:a,authorizationList:i,blobs:o,data:l,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:p,value:f,...v}=t;if(typeof r>"u")throw new Fw({docsPath:"/docs/actions/wallet/sendTransaction"});const y=r?Ar(r):null;try{hu(t);const j=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await $w({authorization:i[0]}).catch(()=>{throw new fe("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let k;s!==null&&(k=await dt(e,Hw,"getChainId")({}),gk({currentChainId:k,chain:s}));const T=(b=(x=(g=e.chain)==null?void 0:g.formatters)==null?void 0:x.transactionRequest)==null?void 0:b.format,I=(T||bf)({...xf(v,{format:T}),accessList:a,authorizationList:i,blobs:o,chainId:k,data:l,from:y==null?void 0:y.address,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:p,to:j,value:f}),B=y0.get(e.uid),U=B?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:U,params:[I]},{retryCount:0})}catch(q){if(B===!1)throw q;const K=q;if(K.name==="InvalidInputRpcError"||K.name==="InvalidParamsRpcError"||K.name==="MethodNotFoundRpcError"||K.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(ne=>(y0.set(e.uid,!0),ne)).catch(ne=>{const J=ne;throw J.name==="MethodNotFoundRpcError"||J.name==="MethodNotSupportedRpcError"?(y0.set(e.uid,!1),K):J});throw K}}if((y==null?void 0:y.type)==="local"){const k=await dt(e,aj,"prepareTransactionRequest")({account:y,accessList:a,authorizationList:i,blobs:o,chain:s,data:l,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:p,nonceManager:y.nonceManager,parameters:[...sj,"sidecars"],value:f,...v,to:j}),T=(N=s==null?void 0:s.serializers)==null?void 0:N.transaction,P=await y.signTransaction(k,{serializer:T});return await dt(e,sT,"sendRawTransaction")({serializedTransaction:P})}throw(y==null?void 0:y.type)==="smart"?new x0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new x0({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(j){throw j instanceof x0?j:Tk(j,{...t,account:y,chain:t.chain||void 0})}}const yh=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}];function iT(e,t={}){typeof t.size<"u"&&Dn(e,{size:t.size});const r=Bt(e,t);return Mn(r,t)}function oT(e,t={}){let r=e;if(typeof t.size<"u"&&(Dn(r,{size:t.size}),r=gs(r)),r.length>1||r[0]>1)throw new Q6(r);return!!r[0]}function hr(e,t={}){typeof t.size<"u"&&Dn(e,{size:t.size});const r=Bt(e,t);return Sr(r,t)}function lT(e,t={}){let r=e;return typeof t.size<"u"&&(Dn(r,{size:t.size}),r=gs(r,{dir:"right"})),new TextDecoder().decode(r)}function ij(e,t){const r=typeof t=="string"?nr(t):t,s=hf(r);if(gt(r)===0&&e.length>0)throw new au;if(gt(t)&&gt(t)<32)throw new oC({data:typeof t=="string"?t:Bt(t),params:e,size:gt(t)});let a=0;const i=[];for(let o=0;o<e.length;++o){const l=e[o];s.setPosition(a);const[c,d]=Va(s,l,{staticPosition:0});a+=d,i.push(c)}return i}function Va(e,t,{staticPosition:r}){const s=mf(t.type);if(s){const[a,i]=s;return dT(e,{...t,type:i},{length:a,staticPosition:r})}if(t.type==="tuple")return pT(e,t,{staticPosition:r});if(t.type==="address")return cT(e);if(t.type==="bool")return uT(e);if(t.type.startsWith("bytes"))return mT(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return hT(e,t);if(t.type==="string")return fT(e,{staticPosition:r});throw new pC(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const yy=32,bh=32;function cT(e){const t=e.readBytes(32);return[cu(Bt(Lw(t,-20))),32]}function dT(e,t,{length:r,staticPosition:s}){if(!r){const o=hr(e.readBytes(bh)),l=s+o,c=l+yy;e.setPosition(l);const d=hr(e.readBytes(yy)),u=nl(t);let m=0;const h=[];for(let p=0;p<d;++p){e.setPosition(c+(u?p*32:m));const[f,v]=Va(e,t,{staticPosition:c});m+=v,h.push(f)}return e.setPosition(s+32),[h,32]}if(nl(t)){const o=hr(e.readBytes(bh)),l=s+o,c=[];for(let d=0;d<r;++d){e.setPosition(l+d*32);const[u]=Va(e,t,{staticPosition:l});c.push(u)}return e.setPosition(s+32),[c,32]}let a=0;const i=[];for(let o=0;o<r;++o){const[l,c]=Va(e,t,{staticPosition:s+a});a+=c,i.push(l)}return[i,a]}function uT(e){return[oT(e.readBytes(32),{size:32}),32]}function mT(e,t,{staticPosition:r}){const[s,a]=t.type.split("bytes");if(!a){const o=hr(e.readBytes(32));e.setPosition(r+o);const l=hr(e.readBytes(32));if(l===0)return e.setPosition(r+32),["0x",32];const c=e.readBytes(l);return e.setPosition(r+32),[Bt(c),32]}return[Bt(e.readBytes(Number.parseInt(a),32)),32]}function hT(e,t){const r=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256"),a=e.readBytes(32);return[s>48?iT(a,{signed:r}):hr(a,{signed:r}),32]}function pT(e,t,{staticPosition:r}){const s=t.components.length===0||t.components.some(({name:o})=>!o),a=s?[]:{};let i=0;if(nl(t)){const o=hr(e.readBytes(bh)),l=r+o;for(let c=0;c<t.components.length;++c){const d=t.components[c];e.setPosition(l+i);const[u,m]=Va(e,d,{staticPosition:l});i+=m,a[s?c:d==null?void 0:d.name]=u}return e.setPosition(r+32),[a,32]}for(let o=0;o<t.components.length;++o){const l=t.components[o],[c,d]=Va(e,l,{staticPosition:r});a[s?o:l==null?void 0:l.name]=c,i+=d}return[a,i]}function fT(e,{staticPosition:t}){const r=hr(e.readBytes(32)),s=t+r;e.setPosition(s);const a=hr(e.readBytes(32));if(a===0)return e.setPosition(t+32),["",32];const i=e.readBytes(a,32),o=lT(gs(i));return e.setPosition(t+32),[o,32]}function nl(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(nl);const r=mf(e.type);return!!(r&&nl({...e,type:r[1]}))}const gT=e=>lu(of(e));function xT(e){return gT(e)}const yT="1.0.8";let Nn=class vh extends Error{constructor(t,r={}){var o;const s=r.cause instanceof vh?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,a=r.cause instanceof vh&&r.cause.docsPath||r.docsPath,i=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...a?[`Docs: https://abitype.dev${a}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${yT}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=s,this.docsPath=a,this.metaMessages=r.metaMessages,this.shortMessage=t}};function Mr(e,t){const r=e.exec(t);return r==null?void 0:r.groups}const oj=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,lj=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,cj=/^\(.+?\).*?$/,by=/^tuple(?<array>(\[(\d*)\])*)$/;function wh(e){let t=e.type;if(by.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let a=0;a<r;a++){const i=e.components[a];t+=wh(i),a<r-1&&(t+=", ")}const s=Mr(by,e.type);return t+=`)${(s==null?void 0:s.array)??""}`,wh({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Gi(e){let t="";const r=e.length;for(let s=0;s<r;s++){const a=e[s];t+=wh(a),s!==r-1&&(t+=", ")}return t}function bT(e){var t;return e.type==="function"?`function ${e.name}(${Gi(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Gi(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Gi(e.inputs)})`:e.type==="error"?`error ${e.name}(${Gi(e.inputs)})`:e.type==="constructor"?`constructor(${Gi(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const dj=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function vT(e){return dj.test(e)}function wT(e){return Mr(dj,e)}const uj=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function jT(e){return uj.test(e)}function NT(e){return Mr(uj,e)}const mj=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ST(e){return mj.test(e)}function CT(e){return Mr(mj,e)}const hj=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function pj(e){return hj.test(e)}function kT(e){return Mr(hj,e)}const fj=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function TT(e){return fj.test(e)}function ET(e){return Mr(fj,e)}const gj=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function PT(e){return gj.test(e)}function AT(e){return Mr(gj,e)}const MT=/^receive\(\) external payable$/;function RT(e){return MT.test(e)}const LT=new Set(["indexed"]),jh=new Set(["calldata","memory","storage"]);class IT extends Nn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class _T extends Nn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class FT extends Nn{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class OT extends Nn{constructor({param:t,name:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class DT extends Nn{constructor({param:t,type:r,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class $T extends Nn{constructor({param:t,type:r,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class BT extends Nn{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ei extends Nn{constructor({signature:t,type:r}){super(`Invalid ${r} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class zT extends Nn{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class UT extends Nn{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class VT extends Nn{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class WT extends Nn{constructor({current:t,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function HT(e,t,r){let s="";if(r)for(const a of Object.entries(r)){if(!a)continue;let i="";for(const o of a[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;s+=`(${a[0]}{${i}})`}return t?`${t}:${e}${s}`:e}const b0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function GT(e,t={}){if(ST(e))return qT(e,t);if(jT(e))return KT(e,t);if(vT(e))return YT(e,t);if(TT(e))return QT(e,t);if(PT(e))return XT(e);if(RT(e))return{type:"receive",stateMutability:"payable"};throw new zT({signature:e})}function qT(e,t={}){const r=CT(e);if(!r)throw new Ei({signature:e,type:"function"});const s=Rn(r.parameters),a=[],i=s.length;for(let l=0;l<i;l++)a.push(oa(s[l],{modifiers:jh,structs:t,type:"function"}));const o=[];if(r.returns){const l=Rn(r.returns),c=l.length;for(let d=0;d<c;d++)o.push(oa(l[d],{modifiers:jh,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:a,outputs:o}}function KT(e,t={}){const r=NT(e);if(!r)throw new Ei({signature:e,type:"event"});const s=Rn(r.parameters),a=[],i=s.length;for(let o=0;o<i;o++)a.push(oa(s[o],{modifiers:LT,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:a}}function YT(e,t={}){const r=wT(e);if(!r)throw new Ei({signature:e,type:"error"});const s=Rn(r.parameters),a=[],i=s.length;for(let o=0;o<i;o++)a.push(oa(s[o],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:a}}function QT(e,t={}){const r=ET(e);if(!r)throw new Ei({signature:e,type:"constructor"});const s=Rn(r.parameters),a=[],i=s.length;for(let o=0;o<i;o++)a.push(oa(s[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:a}}function XT(e){const t=AT(e);if(!t)throw new Ei({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const ZT=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,JT=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,eE=/^u?int$/;function oa(e,t){var m,h;const r=HT(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(b0.has(r))return b0.get(r);const s=cj.test(e),a=Mr(s?JT:ZT,e);if(!a)throw new FT({param:e});if(a.name&&nE(a.name))throw new OT({param:e,name:a.name});const i=a.name?{name:a.name}:{},o=a.modifier==="indexed"?{indexed:!0}:{},l=(t==null?void 0:t.structs)??{};let c,d={};if(s){c="tuple";const p=Rn(a.type),f=[],v=p.length;for(let y=0;y<v;y++)f.push(oa(p[y],{structs:l}));d={components:f}}else if(a.type in l)c="tuple",d={components:l[a.type]};else if(eE.test(a.type))c=`${a.type}256`;else if(c=a.type,(t==null?void 0:t.type)!=="struct"&&!xj(c))throw new _T({type:c});if(a.modifier){if(!((h=(m=t==null?void 0:t.modifiers)==null?void 0:m.has)!=null&&h.call(m,a.modifier)))throw new DT({param:e,type:t==null?void 0:t.type,modifier:a.modifier});if(jh.has(a.modifier)&&!rE(c,!!a.array))throw new $T({param:e,type:t==null?void 0:t.type,modifier:a.modifier})}const u={type:`${c}${a.array??""}`,...i,...o,...d};return b0.set(r,u),u}function Rn(e,t=[],r="",s=0){const a=e.trim().length;for(let i=0;i<a;i++){const o=e[i],l=e.slice(i+1);switch(o){case",":return s===0?Rn(l,[...t,r.trim()]):Rn(l,t,`${r}${o}`,s);case"(":return Rn(l,t,`${r}${o}`,s+1);case")":return Rn(l,t,`${r}${o}`,s-1);default:return Rn(l,t,`${r}${o}`,s)}}if(r==="")return t;if(s!==0)throw new WT({current:r,depth:s});return t.push(r.trim()),t}function xj(e){return e==="address"||e==="bool"||e==="function"||e==="string"||oj.test(e)||lj.test(e)}const tE=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function nE(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||oj.test(e)||lj.test(e)||tE.test(e)}function rE(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function sE(e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];if(!pj(l))continue;const c=kT(l);if(!c)throw new Ei({signature:l,type:"struct"});const d=c.properties.split(";"),u=[],m=d.length;for(let h=0;h<m;h++){const f=d[h].trim();if(!f)continue;const v=oa(f,{type:"struct"});u.push(v)}if(!u.length)throw new UT({signature:l});t[c.name]=u}const s={},a=Object.entries(t),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];s[l]=yj(c,t)}return s}const aE=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function yj(e,t,r=new Set){const s=[],a=e.length;for(let i=0;i<a;i++){const o=e[i];if(cj.test(o.type))s.push(o);else{const c=Mr(aE,o.type);if(!(c!=null&&c.type))throw new BT({abiParameter:o});const{array:d,type:u}=c;if(u in t){if(r.has(u))throw new VT({type:u});s.push({...o,type:`tuple${d??""}`,components:yj(t[u]??[],t,new Set([...r,u]))})}else if(xj(u))s.push(o);else throw new IT({type:u})}}return s}function bj(e){const t=sE(e),r=[],s=e.length;for(let a=0;a<s;a++){const i=e[a];pj(i)||r.push(GT(i,t))}return r}function iE(e){let t=!0,r="",s=0,a="",i=!1;for(let o=0;o<e.length;o++){const l=e[o];if(["(",")",","].includes(l)&&(t=!0),l==="("&&s++,l===")"&&s--,!!t){if(s===0){if(l===" "&&["event","function",""].includes(a))a="";else if(a+=l,l===")"){i=!0;break}continue}if(l===" "){e[o-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}a+=l,r+=l}}if(!i)throw new fe("Unable to normalize signature.");return a}const oE=e=>{const t=typeof e=="string"?e:bT(e);return iE(t)};function vj(e){return xT(oE(e))}const lE=vj,Sf=e=>zo(vj(e),0,4);function Cf(e){const{abi:t,args:r=[],name:s}=e,a=fs(s,{strict:!1}),i=t.filter(l=>a?l.type==="function"?Sf(l)===s:l.type==="event"?lE(l)===s:!1:"name"in l&&l.name===s);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const l of i){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return l;continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,u)=>{const m="inputs"in l&&l.inputs[u];return m?Nh(d,m):!1})){if(o&&"inputs"in o&&o.inputs){const d=wj(l.inputs,o.inputs,r);if(d)throw new mC({abiItem:l,type:d[0]},{abiItem:o,type:d[1]})}o=l}}return o||i[0]}function Nh(e,t){const r=typeof e,s=t.type;switch(s){case"address":return Be(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((a,i)=>Nh(Object.values(e)[i],a)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(a=>Nh(a,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function wj(e,t,r){for(const s in e){const a=e[s],i=t[s];if(a.type==="tuple"&&i.type==="tuple"&&"components"in a&&"components"in i)return wj(a.components,i.components,r[s]);const o=[a.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Be(r[s],{strict:!1}):o.includes("address")&&o.includes("bytes")?Be(r[s],{strict:!1}):!1)return o}}const v0="/docs/contract/decodeFunctionResult";function kf(e){const{abi:t,args:r,functionName:s,data:a}=e;let i=t[0];if(s){const l=Cf({abi:t,args:r,name:s});if(!l)throw new fd(s,{docsPath:v0});i=l}if(i.type!=="function")throw new fd(void 0,{docsPath:v0});if(!i.outputs)throw new uC(i.name,{docsPath:v0});const o=ij(i.outputs,a);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const vy="/docs/contract/encodeFunctionData";function cE(e){const{abi:t,args:r,functionName:s}=e;let a=t[0];if(s){const i=Cf({abi:t,args:r,name:s});if(!i)throw new fd(s,{docsPath:vy});a=i}if(a.type!=="function")throw new fd(void 0,{docsPath:vy});return{abi:[a],functionName:Sf(mi(a))}}function fu(e){const{args:t}=e,{abi:r,functionName:s}=(()=>{var l;return e.abi.length===1&&((l=e.functionName)!=null&&l.startsWith("0x"))?e:cE(e)})(),a=r[0],i=s,o="inputs"in a&&a.inputs?Iw(a.inputs,t??[]):void 0;return Pr([i,o??"0x"])}function jj({blockNumber:e,chain:t,contract:r}){var a;const s=(a=t==null?void 0:t.contracts)==null?void 0:a[r];if(!s)throw new ch({chain:t,contract:{name:r}});if(e&&s.blockCreated&&s.blockCreated>e)throw new ch({blockNumber:e,chain:t,contract:{name:r,blockCreated:s.blockCreated}});return s.address}const dE={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},uE={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},mE={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function hE(e){const{abi:t,data:r}=e,s=zo(r,0,4);if(s==="0x")throw new au;const i=[...t||[],uE,mE].find(o=>o.type==="error"&&s===Sf(mi(o)));if(!i)throw new ww(s,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?ij(i.inputs,zo(r,4)):void 0,errorName:i.name}}function Nj({abiItem:e,args:t,includeFunctionName:r=!0,includeName:s=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((a,i)=>`${s&&a.name?`${a.name}: `:""}${typeof t[i]=="object"?_n(t[i]):t[i]}`).join(", ")})`}class pE extends fe{constructor(t,{account:r,docsPath:s,chain:a,data:i,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:m,value:h,stateOverride:p}){var y;const f=r?Ar(r):void 0;let v=kl({from:f==null?void 0:f.address,to:m,value:typeof h<"u"&&`${Mt(h)} ${((y=a==null?void 0:a.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${Xt(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xt(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Xt(d)} gwei`,nonce:u});p&&(v+=`
${Bk(p)}`),super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Sj extends fe{constructor(t,{abi:r,args:s,contractAddress:a,docsPath:i,functionName:o,sender:l}){const c=Cf({abi:r,args:s,name:o}),d=c?Nj({abiItem:c,args:s,includeFunctionName:!1,includeName:!1}):void 0,u=c?mi(c,{includeName:!0}):void 0,m=kl({address:a&&Sk(a),function:u,args:d&&d!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:l});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],m&&"Contract Call:",m].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=s,this.cause=t,this.contractAddress=a,this.functionName=o,this.sender=l}}class fE extends fe{constructor({abi:t,data:r,functionName:s,message:a}){let i,o,l,c;if(r&&r!=="0x")try{o=hE({abi:t,data:r});const{abiItem:u,errorName:m,args:h}=o;if(m==="Error")c=h[0];else if(m==="Panic"){const[p]=h;c=dE[p]}else{const p=u?mi(u,{includeName:!0}):void 0,f=u&&h?Nj({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;l=[p?`Error: ${p}`:"",f&&f!=="()"?`       ${[...Array((m==null?void 0:m.length)??0).keys()].map(()=>" ").join("")}${f}`:""]}}catch(u){i=u}else a&&(c=a);let d;i instanceof ww&&(d=i.signature,l=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(c&&c!=="execution reverted"||d?[`The contract function "${s}" reverted with the following ${d?"signature":"reason"}:`,c||d].join(`
`):`The contract function "${s}" reverted.`,{cause:i,metaMessages:l,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=c,this.signature=d}}class gE extends fe{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class xE extends fe{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Tf extends fe{constructor({data:t,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const yE=3;function yd(e,{abi:t,address:r,args:s,docsPath:a,functionName:i,sender:o}){const l=e instanceof Tf?e:e instanceof fe?e.walk(f=>"data"in f)||e.walk():{},{code:c,data:d,details:u,message:m,shortMessage:h}=l,p=e instanceof au?new gE({functionName:i}):[yE,ia.code].includes(c)&&(d||u||m||h)?new fE({abi:t,data:typeof d=="object"?d.data:d,functionName:i,message:l instanceof ff?u:h??m}):e;return new Sj(p,{abi:t,args:s,contractAddress:r,docsPath:a,functionName:i,sender:o})}const bE="0x82ad56cb",vE="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",wE="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function jE(e,{docsPath:t,...r}){const s=(()=>{const a=gf(e,r);return a instanceof uu?e:a})();return new pE(s,{docsPath:t,...r})}function Cj(){let e=()=>{},t=()=>{};return{promise:new Promise((s,a)=>{e=s,t=a}),resolve:e,reject:t}}const w0=new Map;function kj({fn:e,id:t,shouldSplitBatch:r,wait:s=0,sort:a}){const i=async()=>{const u=c();o();const m=u.map(({args:h})=>h);m.length!==0&&e(m).then(h=>{a&&Array.isArray(h)&&h.sort(a);for(let p=0;p<u.length;p++){const{resolve:f}=u[p];f==null||f([h[p],h])}}).catch(h=>{for(let p=0;p<u.length;p++){const{reject:f}=u[p];f==null||f(h)}})},o=()=>w0.delete(t),l=()=>c().map(({args:u})=>u),c=()=>w0.get(t)||[],d=u=>w0.set(t,[...c(),u]);return{flush:o,async schedule(u){const{promise:m,resolve:h,reject:p}=Cj();return(r==null?void 0:r([...l(),u]))&&i(),c().length>0?(d({args:u,resolve:h,reject:p}),m):(d({args:u,resolve:h,reject:p}),setTimeout(i,s),m)}}}async function Tj(e,t){var U,q,K,ne;const{account:r=e.account,batch:s=!!((U=e.batch)!=null&&U.multicall),blockNumber:a,blockTag:i="latest",accessList:o,blobs:l,code:c,data:d,factory:u,factoryData:m,gas:h,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:v,maxPriorityFeePerGas:y,nonce:g,to:x,value:b,stateOverride:N,...j}=t,k=r?Ar(r):void 0;if(c&&(u||m))throw new fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&x)throw new fe("Cannot provide both `code` & `to` as parameters.");const T=c&&d,P=u&&m&&x&&d,I=T||P,B=T?CE({code:c,data:d}):P?kE({data:d,factory:u,factoryData:m,to:x}):d;try{hu(t);const L=(a?Ae(a):void 0)||i,A=Qw(N),E=(ne=(K=(q=e.chain)==null?void 0:q.formatters)==null?void 0:K.transactionRequest)==null?void 0:ne.format,F=(E||bf)({...xf(j,{format:E}),from:k==null?void 0:k.address,accessList:o,blobs:l,data:B,gas:h,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:v,maxPriorityFeePerGas:y,nonce:g,to:I?void 0:x,value:b});if(s&&NE({request:F})&&!A)try{return await SE(e,{...F,blockNumber:a,blockTag:i})}catch(_){if(!(_ instanceof Bw)&&!(_ instanceof ch))throw _}const R=await e.request({method:"eth_call",params:A?[F,L,A]:[F,L]});return R==="0x"?{data:void 0}:{data:R}}catch(J){const L=TE(J),{offchainLookup:A,offchainLookupSignature:E}=await ki(async()=>{const{offchainLookup:O,offchainLookupSignature:F}=await import("./ccip-D2FyhWDL.js");return{offchainLookup:O,offchainLookupSignature:F}},[]);if(e.ccipRead!==!1&&(L==null?void 0:L.slice(0,10))===E&&x)return{data:await A(e,{data:L,to:x})};throw I&&(L==null?void 0:L.slice(0,10))==="0x101bb98d"?new xE({factory:u}):jE(J,{...t,account:k,chain:e.chain})}}function NE({request:e}){const{data:t,to:r,...s}=e;return!(!t||t.startsWith(bE)||!r||Object.values(s).filter(a=>typeof a<"u").length>0)}async function SE(e,t){var v;const{batchSize:r=1024,wait:s=0}=typeof((v=e.batch)==null?void 0:v.multicall)=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:i="latest",data:o,multicallAddress:l,to:c}=t;let d=l;if(!d){if(!e.chain)throw new Bw;d=jj({blockNumber:a,chain:e.chain,contract:"multicall3"})}const m=(a?Ae(a):void 0)||i,{schedule:h}=kj({id:`${e.uid}.${m}`,wait:s,shouldSplitBatch(y){return y.reduce((x,{data:b})=>x+(b.length-2),0)>r*2},fn:async y=>{const g=y.map(N=>({allowFailure:!0,callData:N.data,target:N.to})),x=fu({abi:yh,args:[g],functionName:"aggregate3"}),b=await e.request({method:"eth_call",params:[{data:x,to:d},m]});return kf({abi:yh,args:[g],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:p,success:f}]=await h({data:o,to:c});if(!f)throw new Tf({data:p});return p==="0x"?{data:void 0}:{data:p}}function CE(e){const{code:t,data:r}=e;return _w({abi:bj(["constructor(bytes, bytes)"]),bytecode:vE,args:[t,r]})}function kE(e){const{data:t,factory:r,factoryData:s,to:a}=e;return _w({abi:bj(["constructor(address, bytes, address, bytes)"]),bytecode:wE,args:[a,t,r,s]})}function TE(e){var r;if(!(e instanceof fe))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(r=t.data)==null?void 0:r.data:t.data}async function Ej(e,t){const{abi:r,address:s,args:a,functionName:i,...o}=t,l=fu({abi:r,args:a,functionName:i});try{const{data:c}=await dt(e,Tj,"call")({...o,data:l,to:s});return kf({abi:r,args:a,functionName:i,data:c||"0x"})}catch(c){throw yd(c,{abi:r,address:s,args:a,docsPath:"/docs/contract/readContract",functionName:i})}}const EE=new Map,PE=new Map;function AE(e){const t=(a,i)=>({clear:()=>i.delete(a),get:()=>i.get(a),set:o=>i.set(a,o)}),r=t(e,EE),s=t(e,PE);return{clear:()=>{r.clear(),s.clear()},promise:r,response:s}}async function ME(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){const s=AE(t),a=s.response.get();if(a&&r>0&&new Date().getTime()-a.created.getTime()<r)return a.data;let i=s.promise.get();i||(i=e(),s.promise.set(i));try{const o=await i;return s.response.set({created:new Date,data:o}),o}finally{s.promise.clear()}}const RE=e=>`blockNumber.${e}`;async function LE(e,{cacheTime:t=e.cacheTime}={}){const r=await ME(()=>e.request({method:"eth_blockNumber"}),{cacheKey:RE(e.uid),cacheTime:t});return BigInt(r)}function IE(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function Pj(e,{blockHash:t,blockNumber:r,blockTag:s,hash:a,index:i}){var u,m,h;const o=s||"latest",l=r!==void 0?Ae(r):void 0;let c=null;if(a?c=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,Ae(i)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||o,Ae(i)]},{dedupe:!!l}),!c)throw new Vw({blockHash:t,blockNumber:r,blockTag:o,hash:a,index:i});return(((h=(m=(u=e.chain)==null?void 0:u.formatters)==null?void 0:m.transaction)==null?void 0:h.format)||pu)(c)}const _E={"0x0":"reverted","0x1":"success"};function Aj(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>IE(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Sr(e.transactionIndex):null,status:e.status?_E[e.status]:null,type:e.type?qw[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const FE=yf("transactionReceipt",Aj);async function wy(e,{hash:t}){var a,i,o;const r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new Ww({hash:t});return(((o=(i=(a=e.chain)==null?void 0:a.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||Aj)(r)}async function OE(e,t){var y;const{allowFailure:r=!0,batchSize:s,blockNumber:a,blockTag:i,multicallAddress:o,stateOverride:l}=t,c=t.contracts,d=s??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let u=o;if(!u){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");u=jj({blockNumber:a,chain:e.chain,contract:"multicall3"})}const m=[[]];let h=0,p=0;for(let g=0;g<c.length;g++){const{abi:x,address:b,args:N,functionName:j}=c[g];try{const k=fu({abi:x,args:N,functionName:j});p+=(k.length-2)/2,d>0&&p>d&&m[h].length>0&&(h++,p=(k.length-2)/2,m[h]=[]),m[h]=[...m[h],{allowFailure:!0,callData:k,target:b}]}catch(k){const T=yd(k,{abi:x,address:b,args:N,docsPath:"/docs/contract/multicall",functionName:j});if(!r)throw T;m[h]=[...m[h],{allowFailure:!0,callData:"0x",target:b}]}}const f=await Promise.allSettled(m.map(g=>dt(e,Ej,"readContract")({abi:yh,address:u,args:[g],blockNumber:a,blockTag:i,functionName:"aggregate3",stateOverride:l}))),v=[];for(let g=0;g<f.length;g++){const x=f[g];if(x.status==="rejected"){if(!r)throw x.reason;for(let N=0;N<m[g].length;N++)v.push({status:"failure",error:x.reason,result:void 0});continue}const b=x.value;for(let N=0;N<b.length;N++){const{returnData:j,success:k}=b[N],{callData:T}=m[g][N],{abi:P,address:I,functionName:B,args:U}=c[v.length];try{if(T==="0x")throw new au;if(!k)throw new Tf({data:j});const q=kf({abi:P,args:U,data:j,functionName:B});v.push(r?{result:q,status:"success"}:q)}catch(q){const K=yd(q,{abi:P,address:I,args:U,docsPath:"/docs/contract/multicall",functionName:B});if(!r)throw K;v.push({error:K,result:void 0,status:"failure"})}}}if(v.length!==c.length)throw new fe("multicall results mismatch");return v}const rc=new iu(8192);function DE(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(rc.get(r))return rc.get(r);const s=e().finally(()=>rc.delete(r));return rc.set(r,s),s}async function Sh(e){return new Promise(t=>setTimeout(t,e))}function fi(e,{delay:t=100,retryCount:r=2,shouldRetry:s=()=>!0}={}){return new Promise((a,i)=>{const o=async({count:l=0}={})=>{const c=async({error:d})=>{const u=typeof t=="function"?t({count:l,error:d}):t;u&&await Sh(u),o({count:l+1})};try{const d=await e();a(d)}catch(d){if(l<r&&await s({count:l,error:d}))return c({error:d});i(d)}};o()})}function $E(e,t={}){return async(r,s={})=>{var m;const{dedupe:a=!1,methods:i,retryDelay:o=150,retryCount:l=3,uid:c}={...t,...s},{method:d}=r;if((m=i==null?void 0:i.exclude)!=null&&m.includes(d))throw new $s(new Error("method not supported"),{method:d});if(i!=null&&i.include&&!i.include.includes(d))throw new $s(new Error("method not supported"),{method:d});const u=a?lf(`${c}.${_n(r)}`):void 0;return DE(()=>fi(async()=>{try{return await e(r)}catch(h){const p=h;switch(p.code){case Vo.code:throw new Vo(p);case Wo.code:throw new Wo(p);case Ho.code:throw new Ho(p,{method:r.method});case Go.code:throw new Go(p);case ia.code:throw new ia(p);case qo.code:throw new qo(p);case Ko.code:throw new Ko(p);case Zn.code:throw new Zn(p);case Yo.code:throw new Yo(p);case $s.code:throw new $s(p,{method:r.method});case pi.code:throw new pi(p);case Qo.code:throw new Qo(p);case De.code:throw new De(p);case Xo.code:throw new Xo(p);case Zo.code:throw new Zo(p);case Jo.code:throw new Jo(p);case el.code:throw new el(p);case $t.code:throw new $t(p);case 5e3:throw new De(p);default:throw h instanceof fe?h:new kk(p)}}},{delay:({count:h,error:p})=>{var f;if(p&&p instanceof yo){const v=(f=p==null?void 0:p.headers)==null?void 0:f.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<h)*o},retryCount:l,shouldRetry:({error:h})=>BE(h)}),{enabled:a,id:u})}}function BE(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===pi.code||e.code===ia.code:e instanceof yo&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ua(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Ef(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:s}){return new Promise((a,i)=>{(async()=>{let o;try{const l=new AbortController;r>0&&(o=setTimeout(()=>{s?l.abort():i(t)},r)),a(await e({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&i(t),i(l)}finally{clearTimeout(o)}})()})}function zE(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const jy=zE();function UE(e,t={}){return{async request(r){var m;const{body:s,onRequest:a=t.onRequest,onResponse:i=t.onResponse,timeout:o=t.timeout??1e4}=r,l={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:d,signal:u}=l;try{const h=await Ef(async({signal:f})=>{const v={...l,body:Array.isArray(s)?_n(s.map(b=>({jsonrpc:"2.0",id:b.id??jy.take(),...b}))):_n({jsonrpc:"2.0",id:s.id??jy.take(),...s}),headers:{"Content-Type":"application/json",...c},method:d||"POST",signal:u||(o>0?f:null)},y=new Request(e,v),g=await(a==null?void 0:a(y,v))??{...v,url:e};return await fetch(g.url??e,g)},{errorInstance:new uy({body:s,url:e}),timeout:o,signal:!0});i&&await i(h);let p;if((m=h.headers.get("Content-Type"))!=null&&m.startsWith("application/json"))p=await h.json();else{p=await h.text();try{p=JSON.parse(p||"{}")}catch(f){if(h.ok)throw f;p={error:p}}}if(!h.ok)throw new yo({body:s,details:_n(p.error)||h.statusText,headers:h.headers,status:h.status,url:e});return p}catch(h){throw h instanceof yo||h instanceof uy?h:new yo({body:s,cause:h,url:e})}}}}function VE(e){const{authorizationList:t}=e;if(t)for(const r of t){const{chainId:s}=r,a=r.address;if(!Be(a))throw new jn({address:a});if(s<0)throw new du({chainId:s})}Pf(e)}function WE(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new tj;for(const r of t){const s=gt(r),a=Sr(zo(r,0,1));if(s!==32)throw new tT({hash:r,size:s});if(a!==ej)throw new nT({hash:r,version:a})}}Pf(e)}function Pf(e){const{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new du({chainId:t});if(a&&!Be(a))throw new jn({address:a});if(s&&s>mu)throw new aa({maxFeePerGas:s});if(r&&s&&r>s)throw new Uo({maxFeePerGas:s,maxPriorityFeePerGas:r})}function HE(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:a,to:i}=e;if(t<=0)throw new du({chainId:t});if(i&&!Be(i))throw new jn({address:i});if(r||a)throw new fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>mu)throw new aa({maxFeePerGas:s})}function GE(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:a,to:i}=e;if(i&&!Be(i))throw new jn({address:i});if(typeof t<"u"&&t<=0)throw new du({chainId:t});if(r||a)throw new fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>mu)throw new aa({maxFeePerGas:s})}function gu(e){if(!e||e.length===0)return[];const t=[];for(let r=0;r<e.length;r++){const{address:s,storageKeys:a}=e[r];for(let i=0;i<a.length;i++)if(a[i].length-2!==64)throw new wk({storageKey:a[i]});if(!Be(s,{strict:!1}))throw new jn({address:s});t.push([s,a])}return t}function qE(e,t){const r=rj(e);return r==="eip1559"?QE(e,t):r==="eip2930"?XE(e,t):r==="eip4844"?YE(e,t):r==="eip7702"?KE(e,t):ZE(e,t)}function KE(e,t){const{authorizationList:r,chainId:s,gas:a,nonce:i,to:o,value:l,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:u,data:m}=e;VE(e);const h=gu(u),p=JE(r);return Pr(["0x04",xs([Me(s),i?Me(i):"0x",d?Me(d):"0x",c?Me(c):"0x",a?Me(a):"0x",o??"0x",l?Me(l):"0x",m??"0x",h,p,...Tl(e,t)])])}function YE(e,t){const{chainId:r,gas:s,nonce:a,to:i,value:o,maxFeePerBlobGas:l,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:u,data:m}=e;WE(e);let h=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof p>"u")){const b=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(k=>Bt(k)),N=e.kzg,j=wf({blobs:b,kzg:N});if(typeof h>"u"&&(h=Xw({commitments:j})),typeof p>"u"){const k=jf({blobs:b,commitments:j,kzg:N});p=nj({blobs:b,commitments:j,proofs:k})}}const f=gu(u),v=[Me(r),a?Me(a):"0x",d?Me(d):"0x",c?Me(c):"0x",s?Me(s):"0x",i??"0x",o?Me(o):"0x",m??"0x",f,l?Me(l):"0x",h??[],...Tl(e,t)],y=[],g=[],x=[];if(p)for(let b=0;b<p.length;b++){const{blob:N,commitment:j,proof:k}=p[b];y.push(N),g.push(j),x.push(k)}return Pr(["0x03",xs(p?[v,y,g,x]:v)])}function QE(e,t){const{chainId:r,gas:s,nonce:a,to:i,value:o,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:d,data:u}=e;Pf(e);const m=gu(d),h=[Me(r),a?Me(a):"0x",c?Me(c):"0x",l?Me(l):"0x",s?Me(s):"0x",i??"0x",o?Me(o):"0x",u??"0x",m,...Tl(e,t)];return Pr(["0x02",xs(h)])}function XE(e,t){const{chainId:r,gas:s,data:a,nonce:i,to:o,value:l,accessList:c,gasPrice:d}=e;HE(e);const u=gu(c),m=[Me(r),i?Me(i):"0x",d?Me(d):"0x",s?Me(s):"0x",o??"0x",l?Me(l):"0x",a??"0x",u,...Tl(e,t)];return Pr(["0x01",xs(m)])}function ZE(e,t){const{chainId:r=0,gas:s,data:a,nonce:i,to:o,value:l,gasPrice:c}=e;GE(e);let d=[i?Me(i):"0x",c?Me(c):"0x",s?Me(s):"0x",o??"0x",l?Me(l):"0x",a??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+t.v-27n);const p=27n+(t.v===27n?0n:1n);if(t.v!==p)throw new bk({v:t.v});return p})(),m=gs(t.r),h=gs(t.s);d=[...d,Me(u),m==="0x00"?"0x":m,h==="0x00"?"0x":h]}else r>0&&(d=[...d,Me(r),"0x","0x"]);return xs(d)}function Tl(e,t){const r=t??e,{v:s,yParity:a}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof s>"u"&&typeof a>"u")return[];const i=gs(r.r),o=gs(r.s);return[typeof a=="number"?a?Me(1):"0x":s===0n?"0x":s===1n?Me(1):s===27n?"0x":Me(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function JE(e){if(!e||e.length===0)return[];const t=[];for(const r of e){const{chainId:s,nonce:a,...i}=r,o=r.address;t.push([s?Me(s):"0x",o,a?Me(a):"0x",...Tl({},i)])}return t}class e8 extends fe{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function t8(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new e8({value:e});let[r,s="0"]=e.split(".");const a=r.startsWith("-");if(a&&(r=r.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(r=`${BigInt(r)+1n}`),s="";else if(s.length>t){const[i,o,l]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],c=Math.round(+`${o}.${l}`);c>9?s=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):s=`${i}${c}`,s.length>t&&(s=s.slice(1),r=`${BigInt(r)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${a?"-":""}${r}${s}`)}function bd(e,t="wei"){return t8(e,zw[t])}const j0=new Map,Ny=new Map;let n8=0;function Ch(e,t,r){const s=++n8,a=()=>j0.get(e)||[],i=()=>{const u=a();j0.set(e,u.filter(m=>m.id!==s))},o=()=>{const u=a();if(!u.some(h=>h.id===s))return;const m=Ny.get(e);u.length===1&&m&&m(),i()},l=a();if(j0.set(e,[...l,{id:s,fns:t}]),l&&l.length>0)return o;const c={};for(const u in t)c[u]=(...m)=>{var p,f;const h=a();if(h.length!==0)for(const v of h)(f=(p=v.fns)[u])==null||f.call(p,...m)};const d=r(c);return typeof d=="function"&&Ny.set(e,d),o}function r8(e,{emitOnBegin:t,initialWaitTime:r,interval:s}){let a=!0;const i=()=>a=!1;return(async()=>{let l;t&&(l=await e({unpoll:i}));const c=await(r==null?void 0:r(l))??s;await Sh(c);const d=async()=>{a&&(await e({unpoll:i}),await Sh(s),d())};d()})(),i}function s8(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:s,onError:a,poll:i,pollingInterval:o=e.pollingInterval}){const l=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return l?(()=>{const m=_n(["watchBlockNumber",e.uid,t,r,o]);return Ch(m,{onBlockNumber:s,onError:a},h=>r8(async()=>{var p;try{const f=await dt(e,LE,"getBlockNumber")({cacheTime:0});if(c){if(f===c)return;if(f-c>1&&r)for(let v=c+1n;v<f;v++)h.onBlockNumber(v,c),c=v}(!c||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){(p=h.onError)==null||p.call(h,f)}},{emitOnBegin:t,interval:o}))})():(()=>{const m=_n(["watchBlockNumber",e.uid,t,r]);return Ch(m,{onBlockNumber:s,onError:a},h=>{let p=!0,f=()=>p=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(x=>x.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:y}=await v.subscribe({params:["newHeads"],onData(g){var b;if(!p)return;const x=Mn((b=g.result)==null?void 0:b.number);h.onBlockNumber(x,c),c=x},onError(g){var x;(x=h.onError)==null||x.call(h,g)}});f=y,p||f()}catch(v){a==null||a(v)}})(),()=>f()})})()}async function a8(e,{confirmations:t=1,hash:r,onReplaced:s,pollingInterval:a=e.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:l=18e4}){const c=_n(["waitForTransactionReceipt",e.uid,r]);let d,u,m,h=!1;const{promise:p,resolve:f,reject:v}=Cj(),y=l?setTimeout(()=>v(new Nk({hash:r})),l):void 0,g=Ch(c,{onReplaced:s,resolve:f,reject:v},x=>{const b=dt(e,s8,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(N){const j=T=>{clearTimeout(y),b(),T(),g()};let k=N;if(!h)try{if(m){if(t>1&&(!m.blockNumber||k-m.blockNumber+1n<t))return;j(()=>x.resolve(m));return}if(d||(h=!0,await fi(async()=>{d=await dt(e,Pj,"getTransaction")({hash:r}),d.blockNumber&&(k=d.blockNumber)},{delay:o,retryCount:i}),h=!1),m=await dt(e,wy,"getTransactionReceipt")({hash:r}),t>1&&(!m.blockNumber||k-m.blockNumber+1n<t))return;j(()=>x.resolve(m))}catch(T){if(T instanceof Vw||T instanceof Ww){if(!d){h=!1;return}try{u=d,h=!0;const P=await fi(()=>dt(e,tl,"getBlock")({blockNumber:k,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:U})=>U instanceof Gw});h=!1;const I=P.transactions.find(({from:U,nonce:q})=>U===u.from&&q===u.nonce);if(!I||(m=await dt(e,wy,"getTransactionReceipt")({hash:I.hash}),t>1&&(!m.blockNumber||k-m.blockNumber+1n<t)))return;let B="replaced";I.to===u.to&&I.value===u.value&&I.input===u.input?B="repriced":I.from===I.to&&I.value===0n&&(B="cancelled"),j(()=>{var U;(U=x.onReplaced)==null||U.call(x,{reason:B,replacedTransaction:u,transaction:I,transactionReceipt:m}),x.resolve(m)})}catch(P){j(()=>x.reject(P))}}else j(()=>x.reject(T))}}})});return p}async function i8(e,t){const{abi:r,account:s=e.account,address:a,args:i,dataSuffix:o,functionName:l,...c}=t;if(typeof s>"u")throw new Fw({docsPath:"/docs/contract/writeContract"});const d=s?Ar(s):null,u=fu({abi:r,args:i,functionName:l});try{return await dt(e,aT,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:a,account:d,...c})}catch(m){throw yd(m,{abi:r,address:a,args:i,docsPath:"/docs/contract/writeContract",functionName:l,sender:d==null?void 0:d.address})}}function Wa(e,t,r){const s=e[t.name];if(typeof s=="function")return s;const a=e[r];return typeof a=="function"?a:i=>t(e,i)}const Lc="2.16.7",o8=()=>`@wagmi/core@${Lc}`;var Mj=function(e,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(e):s?s.value:t.get(e)},vd,Rj;let Rr=class kh extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return o8()}constructor(t,r={}){var i;super(),vd.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const s=r.cause instanceof kh?r.cause.details:(i=r.cause)!=null&&i.message?r.cause.message:r.details,a=r.cause instanceof kh&&r.cause.docsPath||r.docsPath;this.message=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...a?[`Docs: ${this.docsBaseUrl}${a}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...s?[`Details: ${s}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=s,this.docsPath=a,this.metaMessages=r.metaMessages,this.shortMessage=t}walk(t){return Mj(this,vd,"m",Rj).call(this,this,t)}};vd=new WeakSet,Rj=function e(t,r){return r!=null&&r(t)?t:t.cause?Mj(this,vd,"m",e).call(this,t.cause,r):t};class ys extends Rr{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class l8 extends Rr{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class c8 extends Rr{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class d8 extends Rr{constructor({address:t,connector:r}){super(`Account "${t}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class u8 extends Rr{constructor({connectionChainId:t,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class m8 extends Rr{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function h8(e,t){var s;let r;if(typeof t.connector=="function"?r=e._internal.connectors.setup(t.connector):r=t.connector,r.uid===e.state.current)throw new l8;try{e.setState(c=>({...c,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:a,...i}=t,o=await r.connect(i),l=o.accounts;return r.emitter.off("connect",e._internal.events.connect),r.emitter.on("change",e._internal.events.change),r.emitter.on("disconnect",e._internal.events.disconnect),await((s=e.storage)==null?void 0:s.setItem("recentConnectorId",r.id)),e.setState(c=>({...c,connections:new Map(c.connections).set(r.uid,{accounts:l,chainId:o.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:l,chainId:o.chainId}}catch(a){throw e.setState(i=>({...i,status:i.current?"connected":"disconnected"})),a}}const Th=256;let sc=Th,ac;function Lj(e=11){if(!ac||sc+e>Th*2){ac="",sc=0;for(let t=0;t<Th;t++)ac+=(256+Math.random()*256|0).toString(16).substring(1)}return ac.substring(sc,sc+++e)}function Ij(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:s,key:a="base",name:i="Base Client",pollingInterval:o=4e3,type:l="base"}=e,c=e.chain,d=e.account?Ar(e.account):void 0,{config:u,request:m,value:h}=e.transport({chain:c,pollingInterval:o}),p={...u,...h},f={account:d,batch:t,cacheTime:r,ccipRead:s,chain:c,key:a,name:i,pollingInterval:o,request:m,transport:p,type:l,uid:Lj()};function v(y){return g=>{const x=g(y);for(const N in f)delete x[N];const b={...y,...x};return Object.assign(b,{extend:v(b)})}}return Object.assign(f,{extend:v(f)})}function _j({key:e,methods:t,name:r,request:s,retryCount:a=3,retryDelay:i=150,timeout:o,type:l},c){const d=Lj();return{config:{key:e,methods:t,name:r,request:s,retryCount:a,retryDelay:i,timeout:o,type:l},request:$E(s,{methods:t,retryCount:a,retryDelay:i,uid:d}),value:c}}function p8(e,t={}){const{key:r="custom",methods:s,name:a="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>_j({key:r,methods:s,name:a,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}class f8 extends fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Fr(e,t={}){const{batch:r,fetchOptions:s,key:a="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:d,raw:u}=t;return({chain:m,retryCount:h,timeout:p})=>{const{batchSize:f=1e3,wait:v=0}=typeof r=="object"?r:{},y=t.retryCount??h,g=p??t.timeout??1e4,x=m==null?void 0:m.rpcUrls.default.http[0];if(!x)throw new f8;const b=UE(x,{fetchOptions:s,onRequest:l,onResponse:c,timeout:g});return _j({key:a,methods:i,name:o,async request({method:N,params:j}){const k={method:N,params:j},{schedule:T}=kj({id:x,wait:v,shouldSplitBatch(U){return U.length>f},fn:U=>b.request({body:U}),sort:(U,q)=>U.id-q.id}),P=async U=>r?T(U):[await b.request({body:U})],[{error:I,result:B}]=await P(k);if(u)return{error:I,result:B};if(I)throw new ff({body:k,error:I,url:x});return B},retryCount:y,retryDelay:d,timeout:g,type:"http"},{fetchOptions:s,url:x})}}async function g8(e,t={}){let r;if(t.connector){const{connector:d}=t;if(e.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new m8({connector:d});const[u,m]=await Promise.all([d.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),d.getChainId()]);r={accounts:u,chainId:m,connector:d}}else r=e.state.connections.get(e.state.current);if(!r)throw new c8;const s=t.chainId??r.chainId,a=await r.connector.getChainId();if(a!==r.chainId)throw new u8({connectionChainId:r.chainId,connectorChainId:a});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const o=Ar(t.account??r.accounts[0]);if(o&&(o.address=jt(o.address)),t.account&&!r.accounts.some(d=>d.toLowerCase()===o.address.toLowerCase()))throw new d8({address:o.address,connector:i});const l=e.chains.find(d=>d.id===s),c=await r.connector.getProvider({chainId:s});return Ij({account:o,chain:l,name:"Connector Client",transport:d=>p8(c)({...d,retryCount:0})})}async function x8(e,t={}){var a,i;let r;if(t.connector)r=t.connector;else{const{connections:o,current:l}=e.state,c=o.get(l);r=c==null?void 0:c.connector}const s=e.state.connections;r&&(await r.disconnect(),r.emitter.off("change",e._internal.events.change),r.emitter.off("disconnect",e._internal.events.disconnect),r.emitter.on("connect",e._internal.events.connect),s.delete(r.uid)),e.setState(o=>{if(s.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const l=s.values().next().value;return{...o,connections:new Map(s),current:l.connector.uid}});{const o=e.state.current;if(!o)return;const l=(a=e.state.connections.get(o))==null?void 0:a.connector;if(!l)return;await((i=e.storage)==null?void 0:i.setItem("recentConnectorId",l.id))}}function Fj(e){const t=e.state.current,r=e.state.connections.get(t),s=r==null?void 0:r.accounts,a=s==null?void 0:s[0],i=e.chains.find(l=>l.id===(r==null?void 0:r.chainId)),o=e.state.status;switch(o){case"connected":return{address:a,addresses:s,chain:i,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:a,addresses:s,chain:i,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!a,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:a,addresses:s,chain:i,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function y8(e,t){const{allowFailure:r=!0,chainId:s,contracts:a,...i}=t,o=e.getClient({chainId:s});return Wa(o,OE,"multicall")({allowFailure:r,contracts:a,...i})}function Oj(e,t){const{chainId:r,...s}=t,a=e.getClient({chainId:r});return Wa(a,Ej,"readContract")(s)}async function b8(e,t){var l;const{allowFailure:r=!0,blockNumber:s,blockTag:a,...i}=t,o=t.contracts;try{const c={};for(const[h,p]of o.entries()){const f=p.chainId??e.state.chainId;c[f]||(c[f]=[]),(l=c[f])==null||l.push({contract:p,index:h})}const d=()=>Object.entries(c).map(([h,p])=>y8(e,{...i,allowFailure:r,blockNumber:s,blockTag:a,chainId:Number.parseInt(h),contracts:p.map(({contract:f})=>f)})),u=(await Promise.all(d())).flat(),m=Object.values(c).flatMap(h=>h.map(({index:p})=>p));return u.reduce((h,p,f)=>(h&&(h[m[f]]=p),h),[])}catch(c){if(c instanceof Sj)throw c;const d=()=>o.map(u=>Oj(e,{...u,blockNumber:s,blockTag:a}));return r?(await Promise.allSettled(d())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(d())}}function Sy(e){return e.state.chainId}function bs(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let r,s;if(Array.isArray(e)&&Array.isArray(t)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!bs(e[s],t[s]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const a=Object.keys(e);if(r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(i&&!bs(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}let N0=[];function Cy(e){const t=e.chains;return bs(N0,t)?N0:(N0=t,t)}let ic=[];function Eh(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||bs(ic,t)?ic:(ic=t,t)}let S0=[];function ky(e){const t=e.connectors;return bs(S0,t)?S0:(S0=t,t)}let C0=!1;async function v8(e,t={}){var d,u;if(C0)return[];C0=!0,e.setState(m=>({...m,status:m.current?"reconnecting":"connecting"}));const r=[];if((d=t.connectors)!=null&&d.length)for(const m of t.connectors){let h;typeof m=="function"?h=e._internal.connectors.setup(m):h=m,r.push(h)}else r.push(...e.connectors);let s;try{s=await((u=e.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const a={};for(const[,m]of e.state.connections)a[m.connector.id]=1;s&&(a[s]=0);const i=Object.keys(a).length>0?[...r].sort((m,h)=>(a[m.id]??10)-(a[h.id]??10)):r;let o=!1;const l=[],c=[];for(const m of i){const h=await m.getProvider().catch(()=>{});if(!h||c.some(v=>v===h)||!await m.isAuthorized())continue;const f=await m.connect({isReconnecting:!0}).catch(()=>null);f&&(m.emitter.off("connect",e._internal.events.connect),m.emitter.on("change",e._internal.events.change),m.emitter.on("disconnect",e._internal.events.disconnect),e.setState(v=>{const y=new Map(o?v.connections:new Map).set(m.uid,{accounts:f.accounts,chainId:f.chainId,connector:m});return{...v,current:o?v.current:m.uid,connections:y}}),l.push({accounts:f.accounts,chainId:f.chainId,connector:m}),c.push(h),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(m=>({...m,status:"connected"})):e.setState(m=>({...m,connections:new Map,current:null,status:"disconnected"}))),C0=!1,l}class lr extends Rr{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class w8 extends Rr{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function j8(e,t){var o;const{addEthereumChainParameter:r,chainId:s}=t,a=e.state.connections.get(((o=t.connector)==null?void 0:o.uid)??e.state.current);if(a){const l=a.connector;if(!l.switchChain)throw new w8({connector:l});return await l.switchChain({addEthereumChainParameter:r,chainId:s})}const i=e.chains.find(l=>l.id===s);if(!i)throw new ys;return e.setState(l=>({...l,chainId:s})),i}function N8(e,t){const{onChange:r}=t;return e.subscribe(()=>Fj(e),r,{equalityFn(s,a){const{connector:i,...o}=s,{connector:l,...c}=a;return bs(o,c)&&(i==null?void 0:i.id)===(l==null?void 0:l.id)&&(i==null?void 0:i.uid)===(l==null?void 0:l.uid)}})}function S8(e,t){const{onChange:r}=t;return e.subscribe(s=>s.chainId,r)}function C8(e,t){const{onChange:r}=t;return e.subscribe(()=>Eh(e),r,{equalityFn:bs})}function k8(e,t){const{onChange:r}=t;return e._internal.connectors.subscribe((s,a)=>{r(Object.values(s),a)})}async function T8(e,t){const{chainId:r,timeout:s=0,...a}=t,i=e.getClient({chainId:r}),l=await Wa(i,a8,"waitForTransactionReceipt")({...a,timeout:s});if(l.status==="reverted"){const d=await Wa(i,Pj,"getTransaction")({hash:l.transactionHash}),m=await Wa(i,Tj,"call")({...d,data:d.input,gasPrice:d.type!=="eip1559"?d.gasPrice:void 0,maxFeePerGas:d.type==="eip1559"?d.maxFeePerGas:void 0,maxPriorityFeePerGas:d.type==="eip1559"?d.maxPriorityFeePerGas:void 0}),h=m!=null&&m.data?nC(`0x${m.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...l,chainId:i.chain.id}}async function E8(e,t){const{account:r,chainId:s,connector:a,...i}=t;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=e.getClient({chainId:s}):o=await g8(e,{account:r??void 0,chainId:s,connector:a}),await Wa(o,i8,"writeContract")({...i,...r?{account:r}:{},chain:s?{id:s}:null})}xu.type="injected";function xu(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:r}=e;function s(){const c=e.target;if(typeof c=="function"){const d=c();if(d)return d}return typeof c=="object"?c:typeof c=="string"?{...P8[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(d){return d==null?void 0:d.ethereum}}}let a,i,o,l;return c=>({get icon(){return s().icon},get id(){return s().id},get name(){return s().name},get supportsSimulation(){return!0},type:xu.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&e.target&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),a||(a=this.onAccountsChanged.bind(this),d.on("accountsChanged",a)))},async connect({chainId:d,isReconnecting:u}={}){var p,f,v,y,g,x;const m=await this.getProvider();if(!m)throw new lr;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(y=(v=(f=(p=(await m.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:f[0])==null?void 0:v.value)==null?void 0:y.map(N=>jt(N)),h.length>0&&(h=await this.getAccounts())}catch(b){const N=b;if(N.code===De.code)throw new De(N);if(N.code===Zn.code)throw N}try{!(h!=null&&h.length)&&!u&&(h=(await m.request({method:"eth_requestAccounts"})).map(j=>jt(j))),o&&(m.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),m.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),m.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),m.on("disconnect",l));let b=await this.getChainId();if(d&&b!==d){const N=await this.switchChain({chainId:d}).catch(j=>{if(j.code===De.code)throw j;return{id:b}});b=(N==null?void 0:N.id)??b}return t&&await((g=c.storage)==null?void 0:g.removeItem(`${this.id}.disconnected`)),e.target||await((x=c.storage)==null?void 0:x.setItem("injected.connected",!0)),{accounts:h,chainId:b}}catch(b){const N=b;throw N.code===De.code?new De(N):N.code===Zn.code?new Zn(N):N}},async disconnect(){var u,m;const d=await this.getProvider();if(!d)throw new lr;i&&(d.removeListener("chainChanged",i),i=void 0),l&&(d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d.on("connect",o));try{await Ef(()=>d.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),e.target||await((m=c.storage)==null?void 0:m.removeItem("injected.connected"))},async getAccounts(){const d=await this.getProvider();if(!d)throw new lr;return(await d.request({method:"eth_accounts"})).map(m=>jt(m))},async getChainId(){const d=await this.getProvider();if(!d)throw new lr;const u=await d.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let d;const u=s();return typeof u.provider=="function"?d=u.provider(window):typeof u.provider=="string"?d=Ic(window,u.provider):d=u.provider,d&&!d.removeListener&&("off"in d&&typeof d.off=="function"?d.removeListener=d.off:d.removeListener=()=>{}),d},async isAuthorized(){var d,u;try{if(t&&await((d=c.storage)==null?void 0:d.getItem(`${this.id}.disconnected`))||!e.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const f=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",f),!!await this.getProvider()),v=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(g=>window.addEventListener("ethereum#initialized",()=>g(f()),{once:!0}))]:[],new Promise(g=>setTimeout(()=>g(f()),v))]))return!0}throw new lr}return!!(await fi(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:u}){var f,v,y,g;const m=await this.getProvider();if(!m)throw new lr;const h=c.chains.find(x=>x.id===u);if(!h)throw new $t(new ys);const p=new Promise(x=>{const b=N=>{"chainId"in N&&N.chainId===u&&(c.emitter.off("change",b),x())};c.emitter.on("change",b)});try{return await Promise.all([m.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),p]),h}catch(x){const b=x;if(b.code===4902||((v=(f=b==null?void 0:b.data)==null?void 0:f.originalError)==null?void 0:v.code)===4902)try{const{default:N,...j}=h.blockExplorers??{};let k;d!=null&&d.blockExplorerUrls?k=d.blockExplorerUrls:N&&(k=[N.url,...Object.values(j).map(I=>I.url)]);let T;(y=d==null?void 0:d.rpcUrls)!=null&&y.length?T=d.rpcUrls:T=[((g=h.rpcUrls.default)==null?void 0:g.http[0])??""];const P={blockExplorerUrls:k,chainId:Ae(u),chainName:(d==null?void 0:d.chainName)??h.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??h.nativeCurrency,rpcUrls:T};return await Promise.all([m.request({method:"wallet_addEthereumChain",params:[P]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new De(new Error("User rejected switch after adding network."))}),p]),h}catch(N){throw new De(N)}throw b.code===De.code?new De(b):new $t(b)}},async onAccountsChanged(d){var u;if(d.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const m=(await this.getChainId()).toString();this.onConnect({chainId:m}),t&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:d.map(m=>jt(m))})},onChainChanged(d){const u=Number(d);c.emitter.emit("change",{chainId:u})},async onConnect(d){const u=await this.getAccounts();if(u.length===0)return;const m=Number(d.chainId);c.emitter.emit("connect",{accounts:u,chainId:m});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),h.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),h.on("disconnect",l)))},async onDisconnect(d){const u=await this.getProvider();d&&d.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),l&&(u.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const P8={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:Ic(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Ic(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const s of r)if(t[s])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,r;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(r=e.phantom)==null?void 0:r.ethereum:Ic(e,"isPhantom")}}};function Ic(e,t){function r(a){return typeof t=="function"?t(a):typeof t=="string"?a[t]:!0}const s=e.ethereum;if(s!=null&&s.providers)return s.providers.find(a=>r(a));if(s&&r(s))return s}function A8(e){if(typeof window>"u")return;const t=r=>e(r.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function M8(){const e=new Set;let t=[];const r=()=>A8(a=>{t.some(({info:i})=>i.uuid===a.info.uuid)||(t=[...t,a],e.forEach(i=>i(t,{added:[a]})))});let s=r();return{_listeners(){return e},clear(){e.forEach(a=>a([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),s==null||s()},findProvider({rdns:a}){return t.find(i=>i.info.rdns===a)},getProviders(){return t},reset(){this.clear(),s==null||s(),s=r()},subscribe(a,{emitImmediately:i}={}){return e.add(a),i&&a(t,{added:t}),()=>e.delete(a)}}}const R8=e=>(t,r,s)=>{const a=s.subscribe;return s.subscribe=(o,l,c)=>{let d=o;if(l){const u=(c==null?void 0:c.equalityFn)||Object.is;let m=o(s.getState());d=h=>{const p=o(h);if(!u(m,p)){const f=m;l(m=p,f)}},c!=null&&c.fireImmediately&&l(m,m)}return a(d)},e(t,r,s)},L8=R8;function I8(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const Ph=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return Ph(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Ph(s)(r)}}}},_8=(e,t)=>(r,s,a)=>{let i={storage:I8(()=>localStorage),partialize:v=>v,version:0,merge:(v,y)=>({...y,...v}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},s,a);const u=()=>{const v=i.partialize({...s()});return d.setItem(i.name,{state:v,version:i.version})},m=a.setState;a.setState=(v,y)=>{m(v,y),u()};const h=e((...v)=>{r(...v),u()},s,a);a.getInitialState=()=>h;let p;const f=()=>{var v,y;if(!d)return;o=!1,l.forEach(x=>{var b;return x((b=s())!=null?b:h)});const g=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(v=s())!=null?v:h))||void 0;return Ph(d.getItem.bind(d))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return[!0,i.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[N,j]=x;if(p=i.merge(j,(b=s())!=null?b:h),r(p,!0),N)return u()}).then(()=>{g==null||g(p,void 0),p=s(),o=!0,c.forEach(x=>x(p))}).catch(x=>{g==null||g(void 0,x)})};return a.persist={setOptions:v=>{i={...i,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},i.skipHydration||f(),p||h},F8=_8,Ty=e=>{let t;const r=new Set,s=(d,u)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(p=>p(t,h))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(s,a,l);return l},k0=e=>e?Ty(e):Ty;var Dj={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,m||c,h),f=r?r+d:d;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],p]:c._events[f].push(p):(c._events[f]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,p=m.length,f=new Array(p);h<p;h++)f[h]=m[h].fn;return f},l.prototype.listenerCount=function(d){var u=r?r+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,p,f){var v=r?r+d:d;if(!this._events[v])return!1;var y=this._events[v],g=arguments.length,x,b;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,m),!0;case 4:return y.fn.call(y.context,u,m,h),!0;case 5:return y.fn.call(y.context,u,m,h,p),!0;case 6:return y.fn.call(y.context,u,m,h,p,f),!0}for(b=1,x=new Array(g-1);b<g;b++)x[b-1]=arguments[b];y.fn.apply(y.context,x)}else{var N=y.length,j;for(b=0;b<N;b++)switch(y[b].once&&this.removeListener(d,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,m);break;case 4:y[b].fn.call(y[b].context,u,m,h);break;default:if(!x)for(j=1,x=new Array(g-1);j<g;j++)x[j-1]=arguments[j];y[b].fn.apply(y[b].context,x)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var f=this._events[p];if(f.fn)f.fn===u&&(!h||f.once)&&(!m||f.context===m)&&o(this,p);else{for(var v=0,y=[],g=f.length;v<g;v++)(f[v].fn!==u||h&&!f[v].once||m&&f[v].context!==m)&&y.push(f[v]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Dj);var O8=Dj.exports;const D8=$v(O8);class $8{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new D8})}on(t,r){this._emitter.on(t,r)}once(t,r){this._emitter.once(t,r)}off(t,r){this._emitter.off(t,r)}emit(t,...r){const s=r[0];this._emitter.emit(t,{uid:this.uid,...s})}listenerCount(t){return this._emitter.listenerCount(t)}}function B8(e){return new $8(e)}function z8(e,t){return JSON.parse(e,(r,s)=>{let a=s;return(a==null?void 0:a.__type)==="bigint"&&(a=BigInt(a.value)),(a==null?void 0:a.__type)==="Map"&&(a=new Map(a.value)),(t==null?void 0:t(r,a))??a})}function Ey(e,t){return e.slice(0,t).join(".")||"."}function Py(e,t){const{length:r}=e;for(let s=0;s<r;++s)if(e[s]===t)return s+1;return 0}function U8(e,t){const r=typeof e=="function",s=typeof t=="function",a=[],i=[];return function(l,c){if(typeof c=="object")if(a.length){const d=Py(a,this);d===0?a[a.length]=this:(a.splice(d),i.splice(d)),i[i.length]=l;const u=Py(a,c);if(u!==0)return s?t.call(this,l,c,Ey(i,u)):`[ref=${Ey(i,u)}]`}else a[0]=c,i[0]=l;return r?e.call(this,l,c):c}}function V8(e,t,r,s){return JSON.stringify(e,U8((a,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(t==null?void 0:t(a,o))??o},s),r??void 0)}function W8(e){const{deserialize:t=z8,key:r="wagmi",serialize:s=V8,storage:a=$j}=e;function i(o){return o instanceof Promise?o.then(l=>l).catch(()=>null):o}return{...a,key:r,async getItem(o,l){const c=a.getItem(`${r}.${o}`),d=await i(c);return d?t(d)??null:l??null},async setItem(o,l){const c=`${r}.${o}`;l===null?await i(a.removeItem(c)):await i(a.setItem(c,s(l)))},async removeItem(o){await i(a.removeItem(`${r}.${o}`))}}}const $j={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function H8(){const e=typeof window<"u"&&window.localStorage?window.localStorage:$j;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,r){try{e.setItem(t,r)}catch{}}}}const Ah=256;let oc=Ah,lc;function G8(e=11){if(!lc||oc+e>Ah*2){lc="",oc=0;for(let t=0;t<Ah;t++)lc+=(256+Math.random()*256|0).toString(16).substring(1)}return lc.substring(oc,oc+++e)}function q8(e){const{multiInjectedProviderDiscovery:t=!0,storage:r=W8({storage:H8()}),syncConnectedChain:s=!0,ssr:a=!1,...i}=e,o=typeof window<"u"&&t?M8():void 0,l=k0(()=>i.chains),c=k0(()=>{const j=[],k=new Set;for(const T of i.connectors??[]){const P=d(T);if(j.push(P),!a&&P.rdns){const I=typeof P.rdns=="string"?[P.rdns]:P.rdns;for(const B of I)k.add(B)}}if(!a&&o){const T=o.getProviders();for(const P of T)k.has(P.info.rdns)||j.push(d(u(P)))}return j});function d(j){var P;const k=B8(G8()),T={...j({emitter:k,chains:l.getState(),storage:r,transports:i.transports}),emitter:k,uid:k.uid};return k.on("connect",b),(P=T.setup)==null||P.call(T),T}function u(j){const{info:k}=j,T=j.provider;return xu({target:{...k,id:k.rdns,provider:T}})}const m=new Map;function h(j={}){const k=j.chainId??y.getState().chainId,T=l.getState().find(I=>I.id===k);if(j.chainId&&!T)throw new ys;{const I=m.get(y.getState().chainId);if(I&&!T)return I;if(!T)throw new ys}{const I=m.get(k);if(I)return I}let P;if(i.client)P=i.client({chain:T});else{const I=T.id,B=l.getState().map(K=>K.id),U={},q=Object.entries(i);for(const[K,ne]of q)if(!(K==="chains"||K==="client"||K==="connectors"||K==="transports"))if(typeof ne=="object")if(I in ne)U[K]=ne[I];else{if(B.some(L=>L in ne))continue;U[K]=ne}else U[K]=ne;P=Ij({...U,chain:T,batch:U.batch??{multicall:!0},transport:K=>i.transports[I]({...K,connectors:c})})}return m.set(k,P),P}function p(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let f;const v="0.0.0-canary-";Lc.startsWith(v)?f=Number.parseInt(Lc.replace(v,"")):f=Number.parseInt(Lc.split(".")[0]??"0");const y=k0(L8(r?F8(p,{migrate(j,k){if(k===f)return j;const T=p(),P=g(j,T.chainId);return{...T,chainId:P}},name:"store",partialize(j){return{connections:{__type:"Map",value:Array.from(j.connections.entries()).map(([k,T])=>{const{id:P,name:I,type:B,uid:U}=T.connector;return[k,{...T,connector:{id:P,name:I,type:B,uid:U}}]})},chainId:j.chainId,current:j.current}},merge(j,k){typeof j=="object"&&j&&"status"in j&&delete j.status;const T=g(j,k.chainId);return{...k,...j,chainId:T}},skipHydration:a,storage:r,version:f}):p));y.setState(p());function g(j,k){return j&&typeof j=="object"&&"chainId"in j&&typeof j.chainId=="number"&&l.getState().some(T=>T.id===j.chainId)?j.chainId:k}s&&y.subscribe(({connections:j,current:k})=>{var T;return k?(T=j.get(k))==null?void 0:T.chainId:void 0},j=>{if(l.getState().some(T=>T.id===j))return y.setState(T=>({...T,chainId:j??T.chainId}))}),o==null||o.subscribe(j=>{const k=new Set,T=new Set;for(const I of c.getState())if(k.add(I.id),I.rdns){const B=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const U of B)T.add(U)}const P=[];for(const I of j){if(T.has(I.info.rdns))continue;const B=d(u(I));k.has(B.id)||P.push(B)}r&&!y.persist.hasHydrated()||c.setState(I=>[...I,...P],!0)});function x(j){y.setState(k=>{const T=k.connections.get(j.uid);return T?{...k,connections:new Map(k.connections).set(j.uid,{accounts:j.accounts??T.accounts,chainId:j.chainId??T.chainId,connector:T.connector})}:k})}function b(j){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(k=>{const T=c.getState().find(P=>P.uid===j.uid);return T?(T.emitter.listenerCount("connect")&&T.emitter.off("connect",x),T.emitter.listenerCount("change")||T.emitter.on("change",x),T.emitter.listenerCount("disconnect")||T.emitter.on("disconnect",N),{...k,connections:new Map(k.connections).set(j.uid,{accounts:j.accounts,chainId:j.chainId,connector:T}),current:j.uid,status:"connected"}):k})}function N(j){y.setState(k=>{const T=k.connections.get(j.uid);if(T){const I=T.connector;I.emitter.listenerCount("change")&&T.connector.emitter.off("change",x),I.emitter.listenerCount("disconnect")&&T.connector.emitter.off("disconnect",N),I.emitter.listenerCount("connect")||T.connector.emitter.on("connect",b)}if(k.connections.delete(j.uid),k.connections.size===0)return{...k,connections:new Map,current:null,status:"disconnected"};const P=k.connections.values().next().value;return{...k,connections:new Map(k.connections),current:P.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:r,getClient:h,get state(){return y.getState()},setState(j){let k;typeof j=="function"?k=j(y.getState()):k=j;const T=p();typeof k!="object"&&(k=T),Object.keys(T).some(I=>!(I in k))&&(k=T),y.setState(k,!0)},subscribe(j,k,T){return y.subscribe(j,k,T?{...T,fireImmediately:T.emitImmediately}:void 0)},_internal:{mipd:o,store:y,ssr:!!a,syncConnectedChain:s,transports:i.transports,chains:{setState(j){const k=typeof j=="function"?j(l.getState()):j;if(k.length!==0)return l.setState(k,!0)},subscribe(j){return l.subscribe(j)}},connectors:{providerDetailToConnector:u,setup:d,setState(j){return c.setState(typeof j=="function"?j(c.getState()):j,!0)},subscribe(j){return c.subscribe(j)}},events:{change:x,connect:b,disconnect:N}}}}function K8(e,t){const{initialState:r,reconnectOnMount:s}=t;return r&&!e._internal.store.persist.hasHydrated()&&e.setState({...r,chainId:e.chains.some(a=>a.id===r.chainId)?r.chainId:e.chains[0].id,connections:s?r.connections:new Map,status:s?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(a=>{var c;const i=new Set;for(const d of a??[])if(d.rdns){const u=Array.isArray(d.rdns)?d.rdns:[d.rdns];for(const m of u)i.add(m)}const o=[],l=((c=e._internal.mipd)==null?void 0:c.getProviders())??[];for(const d of l){if(i.has(d.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(d),m=e._internal.connectors.setup(u);o.push(m)}return[...a,...o]})),s?v8(e):e.storage&&e.setState(a=>({...a,connections:new Map}))}}}function Bj(e){var i,o,l;const{chain:t}=e,r=t.rpcUrls.default.http[0];if(!e.transports)return[r];const s=(o=(i=e.transports)==null?void 0:i[t.id])==null?void 0:o.call(i,{chain:t});return(((l=s==null?void 0:s.value)==null?void 0:l.transports)||[s]).map(({value:c})=>(c==null?void 0:c.url)||r)}function Y8(e){const{children:t,config:r,initialState:s,reconnectOnMount:a=!0}=e,{onMount:i}=K8(r,{initialState:s,reconnectOnMount:a});r._internal.ssr||i();const o=w.useRef(!0);return w.useEffect(()=>{if(o.current&&r._internal.ssr)return i(),()=>{o.current=!1}},[]),t}const zj=w.createContext(void 0);function Q8(e){const{children:t,config:r}=e,s={value:r};return w.createElement(Y8,e,w.createElement(zj.Provider,s,t))}const X8="2.14.15",Z8=()=>`wagmi@${X8}`;class J8 extends Rr{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Z8()}}class eP extends J8{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Sn(e={}){const t=e.config??w.useContext(zj);if(!t)throw new eP;return t}function tP(e,t){const{onChange:r}=t;return e._internal.chains.subscribe((s,a)=>{r(s,a)})}var Uj={exports:{}},Vj={},Wj={exports:{}},Hj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=w;function nP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rP=typeof Object.is=="function"?Object.is:nP,sP=gi.useState,aP=gi.useEffect,iP=gi.useLayoutEffect,oP=gi.useDebugValue;function lP(e,t){var r=t(),s=sP({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return iP(function(){a.value=r,a.getSnapshot=t,T0(a)&&i({inst:a})},[e,r,t]),aP(function(){return T0(a)&&i({inst:a}),e(function(){T0(a)&&i({inst:a})})},[e]),oP(r),r}function T0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rP(e,r)}catch{return!0}}function cP(e,t){return t()}var dP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cP:lP;Hj.useSyncExternalStore=gi.useSyncExternalStore!==void 0?gi.useSyncExternalStore:dP;Wj.exports=Hj;var uP=Wj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=w,mP=uP;function hP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pP=typeof Object.is=="function"?Object.is:hP,fP=mP.useSyncExternalStore,gP=yu.useRef,xP=yu.useEffect,yP=yu.useMemo,bP=yu.useDebugValue;Vj.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=gP(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=yP(function(){function c(p){if(!d){if(d=!0,u=p,p=s(p),a!==void 0&&o.hasValue){var f=o.value;if(a(f,p))return m=f}return m=p}if(f=m,pP(u,p))return f;var v=s(p);return a!==void 0&&a(f,v)?(u=p,f):(u=p,m=v)}var d=!1,u,m,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,s,a]);var l=fP(e,i[0],i[1]);return xP(function(){o.hasValue=!0,o.value=l},[l]),bP(l),l};Uj.exports=Vj;var vP=Uj.exports;const E0=e=>typeof e=="object"&&!Array.isArray(e);function wP(e,t,r=t,s=bs){const a=w.useRef([]),i=vP.useSyncExternalStoreWithSelector(e,t,r,o=>o,(o,l)=>{if(E0(o)&&E0(l)&&a.current.length){for(const c of a.current)if(!s(o[c],l[c]))return!1;return!0}return s(o,l)});return w.useMemo(()=>{if(E0(i)){const o={...i};let l={};for(const[c,d]of Object.entries(o))l={...l,[c]:{configurable:!1,enumerable:!0,get:()=>(a.current.includes(c)||a.current.push(c),d)}};return Object.defineProperties(o,l),o}return i},[i])}function Ge(e={}){const t=Sn(e);return wP(r=>N8(t,{onChange:r}),()=>Fj(t))}function Gj(e,t){return hp(e,t)}function jP(e){return JSON.stringify(e,(t,r)=>NP(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):typeof r=="bigint"?r.toString():r)}function NP(e){if(!Ay(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!Ay(r)||!r.hasOwnProperty("isPrototypeOf"))}function Ay(e){return Object.prototype.toString.call(e)==="[object Object]"}function Af(e){const{_defaulted:t,behavior:r,gcTime:s,initialData:a,initialDataUpdatedAt:i,maxPages:o,meta:l,networkMode:c,queryFn:d,queryHash:u,queryKey:m,queryKeyHashFn:h,retry:p,retryDelay:f,structuralSharing:v,getPreviousPageParam:y,getNextPageParam:g,initialPageParam:x,_optimisticResults:b,enabled:N,notifyOnChangeProps:j,placeholderData:k,refetchInterval:T,refetchIntervalInBackground:P,refetchOnMount:I,refetchOnReconnect:B,refetchOnWindowFocus:U,retryOnMount:q,select:K,staleTime:ne,suspense:J,throwOnError:L,config:A,connector:E,query:O,...F}=e;return F}function SP(e){return{mutationFn(t){return h8(e,t)},mutationKey:["connect"]}}function CP(e){return{mutationFn(t){return x8(e,t)},mutationKey:["disconnect"]}}function kP(e,t={}){return{async queryFn({queryKey:r}){const s=t.abi;if(!s)throw new Error("abi is required");const{functionName:a,scopeKey:i,...o}=r[1],l=(()=>{const c=r[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!a)throw new Error("functionName is required");return Oj(e,{abi:s,functionName:a,args:o.args,...l,...o})},queryKey:TP(t)}}function TP(e={}){const{abi:t,...r}=e;return["readContract",Af(r)]}function EP(e,t={}){return{async queryFn({queryKey:r}){var l;const s=[],a=r[1].contracts.length;for(let c=0;c<a;c++){const d=r[1].contracts[c],u=((l=t.contracts)==null?void 0:l[c]).abi;s.push({...d,abi:u})}const{scopeKey:i,...o}=r[1];return b8(e,{...o,contracts:s})},queryKey:PP(t)}}function PP(e={}){const t=[];for(const r of e.contracts??[]){const{abi:s,...a}=r;t.push({...a,chainId:a.chainId??e.chainId})}return["readContracts",Af({...e,contracts:t})]}function AP(e){return{mutationFn(t){return j8(e,t)},mutationKey:["switchChain"]}}function MP(e,t={}){return{async queryFn({queryKey:r}){const{hash:s,...a}=r[1];if(!s)throw new Error("hash is required");return T8(e,{...a,onReplaced:t.onReplaced,hash:s})},queryKey:RP(t)}}function RP(e={}){const{onReplaced:t,...r}=e;return["waitForTransactionReceipt",Af(r)]}function LP(e){return{mutationFn(t){return E8(e,t)},mutationKey:["writeContract"]}}function Mf(e){const t=W5({...e,queryKeyHashFn:jP});return t.queryKey=e.queryKey,t}function bu(e={}){const t=Sn(e);return w.useSyncExternalStore(r=>S8(t,{onChange:r}),()=>Sy(t),()=>Sy(t))}function IP(e={}){const t=Sn(e);return w.useSyncExternalStore(r=>tP(t,{onChange:r}),()=>Cy(t),()=>Cy(t))}function _P(e={}){const t=Sn(e);return w.useSyncExternalStore(r=>k8(t,{onChange:r}),()=>ky(t),()=>ky(t))}function FP(e={}){const{mutation:t}=e,r=Sn(e),s=SP(r),{mutate:a,mutateAsync:i,...o}=Vd({...t,...s});return w.useEffect(()=>r.subscribe(({status:l})=>l,(l,c)=>{c==="connected"&&l==="disconnected"&&o.reset()}),[r,o.reset]),{...o,connect:a,connectAsync:i,connectors:_P({config:r})}}function OP(e={}){const t=Sn(e);return w.useSyncExternalStore(r=>C8(t,{onChange:r}),()=>Eh(t),()=>Eh(t))}function DP(e={}){const{mutation:t}=e,r=Sn(e),s=CP(r),{mutate:a,mutateAsync:i,...o}=Vd({...t,...s});return{...o,connectors:OP({config:r}).map(l=>l.connector),disconnect:a,disconnectAsync:i}}function Ce(e={}){const{abi:t,address:r,functionName:s,query:a={}}=e,i=e.code,o=Sn(e),l=bu({config:o}),c=kP(o,{...e,chainId:e.chainId??l}),d=!!((r||i)&&t&&s&&(a.enabled??!0));return Mf({...a,...c,enabled:d,structuralSharing:a.structuralSharing??Gj})}function _c(e={}){const{contracts:t=[],query:r={}}=e,s=Sn(e),a=bu({config:s}),i=EP(s,{...e,chainId:a}),o=w.useMemo(()=>{let l=!1;for(const c of t){const{abi:d,address:u,functionName:m}=c;if(!d||!u||!m){l=!1;break}l=!0}return!!(l&&(r.enabled??!0))},[t,r.enabled]);return Mf({...i,...r,enabled:o,structuralSharing:r.structuralSharing??Gj})}function $P(e={}){const{mutation:t}=e,r=Sn(e),s=AP(r),{mutate:a,mutateAsync:i,...o}=Vd({...t,...s});return{...o,chains:IP({config:r}),switchChain:a,switchChainAsync:i}}function on(e={}){const{hash:t,query:r={}}=e,s=Sn(e),a=bu({config:s}),i=MP(s,{...e,chainId:e.chainId??a}),o=!!(t&&(r.enabled??!0));return Mf({...r,...i,enabled:o})}function zt(e={}){const{mutation:t}=e,r=Sn(e),s=LP(r),{mutate:a,mutateAsync:i,...o}=Vd({...t,...s});return{...o,writeContract:a,writeContractAsync:i}}var ms={},qj={},Kj={},Cr={};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}Object.defineProperty(Cr,"__esModule",{value:!0});Cr.useOCAuth=Cr.OCContext=void 0;var Yj=BP(w);function Qj(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Qj=function(a){return a?r:t})(e)}function BP(e,t){if(e&&e.__esModule)return e;if(e===null||Mh(e)!="object"&&typeof e!="function")return{default:e};var r=Qj(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var zP=Cr.OCContext=Yj.createContext(null);Cr.useOCAuth=function(){return Yj.useContext(zP)};(function(e){function t(v){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},t(v)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var r=a(w),s=Cr;function a(v){return v&&v.__esModule?v:{default:v}}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return y};var v,y={},g=Object.prototype,x=g.hasOwnProperty,b=Object.defineProperty||function(te,$,z){te[$]=z.value},N=typeof Symbol=="function"?Symbol:{},j=N.iterator||"@@iterator",k=N.asyncIterator||"@@asyncIterator",T=N.toStringTag||"@@toStringTag";function P(te,$,z){return Object.defineProperty(te,$,{value:z,enumerable:!0,configurable:!0,writable:!0}),te[$]}try{P({},"")}catch{P=function(z,X,ie){return z[X]=ie}}function I(te,$,z,X){var ie=$&&$.prototype instanceof L?$:L,oe=Object.create(ie.prototype),ue=new H(X||[]);return b(oe,"_invoke",{value:me(te,z,ue)}),oe}function B(te,$,z){try{return{type:"normal",arg:te.call($,z)}}catch(X){return{type:"throw",arg:X}}}y.wrap=I;var U="suspendedStart",q="suspendedYield",K="executing",ne="completed",J={};function L(){}function A(){}function E(){}var O={};P(O,j,function(){return this});var F=Object.getPrototypeOf,R=F&&F(F(re([])));R&&R!==g&&x.call(R,j)&&(O=R);var _=E.prototype=L.prototype=Object.create(O);function Y(te){["next","throw","return"].forEach(function($){P(te,$,function(z){return this._invoke($,z)})})}function ee(te,$){function z(ie,oe,ue,xe){var ge=B(te[ie],te,oe);if(ge.type!=="throw"){var ve=ge.arg,ke=ve.value;return ke&&t(ke)=="object"&&x.call(ke,"__await")?$.resolve(ke.__await).then(function(se){z("next",se,ue,xe)},function(se){z("throw",se,ue,xe)}):$.resolve(ke).then(function(se){ve.value=se,ue(ve)},function(se){return z("throw",se,ue,xe)})}xe(ge.arg)}var X;b(this,"_invoke",{value:function(oe,ue){function xe(){return new $(function(ge,ve){z(oe,ue,ge,ve)})}return X=X?X.then(xe,xe):xe()}})}function me(te,$,z){var X=U;return function(ie,oe){if(X===K)throw Error("Generator is already running");if(X===ne){if(ie==="throw")throw oe;return{value:v,done:!0}}for(z.method=ie,z.arg=oe;;){var ue=z.delegate;if(ue){var xe=le(ue,z);if(xe){if(xe===J)continue;return xe}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(X===U)throw X=ne,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);X=K;var ge=B(te,$,z);if(ge.type==="normal"){if(X=z.done?ne:q,ge.arg===J)continue;return{value:ge.arg,done:z.done}}ge.type==="throw"&&(X=ne,z.method="throw",z.arg=ge.arg)}}}function le(te,$){var z=$.method,X=te.iterator[z];if(X===v)return $.delegate=null,z==="throw"&&te.iterator.return&&($.method="return",$.arg=v,le(te,$),$.method==="throw")||z!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+z+"' method")),J;var ie=B(X,te.iterator,$.arg);if(ie.type==="throw")return $.method="throw",$.arg=ie.arg,$.delegate=null,J;var oe=ie.arg;return oe?oe.done?($[te.resultName]=oe.value,$.next=te.nextLoc,$.method!=="return"&&($.method="next",$.arg=v),$.delegate=null,J):oe:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,J)}function ce(te){var $={tryLoc:te[0]};1 in te&&($.catchLoc=te[1]),2 in te&&($.finallyLoc=te[2],$.afterLoc=te[3]),this.tryEntries.push($)}function G(te){var $=te.completion||{};$.type="normal",delete $.arg,te.completion=$}function H(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(ce,this),this.reset(!0)}function re(te){if(te||te===""){var $=te[j];if($)return $.call(te);if(typeof te.next=="function")return te;if(!isNaN(te.length)){var z=-1,X=function ie(){for(;++z<te.length;)if(x.call(te,z))return ie.value=te[z],ie.done=!1,ie;return ie.value=v,ie.done=!0,ie};return X.next=X}}throw new TypeError(t(te)+" is not iterable")}return A.prototype=E,b(_,"constructor",{value:E,configurable:!0}),b(E,"constructor",{value:A,configurable:!0}),A.displayName=P(E,T,"GeneratorFunction"),y.isGeneratorFunction=function(te){var $=typeof te=="function"&&te.constructor;return!!$&&($===A||($.displayName||$.name)==="GeneratorFunction")},y.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,E):(te.__proto__=E,P(te,T,"GeneratorFunction")),te.prototype=Object.create(_),te},y.awrap=function(te){return{__await:te}},Y(ee.prototype),P(ee.prototype,k,function(){return this}),y.AsyncIterator=ee,y.async=function(te,$,z,X,ie){ie===void 0&&(ie=Promise);var oe=new ee(I(te,$,z,X),ie);return y.isGeneratorFunction($)?oe:oe.next().then(function(ue){return ue.done?ue.value:oe.next()})},Y(_),P(_,T,"Generator"),P(_,j,function(){return this}),P(_,"toString",function(){return"[object Generator]"}),y.keys=function(te){var $=Object(te),z=[];for(var X in $)z.push(X);return z.reverse(),function ie(){for(;z.length;){var oe=z.pop();if(oe in $)return ie.value=oe,ie.done=!1,ie}return ie.done=!0,ie}},y.values=re,H.prototype={constructor:H,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(G),!$)for(var z in this)z.charAt(0)==="t"&&x.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=v)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var z=this;function X(ve,ke){return ue.type="throw",ue.arg=$,z.next=ve,ke&&(z.method="next",z.arg=v),!!ke}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var oe=this.tryEntries[ie],ue=oe.completion;if(oe.tryLoc==="root")return X("end");if(oe.tryLoc<=this.prev){var xe=x.call(oe,"catchLoc"),ge=x.call(oe,"finallyLoc");if(xe&&ge){if(this.prev<oe.catchLoc)return X(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return X(oe.finallyLoc)}else if(xe){if(this.prev<oe.catchLoc)return X(oe.catchLoc,!0)}else{if(!ge)throw Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return X(oe.finallyLoc)}}}},abrupt:function($,z){for(var X=this.tryEntries.length-1;X>=0;--X){var ie=this.tryEntries[X];if(ie.tryLoc<=this.prev&&x.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var oe=ie;break}}oe&&($==="break"||$==="continue")&&oe.tryLoc<=z&&z<=oe.finallyLoc&&(oe=null);var ue=oe?oe.completion:{};return ue.type=$,ue.arg=z,oe?(this.method="next",this.next=oe.finallyLoc,J):this.complete(ue)},complete:function($,z){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&z&&(this.next=z),J},finish:function($){for(var z=this.tryEntries.length-1;z>=0;--z){var X=this.tryEntries[z];if(X.finallyLoc===$)return this.complete(X.completion,X.afterLoc),G(X),J}},catch:function($){for(var z=this.tryEntries.length-1;z>=0;--z){var X=this.tryEntries[z];if(X.tryLoc===$){var ie=X.completion;if(ie.type==="throw"){var oe=ie.arg;G(X)}return oe}}throw Error("illegal catch attempt")},delegateYield:function($,z,X){return this.delegate={iterator:re($),resultName:z,nextLoc:X},this.method==="next"&&(this.arg=v),J}},y}function o(v,y,g,x,b,N,j){try{var k=v[N](j),T=k.value}catch(P){return void g(P)}k.done?y(T):Promise.resolve(T).then(x,b)}function l(v){return function(){var y=this,g=arguments;return new Promise(function(x,b){var N=v.apply(y,g);function j(T){o(N,x,b,j,k,"next",T)}function k(T){o(N,x,b,j,k,"throw",T)}j(void 0)})}}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var c={background:"#000",color:"#fff",button:{background:"#FFF",border:"#DDDDEB",color:"#C5C5D1",colorSuccess:"#8F8FB2"}},d={background:"#fff",color:"#000",button:{background:"#141414",border:"#DDDDEB",color:"#FFFFFF",colorSuccess:"#ADADB8"}},u={background:"#fff",color:"#000",button:{background:"#F5F5F5",border:"#DDDDEB",color:"#141414",colorSuccess:"#8F8FB2"}},m={background:"#fff",color:"#000",button:{background:"#141BEB",border:"#DDDDEB",color:"#FFFFFF",colorSuccess:"#9699EB"}},h={light:c,dark:d,neutral:u,ocBlue:m},p=function(y){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{display:"flex",alignItems:"center",height:44,width:160,padding:"10px 12px",fontSize:14,border:"1px solid",borderColor:y.button.border,borderRadius:g?40:8,background:y.button.background,color:y.button.color}};function f(v){var y=v.pill,g=v.disabled,x=v.theme,b=(0,s.useOCAuth)(),N=b.ocAuth,j=h[x]||h.ocBlue,k=function(){var P=l(i().mark(function I(){return i().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,N.signInWithRedirect({state:"opencampus"});case 2:case"end":return U.stop()}},I)}));return function(){return P.apply(this,arguments)}}(),T=p(j,y);return r.default.createElement("button",{disabled:g,onClick:k,style:T},r.default.createElement("img",{alt:"logo",src:"https://static.opencampus.xyz/assets/oc_logo.svg",width:"26px",height:"25px"}),r.default.createElement("span",{style:{marginLeft:"10px"}},"Connect",r.default.createElement("strong",null,"OCID")))}})(Kj);var Xj={},Zj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(w);function r(a){return a&&a.__esModule?a:{default:a}}/*!
 * Copyright 2024-Present Animoca Brands Corporation Ltd.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var s=function(i){var o=i.width,l=i.height;return t.default.createElement("div",{className:"oc-spinner-container",style:{width:o||80,height:l||80}},t.default.createElement("div",{className:"oc-spinner"}),t.default.createElement("img",{className:"oc-logo-img",alt:"logo",src:"https://static.opencampus.xyz/assets/oc_logo.svg",width:"70%",height:"70%"}))};e.default=s})(Zj);(function(e){function t(h){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t(h)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(w),s=i(Zj),a=Cr;function i(h){return h&&h.__esModule?h:{default:h}}function o(h){if(typeof WeakMap!="function")return null;var p=new WeakMap,f=new WeakMap;return(o=function(y){return y?f:p})(h)}function l(h,p){if(h&&h.__esModule)return h;if(h===null||t(h)!="object"&&typeof h!="function")return{default:h};var f=o(p);if(f&&f.has(h))return f.get(h);var v={__proto__:null},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in h)if(g!=="default"&&{}.hasOwnProperty.call(h,g)){var x=y?Object.getOwnPropertyDescriptor(h,g):null;x&&(x.get||x.set)?Object.defineProperty(v,g,x):v[g]=h[g]}return v.default=h,f&&f.set(h,v),v}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return p};var h,p={},f=Object.prototype,v=f.hasOwnProperty,y=Object.defineProperty||function(G,H,re){G[H]=re.value},g=typeof Symbol=="function"?Symbol:{},x=g.iterator||"@@iterator",b=g.asyncIterator||"@@asyncIterator",N=g.toStringTag||"@@toStringTag";function j(G,H,re){return Object.defineProperty(G,H,{value:re,enumerable:!0,configurable:!0,writable:!0}),G[H]}try{j({},"")}catch{j=function(re,te,$){return re[te]=$}}function k(G,H,re,te){var $=H&&H.prototype instanceof K?H:K,z=Object.create($.prototype),X=new le(te||[]);return y(z,"_invoke",{value:_(G,re,X)}),z}function T(G,H,re){try{return{type:"normal",arg:G.call(H,re)}}catch(te){return{type:"throw",arg:te}}}p.wrap=k;var P="suspendedStart",I="suspendedYield",B="executing",U="completed",q={};function K(){}function ne(){}function J(){}var L={};j(L,x,function(){return this});var A=Object.getPrototypeOf,E=A&&A(A(ce([])));E&&E!==f&&v.call(E,x)&&(L=E);var O=J.prototype=K.prototype=Object.create(L);function F(G){["next","throw","return"].forEach(function(H){j(G,H,function(re){return this._invoke(H,re)})})}function R(G,H){function re($,z,X,ie){var oe=T(G[$],G,z);if(oe.type!=="throw"){var ue=oe.arg,xe=ue.value;return xe&&t(xe)=="object"&&v.call(xe,"__await")?H.resolve(xe.__await).then(function(ge){re("next",ge,X,ie)},function(ge){re("throw",ge,X,ie)}):H.resolve(xe).then(function(ge){ue.value=ge,X(ue)},function(ge){return re("throw",ge,X,ie)})}ie(oe.arg)}var te;y(this,"_invoke",{value:function(z,X){function ie(){return new H(function(oe,ue){re(z,X,oe,ue)})}return te=te?te.then(ie,ie):ie()}})}function _(G,H,re){var te=P;return function($,z){if(te===B)throw Error("Generator is already running");if(te===U){if($==="throw")throw z;return{value:h,done:!0}}for(re.method=$,re.arg=z;;){var X=re.delegate;if(X){var ie=Y(X,re);if(ie){if(ie===q)continue;return ie}}if(re.method==="next")re.sent=re._sent=re.arg;else if(re.method==="throw"){if(te===P)throw te=U,re.arg;re.dispatchException(re.arg)}else re.method==="return"&&re.abrupt("return",re.arg);te=B;var oe=T(G,H,re);if(oe.type==="normal"){if(te=re.done?U:I,oe.arg===q)continue;return{value:oe.arg,done:re.done}}oe.type==="throw"&&(te=U,re.method="throw",re.arg=oe.arg)}}}function Y(G,H){var re=H.method,te=G.iterator[re];if(te===h)return H.delegate=null,re==="throw"&&G.iterator.return&&(H.method="return",H.arg=h,Y(G,H),H.method==="throw")||re!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+re+"' method")),q;var $=T(te,G.iterator,H.arg);if($.type==="throw")return H.method="throw",H.arg=$.arg,H.delegate=null,q;var z=$.arg;return z?z.done?(H[G.resultName]=z.value,H.next=G.nextLoc,H.method!=="return"&&(H.method="next",H.arg=h),H.delegate=null,q):z:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,q)}function ee(G){var H={tryLoc:G[0]};1 in G&&(H.catchLoc=G[1]),2 in G&&(H.finallyLoc=G[2],H.afterLoc=G[3]),this.tryEntries.push(H)}function me(G){var H=G.completion||{};H.type="normal",delete H.arg,G.completion=H}function le(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(ee,this),this.reset(!0)}function ce(G){if(G||G===""){var H=G[x];if(H)return H.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length)){var re=-1,te=function $(){for(;++re<G.length;)if(v.call(G,re))return $.value=G[re],$.done=!1,$;return $.value=h,$.done=!0,$};return te.next=te}}throw new TypeError(t(G)+" is not iterable")}return ne.prototype=J,y(O,"constructor",{value:J,configurable:!0}),y(J,"constructor",{value:ne,configurable:!0}),ne.displayName=j(J,N,"GeneratorFunction"),p.isGeneratorFunction=function(G){var H=typeof G=="function"&&G.constructor;return!!H&&(H===ne||(H.displayName||H.name)==="GeneratorFunction")},p.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,J):(G.__proto__=J,j(G,N,"GeneratorFunction")),G.prototype=Object.create(O),G},p.awrap=function(G){return{__await:G}},F(R.prototype),j(R.prototype,b,function(){return this}),p.AsyncIterator=R,p.async=function(G,H,re,te,$){$===void 0&&($=Promise);var z=new R(k(G,H,re,te),$);return p.isGeneratorFunction(H)?z:z.next().then(function(X){return X.done?X.value:z.next()})},F(O),j(O,N,"Generator"),j(O,x,function(){return this}),j(O,"toString",function(){return"[object Generator]"}),p.keys=function(G){var H=Object(G),re=[];for(var te in H)re.push(te);return re.reverse(),function $(){for(;re.length;){var z=re.pop();if(z in H)return $.value=z,$.done=!1,$}return $.done=!0,$}},p.values=ce,le.prototype={constructor:le,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(me),!H)for(var re in this)re.charAt(0)==="t"&&v.call(this,re)&&!isNaN(+re.slice(1))&&(this[re]=h)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var re=this;function te(ue,xe){return X.type="throw",X.arg=H,re.next=ue,xe&&(re.method="next",re.arg=h),!!xe}for(var $=this.tryEntries.length-1;$>=0;--$){var z=this.tryEntries[$],X=z.completion;if(z.tryLoc==="root")return te("end");if(z.tryLoc<=this.prev){var ie=v.call(z,"catchLoc"),oe=v.call(z,"finallyLoc");if(ie&&oe){if(this.prev<z.catchLoc)return te(z.catchLoc,!0);if(this.prev<z.finallyLoc)return te(z.finallyLoc)}else if(ie){if(this.prev<z.catchLoc)return te(z.catchLoc,!0)}else{if(!oe)throw Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return te(z.finallyLoc)}}}},abrupt:function(H,re){for(var te=this.tryEntries.length-1;te>=0;--te){var $=this.tryEntries[te];if($.tryLoc<=this.prev&&v.call($,"finallyLoc")&&this.prev<$.finallyLoc){var z=$;break}}z&&(H==="break"||H==="continue")&&z.tryLoc<=re&&re<=z.finallyLoc&&(z=null);var X=z?z.completion:{};return X.type=H,X.arg=re,z?(this.method="next",this.next=z.finallyLoc,q):this.complete(X)},complete:function(H,re){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&re&&(this.next=re),q},finish:function(H){for(var re=this.tryEntries.length-1;re>=0;--re){var te=this.tryEntries[re];if(te.finallyLoc===H)return this.complete(te.completion,te.afterLoc),me(te),q}},catch:function(H){for(var re=this.tryEntries.length-1;re>=0;--re){var te=this.tryEntries[re];if(te.tryLoc===H){var $=te.completion;if($.type==="throw"){var z=$.arg;me(te)}return z}}throw Error("illegal catch attempt")},delegateYield:function(H,re,te){return this.delegate={iterator:ce(H),resultName:re,nextLoc:te},this.method==="next"&&(this.arg=h),q}},p}function d(h,p,f,v,y,g,x){try{var b=h[g](x),N=b.value}catch(j){return void f(j)}b.done?p(N):Promise.resolve(N).then(v,y)}function u(h){return function(){var p=this,f=arguments;return new Promise(function(v,y){var g=h.apply(p,f);function x(N){d(g,v,y,x,b,"next",N)}function b(N){d(g,v,y,x,b,"throw",N)}x(void 0)})}}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/var m=function(p){var f=p.successCallback,v=p.errorCallback,y=p.customErrorComponent,g=p.customLoadingComponent,x=(0,a.useOCAuth)(),b=x.isInitialized,N=x.ocAuth,j=x.authState,k=x.setAuthError;return(0,r.useEffect)(function(){var T=function(){var P=u(c().mark(function I(){return c().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!N){U.next=11;break}return U.prev=1,U.next=4,N.handleLoginRedirect();case 4:f(),U.next=11;break;case 7:U.prev=7,U.t0=U.catch(1),k(U.t0),v&&v();case 11:case"end":return U.stop()}},I,null,[[1,7]])}));return function(){return P.apply(this,arguments)}}();T()},[N]),b&&j.error!==void 0&&!v?y||r.default.createElement("div",null,"Error Logging in: ",j.error.message):g||r.default.createElement("div",{style:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.default.createElement(s.default,{height:100,width:100}))};e.default=m})(Xj);var Jj={},pr={},e4={},Rf={exports:{}};function Lf(){}Lf.prototype={on:function(e,t,r){var s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var s=this;function a(){s.off(e,a),t.apply(r,arguments)}return a._=t,this.on(e,a,r)},emit:function(e){var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),s=0,a=r.length;for(s;s<a;s++)r[s].fn.apply(r[s].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),s=r[e],a=[];if(s&&t)for(var i=0,o=s.length;i<o;i++)s[i].fn!==t&&s[i].fn._!==t&&a.push(s[i]);return a.length?r[e]=a:delete r[e],this}};Rf.exports=Lf;Rf.exports.TinyEmitter=Lf;var UP=Rf.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(UP);function r(h){return h&&h.__esModule?h:{default:h}}function s(h){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(h)}function a(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function i(h,p){for(var f=0;f<p.length;f++){var v=p[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,c(v.key),v)}}function o(h,p,f){return p&&i(h.prototype,p),Object.defineProperty(h,"prototype",{writable:!1}),h}function l(h,p,f){return(p=c(p))in h?Object.defineProperty(h,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[p]=f,h}function c(h){var p=d(h,"string");return s(p)=="symbol"?p:p+""}function d(h,p){if(s(h)!="object"||!h)return h;var f=h[Symbol.toPrimitive];if(f!==void 0){var v=f.call(h,p);if(s(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var u="authStateChange",m=function(){function h(){a(this,h),l(this,"_emmitter",void 0),l(this,"_authState",void 0),this._authState=null,this._emitter=new t.default}return o(h,[{key:"setAuthState",value:function(f,v,y,g,x){this._authState={accessToken:f,idToken:v,OCId:y,ethAddress:g,isAuthenticated:x},this._emitter.emit(u,this._authState)}},{key:"getAuthState",value:function(){return Object.assign({},this._authState)}},{key:"clear",value:function(){this._authState={isAuthenticated:!1},this._emitter.emit(u,this._authState)}},{key:"subscribe",value:function(f){this._emitter.on(u,f)}},{key:"unsubscribe",value:function(f){this._emitter.off(u,f)}}])}();e.default=m})(e4);var If={},_f={},vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.parseUrl=void 0;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */vu.parseUrl=function(){var t=window.location.search,r=new URLSearchParams(t),s={};return r.has("id_token")&&(s.id_token=r.get("id_token")),r.has("code")&&(s.code=r.get("code")),r.has("state")&&(s.state=r.get("state")),s};var wu={},t4={},Ff={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.webcrypto=Jn.btoa=Jn.atob=void 0;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */Jn.atob=function(t){return window.atob(t)};Jn.btoa=function(t){return window.btoa(t)};Jn.webcrypto=typeof crypto>"u"?null:crypto;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.base64ToBase64Url=r4;Ts.base64UrlDecode=HP;Ts.base64UrlToBase64=s4;Ts.stringToBase64Url=VP;Ts.stringToBuffer=WP;var n4=Jn;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function r4(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function s4(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function VP(e){var t=(0,n4.btoa)(e);return r4(t)}function WP(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function HP(e){return(0,n4.atob)(s4(e))}var ju={};function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}Object.defineProperty(ju,"__esModule",{value:!0});ju.verifyToken=void 0;var Fc=Ts,Rh=Jn;function Lh(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Lh=function(){return t};var e,t={},r=Object.prototype,s=r.hasOwnProperty,a=Object.defineProperty||function(L,A,E){L[A]=E.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(L,A,E){return Object.defineProperty(L,A,{value:E,enumerable:!0,configurable:!0,writable:!0}),L[A]}try{d({},"")}catch{d=function(E,O,F){return E[O]=F}}function u(L,A,E,O){var F=A&&A.prototype instanceof g?A:g,R=Object.create(F.prototype),_=new ne(O||[]);return a(R,"_invoke",{value:B(L,E,_)}),R}function m(L,A,E){try{return{type:"normal",arg:L.call(A,E)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",v="completed",y={};function g(){}function x(){}function b(){}var N={};d(N,o,function(){return this});var j=Object.getPrototypeOf,k=j&&j(j(J([])));k&&k!==r&&s.call(k,o)&&(N=k);var T=b.prototype=g.prototype=Object.create(N);function P(L){["next","throw","return"].forEach(function(A){d(L,A,function(E){return this._invoke(A,E)})})}function I(L,A){function E(F,R,_,Y){var ee=m(L[F],L,R);if(ee.type!=="throw"){var me=ee.arg,le=me.value;return le&&wd(le)=="object"&&s.call(le,"__await")?A.resolve(le.__await).then(function(ce){E("next",ce,_,Y)},function(ce){E("throw",ce,_,Y)}):A.resolve(le).then(function(ce){me.value=ce,_(me)},function(ce){return E("throw",ce,_,Y)})}Y(ee.arg)}var O;a(this,"_invoke",{value:function(R,_){function Y(){return new A(function(ee,me){E(R,_,ee,me)})}return O=O?O.then(Y,Y):Y()}})}function B(L,A,E){var O=h;return function(F,R){if(O===f)throw Error("Generator is already running");if(O===v){if(F==="throw")throw R;return{value:e,done:!0}}for(E.method=F,E.arg=R;;){var _=E.delegate;if(_){var Y=U(_,E);if(Y){if(Y===y)continue;return Y}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(O===h)throw O=v,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);O=f;var ee=m(L,A,E);if(ee.type==="normal"){if(O=E.done?v:p,ee.arg===y)continue;return{value:ee.arg,done:E.done}}ee.type==="throw"&&(O=v,E.method="throw",E.arg=ee.arg)}}}function U(L,A){var E=A.method,O=L.iterator[E];if(O===e)return A.delegate=null,E==="throw"&&L.iterator.return&&(A.method="return",A.arg=e,U(L,A),A.method==="throw")||E!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+E+"' method")),y;var F=m(O,L.iterator,A.arg);if(F.type==="throw")return A.method="throw",A.arg=F.arg,A.delegate=null,y;var R=F.arg;return R?R.done?(A[L.resultName]=R.value,A.next=L.nextLoc,A.method!=="return"&&(A.method="next",A.arg=e),A.delegate=null,y):R:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function q(L){var A={tryLoc:L[0]};1 in L&&(A.catchLoc=L[1]),2 in L&&(A.finallyLoc=L[2],A.afterLoc=L[3]),this.tryEntries.push(A)}function K(L){var A=L.completion||{};A.type="normal",delete A.arg,L.completion=A}function ne(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(q,this),this.reset(!0)}function J(L){if(L||L===""){var A=L[o];if(A)return A.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var E=-1,O=function F(){for(;++E<L.length;)if(s.call(L,E))return F.value=L[E],F.done=!1,F;return F.value=e,F.done=!0,F};return O.next=O}}throw new TypeError(wd(L)+" is not iterable")}return x.prototype=b,a(T,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(L){var A=typeof L=="function"&&L.constructor;return!!A&&(A===x||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,b):(L.__proto__=b,d(L,c,"GeneratorFunction")),L.prototype=Object.create(T),L},t.awrap=function(L){return{__await:L}},P(I.prototype),d(I.prototype,l,function(){return this}),t.AsyncIterator=I,t.async=function(L,A,E,O,F){F===void 0&&(F=Promise);var R=new I(u(L,A,E,O),F);return t.isGeneratorFunction(A)?R:R.next().then(function(_){return _.done?_.value:R.next()})},P(T),d(T,c,"Generator"),d(T,o,function(){return this}),d(T,"toString",function(){return"[object Generator]"}),t.keys=function(L){var A=Object(L),E=[];for(var O in A)E.push(O);return E.reverse(),function F(){for(;E.length;){var R=E.pop();if(R in A)return F.value=R,F.done=!1,F}return F.done=!0,F}},t.values=J,ne.prototype={constructor:ne,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(K),!A)for(var E in this)E.charAt(0)==="t"&&s.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var E=this;function O(me,le){return _.type="throw",_.arg=A,E.next=me,le&&(E.method="next",E.arg=e),!!le}for(var F=this.tryEntries.length-1;F>=0;--F){var R=this.tryEntries[F],_=R.completion;if(R.tryLoc==="root")return O("end");if(R.tryLoc<=this.prev){var Y=s.call(R,"catchLoc"),ee=s.call(R,"finallyLoc");if(Y&&ee){if(this.prev<R.catchLoc)return O(R.catchLoc,!0);if(this.prev<R.finallyLoc)return O(R.finallyLoc)}else if(Y){if(this.prev<R.catchLoc)return O(R.catchLoc,!0)}else{if(!ee)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return O(R.finallyLoc)}}}},abrupt:function(A,E){for(var O=this.tryEntries.length-1;O>=0;--O){var F=this.tryEntries[O];if(F.tryLoc<=this.prev&&s.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var R=F;break}}R&&(A==="break"||A==="continue")&&R.tryLoc<=E&&E<=R.finallyLoc&&(R=null);var _=R?R.completion:{};return _.type=A,_.arg=E,R?(this.method="next",this.next=R.finallyLoc,y):this.complete(_)},complete:function(A,E){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&E&&(this.next=E),y},finish:function(A){for(var E=this.tryEntries.length-1;E>=0;--E){var O=this.tryEntries[E];if(O.finallyLoc===A)return this.complete(O.completion,O.afterLoc),K(O),y}},catch:function(A){for(var E=this.tryEntries.length-1;E>=0;--E){var O=this.tryEntries[E];if(O.tryLoc===A){var F=O.completion;if(F.type==="throw"){var R=F.arg;K(O)}return R}}throw Error("illegal catch attempt")},delegateYield:function(A,E,O){return this.delegate={iterator:J(A),resultName:E,nextLoc:O},this.method==="next"&&(this.arg=e),y}},t}function My(e,t,r,s,a,i,o){try{var l=e[i](o),c=l.value}catch(d){return void r(d)}l.done?t(c):Promise.resolve(c).then(s,a)}function GP(e){return function(){var t=this,r=arguments;return new Promise(function(s,a){var i=e.apply(t,r);function o(c){My(i,s,a,o,l,"next",c)}function l(c){My(i,s,a,o,l,"throw",c)}o(void 0)})}}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var qP=function(t){var r=(0,Rh.atob)(t);return(0,Fc.stringToBuffer)(r)};ju.verifyToken=function(){var e=GP(Lh().mark(function t(r,s){var a,i,o,l,c,d,u,m,h,p;return Lh().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return a="spki",i={name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}},o=!0,l=["verify"],c=qP(s),v.next=7,Rh.webcrypto.subtle.importKey(a,c,i,o,l);case 7:return d=v.sent,u=r.split("."),m=(0,Fc.stringToBuffer)(u[0]+"."+u[1]),h=(0,Fc.base64UrlDecode)(u[2]),p=(0,Fc.stringToBuffer)(h),v.next=14,Rh.webcrypto.subtle.verify(i,d,p,m);case 14:return v.abrupt("return",v.sent);case 15:case"end":return v.stop()}},t)}));return function(r,s){return e.apply(this,arguments)}}();(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Jn;Object.keys(t).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===t[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[a]}})});var r=Ts;Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===r[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return r[a]}})});var s=ju;Object.keys(s).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===s[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return s[a]}})})})(Ff);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MIN_VERIFIER_LENGTH=e.MAX_VERIFIER_LENGTH=e.DEFAULT_CODE_CHALLENGE_METHOD=void 0;var t=Ff;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var r=e.MIN_VERIFIER_LENGTH=43,s=e.MAX_VERIFIER_LENGTH=128,a=e.DEFAULT_CODE_CHALLENGE_METHOD="S256";function i(d){return("0"+d.toString(16)).substr(-2)}function o(d){var u=new Uint8Array(Math.ceil(d/2));t.webcrypto.getRandomValues(u);var m=Array.from(u,i).join("");return m.slice(0,d)}function l(d){var u=d||"";return u.length<r&&(u=u+o(r-u.length)),encodeURIComponent(u).slice(0,s)}function c(d){var u=new TextEncoder().encode(d);return t.webcrypto.subtle.digest("SHA-256",u).then(function(m){var h=String.fromCharCode.apply(null,new Uint8Array(m)),p=(0,t.stringToBase64Url)(h);return p})}e.default={DEFAULT_CODE_CHALLENGE_METHOD:a,generateVerifier:l,computeChallenge:c}})(t4);var bn={};function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}Object.defineProperty(bn,"__esModule",{value:!0});bn.InvalidParamsError=bn.InternalError=bn.AuthError=void 0;function Of(e,t,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $f(e,t,r){return t=sl(t),KP(e,zf()?Reflect.construct(t,r||[],sl(e).constructor):t.apply(e,r))}function KP(e,t){if(t&&(Ih(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YP(e)}function YP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rl(e,t)}function jd(e){var t=typeof Map=="function"?new Map:void 0;return jd=function(s){if(s===null||!XP(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(s))return t.get(s);t.set(s,a)}function a(){return QP(s,arguments,sl(this).constructor)}return a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),rl(a,s)},jd(e)}function QP(e,t,r){if(zf())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var a=new(e.bind.apply(e,s));return r&&rl(a,r.prototype),a}function zf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zf=function(){return!!e})()}function XP(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function rl(e,t){return rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rl(e,t)}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sl(e)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var ZP=bn.InternalError=function(e){function t(){return Df(this,t),$f(this,t,arguments)}return Bf(t,e),Of(t)}(jd(Error));bn.InvalidParamsError=function(e){function t(){return Df(this,t),$f(this,t,arguments)}return Bf(t,e),Of(t)}(ZP);bn.AuthError=function(e){function t(){return Df(this,t),$f(this,t,arguments)}return Bf(t,e),Of(t)}(jd(Error));function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}Object.defineProperty(wu,"__esModule",{value:!0});wu.prepareTokenParams=void 0;var P0=eA(t4),JP=bn;function eA(e){return e&&e.__esModule?e:{default:e}}function _h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_h=function(){return t};var e,t={},r=Object.prototype,s=r.hasOwnProperty,a=Object.defineProperty||function(L,A,E){L[A]=E.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(L,A,E){return Object.defineProperty(L,A,{value:E,enumerable:!0,configurable:!0,writable:!0}),L[A]}try{d({},"")}catch{d=function(E,O,F){return E[O]=F}}function u(L,A,E,O){var F=A&&A.prototype instanceof g?A:g,R=Object.create(F.prototype),_=new ne(O||[]);return a(R,"_invoke",{value:B(L,E,_)}),R}function m(L,A,E){try{return{type:"normal",arg:L.call(A,E)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",v="completed",y={};function g(){}function x(){}function b(){}var N={};d(N,o,function(){return this});var j=Object.getPrototypeOf,k=j&&j(j(J([])));k&&k!==r&&s.call(k,o)&&(N=k);var T=b.prototype=g.prototype=Object.create(N);function P(L){["next","throw","return"].forEach(function(A){d(L,A,function(E){return this._invoke(A,E)})})}function I(L,A){function E(F,R,_,Y){var ee=m(L[F],L,R);if(ee.type!=="throw"){var me=ee.arg,le=me.value;return le&&Nd(le)=="object"&&s.call(le,"__await")?A.resolve(le.__await).then(function(ce){E("next",ce,_,Y)},function(ce){E("throw",ce,_,Y)}):A.resolve(le).then(function(ce){me.value=ce,_(me)},function(ce){return E("throw",ce,_,Y)})}Y(ee.arg)}var O;a(this,"_invoke",{value:function(R,_){function Y(){return new A(function(ee,me){E(R,_,ee,me)})}return O=O?O.then(Y,Y):Y()}})}function B(L,A,E){var O=h;return function(F,R){if(O===f)throw Error("Generator is already running");if(O===v){if(F==="throw")throw R;return{value:e,done:!0}}for(E.method=F,E.arg=R;;){var _=E.delegate;if(_){var Y=U(_,E);if(Y){if(Y===y)continue;return Y}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(O===h)throw O=v,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);O=f;var ee=m(L,A,E);if(ee.type==="normal"){if(O=E.done?v:p,ee.arg===y)continue;return{value:ee.arg,done:E.done}}ee.type==="throw"&&(O=v,E.method="throw",E.arg=ee.arg)}}}function U(L,A){var E=A.method,O=L.iterator[E];if(O===e)return A.delegate=null,E==="throw"&&L.iterator.return&&(A.method="return",A.arg=e,U(L,A),A.method==="throw")||E!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+E+"' method")),y;var F=m(O,L.iterator,A.arg);if(F.type==="throw")return A.method="throw",A.arg=F.arg,A.delegate=null,y;var R=F.arg;return R?R.done?(A[L.resultName]=R.value,A.next=L.nextLoc,A.method!=="return"&&(A.method="next",A.arg=e),A.delegate=null,y):R:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function q(L){var A={tryLoc:L[0]};1 in L&&(A.catchLoc=L[1]),2 in L&&(A.finallyLoc=L[2],A.afterLoc=L[3]),this.tryEntries.push(A)}function K(L){var A=L.completion||{};A.type="normal",delete A.arg,L.completion=A}function ne(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(q,this),this.reset(!0)}function J(L){if(L||L===""){var A=L[o];if(A)return A.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var E=-1,O=function F(){for(;++E<L.length;)if(s.call(L,E))return F.value=L[E],F.done=!1,F;return F.value=e,F.done=!0,F};return O.next=O}}throw new TypeError(Nd(L)+" is not iterable")}return x.prototype=b,a(T,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(L){var A=typeof L=="function"&&L.constructor;return!!A&&(A===x||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,b):(L.__proto__=b,d(L,c,"GeneratorFunction")),L.prototype=Object.create(T),L},t.awrap=function(L){return{__await:L}},P(I.prototype),d(I.prototype,l,function(){return this}),t.AsyncIterator=I,t.async=function(L,A,E,O,F){F===void 0&&(F=Promise);var R=new I(u(L,A,E,O),F);return t.isGeneratorFunction(A)?R:R.next().then(function(_){return _.done?_.value:R.next()})},P(T),d(T,c,"Generator"),d(T,o,function(){return this}),d(T,"toString",function(){return"[object Generator]"}),t.keys=function(L){var A=Object(L),E=[];for(var O in A)E.push(O);return E.reverse(),function F(){for(;E.length;){var R=E.pop();if(R in A)return F.value=R,F.done=!1,F}return F.done=!0,F}},t.values=J,ne.prototype={constructor:ne,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(K),!A)for(var E in this)E.charAt(0)==="t"&&s.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var E=this;function O(me,le){return _.type="throw",_.arg=A,E.next=me,le&&(E.method="next",E.arg=e),!!le}for(var F=this.tryEntries.length-1;F>=0;--F){var R=this.tryEntries[F],_=R.completion;if(R.tryLoc==="root")return O("end");if(R.tryLoc<=this.prev){var Y=s.call(R,"catchLoc"),ee=s.call(R,"finallyLoc");if(Y&&ee){if(this.prev<R.catchLoc)return O(R.catchLoc,!0);if(this.prev<R.finallyLoc)return O(R.finallyLoc)}else if(Y){if(this.prev<R.catchLoc)return O(R.catchLoc,!0)}else{if(!ee)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return O(R.finallyLoc)}}}},abrupt:function(A,E){for(var O=this.tryEntries.length-1;O>=0;--O){var F=this.tryEntries[O];if(F.tryLoc<=this.prev&&s.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var R=F;break}}R&&(A==="break"||A==="continue")&&R.tryLoc<=E&&E<=R.finallyLoc&&(R=null);var _=R?R.completion:{};return _.type=A,_.arg=E,R?(this.method="next",this.next=R.finallyLoc,y):this.complete(_)},complete:function(A,E){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&E&&(this.next=E),y},finish:function(A){for(var E=this.tryEntries.length-1;E>=0;--E){var O=this.tryEntries[E];if(O.finallyLoc===A)return this.complete(O.completion,O.afterLoc),K(O),y}},catch:function(A){for(var E=this.tryEntries.length-1;E>=0;--E){var O=this.tryEntries[E];if(O.tryLoc===A){var F=O.completion;if(F.type==="throw"){var R=F.arg;K(O)}return R}}throw Error("illegal catch attempt")},delegateYield:function(A,E,O){return this.delegate={iterator:J(A),resultName:E,nextLoc:O},this.method==="next"&&(this.arg=e),y}},t}function Ry(e,t,r,s,a,i,o){try{var l=e[i](o),c=l.value}catch(d){return void r(d)}l.done?t(c):Promise.resolve(c).then(s,a)}function tA(e){return function(){var t=this,r=arguments;return new Promise(function(s,a){var i=e.apply(t,r);function o(c){Ry(i,s,a,o,l,"next",c)}function l(c){Ry(i,s,a,o,l,"throw",c)}o(void 0)})}}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/wu.prepareTokenParams=function(){var e=tA(_h().mark(function t(r){var s,a,i,o,l,c;return _h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(s=r.clientId,a=r.redirectUri,i=r.state,a){u.next=3;break}throw new JP.InvalidParamsError(" No redirect uri params!");case 3:return o=P0.default.generateVerifier(),u.next=6,P0.default.computeChallenge(o);case 6:return l=u.sent,c={clientId:s,redirectUri:a,codeVerifier:o,codeChallenge:l,codeChallengeMethod:P0.default.DEFAULT_CODE_CHALLENGE_METHOD,scope:"openid",responseType:"code"},i!=null&&(c.state=i),u.abrupt("return",c);case 10:case"end":return u.stop()}},t)}));return function(r){return e.apply(this,arguments)}}();var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.createPkceMeta=void 0;var nA=bn;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */Nu.createPkceMeta=function(t){var r=t.codeChallenge,s=t.codeVerifier,a=t.codeChallengeMethod;if(!r||!s||!a)throw new nA.InvalidParamsError("codeChallenge, codeVerifier & codeChallengeMethod are required");return{codeChallenge:r,codeVerifier:s,codeChallengeMethod:a}};var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.parseJwt=void 0;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */Su.parseJwt=function(t){var r=t.split(".")[1],s=r.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(window.atob(s).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a)};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=vu;Object.keys(t).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===t[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[i]}})});var r=wu;Object.keys(r).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===r[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[i]}})});var s=Nu;Object.keys(s).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===s[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return s[i]}})});var a=Su;Object.keys(a).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===a[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return a[i]}})})})(_f);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=_f,r=Ff,s=bn;function a(y){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a(y)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return g};var y,g={},x=Object.prototype,b=x.hasOwnProperty,N=Object.defineProperty||function($,z,X){$[z]=X.value},j=typeof Symbol=="function"?Symbol:{},k=j.iterator||"@@iterator",T=j.asyncIterator||"@@asyncIterator",P=j.toStringTag||"@@toStringTag";function I($,z,X){return Object.defineProperty($,z,{value:X,enumerable:!0,configurable:!0,writable:!0}),$[z]}try{I({},"")}catch{I=function(X,ie,oe){return X[ie]=oe}}function B($,z,X,ie){var oe=z&&z.prototype instanceof A?z:A,ue=Object.create(oe.prototype),xe=new re(ie||[]);return N(ue,"_invoke",{value:le($,X,xe)}),ue}function U($,z,X){try{return{type:"normal",arg:$.call(z,X)}}catch(ie){return{type:"throw",arg:ie}}}g.wrap=B;var q="suspendedStart",K="suspendedYield",ne="executing",J="completed",L={};function A(){}function E(){}function O(){}var F={};I(F,k,function(){return this});var R=Object.getPrototypeOf,_=R&&R(R(te([])));_&&_!==x&&b.call(_,k)&&(F=_);var Y=O.prototype=A.prototype=Object.create(F);function ee($){["next","throw","return"].forEach(function(z){I($,z,function(X){return this._invoke(z,X)})})}function me($,z){function X(oe,ue,xe,ge){var ve=U($[oe],$,ue);if(ve.type!=="throw"){var ke=ve.arg,se=ke.value;return se&&a(se)=="object"&&b.call(se,"__await")?z.resolve(se.__await).then(function(de){X("next",de,xe,ge)},function(de){X("throw",de,xe,ge)}):z.resolve(se).then(function(de){ke.value=de,xe(ke)},function(de){return X("throw",de,xe,ge)})}ge(ve.arg)}var ie;N(this,"_invoke",{value:function(ue,xe){function ge(){return new z(function(ve,ke){X(ue,xe,ve,ke)})}return ie=ie?ie.then(ge,ge):ge()}})}function le($,z,X){var ie=q;return function(oe,ue){if(ie===ne)throw Error("Generator is already running");if(ie===J){if(oe==="throw")throw ue;return{value:y,done:!0}}for(X.method=oe,X.arg=ue;;){var xe=X.delegate;if(xe){var ge=ce(xe,X);if(ge){if(ge===L)continue;return ge}}if(X.method==="next")X.sent=X._sent=X.arg;else if(X.method==="throw"){if(ie===q)throw ie=J,X.arg;X.dispatchException(X.arg)}else X.method==="return"&&X.abrupt("return",X.arg);ie=ne;var ve=U($,z,X);if(ve.type==="normal"){if(ie=X.done?J:K,ve.arg===L)continue;return{value:ve.arg,done:X.done}}ve.type==="throw"&&(ie=J,X.method="throw",X.arg=ve.arg)}}}function ce($,z){var X=z.method,ie=$.iterator[X];if(ie===y)return z.delegate=null,X==="throw"&&$.iterator.return&&(z.method="return",z.arg=y,ce($,z),z.method==="throw")||X!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+X+"' method")),L;var oe=U(ie,$.iterator,z.arg);if(oe.type==="throw")return z.method="throw",z.arg=oe.arg,z.delegate=null,L;var ue=oe.arg;return ue?ue.done?(z[$.resultName]=ue.value,z.next=$.nextLoc,z.method!=="return"&&(z.method="next",z.arg=y),z.delegate=null,L):ue:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,L)}function G($){var z={tryLoc:$[0]};1 in $&&(z.catchLoc=$[1]),2 in $&&(z.finallyLoc=$[2],z.afterLoc=$[3]),this.tryEntries.push(z)}function H($){var z=$.completion||{};z.type="normal",delete z.arg,$.completion=z}function re($){this.tryEntries=[{tryLoc:"root"}],$.forEach(G,this),this.reset(!0)}function te($){if($||$===""){var z=$[k];if(z)return z.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var X=-1,ie=function oe(){for(;++X<$.length;)if(b.call($,X))return oe.value=$[X],oe.done=!1,oe;return oe.value=y,oe.done=!0,oe};return ie.next=ie}}throw new TypeError(a($)+" is not iterable")}return E.prototype=O,N(Y,"constructor",{value:O,configurable:!0}),N(O,"constructor",{value:E,configurable:!0}),E.displayName=I(O,P,"GeneratorFunction"),g.isGeneratorFunction=function($){var z=typeof $=="function"&&$.constructor;return!!z&&(z===E||(z.displayName||z.name)==="GeneratorFunction")},g.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,O):($.__proto__=O,I($,P,"GeneratorFunction")),$.prototype=Object.create(Y),$},g.awrap=function($){return{__await:$}},ee(me.prototype),I(me.prototype,T,function(){return this}),g.AsyncIterator=me,g.async=function($,z,X,ie,oe){oe===void 0&&(oe=Promise);var ue=new me(B($,z,X,ie),oe);return g.isGeneratorFunction(z)?ue:ue.next().then(function(xe){return xe.done?xe.value:ue.next()})},ee(Y),I(Y,P,"Generator"),I(Y,k,function(){return this}),I(Y,"toString",function(){return"[object Generator]"}),g.keys=function($){var z=Object($),X=[];for(var ie in z)X.push(ie);return X.reverse(),function oe(){for(;X.length;){var ue=X.pop();if(ue in z)return oe.value=ue,oe.done=!1,oe}return oe.done=!0,oe}},g.values=te,re.prototype={constructor:re,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(H),!z)for(var X in this)X.charAt(0)==="t"&&b.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=y)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var X=this;function ie(ke,se){return xe.type="throw",xe.arg=z,X.next=ke,se&&(X.method="next",X.arg=y),!!se}for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ue=this.tryEntries[oe],xe=ue.completion;if(ue.tryLoc==="root")return ie("end");if(ue.tryLoc<=this.prev){var ge=b.call(ue,"catchLoc"),ve=b.call(ue,"finallyLoc");if(ge&&ve){if(this.prev<ue.catchLoc)return ie(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return ie(ue.finallyLoc)}else if(ge){if(this.prev<ue.catchLoc)return ie(ue.catchLoc,!0)}else{if(!ve)throw Error("try statement without catch or finally");if(this.prev<ue.finallyLoc)return ie(ue.finallyLoc)}}}},abrupt:function(z,X){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var oe=this.tryEntries[ie];if(oe.tryLoc<=this.prev&&b.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var ue=oe;break}}ue&&(z==="break"||z==="continue")&&ue.tryLoc<=X&&X<=ue.finallyLoc&&(ue=null);var xe=ue?ue.completion:{};return xe.type=z,xe.arg=X,ue?(this.method="next",this.next=ue.finallyLoc,L):this.complete(xe)},complete:function(z,X){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&X&&(this.next=X),L},finish:function(z){for(var X=this.tryEntries.length-1;X>=0;--X){var ie=this.tryEntries[X];if(ie.finallyLoc===z)return this.complete(ie.completion,ie.afterLoc),H(ie),L}},catch:function(z){for(var X=this.tryEntries.length-1;X>=0;--X){var ie=this.tryEntries[X];if(ie.tryLoc===z){var oe=ie.completion;if(oe.type==="throw"){var ue=oe.arg;H(ie)}return ue}}throw Error("illegal catch attempt")},delegateYield:function(z,X,ie){return this.delegate={iterator:te(z),resultName:X,nextLoc:ie},this.method==="next"&&(this.arg=y),L}},g}function o(y,g,x,b,N,j,k){try{var T=y[j](k),P=T.value}catch(I){return void x(I)}T.done?g(P):Promise.resolve(P).then(b,N)}function l(y){return function(){var g=this,x=arguments;return new Promise(function(b,N){var j=y.apply(g,x);function k(P){o(j,b,N,k,T,"next",P)}function T(P){o(j,b,N,k,T,"throw",P)}k(void 0)})}}function c(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function d(y,g){for(var x=0;x<g.length;x++){var b=g[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,h(b.key),b)}}function u(y,g,x){return g&&d(y.prototype,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function m(y,g,x){return(g=h(g))in y?Object.defineProperty(y,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[g]=x,y}function h(y){var g=p(y,"string");return a(g)=="symbol"?g:g+""}function p(y,g){if(a(y)!="object"||!y)return y;var x=y[Symbol.toPrimitive];if(x!==void 0){var b=x.call(y,g);if(a(b)!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var f="oc-token-storage",v=function(){function y(g,x,b){c(this,y),m(this,"storageManager",void 0),m(this,"tokenExpiredAt",void 0),m(this,"tokenEndPoint",void 0),m(this,"publicKey",void 0),this.storageManager=new g(f),this.tokenEndPoint=x,this.publicKey=b}return u(y,[{key:"clear",value:function(){this.storageManager.getStorageObject().clearStorage()}},{key:"exchangeTokenFromCode",value:function(){var g=l(i().mark(function b(N,j){var k,T,P,I,B,U,q,K,ne,J,L=arguments;return i().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return k=L.length>2&&L[2]!==void 0?L[2]:null,T={accessCode:N,codeVerifier:j},E.prev=2,E.next=5,fetch(this.tokenEndPoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});case 5:return P=E.sent,E.next=8,P.json();case 8:if(I=E.sent,B=I.access_token,U=I.id_token,!(!B||!U)){E.next=13;break}throw new s.AuthError("Fail to exchange token");case 13:return E.next=15,this.getPublicKey();case 15:return q=E.sent,E.next=18,(0,r.verifyToken)(U,q);case 18:if(K=E.sent,K){E.next=21;break}throw new s.AuthError("Unable to verify token");case 21:ne=(0,t.parseJwt)(B),J=Object.assign({access_token:B,id_token:U,expired:ne.exp},k&&{state:k}),this.storageManager.getStorageObject().setStorage(J),E.next=30;break;case 26:throw E.prev=26,E.t0=E.catch(2),console.log(E.t0),new s.AuthError("Token acquisition failed");case 30:case"end":return E.stop()}},b,this,[[2,26]])}));function x(b,N){return g.apply(this,arguments)}return x}()},{key:"getStateParameter",value:function(){return this.storageManager.getStorageObject().getItem("state")}},{key:"getIdToken",value:function(){return this.storageManager.getStorageObject().getItem("id_token")}},{key:"getAccessToken",value:function(){return this.storageManager.getStorageObject().getItem("access_token")}},{key:"getExpiredAt",value:function(){return this.storageManager.getStorageObject().getItem("expired")}},{key:"getPublicKey",value:function(){var g=l(i().mark(function b(){return i().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",this.publicKey);case 1:case"end":return j.stop()}},b,this)}));function x(){return g.apply(this,arguments)}return x}()},{key:"hasExpired",value:function(){var x=this.getExpiredAt();if(!x)return!0;var b=Math.round(new Date().valueOf()/1e3);return b>=x}}])}();e.default=v})(If);var Uf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(u){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(u)}function r(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function s(u,m){for(var h=0;h<m.length;h++){var p=m[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,o(p.key),p)}}function a(u,m,h){return m&&s(u.prototype,m),Object.defineProperty(u,"prototype",{writable:!1}),u}function i(u,m,h){return(m=o(m))in u?Object.defineProperty(u,m,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[m]=h,u}function o(u){var m=l(u,"string");return t(m)=="symbol"?m:m+""}function l(u,m){if(t(u)!="object"||!u)return u;var h=u[Symbol.toPrimitive];if(h!==void 0){var p=h.call(u,m);if(t(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var c="oc-transaction-storage",d=function(){function u(m){r(this,u),i(this,"storageManager",void 0),this.storageManager=new m(c)}return a(u,[{key:"clear",value:function(){this.storageManager.getStorageObject().clearStorage()}},{key:"save",value:function(h){this.storageManager.getStorageObject().setStorage(h)}},{key:"getTransactionMeta",value:function(){return this.storageManager.getStorageObject().getStorage()}},{key:"hasActiveTransaction",value:function(){var h=this.storageManager.getStorageObject();return!!h.codeChallenge&&!!h.codeVerifier}}])}();e.default=d})(Uf);var fr={},Cu={},a4={exports:{}};/*! js-cookie v3.0.5 | MIT */(function(e,t){(function(r,s){e.exports=s()})(I3,function(){function r(o){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)o[d]=c[d]}return o}var s={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function a(o,l){function c(u,m,h){if(!(typeof document>"u")){h=r({},l,h),typeof h.expires=="number"&&(h.expires=new Date(Date.now()+h.expires*864e5)),h.expires&&(h.expires=h.expires.toUTCString()),u=encodeURIComponent(u).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var f in h)h[f]&&(p+="; "+f,h[f]!==!0&&(p+="="+h[f].split(";")[0]));return document.cookie=u+"="+o.write(m,u)+p}}function d(u){if(!(typeof document>"u"||arguments.length&&!u)){for(var m=document.cookie?document.cookie.split("; "):[],h={},p=0;p<m.length;p++){var f=m[p].split("="),v=f.slice(1).join("=");try{var y=decodeURIComponent(f[0]);if(h[y]=o.read(v,y),u===y)break}catch{}}return u?h[u]:h}}return Object.create({set:c,get:d,remove:function(u,m){c(u,"",r({},m,{expires:-1}))},withAttributes:function(u){return a(this.converter,r({},this.attributes,u))},withConverter:function(u){return a(r({},this.converter,u),this.attributes)}},{attributes:{value:Object.freeze(l)},converter:{value:Object.freeze(o)}})}var i=a(s,{path:"/"});return i})})(a4);var rA=a4.exports;Object.defineProperty(Cu,"__esModule",{value:!0});Cu.CookieStorageProvider=void 0;var A0=sA(rA);function sA(e){return e&&e.__esModule?e:{default:e}}function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function aA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,i4(s.key),s)}}function oA(e,t,r){return t&&iA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M0(e,t,r){return(t=i4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i4(e){var t=lA(e,"string");return al(t)=="symbol"?t:t+""}function lA(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(al(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/Cu.CookieStorageProvider=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};aA(this,e),M0(this,"domain",void 0),M0(this,"sameSite",void 0),M0(this,"keyPrefix",void 0),this.domain=t.domain,this.sameSite=t.sameSite,this.keyPrefix=t.cookieKeyPrefix}return oA(e,[{key:"getKey",value:function(r){return this.keyPrefix?"".concat(this.keyPrefix,"-").concat(r):r}},{key:"getItem",value:function(r){return A0.default.get(this.getKey(r))}},{key:"setItem",value:function(r,s){var a={expires:365,path:"/",domain:this.domain};return this.sameSite===!0?a.sameSite="Strict":this.sameSite===!1&&(a.sameSite="None",a.secure=!0),A0.default.set(this.getKey(r),s,a)}},{key:"removeItem",value:function(r){return A0.default.remove(this.getKey(r),{path:"/",domain:this.domain})}}])}();Object.defineProperty(fr,"__esModule",{value:!0});fr.getStorageClass=fr.LocalStorageManager=fr.BaseStorageManager=void 0;var cA=bn,dA=Cu;function xi(e){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(e)}function o4(e,t,r){return t=Sd(t),uA(e,l4()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function uA(e,t){if(t&&(xi(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mA(e)}function mA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sd(e)}function c4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fh(e,t)}function Fh(e,t){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Fh(e,t)}function ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,d4(s.key),s)}}function Tu(e,t,r){return t&&hA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cd(e,t,r){return(t=d4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d4(e){var t=pA(e,"string");return xi(t)=="symbol"?t:t+""}function pA(e,t){if(xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(xi(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var fA=function(){function e(t,r){ku(this,e),Cd(this,"storageProvider",void 0),Cd(this,"storageName",void 0),this.storageProvider=t,this.storageName=r}return Tu(e,[{key:"getItem",value:function(r){return this.getStorage()[r]}},{key:"setItem",value:function(r,s){return this.updateStorage(r,s)}},{key:"removeItem",value:function(r){return this.clearStorage(r)}},{key:"getStorage",value:function(){var r=this.storageProvider.getItem(this.storageName);r=r||"{}";try{return JSON.parse(r)}catch{throw new cA.InternalError("Unable to parse storage string: "+this.storageName)}}},{key:"setStorage",value:function(r){try{var s=r?JSON.stringify(r):"{}";this.storageProvider.setItem(this.storageName,s)}catch{throw new Error("Unable to set storage: "+this.storageName)}}},{key:"clearStorage",value:function(r){if(!r){this.storageProvider.removeItem(this.storageName);return}var s=this.getStorage();delete s[r],this.setStorage(s)}},{key:"updateStorage",value:function(r,s){var a=this.getStorage();a[r]=s,this.setStorage(a)}}])}(),u4=fr.BaseStorageManager=function(){function e(t,r){ku(this,e),Cd(this,"storageProvider",void 0),Cd(this,"storageName",void 0),this.storageName=t,this.storageProvider=r}return Tu(e,[{key:"getStorageObject",value:function(){return new fA(this.storageProvider,this.storageName)}}])}(),gA=fr.LocalStorageManager=function(e){function t(r){return ku(this,t),o4(this,t,[r,window.localStorage])}return c4(t,e),Tu(t)}(u4);fr.getStorageClass=function(t){return t.storageType==="cookie"?function(r){function s(a){return ku(this,s),o4(this,s,[a,new dA.CookieStorageProvider(t)])}return c4(s,r),Tu(s)}(u4):gA};var m4={},Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.buildAuthEndpointUrl=void 0;/*!
 * Copyright 2024-Present Animoca Brands Corporation Ltd.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */Eu.buildAuthEndpointUrl=function(t,r){var s=new URL(r);return s.searchParams.append("client_id",t.clientId),s.searchParams.append("origin_url",window.location.href),s.searchParams.append("redirect_uri",t.redirectUri),s.searchParams.append("response_type",t.responseType),s.searchParams.append("scope",t.scope),s.searchParams.append("code_challenge",t.codeChallenge),s.searchParams.append("code_challenge_method",t.codeChallengeMethod),t.state!==void 0&&s.searchParams.append("state",t.state),t.referralCode&&s.searchParams.append("ref",t.referralCode),s.href};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Eu;Object.keys(t).forEach(function(r){r==="default"||r==="__esModule"||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})})(m4);Object.defineProperty(pr,"__esModule",{value:!0});pr.OCAuthSandbox=pr.OCAuthLive=pr.OCAuthCore=void 0;var xA=Vf(e4),h4=Vf(If),p4=Vf(Uf),f4=fr,qi=_f,yA=m4,Ly=bn;function Vf(e){return e&&e.__esModule?e:{default:e}}function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function g4(e,t,r){return t=kd(t),bA(e,x4()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function bA(e,t){if(t&&(vs(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vA(e)}function vA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kd(e)}function y4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oh(e,t)}function Oh(e,t){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Oh(e,t)}function Ls(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ls=function(){return t};var e,t={},r=Object.prototype,s=r.hasOwnProperty,a=Object.defineProperty||function(L,A,E){L[A]=E.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(L,A,E){return Object.defineProperty(L,A,{value:E,enumerable:!0,configurable:!0,writable:!0}),L[A]}try{d({},"")}catch{d=function(E,O,F){return E[O]=F}}function u(L,A,E,O){var F=A&&A.prototype instanceof g?A:g,R=Object.create(F.prototype),_=new ne(O||[]);return a(R,"_invoke",{value:B(L,E,_)}),R}function m(L,A,E){try{return{type:"normal",arg:L.call(A,E)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",v="completed",y={};function g(){}function x(){}function b(){}var N={};d(N,o,function(){return this});var j=Object.getPrototypeOf,k=j&&j(j(J([])));k&&k!==r&&s.call(k,o)&&(N=k);var T=b.prototype=g.prototype=Object.create(N);function P(L){["next","throw","return"].forEach(function(A){d(L,A,function(E){return this._invoke(A,E)})})}function I(L,A){function E(F,R,_,Y){var ee=m(L[F],L,R);if(ee.type!=="throw"){var me=ee.arg,le=me.value;return le&&vs(le)=="object"&&s.call(le,"__await")?A.resolve(le.__await).then(function(ce){E("next",ce,_,Y)},function(ce){E("throw",ce,_,Y)}):A.resolve(le).then(function(ce){me.value=ce,_(me)},function(ce){return E("throw",ce,_,Y)})}Y(ee.arg)}var O;a(this,"_invoke",{value:function(R,_){function Y(){return new A(function(ee,me){E(R,_,ee,me)})}return O=O?O.then(Y,Y):Y()}})}function B(L,A,E){var O=h;return function(F,R){if(O===f)throw Error("Generator is already running");if(O===v){if(F==="throw")throw R;return{value:e,done:!0}}for(E.method=F,E.arg=R;;){var _=E.delegate;if(_){var Y=U(_,E);if(Y){if(Y===y)continue;return Y}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(O===h)throw O=v,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);O=f;var ee=m(L,A,E);if(ee.type==="normal"){if(O=E.done?v:p,ee.arg===y)continue;return{value:ee.arg,done:E.done}}ee.type==="throw"&&(O=v,E.method="throw",E.arg=ee.arg)}}}function U(L,A){var E=A.method,O=L.iterator[E];if(O===e)return A.delegate=null,E==="throw"&&L.iterator.return&&(A.method="return",A.arg=e,U(L,A),A.method==="throw")||E!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+E+"' method")),y;var F=m(O,L.iterator,A.arg);if(F.type==="throw")return A.method="throw",A.arg=F.arg,A.delegate=null,y;var R=F.arg;return R?R.done?(A[L.resultName]=R.value,A.next=L.nextLoc,A.method!=="return"&&(A.method="next",A.arg=e),A.delegate=null,y):R:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function q(L){var A={tryLoc:L[0]};1 in L&&(A.catchLoc=L[1]),2 in L&&(A.finallyLoc=L[2],A.afterLoc=L[3]),this.tryEntries.push(A)}function K(L){var A=L.completion||{};A.type="normal",delete A.arg,L.completion=A}function ne(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(q,this),this.reset(!0)}function J(L){if(L||L===""){var A=L[o];if(A)return A.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var E=-1,O=function F(){for(;++E<L.length;)if(s.call(L,E))return F.value=L[E],F.done=!1,F;return F.value=e,F.done=!0,F};return O.next=O}}throw new TypeError(vs(L)+" is not iterable")}return x.prototype=b,a(T,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(L){var A=typeof L=="function"&&L.constructor;return!!A&&(A===x||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,b):(L.__proto__=b,d(L,c,"GeneratorFunction")),L.prototype=Object.create(T),L},t.awrap=function(L){return{__await:L}},P(I.prototype),d(I.prototype,l,function(){return this}),t.AsyncIterator=I,t.async=function(L,A,E,O,F){F===void 0&&(F=Promise);var R=new I(u(L,A,E,O),F);return t.isGeneratorFunction(A)?R:R.next().then(function(_){return _.done?_.value:R.next()})},P(T),d(T,c,"Generator"),d(T,o,function(){return this}),d(T,"toString",function(){return"[object Generator]"}),t.keys=function(L){var A=Object(L),E=[];for(var O in A)E.push(O);return E.reverse(),function F(){for(;E.length;){var R=E.pop();if(R in A)return F.value=R,F.done=!1,F}return F.done=!0,F}},t.values=J,ne.prototype={constructor:ne,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(K),!A)for(var E in this)E.charAt(0)==="t"&&s.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var E=this;function O(me,le){return _.type="throw",_.arg=A,E.next=me,le&&(E.method="next",E.arg=e),!!le}for(var F=this.tryEntries.length-1;F>=0;--F){var R=this.tryEntries[F],_=R.completion;if(R.tryLoc==="root")return O("end");if(R.tryLoc<=this.prev){var Y=s.call(R,"catchLoc"),ee=s.call(R,"finallyLoc");if(Y&&ee){if(this.prev<R.catchLoc)return O(R.catchLoc,!0);if(this.prev<R.finallyLoc)return O(R.finallyLoc)}else if(Y){if(this.prev<R.catchLoc)return O(R.catchLoc,!0)}else{if(!ee)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return O(R.finallyLoc)}}}},abrupt:function(A,E){for(var O=this.tryEntries.length-1;O>=0;--O){var F=this.tryEntries[O];if(F.tryLoc<=this.prev&&s.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var R=F;break}}R&&(A==="break"||A==="continue")&&R.tryLoc<=E&&E<=R.finallyLoc&&(R=null);var _=R?R.completion:{};return _.type=A,_.arg=E,R?(this.method="next",this.next=R.finallyLoc,y):this.complete(_)},complete:function(A,E){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&E&&(this.next=E),y},finish:function(A){for(var E=this.tryEntries.length-1;E>=0;--E){var O=this.tryEntries[E];if(O.finallyLoc===A)return this.complete(O.completion,O.afterLoc),K(O),y}},catch:function(A){for(var E=this.tryEntries.length-1;E>=0;--E){var O=this.tryEntries[E];if(O.tryLoc===A){var F=O.completion;if(F.type==="throw"){var R=F.arg;K(O)}return R}}throw Error("illegal catch attempt")},delegateYield:function(A,E,O){return this.delegate={iterator:J(A),resultName:E,nextLoc:O},this.method==="next"&&(this.arg=e),y}},t}function Iy(e,t,r,s,a,i,o){try{var l=e[i](o),c=l.value}catch(d){return void r(d)}l.done?t(c):Promise.resolve(c).then(s,a)}function R0(e){return function(){var t=this,r=arguments;return new Promise(function(s,a){var i=e.apply(t,r);function o(c){Iy(i,s,a,o,l,"next",c)}function l(c){Iy(i,s,a,o,l,"throw",c)}o(void 0)})}}function Wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,b4(s.key),s)}}function Hf(e,t,r){return t&&wA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Or(e,t,r){return(t=b4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b4(e){var t=jA(e,"string");return vs(t)=="symbol"?t:t+""}function jA(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(vs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/var v4=pr.OCAuthCore=function(){function e(t,r,s,a,i,o,l){if(Wf(this,e),Or(this,"clientId",void 0),Or(this,"tokenManager",void 0),Or(this,"authInfoManager",void 0),Or(this,"transactionManager",void 0),Or(this,"redirectUri",void 0),Or(this,"loginEndPoint",void 0),Or(this,"logoutEndPoint",void 0),Or(this,"referralCode",void 0),!t)throw new Ly.InvalidParamsError("clientId is not defined");this.transactionManager=a,this.tokenManager=i,this.authInfoManager=new xA.default,this.loginEndPoint=r,this.logoutEndPoint=l,this.redirectUri=s,this.referralCode=o,this.clientId=t,this.syncAuthInfo()}return Hf(e,[{key:"clearStorage",value:function(){this.transactionManager.clear(),this.tokenManager.clear()}},{key:"logout",value:function(){var t=R0(Ls().mark(function s(a){var i;return Ls().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:this.clearStorage(),i=new URL(this.logoutEndPoint),a&&i.searchParams.append("returnTo",a),window.location.assign(i.toString());case 4:case"end":return l.stop()}},s,this)}));function r(s){return t.apply(this,arguments)}return r}()},{key:"signInWithRedirect",value:function(){var t=R0(Ls().mark(function s(a){var i,o,l,c;return Ls().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=Object.assign({},a),i.redirectUri=this.redirectUri,i.clientId=this.clientId,u.next=5,(0,qi.prepareTokenParams)(i);case 5:o=u.sent,l=(0,qi.createPkceMeta)(o),this.transactionManager.save(l),o.referralCode=this.referralCode,c=(0,yA.buildAuthEndpointUrl)(o,this.loginEndPoint),window.location.assign(c);case 11:case"end":return u.stop()}},s,this)}));function r(s){return t.apply(this,arguments)}return r}()},{key:"handleLoginRedirect",value:function(){var t=R0(Ls().mark(function s(){var a,i,o;return Ls().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a=(0,qi.parseUrl)(),!a.code){c.next=13;break}if(i=this.transactionManager.getTransactionMeta(),o=i.codeVerifier,!o){c.next=12;break}return c.next=7,this.tokenManager.exchangeTokenFromCode(a.code,o,a.state);case 7:return this.transactionManager.clear(),this.syncAuthInfo(),c.abrupt("return",this.getAuthState());case 12:throw new Ly.AuthError("codeVerifier not found, cannot complete flow");case 13:return c.abrupt("return",{});case 14:case"end":return c.stop()}},s,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"isAuthenticated",value:function(){return!this.tokenManager.hasExpired()}},{key:"syncAuthInfo",value:function(){if(this.tokenManager.hasExpired())this.authInfoManager.clear();else{var r=this.getParsedIdToken(),s=r.edu_username,a=r.eth_address;this.authInfoManager.setAuthState(this.getAccessToken(),this.getIdToken(),s,a,!0)}}},{key:"getAuthState",value:function(){return this.authInfoManager.getAuthState()}},{key:"getStateParameter",value:function(){return this.tokenManager.getStateParameter()}},{key:"getIdToken",value:function(){return this.tokenManager.getIdToken()}},{key:"getAccessToken",value:function(){return this.tokenManager.getAccessToken()}},{key:"getParsedIdToken",value:function(){var r=this.tokenManager.getIdToken();return r?(0,qi.parseJwt)(r):{}}},{key:"getParsedAccessToken",value:function(){var r=this.tokenManager.getAccessToken();return r?(0,qi.parseJwt)(r):{}}},{key:"OCId",get:function(){var r,s=this.authInfoManager.getAuthState();return(r=s.OCId)!==null&&r!==void 0?r:null}},{key:"ethAddress",get:function(){var r,s=this.authInfoManager.getAuthState();return(r=s.ethAddress)!==null&&r!==void 0?r:null}}])}(),NA="MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEBIDHtLbgVM76SXZ4iuIjuO+ERQPnVpJzagOsZdYxFG3ZJmvfdpr/Z29SLUbdZWafrOlAVlKe1Ovf/tcH671tTw==",SA="MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE/EymMLXd/MVYPK5r2xXQj91ZVvX3OQ+QagvR2N6lCvRVjnzmOtPRTf+u5g1RliWnmuxbV3gTm0/0VuV/40Salg==";pr.OCAuthLive=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wf(this,t);var s=r.tokenEndPoint,a=r.loginEndPoint,i=r.logoutEndPoint,o=r.publicKey,l=r.redirectUri,c=r.referralCode,d=r.clientId,u=s||"https://api.login.opencampus.xyz/auth/token",m=a||"https://api.login.opencampus.xyz/auth/login",h=i||"https://api.login.opencampus.xyz/auth/logout",p=o||NA,f=(0,f4.getStorageClass)(r),v=new p4.default(f),y=new h4.default(f,u,p);return g4(this,t,[d,m,l,v,y,c,h])}return y4(t,e),Hf(t)}(v4);pr.OCAuthSandbox=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wf(this,t);var s=r.tokenEndPoint,a=r.loginEndPoint,i=r.logoutEndPoint,o=r.publicKey,l=r.redirectUri,c=r.referralCode,d=r.clientId||"sandbox",u=s||"https://api.login.sandbox.opencampus.xyz/auth/token",m=a||"https://api.login.sandbox.opencampus.xyz/auth/login",h=i||"https://api.login.sandbox.opencampus.xyz/auth/logout",p=o||SA,f=(0,f4.getStorageClass)(r),v=new p4.default(f),y=new h4.default(f,u,p);return g4(this,t,[d,m,l,v,y,c,h])}return y4(t,e),Hf(t)}(v4);(function(e){function t(f){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},t(f)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(w),s=Cr,a=pr;function i(f){if(typeof WeakMap!="function")return null;var v=new WeakMap,y=new WeakMap;return(i=function(x){return x?y:v})(f)}function o(f,v){if(f&&f.__esModule)return f;if(f===null||t(f)!="object"&&typeof f!="function")return{default:f};var y=i(v);if(y&&y.has(f))return y.get(f);var g={__proto__:null},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in f)if(b!=="default"&&{}.hasOwnProperty.call(f,b)){var N=x?Object.getOwnPropertyDescriptor(f,b):null;N&&(N.get||N.set)?Object.defineProperty(g,b,N):g[b]=f[b]}return g.default=f,y&&y.set(f,g),g}function l(f,v){return h(f)||m(f,v)||d(f,v)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(f,v){if(f){if(typeof f=="string")return u(f,v);var y={}.toString.call(f).slice(8,-1);return y==="Object"&&f.constructor&&(y=f.constructor.name),y==="Map"||y==="Set"?Array.from(f):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?u(f,v):void 0}}function u(f,v){(v==null||v>f.length)&&(v=f.length);for(var y=0,g=Array(v);y<v;y++)g[y]=f[y];return g}function m(f,v){var y=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(y!=null){var g,x,b,N,j=[],k=!0,T=!1;try{if(b=(y=y.call(f)).next,v!==0)for(;!(k=(g=b.call(y)).done)&&(j.push(g.value),j.length!==v);k=!0);}catch(P){T=!0,x=P}finally{try{if(!k&&y.return!=null&&(N=y.return(),Object(N)!==N))return}finally{if(T)throw x}}return j}}function h(f){if(Array.isArray(f))return f}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/var p=function(v){var y=v.children,g=v.opts,x=v.sandboxMode,b=(0,r.useState)(),N=l(b,2),j=N[0],k=N[1],T=(0,r.useState)(),P=l(T,2),I=P[0],B=P[1],U=(0,r.useState)(),q=l(U,2),K=q[0],ne=q[1],J=(0,r.useState)(),L=l(J,2),A=L[0],E=L[1],O=(0,r.useState)(!1),F=l(O,2),R=F[0],_=F[1],Y=(0,r.useState)(null),ee=l(Y,2),me=ee[0],le=ee[1],ce=function(H){E(H),B(H.OCId),ne(H.ethAddress)};return(0,r.useEffect)(function(){var G=x?new a.OCAuthSandbox(g):new a.OCAuthLive(g);ce(G.getAuthState()),k(G),_(!0)},[]),(0,r.useEffect)(function(){if(j&&j.authInfoManager)return j.authInfoManager.subscribe(ce),function(){j.authInfoManager.unsubscribe(ce)}},[j]),r.default.createElement(s.OCContext.Provider,{value:{OCId:I,ethAddress:K,ocAuth:j,authState:A,authError:me,isInitialized:R,setAuthError:le}},y)};e.default=p})(Jj);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={LoginButton:!0,LoginCallBack:!0,OCConnect:!0};Object.defineProperty(e,"LoginButton",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"LoginCallBack",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OCConnect",{enumerable:!0,get:function(){return a.default}});var r=o(Kj),s=o(Xj),a=o(Jj),i=Cr;Object.keys(i).forEach(function(l){l==="default"||l==="__esModule"||Object.prototype.hasOwnProperty.call(t,l)||l in e&&e[l]===i[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return i[l]}})});function o(l){return l&&l.__esModule?l:{default:l}}})(qj);var w4={},j4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={TokenManager:!0,TransactionManager:!0};Object.defineProperty(e,"TokenManager",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"TransactionManager",{enumerable:!0,get:function(){return s.default}});var r=i(If),s=i(Uf),a=fr;Object.keys(a).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(t,o)||o in e&&e[o]===a[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return a[o]}})});function i(o){return o&&o.__esModule?o:{default:o}}})(j4);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=j4;Object.keys(t).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===t[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[s]}})});var r=pr;Object.keys(r).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===r[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return r[s]}})})})(w4);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=qj;Object.keys(t).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===t[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[s]}})});var r=w4;Object.keys(r).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===r[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return r[s]}})})})(ms);function CA({children:e,sandboxMode:t=!0}){const r={clientId:"<Does_Not_Matter_For_Sandbox_mode>",redirectUri:window.location.origin+"/redirect",referralCode:"PARTNER6",storageType:"localStorage"};return n.jsx(ms.OCConnect,{opts:r,sandboxMode:t,children:e})}const Gf=w.createContext({});function qf(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kf=typeof window<"u",N4=Kf?w.useLayoutEffect:w.useEffect,Pu=w.createContext(null),Yf=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class kA extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=r.offsetParent,a=s instanceof HTMLElement&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function TA({children:e,isPresent:t,anchorX:r}){const s=w.useId(),a=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(Yf);return w.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:m}=i.current;if(t||!a.current||!l||!c)return;const h=r==="left"?`left: ${u}`:`right: ${m}`;a.current.dataset.motionPopId=s;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${h}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),n.jsx(kA,{isPresent:t,childRef:a,sizeRef:i,children:w.cloneElement(e,{ref:a})})}const EA=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const c=qf(PA),d=w.useId(),u=w.useCallback(h=>{c.set(h,!0);for(const p of c.values())if(!p)return;s&&s()},[c,s]),m=w.useMemo(()=>({id:d,initial:t,isPresent:r,custom:a,onExitComplete:u,register:h=>(c.set(h,!1),()=>c.delete(h))}),i?[Math.random(),u]:[r,u]);return w.useMemo(()=>{c.forEach((h,p)=>c.set(p,!1))},[r]),w.useEffect(()=>{!r&&!c.size&&s&&s()},[r]),o==="popLayout"&&(e=n.jsx(TA,{isPresent:r,anchorX:l,children:e})),n.jsx(Pu.Provider,{value:m,children:e})};function PA(){return new Map}function S4(e=!0){const t=w.useContext(Pu);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=t,i=w.useId();w.useEffect(()=>{if(e)return a(i)},[e]);const o=w.useCallback(()=>e&&s&&s(i),[i,s,e]);return!r&&s?[!1,o]:[!0]}const cc=e=>e.key||"";function _y(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const Nt=({children:e,custom:t,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=S4(o),u=w.useMemo(()=>_y(e),[e]),m=o&&!c?[]:u.map(cc),h=w.useRef(!0),p=w.useRef(u),f=qf(()=>new Map),[v,y]=w.useState(u),[g,x]=w.useState(u);N4(()=>{h.current=!1,p.current=u;for(let j=0;j<g.length;j++){const k=cc(g[j]);m.includes(k)?f.delete(k):f.get(k)!==!0&&f.set(k,!1)}},[g,m.length,m.join("-")]);const b=[];if(u!==v){let j=[...u];for(let k=0;k<g.length;k++){const T=g[k],P=cc(T);m.includes(P)||(j.splice(k,0,T),b.push(T))}return i==="wait"&&b.length&&(j=b),x(_y(j)),y(u),null}const{forceRender:N}=w.useContext(Gf);return n.jsx(n.Fragment,{children:g.map(j=>{const k=cc(j),T=o&&!c?!1:u===g||m.includes(k),P=()=>{if(f.has(k))f.set(k,!0);else return;let I=!0;f.forEach(B=>{B||(I=!1)}),I&&(N==null||N(),x(p.current),o&&(d==null||d()),s&&s())};return n.jsx(EA,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:P,anchorX:l,children:j},k)})})};function Qf(e,t){e.indexOf(t)===-1&&e.push(t)}function Xf(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const sn=e=>e;let C4=sn;const AA={useManualTiming:!1};function Zf(e){let t;return()=>(t===void 0&&(t=e()),t)}const yi=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s};class Jf{constructor(){this.subscriptions=[]}add(t){return Qf(this.subscriptions,t),()=>Xf(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=e=>e*1e3,xr=e=>e/1e3;function k4(e,t){return t?e*(1e3/t):0}const MA=Zf(()=>window.ScrollTimeline!==void 0);class RA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=r}attachTimeline(t,r){const s=this.animations.map(a=>{if(MA()&&a.attachTimeline)return a.attachTimeline(t);if(typeof r=="function")return r(a)});return()=>{s.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class LA extends RA{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function eg(e,t){return e?e[t]||e.default||e:void 0}const Dh=2e4;function T4(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<Dh;)t+=r,s=e.next(t);return t>=Dh?1/0:t}function tg(e){return typeof e=="function"}function Fy(e,t){e.timeline=t,e.onfinish=null}const ng=e=>Array.isArray(e)&&typeof e[0]=="number",IA={linearEasing:void 0};function _A(e,t){const r=Zf(e);return()=>{var s;return(s=IA[t])!==null&&s!==void 0?s:r()}}const Td=_A(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),E4=(e,t,r=10)=>{let s="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)s+=e(yi(0,a-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function P4(e){return!!(typeof e=="function"&&Td()||!e||typeof e=="string"&&(e in $h||Td())||ng(e)||Array.isArray(e)&&e.every(P4))}const io=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,$h={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:io([0,.65,.55,1]),circOut:io([.55,0,1,.45]),backIn:io([.31,.01,.66,-.59]),backOut:io([.33,1.53,.69,.99])};function A4(e,t){if(e)return typeof e=="function"&&Td()?E4(e,t):ng(e)?io(e):Array.isArray(e)?e.map(r=>A4(r,t)||$h.easeOut):$h[e]}const dc=["read","resolveKeyframes","update","preRender","render","postRender"],Oy={value:null};function FA(e,t){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){o.has(m)&&(u.schedule(m),e()),c++,m(l)}const u={schedule:(m,h=!1,p=!1)=>{const v=p&&a?r:s;return h&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{s.delete(m),o.delete(m)},process:m=>{if(l=m,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(d),t&&Oy.value&&Oy.value.frameloop[t].push(c),c=0,r.clear(),a=!1,i&&(i=!1,u.process(m))}};return u}const OA=40;function M4(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=dc.reduce((g,x)=>(g[x]=FA(i,t?x:void 0),g),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:m,postRender:h}=o,p=()=>{const g=performance.now();r=!1,a.delta=s?1e3/60:Math.max(Math.min(g-a.timestamp,OA),1),a.timestamp=g,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),m.process(a),h.process(a),a.isProcessing=!1,r&&t&&(s=!1,e(p))},f=()=>{r=!0,s=!0,a.isProcessing||e(p)};return{schedule:dc.reduce((g,x)=>{const b=o[x];return g[x]=(N,j=!1,k=!1)=>(r||f(),b.schedule(N,j,k)),g},{}),cancel:g=>{for(let x=0;x<dc.length;x++)o[dc[x]].cancel(g)},state:a,steps:o}}const{schedule:Ye,cancel:ws,state:bt,steps:L0}=M4(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0),{schedule:rg}=M4(queueMicrotask,!1);let Oc;function DA(){Oc=void 0}const er={now:()=>(Oc===void 0&&er.set(bt.isProcessing||AA.useManualTiming?bt.timestamp:performance.now()),Oc),set:e=>{Oc=e,queueMicrotask(DA)}},kn={x:!1,y:!1};function R4(){return kn.x||kn.y}function $A(e){return e==="x"||e==="y"?kn[e]?null:(kn[e]=!0,()=>{kn[e]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}function BA(e,t,r){var s;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const i=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function L4(e,t){const r=BA(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[r,a,()=>s.abort()]}function Dy(e){return!(e.pointerType==="touch"||R4())}function zA(e,t,r={}){const[s,a,i]=L4(e,r),o=l=>{if(!Dy(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=m=>{Dy(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const I4=(e,t)=>t?e===t?!0:I4(e,t.parentElement):!1,sg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,UA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VA(e){return UA.has(e.tagName)||e.tabIndex!==-1}const oo=new WeakSet;function $y(e){return t=>{t.key==="Enter"&&e(t)}}function I0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const WA=(e,t)=>{const r=e.currentTarget;if(!r)return;const s=$y(()=>{if(oo.has(r))return;I0(r,"down");const a=$y(()=>{I0(r,"up")}),i=()=>I0(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)};function By(e){return sg(e)&&!R4()}function HA(e,t,r={}){const[s,a,i]=L4(e,r),o=l=>{const c=l.currentTarget;if(!By(l)||oo.has(c))return;oo.add(c);const d=t(c,l),u=(p,f)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!By(p)||!oo.has(c))&&(oo.delete(c),typeof d=="function"&&d(p,{success:f}))},m=p=>{u(p,c===window||c===document||r.useGlobalTarget||I4(c,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",h,a)};return s.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l instanceof HTMLElement&&(l.addEventListener("focus",d=>WA(d,a)),!VA(l)&&l.tabIndex===null&&(l.tabIndex=0))}),i}const zy=30,GA=e=>!isNaN(parseFloat(e));class qA{constructor(t,r={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const i=er.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=er.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Jf);const s=this.events[t].add(r);return t==="change"?()=>{s(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zy)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,zy);return k4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(e,t){return new qA(e,t)}const _4=w.createContext({strict:!1}),Uy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bi={};for(const e in Uy)bi[e]={isEnabled:t=>Uy[e].some(r=>!!t[r])};function KA(e){for(const t in e)bi[t]={...bi[t],...e[t]}}const YA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ed(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||YA.has(e)}let F4=e=>!Ed(e);function QA(e){e&&(F4=t=>t.startsWith("on")?!Ed(t):e(t))}try{QA(require("@emotion/is-prop-valid").default)}catch{}function XA(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(F4(a)||r===!0&&Ed(a)||!t&&!Ed(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function ZA(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...s)=>e(...s);return new Proxy(r,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Au=w.createContext({});function Mu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ol(e){return typeof e=="string"||Array.isArray(e)}const ag=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ig=["initial",...ag];function Ru(e){return Mu(e.animate)||ig.some(t=>ol(e[t]))}function O4(e){return!!(Ru(e)||e.variants)}function JA(e,t){if(Ru(e)){const{initial:r,animate:s}=e;return{initial:r===!1||ol(r)?r:void 0,animate:ol(s)?s:void 0}}return e.inherit!==!1?t:{}}function eM(e){const{initial:t,animate:r}=JA(e,w.useContext(Au));return w.useMemo(()=>({initial:t,animate:r}),[Vy(t),Vy(r)])}function Vy(e){return Array.isArray(e)?e.join(" "):e}const tM=Symbol.for("motionComponentSymbol");function Ma(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nM(e,t,r){return w.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):Ma(r)&&(r.current=s))},[t])}const og=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rM="framerAppearId",D4="data-"+og(rM),$4=w.createContext({});function sM(e,t,r,s,a){var i,o;const{visualElement:l}=w.useContext(Au),c=w.useContext(_4),d=w.useContext(Pu),u=w.useContext(Yf).reducedMotion,m=w.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const h=m.current,p=w.useContext($4);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&aM(m.current,r,a,p);const f=w.useRef(!1);w.useInsertionEffect(()=>{h&&f.current&&h.update(r,d)});const v=r[D4],y=w.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return N4(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),rg.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),y.current=!1))}),h}function aM(e,t,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:B4(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Ma(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function B4(e){if(e)return e.options.allowProjection!==!1?e.projection:B4(e.parent)}function iM({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:a}){var i,o;e&&KA(e);function l(d,u){let m;const h={...w.useContext(Yf),...d,layoutId:oM(d)},{isStatic:p}=h,f=eM(d),v=s(d,p);if(!p&&Kf){lM();const y=cM(h);m=y.MeasureLayout,f.visualElement=sM(a,v,h,t,y.ProjectionNode)}return n.jsxs(Au.Provider,{value:f,children:[m&&f.visualElement?n.jsx(m,{visualElement:f.visualElement,...h}):null,r(a,d,nM(v,f.visualElement,u),v,p,f.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const c=w.forwardRef(l);return c[tM]=a,c}function oM({layoutId:e}){const t=w.useContext(Gf).id;return t&&e!==void 0?t+"-"+e:e}function lM(e,t){w.useContext(_4).strict}function cM(e){const{drag:t,layout:r}=bi;if(!t&&!r)return{};const s={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const z4=e=>t=>typeof t=="string"&&t.startsWith(e),lg=z4("--"),dM=z4("var(--"),cg=e=>dM(e)?uM.test(e.split("/*")[0].trim()):!1,uM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ll={};function mM(e){for(const t in e)ll[t]=e[t],lg(t)&&(ll[t].isCSSVariable=!0)}const Pi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ma=new Set(Pi);function U4(e,{layout:t,layoutId:r}){return ma.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ll[e]||e==="opacity")}const Rt=e=>!!(e&&e.getVelocity),V4=(e,t)=>t&&typeof e=="number"?t.transform(e):e,kr=(e,t,r)=>r>t?t:r<e?e:r,Ai={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},cl={...Ai,transform:e=>kr(0,1,e)},uc={...Ai,default:1},El=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Br=El("deg"),tr=El("%"),Ee=El("px"),hM=El("vh"),pM=El("vw"),Wy={...tr,parse:e=>tr.parse(e)/100,transform:e=>tr.transform(e*100)},fM={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},gM={rotate:Br,rotateX:Br,rotateY:Br,rotateZ:Br,scale:uc,scaleX:uc,scaleY:uc,scaleZ:uc,skew:Br,skewX:Br,skewY:Br,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:cl,originX:Wy,originY:Wy,originZ:Ee},Hy={...Ai,transform:Math.round},dg={...fM,...gM,zIndex:Hy,size:Ee,fillOpacity:cl,strokeOpacity:cl,numOctaves:Hy},xM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yM=Pi.length;function bM(e,t,r){let s="",a=!0;for(let i=0;i<yM;i++){const o=Pi[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=V4(l,dg[o]);if(!c){a=!1;const u=xM[o]||o;s+=`${u}(${d}) `}r&&(t[o]=d)}}return s=s.trim(),r?s=r(t,a?"":s):a&&(s="none"),s}function ug(e,t,r){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ma.has(c)){o=!0;continue}else if(lg(c)){a[c]=d;continue}else{const u=V4(d,dg[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(t.transform||(o||r?s.transform=bM(t,e.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const mg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W4(e,t,r){for(const s in t)!Rt(t[s])&&!U4(s,r)&&(e[s]=t[s])}function vM({transformTemplate:e},t){return w.useMemo(()=>{const r=mg();return ug(r,t,e),Object.assign({},r.vars,r.style)},[t])}function wM(e,t){const r=e.style||{},s={};return W4(s,r,e),Object.assign(s,vM(e,t)),s}function jM(e,t){const r={},s=wM(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const NM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hg(e){return typeof e!="string"||e.includes("-")?!1:!!(NM.indexOf(e)>-1||/[A-Z]/u.test(e))}const SM={offset:"stroke-dashoffset",array:"stroke-dasharray"},CM={offset:"strokeDashoffset",array:"strokeDasharray"};function kM(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?SM:CM;e[i.offset]=Ee.transform(-s);const o=Ee.transform(t),l=Ee.transform(r);e[i.array]=`${o} ${l}`}function Gy(e,t,r){return typeof e=="string"?e:Ee.transform(t+r*e)}function TM(e,t,r){const s=Gy(t,e.x,e.width),a=Gy(r,e.y,e.height);return`${s} ${a}`}function pg(e,{attrX:t,attrY:r,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,m){if(ug(e,d,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=TM(f,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),o!==void 0&&kM(h,o,l,c,!1)}const H4=()=>({...mg(),attrs:{}}),fg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function EM(e,t,r,s){const a=w.useMemo(()=>{const i=H4();return pg(i,t,fg(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};W4(i,e.style,e),a.style={...i,...a.style}}return a}function PM(e=!1){return(r,s,a,{latestValues:i},o)=>{const c=(hg(r)?EM:jM)(s,i,o,r),d=XA(s,typeof r=="string",e),u=r!==w.Fragment?{...d,...c,ref:a}:{},{children:m}=s,h=w.useMemo(()=>Rt(m)?m.get():m,[m]);return w.createElement(r,{...u,children:h})}}function qy(e){const t=[{},{}];return e==null||e.values.forEach((r,s)=>{t[0][s]=r.get(),t[1][s]=r.getVelocity()}),t}function gg(e,t,r,s){if(typeof t=="function"){const[a,i]=qy(s);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=qy(s);t=t(r!==void 0?r:e.custom,a,i)}return t}const Bh=e=>Array.isArray(e),AM=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),MM=e=>Bh(e)?e[e.length-1]||0:e;function Dc(e){const t=Rt(e)?e.get():e;return AM(t)?t.toValue():t}function RM({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},s,a,i){const o={latestValues:LM(s,a,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:s,current:l,...o}),o.onUpdate=l=>r(l)),o}const G4=e=>(t,r)=>{const s=w.useContext(Au),a=w.useContext(Pu),i=()=>RM(e,t,s,a);return r?i():qf(i)};function LM(e,t,r,s){const a={},i=s(e,{});for(const h in i)a[h]=Dc(i[h]);let{initial:o,animate:l}=e;const c=Ru(e),d=O4(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const m=u?l:o;if(m&&typeof m!="boolean"&&!Mu(m)){const h=Array.isArray(m)?m:[m];for(let p=0;p<h.length;p++){const f=gg(e,h[p]);if(f){const{transitionEnd:v,transition:y,...g}=f;for(const x in g){let b=g[x];if(Array.isArray(b)){const N=u?b.length-1:0;b=b[N]}b!==null&&(a[x]=b)}for(const x in v)a[x]=v[x]}}}return a}function xg(e,t,r){var s;const{style:a}=e,i={};for(const o in a)(Rt(a[o])||t.style&&Rt(t.style[o])||U4(o,e)||((s=r==null?void 0:r.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[o]=a[o]);return i}const IM={useVisualState:G4({scrapeMotionValuesFromProps:xg,createRenderState:mg})};function q4(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function K4(e,{style:t,vars:r},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const i in r)e.style.setProperty(i,r[i])}const Y4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q4(e,t,r,s){K4(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(Y4.has(a)?a:og(a),t.attrs[a])}function X4(e,t,r){const s=xg(e,t,r);for(const a in e)if(Rt(e[a])||Rt(t[a])){const i=Pi.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const Ky=["x","y","width","height","cx","cy","r"],_M={useVisualState:G4({scrapeMotionValuesFromProps:X4,createRenderState:H4,onUpdate:({props:e,prevProps:t,current:r,renderState:s,latestValues:a})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in a)if(ma.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<Ky.length;l++){const c=Ky[l];e[c]!==t[c]&&(o=!0)}o&&Ye.read(()=>{q4(r,s),Ye.render(()=>{pg(s,a,fg(r.tagName),e.transformTemplate),Q4(r,s)})})}})};function FM(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...hg(s)?_M:IM,preloadedFeatures:e,useRender:PM(a),createVisualElement:t,Component:s};return iM(o)}}function dl(e,t,r){const s=e.getProps();return gg(s,t,r!==void 0?r:s.custom,e)}const Z4=new Set(["width","height","top","left","right","bottom",...Pi]);function OM(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,il(r))}function DM(e,t){const r=dl(e,t);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=MM(i[o]);OM(e,o,l)}}function $M(e){return!!(Rt(e)&&e.add)}function zh(e,t){const r=e.getValue("willChange");if($M(r))return r.add(t)}function J4(e){return e.props[D4]}const eN=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,BM=1e-7,zM=12;function UM(e,t,r,s,a){let i,o,l=0;do o=t+(r-t)/2,i=eN(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>BM&&++l<zM);return o}function Pl(e,t,r,s){if(e===t&&r===s)return sn;const a=i=>UM(i,0,1,e,r);return i=>i===0||i===1?i:eN(a(i),t,s)}const tN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nN=e=>t=>1-e(1-t),rN=Pl(.33,1.53,.69,.99),yg=nN(rN),sN=tN(yg),aN=e=>(e*=2)<1?.5*yg(e):.5*(2-Math.pow(2,-10*(e-1))),bg=e=>1-Math.sin(Math.acos(e)),iN=nN(bg),oN=tN(bg),lN=e=>/^0[^.\s]+$/u.test(e);function VM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||lN(e):!0}const bo=e=>Math.round(e*1e5)/1e5,vg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WM(e){return e==null}const HM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wg=(e,t)=>r=>!!(typeof r=="string"&&HM.test(r)&&r.startsWith(e)||t&&!WM(r)&&Object.prototype.hasOwnProperty.call(r,t)),cN=(e,t,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(vg);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},GM=e=>kr(0,255,e),_0={...Ai,transform:e=>Math.round(GM(e))},Bs={test:wg("rgb","red"),parse:cN("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+_0.transform(e)+", "+_0.transform(t)+", "+_0.transform(r)+", "+bo(cl.transform(s))+")"};function qM(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Uh={test:wg("#"),parse:qM,transform:Bs.transform},Ra={test:wg("hsl","hue"),parse:cN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+tr.transform(bo(t))+", "+tr.transform(bo(r))+", "+bo(cl.transform(s))+")"},Pt={test:e=>Bs.test(e)||Uh.test(e)||Ra.test(e),parse:e=>Bs.test(e)?Bs.parse(e):Ra.test(e)?Ra.parse(e):Uh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bs.transform(e):Ra.transform(e)},KM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YM(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(vg))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(KM))===null||r===void 0?void 0:r.length)||0)>0}const dN="number",uN="color",QM="var",XM="var(",Yy="${}",ZM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ul(e){const t=e.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(ZM,c=>(Pt.test(c)?(s.color.push(i),a.push(uN),r.push(Pt.parse(c))):c.startsWith(XM)?(s.var.push(i),a.push(QM),r.push(c)):(s.number.push(i),a.push(dN),r.push(parseFloat(c))),++i,Yy)).split(Yy);return{values:r,split:l,indexes:s,types:a}}function mN(e){return ul(e).values}function hN(e){const{split:t,types:r}=ul(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===dN?i+=bo(a[o]):l===uN?i+=Pt.transform(a[o]):i+=a[o]}return i}}const JM=e=>typeof e=="number"?0:e;function e7(e){const t=mN(e);return hN(e)(t.map(JM))}const js={test:YM,parse:mN,createTransformer:hN,getAnimatableNone:e7},t7=new Set(["brightness","contrast","saturate","opacity"]);function n7(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(vg)||[];if(!s)return e;const a=r.replace(s,"");let i=t7.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const r7=/\b([a-z-]*)\(.*?\)/gu,Vh={...js,getAnimatableNone:e=>{const t=e.match(r7);return t?t.map(n7).join(" "):e}},s7={...dg,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:Vh,WebkitFilter:Vh},pN=e=>s7[e];function fN(e,t){let r=pN(e);return r!==Vh&&(r=js),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const a7=new Set(["auto","none","0"]);function i7(e,t,r){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!a7.has(i)&&ul(i).values.length&&(a=e[s]),s++}if(a&&r)for(const i of t)e[i]=fN(r,a)}const zs=e=>e*180/Math.PI,Wh=e=>{const t=zs(Math.atan2(e[1],e[0]));return Hh(t)},o7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Wh,rotateZ:Wh,skewX:e=>zs(Math.atan(e[1])),skewY:e=>zs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Hh=e=>(e=e%360,e<0&&(e+=360),e),Qy=Wh,Xy=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Zy=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),l7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xy,scaleY:Zy,scale:e=>(Xy(e)+Zy(e))/2,rotateX:e=>Hh(zs(Math.atan2(e[6],e[5]))),rotateY:e=>Hh(zs(Math.atan2(-e[2],e[0]))),rotateZ:Qy,rotate:Qy,skewX:e=>zs(Math.atan(e[4])),skewY:e=>zs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Jy(e){return e.includes("scale")?1:0}function Gh(e,t){if(!e||e==="none")return Jy(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=l7,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=o7,a=l}if(!a)return Jy(t);const i=s[t],o=a[1].split(",").map(d7);return typeof i=="function"?i(o):o[i]}const c7=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Gh(r,t)};function d7(e){return parseFloat(e.trim())}const eb=e=>e===Ai||e===Ee,u7=new Set(["x","y","z"]),m7=Pi.filter(e=>!u7.has(e));function h7(e){const t=[];return m7.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t}const vi={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gh(t,"x"),y:(e,{transform:t})=>Gh(t,"y")};vi.translateX=vi.x;vi.translateY=vi.y;const Xs=new Set;let qh=!1,Kh=!1;function gN(){if(Kh){const e=Array.from(Xs).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),r=new Map;t.forEach(s=>{const a=h7(s);a.length&&(r.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Kh=!1,qh=!1,Xs.forEach(e=>e.complete()),Xs.clear()}function xN(){Xs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Kh=!0)})}function p7(){xN(),gN()}class jg{constructor(t,r,s,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xs.add(this),qh||(qh=!0,Ye.read(xN),Ye.resolveKeyframes(gN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:s,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&r){const c=s.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),f7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g7(e){const t=f7.exec(e);if(!t)return[,];const[,r,s,a]=t;return[`--${r??s}`,a]}function bN(e,t,r=1){const[s,a]=g7(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return yN(o)?parseFloat(o):o}return cg(a)?bN(a,t,r+1):a}const vN=e=>t=>t.test(e),x7={test:e=>e==="auto",parse:e=>e},wN=[Ai,Ee,tr,Br,pM,hM,x7],tb=e=>wN.find(vN(e));class jN extends jg{constructor(t,r,s,a,i){super(t,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),cg(d))){const u=bN(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Z4.has(s)||t.length!==2)return;const[a,i]=t,o=tb(a),l=tb(i);if(o!==l)if(eb(o)&&eb(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,s=[];for(let a=0;a<t.length;a++)VM(t[a])&&s.push(a);s.length&&i7(t,s,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vi[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:s,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=vi[s](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const nb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(js.test(e)||e==="0")&&!e.startsWith("url("));function y7(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function b7(e,t,r,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=nb(a,t),l=nb(i,t);return!o||!l?!1:y7(e)||(r==="spring"||tg(r))&&s}const v7=e=>e!==null;function Lu(e,{repeat:t,repeatType:r="loop"},s){const a=e.filter(v7),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||s===void 0?a[i]:s}const w7=40;class NN{constructor({autoplay:t=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=er.now(),this.options={autoplay:t,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>w7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&p7(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=er.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!b7(t,s,a,i))if(o)this.options.duration=0;else{c&&c(Lu(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const nt=(e,t,r)=>e+(t-e)*r;function F0(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function j7({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=F0(c,l,e+1/3),i=F0(c,l,e),o=F0(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Pd(e,t){return r=>r>0?t:e}const O0=(e,t,r)=>{const s=e*e,a=r*(t*t-s)+s;return a<0?0:Math.sqrt(a)},N7=[Uh,Bs,Ra],S7=e=>N7.find(t=>t.test(e));function rb(e){const t=S7(e);if(!t)return!1;let r=t.parse(e);return t===Ra&&(r=j7(r)),r}const sb=(e,t)=>{const r=rb(e),s=rb(t);if(!r||!s)return Pd(e,t);const a={...r};return i=>(a.red=O0(r.red,s.red,i),a.green=O0(r.green,s.green,i),a.blue=O0(r.blue,s.blue,i),a.alpha=nt(r.alpha,s.alpha,i),Bs.transform(a))},C7=(e,t)=>r=>t(e(r)),Al=(...e)=>e.reduce(C7),Yh=new Set(["none","hidden"]);function k7(e,t){return Yh.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function T7(e,t){return r=>nt(e,t,r)}function Ng(e){return typeof e=="number"?T7:typeof e=="string"?cg(e)?Pd:Pt.test(e)?sb:A7:Array.isArray(e)?SN:typeof e=="object"?Pt.test(e)?sb:E7:Pd}function SN(e,t){const r=[...e],s=r.length,a=e.map((i,o)=>Ng(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function E7(e,t){const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Ng(e[a])(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function P7(e,t){var r;const s=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;s[i]=c,a[o]++}return s}const A7=(e,t)=>{const r=js.createTransformer(t),s=ul(e),a=ul(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Yh.has(e)&&!a.values.length||Yh.has(t)&&!s.values.length?k7(e,t):Al(SN(P7(s,a),a.values),r):Pd(e,t)};function CN(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?nt(e,t,r):Ng(e)(e,t)}const M7=5;function kN(e,t,r){const s=Math.max(t-M7,0);return k4(r-e(s),t-s)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ab=.001;function R7({duration:e=it.duration,bounce:t=it.bounce,velocity:r=it.velocity,mass:s=it.mass}){let a,i,o=1-t;o=kr(it.minDamping,it.maxDamping,o),e=kr(it.minDuration,it.maxDuration,xr(e)),o<1?(a=d=>{const u=d*o,m=u*e,h=u-r,p=Qh(d,o),f=Math.exp(-m);return ab-h/p*f},i=d=>{const m=d*o*e,h=m*r+r,p=Math.pow(o,2)*Math.pow(d,2)*e,f=Math.exp(-m),v=Qh(Math.pow(d,2),o);return(-a(d)+ab>0?-1:1)*((h-p)*f)/v}):(a=d=>{const u=Math.exp(-d*e),m=(d-r)*e+1;return-.001+u*m},i=d=>{const u=Math.exp(-d*e),m=(r-d)*(e*e);return u*m});const l=5/e,c=I7(a,i,l);if(e=gr(e),isNaN(c))return{stiffness:it.stiffness,damping:it.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const L7=12;function I7(e,t,r){let s=r;for(let a=1;a<L7;a++)s=s-e(s)/t(s);return s}function Qh(e,t){return e*Math.sqrt(1-t*t)}const _7=["duration","bounce"],F7=["stiffness","damping","mass"];function ib(e,t){return t.some(r=>e[r]!==void 0)}function O7(e){let t={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...e};if(!ib(e,F7)&&ib(e,_7))if(e.visualDuration){const r=e.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*kr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:it.mass,stiffness:a,damping:i}}else{const r=R7(e);t={...t,...r,mass:it.mass},t.isResolvedFromDuration=!0}return t}function TN(e=it.visualDuration,t=it.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:p}=O7({...r,velocity:-xr(r.velocity||0)}),f=h||0,v=d/(2*Math.sqrt(c*u)),y=o-i,g=xr(Math.sqrt(c/u)),x=Math.abs(y)<5;s||(s=x?it.restSpeed.granular:it.restSpeed.default),a||(a=x?it.restDelta.granular:it.restDelta.default);let b;if(v<1){const j=Qh(g,v);b=k=>{const T=Math.exp(-v*g*k);return o-T*((f+v*g*y)/j*Math.sin(j*k)+y*Math.cos(j*k))}}else if(v===1)b=j=>o-Math.exp(-g*j)*(y+(f+g*y)*j);else{const j=g*Math.sqrt(v*v-1);b=k=>{const T=Math.exp(-v*g*k),P=Math.min(j*k,300);return o-T*((f+v*g*y)*Math.sinh(P)+j*y*Math.cosh(P))/j}}const N={calculatedDuration:p&&m||null,next:j=>{const k=b(j);if(p)l.done=j>=m;else{let T=0;v<1&&(T=j===0?gr(f):kN(b,j,k));const P=Math.abs(T)<=s,I=Math.abs(o-k)<=a;l.done=P&&I}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(T4(N),Dh),k=E4(T=>N.next(j*T).value,j,30);return j+"ms "+k}};return N}function ob({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,f=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let v=r*t;const y=m+v,g=o===void 0?y:o(y);g!==y&&(v=g-m);const x=P=>-v*Math.exp(-P/s),b=P=>g+x(P),N=P=>{const I=x(P),B=b(P);h.done=Math.abs(I)<=d,h.value=h.done?g:B};let j,k;const T=P=>{p(h.value)&&(j=P,k=TN({keyframes:[h.value,f(h.value)],velocity:kN(b,P,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return T(0),{calculatedDuration:null,next:P=>{let I=!1;return!k&&j===void 0&&(I=!0,N(P),T(P)),j!==void 0&&P>=j?k.next(P-j):(!I&&N(P),h)}}}const D7=Pl(.42,0,1,1),$7=Pl(0,0,.58,1),EN=Pl(.42,0,.58,1),B7=e=>Array.isArray(e)&&typeof e[0]!="number",z7={linear:sn,easeIn:D7,easeInOut:EN,easeOut:$7,circIn:bg,circInOut:oN,circOut:iN,backIn:yg,backInOut:sN,backOut:rN,anticipate:aN},lb=e=>{if(ng(e)){C4(e.length===4);const[t,r,s,a]=e;return Pl(t,r,s,a)}else if(typeof e=="string")return z7[e];return e};function U7(e,t,r){const s=[],a=r||CN,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||sn:t;l=Al(c,l)}s.push(l)}return s}function V7(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(C4(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=U7(t,s,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=yi(e[m],e[m+1],u);return l[m](h)};return r?u=>d(kr(e[0],e[i-1],u)):d}function W7(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=yi(0,t,s);e.push(nt(r,1,a))}}function H7(e){const t=[0];return W7(t,e.length-1),t}function G7(e,t){return e.map(r=>r*t)}function q7(e,t){return e.map(()=>t||EN).splice(0,e.length-1)}function Ad({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=B7(s)?s.map(lb):lb(s),i={done:!1,value:t[0]},o=G7(r&&r.length===t.length?r:H7(t),e),l=V7(o,t,{ease:Array.isArray(a)?a:q7(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const K7=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ye.update(t,!0),stop:()=>ws(t),now:()=>bt.isProcessing?bt.timestamp:er.now()}},Y7={decay:ob,inertia:ob,tween:Ad,keyframes:Ad,spring:TN},Q7=e=>e/100;class Sg extends NN{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:s,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||jg,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,r,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=tg(r)?r:Y7[r]||Ad;let c,d;l!==Ad&&typeof t[0]!="number"&&(c=Al(Q7,CN(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=T4(u));const{calculatedDuration:m}=u,h=m+a,p=h*(s+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:s}=this;if(!s){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:m}=s;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:f,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,N=i;if(p){const P=Math.min(this.currentTime,u)/m;let I=Math.floor(P),B=P%1;!B&&P>=1&&(B=1),B===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(f==="reverse"?(B=1-B,v&&(B-=v/m)):f==="mirror"&&(N=o)),b=kr(0,1,B)*m}const j=x?{done:!1,value:c[0]}:N.next(b);l&&(j.value=l(j.value));let{done:k}=j;!x&&d!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&a!==void 0&&(j.value=Lu(c,this.options,a)),y&&y(j.value),T&&this.finish(),j}get duration(){const{resolved:t}=this;return t?xr(t.calculatedDuration):0}get time(){return xr(this.currentTime)}set time(t){t=gr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=K7,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const X7=new Set(["opacity","clipPath","filter","transform"]);function Z7(e,t,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=A4(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const J7=Zf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Md=10,eR=2e4;function tR(e){return tg(e.type)||e.type==="spring"||!P4(e.ease)}function nR(e,t){const r=new Sg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let i=0;for(;!s.done&&i<eR;)s=r.sample(i),a.push(s.value),i+=Md;return{times:void 0,keyframes:a,duration:i-Md,ease:"linear"}}const PN={anticipate:aN,backInOut:sN,circInOut:oN};function rR(e){return e in PN}class cb extends NN{constructor(t){super(t);const{name:r,motionValue:s,element:a,keyframes:i}=this.options;this.resolver=new jN(i,(o,l)=>this.onKeyframesResolved(o,l),r,s,a),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:s=300,times:a,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Td()&&rR(i)&&(i=PN[i]),tR(this.options)){const{onComplete:m,onUpdate:h,motionValue:p,element:f,...v}=this.options,y=nR(t,v);t=y.keyframes,t.length===1&&(t[1]=t[0]),s=y.duration,a=y.times,i=y.ease,o="keyframes"}const u=Z7(l.owner.current,c,t,{...this.options,duration:s,times:a,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Fy(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:m}=this.options;l.set(Lu(t,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return xr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return xr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=gr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return sn;const{animation:s}=r;Fy(s,t)}return sn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:s,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:m,element:h,...p}=this.options,f=new Sg({...p,keyframes:s,duration:a,type:i,ease:o,times:l,isGenerator:!0}),v=gr(this.time);d.setWithVelocity(f.sample(v-Md).value,f.sample(v).value,Md)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:s,repeatDelay:a,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return J7()&&s&&X7.has(s)&&(s!=="transform"||!d)&&!c&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const sR={type:"spring",stiffness:500,damping:25,restSpeed:10},aR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iR={type:"keyframes",duration:.8},oR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lR=(e,{keyframes:t})=>t.length>2?iR:ma.has(e)?e.startsWith("scale")?aR(t[1]):sR:oR;function cR({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Cg=(e,t,r,s={},a,i)=>o=>{const l=eg(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-gr(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};cR(l)||(u={...u,...lR(e,u)}),u.duration&&(u.duration=gr(u.duration)),u.repeatDelay&&(u.repeatDelay=gr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),u.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const h=Lu(u.keyframes,l);if(h!==void 0)return Ye.update(()=>{u.onUpdate(h),u.onComplete()}),new LA([])}return!i&&cb.supports(u)?new cb(u):new Sg(u)};function dR({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function AN(e,t,{delay:r=0,transitionOverride:s,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(o=s);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const m in c){const h=e.getValue(m,(i=e.latestValues[m])!==null&&i!==void 0?i:null),p=c[m];if(p===void 0||u&&dR(u,m))continue;const f={delay:r,...eg(o||{},m)};let v=!1;if(window.MotionHandoffAnimation){const g=J4(e);if(g){const x=window.MotionHandoffAnimation(g,m,Ye);x!==null&&(f.startTime=x,v=!0)}}zh(e,m),h.start(Cg(m,h,p,e.shouldReduceMotion&&Z4.has(m)?{type:!1}:f,e,v));const y=h.animation;y&&d.push(y)}return l&&Promise.all(d).then(()=>{Ye.update(()=>{l&&DM(e,l)})}),d}function Xh(e,t,r={}){var s;const a=dl(e,t,r.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(AN(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=i;return uR(e,t,u+d,m,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function uR(e,t,r=0,s=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=a===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(mR).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Xh(d,t,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function mR(e,t){return e.sortNodePosition(t)}function hR(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>Xh(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=Xh(e,t,r);else{const a=typeof t=="function"?dl(e,t,r.custom):t;s=Promise.all(AN(e,a,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}function MN(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}const pR=ig.length;function RN(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?RN(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<pR;r++){const s=ig[r],a=e.props[s];(ol(a)||a===!1)&&(t[s]=a)}return t}const fR=[...ag].reverse(),gR=ag.length;function xR(e){return t=>Promise.all(t.map(({animation:r,options:s})=>hR(e,r,s)))}function yR(e){let t=xR(e),r=db(),s=!0;const a=c=>(d,u)=>{var m;const h=dl(e,u,c==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:f,...v}=h;d={...d,...v,...f}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=RN(e.parent)||{},m=[],h=new Set;let p={},f=1/0;for(let y=0;y<gR;y++){const g=fR[y],x=r[g],b=d[g]!==void 0?d[g]:u[g],N=ol(b),j=g===c?x.isActive:null;j===!1&&(f=y);let k=b===u[g]&&b!==d[g]&&N;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...p},!x.isActive&&j===null||!b&&!x.prevProp||Mu(b)||typeof b=="boolean")continue;const T=bR(x.prevProp,b);let P=T||g===c&&x.isActive&&!k&&N||y>f&&N,I=!1;const B=Array.isArray(b)?b:[b];let U=B.reduce(a(g),{});j===!1&&(U={});const{prevResolvedValues:q={}}=x,K={...q,...U},ne=A=>{P=!0,h.has(A)&&(I=!0,h.delete(A)),x.needsAnimating[A]=!0;const E=e.getValue(A);E&&(E.liveStyle=!1)};for(const A in K){const E=U[A],O=q[A];if(p.hasOwnProperty(A))continue;let F=!1;Bh(E)&&Bh(O)?F=!MN(E,O):F=E!==O,F?E!=null?ne(A):h.add(A):E!==void 0&&h.has(A)?ne(A):x.protectedKeys[A]=!0}x.prevProp=b,x.prevResolvedValues=U,x.isActive&&(p={...p,...U}),s&&e.blockInitialAnimation&&(P=!1),P&&(!(k&&T)||I)&&m.push(...B.map(A=>({animation:A,options:{type:g}})))}if(h.size){const y={};if(typeof d.initial!="boolean"){const g=dl(e,Array.isArray(d.initial)?d.initial[0]:d.initial);g&&g.transition&&(y.transition=g.transition)}h.forEach(g=>{const x=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),y[g]=x??null}),m.push({animation:y})}let v=!!m.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(m):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),r[c].isActive=d;const m=o(c);for(const h in r)r[h].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=db(),s=!0}}}function bR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MN(t,e):!1}function As(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function db(){return{animate:As(!0),whileInView:As(),whileHover:As(),whileTap:As(),whileDrag:As(),whileFocus:As(),exit:As()}}class Es{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vR extends Es{constructor(t){super(t),t.animationState||(t.animationState=yR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let wR=0;class jR extends Es{constructor(){super(...arguments),this.id=wR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const NR={animation:{Feature:vR},exit:{Feature:jR}};function ml(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}function Ml(e){return{point:{x:e.pageX,y:e.pageY}}}const SR=e=>t=>sg(t)&&e(t,Ml(t));function vo(e,t,r,s){return ml(e,t,SR(r),s)}function LN({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function CR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kR(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}const IN=1e-4,TR=1-IN,ER=1+IN,_N=.01,PR=0-_N,AR=0+_N;function Ot(e){return e.max-e.min}function MR(e,t,r){return Math.abs(e-t)<=r}function ub(e,t,r,s=.5){e.origin=s,e.originPoint=nt(t.min,t.max,e.origin),e.scale=Ot(r)/Ot(t),e.translate=nt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=TR&&e.scale<=ER||isNaN(e.scale))&&(e.scale=1),(e.translate>=PR&&e.translate<=AR||isNaN(e.translate))&&(e.translate=0)}function wo(e,t,r,s){ub(e.x,t.x,r.x,s?s.originX:void 0),ub(e.y,t.y,r.y,s?s.originY:void 0)}function mb(e,t,r){e.min=r.min+t.min,e.max=e.min+Ot(t)}function RR(e,t,r){mb(e.x,t.x,r.x),mb(e.y,t.y,r.y)}function hb(e,t,r){e.min=t.min-r.min,e.max=e.min+Ot(t)}function jo(e,t,r){hb(e.x,t.x,r.x),hb(e.y,t.y,r.y)}const pb=()=>({translate:0,scale:1,origin:0,originPoint:0}),La=()=>({x:pb(),y:pb()}),fb=()=>({min:0,max:0}),lt=()=>({x:fb(),y:fb()});function un(e){return[e("x"),e("y")]}function D0(e){return e===void 0||e===1}function Zh({scale:e,scaleX:t,scaleY:r}){return!D0(e)||!D0(t)||!D0(r)}function Is(e){return Zh(e)||FN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FN(e){return gb(e.x)||gb(e.y)}function gb(e){return e&&e!=="0%"}function Rd(e,t,r){const s=e-r,a=t*s;return r+a}function xb(e,t,r,s,a){return a!==void 0&&(e=Rd(e,a,s)),Rd(e,r,s)+t}function Jh(e,t=0,r=1,s,a){e.min=xb(e.min,t,r,s,a),e.max=xb(e.max,t,r,s,a)}function ON(e,{x:t,y:r}){Jh(e.x,t.translate,t.scale,t.originPoint),Jh(e.y,r.translate,r.scale,r.originPoint)}const yb=.999999999999,bb=1.0000000000001;function LR(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_a(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ON(e,o)),s&&Is(i.latestValues)&&_a(e,i.latestValues))}t.x<bb&&t.x>yb&&(t.x=1),t.y<bb&&t.y>yb&&(t.y=1)}function Ia(e,t){e.min=e.min+t,e.max=e.max+t}function vb(e,t,r,s,a=.5){const i=nt(e.min,e.max,a);Jh(e,t,r,i,s)}function _a(e,t){vb(e.x,t.x,t.scaleX,t.scale,t.originX),vb(e.y,t.y,t.scaleY,t.scale,t.originY)}function DN(e,t){return LN(kR(e.getBoundingClientRect(),t))}function IR(e,t,r){const s=DN(e,r),{scroll:a}=t;return a&&(Ia(s.x,a.offset.x),Ia(s.y,a.offset.y)),s}const $N=({current:e})=>e?e.ownerDocument.defaultView:null,wb=(e,t)=>Math.abs(e-t);function _R(e,t){const r=wb(e.x,t.x),s=wb(e.y,t.y);return Math.sqrt(r**2+s**2)}class BN{constructor(t,r,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=B0(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=_R(m.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:f}=m,{timestamp:v}=bt;this.history.push({...f,timestamp:v});const{onStart:y,onMove:g}=this.handlers;h||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=$0(h,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:p,onSessionEnd:f,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=B0(m.type==="pointercancel"?this.lastMoveEventInfo:$0(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,y),f&&f(m,y)},!sg(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.contextWindow=a||window;const o=Ml(t),l=$0(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=bt;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,B0(l,this.history)),this.removeListeners=Al(vo(this.contextWindow,"pointermove",this.handlePointerMove),vo(this.contextWindow,"pointerup",this.handlePointerUp),vo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ws(this.updatePoint)}}function $0(e,t){return t?{point:t(e.point)}:e}function jb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function B0({point:e},t){return{point:e,delta:jb(e,zN(t)),offset:jb(e,FR(t)),velocity:OR(t,.1)}}function FR(e){return e[0]}function zN(e){return e[e.length-1]}function OR(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=zN(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>gr(t)));)r--;if(!s)return{x:0,y:0};const i=xr(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function DR(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?nt(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?nt(r,e,s.max):Math.min(e,r)),e}function Nb(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function $R(e,{top:t,left:r,bottom:s,right:a}){return{x:Nb(e.x,r,a),y:Nb(e.y,t,s)}}function Sb(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function BR(e,t){return{x:Sb(e.x,t.x),y:Sb(e.y,t.y)}}function zR(e,t){let r=.5;const s=Ot(e),a=Ot(t);return a>s?r=yi(t.min,t.max-s,e.min):s>a&&(r=yi(e.min,e.max-a,t.min)),kr(0,1,r)}function UR(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ep=.35;function VR(e=ep){return e===!1?e=0:e===!0&&(e=ep),{x:Cb(e,"left","right"),y:Cb(e,"top","bottom")}}function Cb(e,t,r){return{min:kb(e,t),max:kb(e,r)}}function kb(e,t){return typeof e=="number"?e:e[t]||0}const WR=new WeakMap;class HR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ml(u).point)},i=(u,m)=>{const{drag:h,dragPropagation:p,onDragStart:f}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$A(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(y=>{let g=this.getAxisMotionValue(y).get()||0;if(tr.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[y];b&&(g=Ot(b)*(parseFloat(g)/100))}}this.originPoint[y]=g}),f&&Ye.postRender(()=>f(u,m)),zh(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:f,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=m;if(p&&this.currentDirection===null){this.currentDirection=GR(y),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),v&&v(u,m)},l=(u,m)=>this.stop(u,m),c=()=>un(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new BN(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:$N(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Ye.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!mc(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=DR(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Ma(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=$R(a.layoutBox,r):this.constraints=!1,this.elastic=VR(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=UR(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ma(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=IR(s,a.root,this.visualElement.getTransformPagePoint());let o=BR(a.layout.layoutBox,i);if(r){const l=r(CR(o));this.hasMutatedConstraints=!!l,l&&(o=LN(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=un(u=>{if(!mc(u,r,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,f={type:"inertia",velocity:s?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,f)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return zh(this.visualElement,t),s.start(Cg(t,s,0,r,this.visualElement,!1))}stopAnimation(){un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){un(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){un(r=>{const{drag:s}=this.getProps();if(!mc(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-nt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Ma(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};un(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=zR({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),un(o=>{if(!mc(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(nt(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;WR.set(this.visualElement,this);const t=this.visualElement.current,r=vo(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Ma(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ye.read(s);const o=ml(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(un(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=ep,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function mc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function GR(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class qR extends Es{constructor(t){super(t),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new HR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tb=e=>(t,r)=>{e&&Ye.postRender(()=>e(t,r))};class KR extends Es{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(t){this.session=new BN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$N(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Tb(t),onStart:Tb(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Ye.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=vo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $c={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Eb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ki={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const r=Eb(e,t.target.x),s=Eb(e,t.target.y);return`${r}% ${s}%`}},YR={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=js.parse(e);if(a.length>5)return s;const i=js.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=nt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class QR extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;mM(XR),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$c.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ye.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function UN(e){const[t,r]=S4(),s=w.useContext(Gf);return n.jsx(QR,{...e,layoutGroup:s,switchLayoutGroup:w.useContext($4),isPresent:t,safeToRemove:r})}const XR={borderRadius:{...Ki,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ki,borderTopRightRadius:Ki,borderBottomLeftRadius:Ki,borderBottomRightRadius:Ki,boxShadow:YR};function ZR(e,t,r){const s=Rt(e)?e:il(e);return s.start(Cg("",s,t,r)),s.animation}function JR(e){return e instanceof SVGElement&&e.tagName!=="svg"}const eL=(e,t)=>e.depth-t.depth;class tL{constructor(){this.children=[],this.isDirty=!1}add(t){Qf(this.children,t),this.isDirty=!0}remove(t){Xf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eL),this.isDirty=!1,this.children.forEach(t)}}function nL(e,t){const r=er.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(ws(s),e(i-t))};return Ye.read(s,!0),()=>ws(s)}const VN=["TopLeft","TopRight","BottomLeft","BottomRight"],rL=VN.length,Pb=e=>typeof e=="string"?parseFloat(e):e,Ab=e=>typeof e=="number"||Ee.test(e);function sL(e,t,r,s,a,i){a?(e.opacity=nt(0,r.opacity!==void 0?r.opacity:1,aL(s)),e.opacityExit=nt(t.opacity!==void 0?t.opacity:1,0,iL(s))):i&&(e.opacity=nt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<rL;o++){const l=`border${VN[o]}Radius`;let c=Mb(t,l),d=Mb(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Ab(c)===Ab(d)?(e[l]=Math.max(nt(Pb(c),Pb(d),s),0),(tr.test(d)||tr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=nt(t.rotate||0,r.rotate||0,s))}function Mb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aL=WN(0,.5,iN),iL=WN(.5,.95,sn);function WN(e,t,r){return s=>s<e?0:s>t?1:r(yi(e,t,s))}function Rb(e,t){e.min=t.min,e.max=t.max}function dn(e,t){Rb(e.x,t.x),Rb(e.y,t.y)}function Lb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ib(e,t,r,s,a){return e-=t,e=Rd(e,1/r,s),a!==void 0&&(e=Rd(e,1/a,s)),e}function oL(e,t=0,r=1,s=.5,a,i=e,o=e){if(tr.test(t)&&(t=parseFloat(t),t=nt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=nt(i.min,i.max,s);e===i&&(l-=t),e.min=Ib(e.min,t,r,l,a),e.max=Ib(e.max,t,r,l,a)}function _b(e,t,[r,s,a],i,o){oL(e,t[r],t[s],t[a],t.scale,i,o)}const lL=["x","scaleX","originX"],cL=["y","scaleY","originY"];function Fb(e,t,r,s){_b(e.x,t,lL,r?r.x:void 0,s?s.x:void 0),_b(e.y,t,cL,r?r.y:void 0,s?s.y:void 0)}function Ob(e){return e.translate===0&&e.scale===1}function HN(e){return Ob(e.x)&&Ob(e.y)}function Db(e,t){return e.min===t.min&&e.max===t.max}function dL(e,t){return Db(e.x,t.x)&&Db(e.y,t.y)}function $b(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GN(e,t){return $b(e.x,t.x)&&$b(e.y,t.y)}function Bb(e){return Ot(e.x)/Ot(e.y)}function zb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uL{constructor(){this.members=[]}add(t){Qf(this.members,t),t.scheduleRender()}remove(t){if(Xf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mL(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:p,skewY:f}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),m&&(s+=`rotateX(${m}deg) `),h&&(s+=`rotateY(${h}deg) `),p&&(s+=`skewX(${p}deg) `),f&&(s+=`skewY(${f}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const z0=["","X","Y","Z"],hL={visibility:"hidden"},Ub=1e3;let pL=0;function U0(e,t,r,s){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function qN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=J4(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ye,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&qN(s)}function KN({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=pL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xL),this.nodes.forEach(jL),this.nodes.forEach(NL),this.nodes.forEach(yL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tL)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Jf),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JR(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=nL(h,250),$c.hasAnimatedSinceResize&&($c.hasAnimatedSinceResize=!1,this.nodes.forEach(Wb))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||EL,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=u.getProps(),x=!this.targetLayout||!GN(this.targetLayout,f),b=!h&&p;if(this.options.layoutRoot||this.resumeFrom||b||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,b);const N={...eg(v,"layout"),onPlay:y,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||Wb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SL),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vb);return}this.isUpdating||this.nodes.forEach(vL),this.isUpdating=!1,this.nodes.forEach(wL),this.nodes.forEach(fL),this.nodes.forEach(gL),this.clearAllSnapshots();const l=er.now();bt.delta=kr(0,1e3/60,l-bt.timestamp),bt.timestamp=l,bt.isProcessing=!0,L0.update.process(bt),L0.preRender.process(bt),L0.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bL),this.sharedNodes.forEach(CL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ot(this.snapshot.measuredBox.x)&&!Ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!HN(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Is(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),PL(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return lt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(AL))){const{scroll:u}=this.root;u&&(Ia(c.x,u.offset.x),Ia(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=lt();if(dn(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&dn(c,o),Ia(c.x,m.offset.x),Ia(c.y,m.offset.y))}return c}applyTransform(o,l=!1){const c=lt();dn(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_a(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Is(u.latestValues)&&_a(c,u.latestValues)}return Is(this.latestValues)&&_a(c,this.latestValues),c}removeTransform(o){const l=lt();dn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Is(d.latestValues))continue;Zh(d.latestValues)&&d.updateSnapshot();const u=lt(),m=d.measurePageBox();dn(u,m),Fb(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Is(this.latestValues)&&Fb(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),jo(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),ON(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),jo(this.relativeTargetOrigin,this.target,p.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zh(this.parent.latestValues)||FN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;dn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;LR(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=lt());const{target:f}=l;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lb(this.prevProjectionDelta.x,this.projectionDelta.x),Lb(this.prevProjectionDelta.y,this.projectionDelta.y)),wo(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!zb(this.projectionDelta.x,this.prevProjectionDelta.x)||!zb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=La(),this.projectionDelta=La(),this.projectionDeltaWithTransform=La()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=La();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=lt(),p=c?c.source:void 0,f=this.layout?this.layout.source:void 0,v=p!==f,y=this.getStack(),g=!y||y.members.length<=1,x=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(TL));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const j=N/1e3;Hb(m.x,o.x,j),Hb(m.y,o.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kL(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&dL(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=lt()),dn(b,this.relativeTarget)),v&&(this.animationValues=u,sL(u,d,this.latestValues,j,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{$c.hasAnimatedSinceResize=!0,this.currentAnimation=ZR(0,Ub,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ub),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&YN(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||lt();const m=Ot(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=Ot(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}dn(l,c),_a(l,u),wo(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uL),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&U0("z",o,d,this.animationValues);for(let u=0;u<z0.length;u++)U0(`rotate${z0[u]}`,o,d,this.animationValues),U0(`skew${z0[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hL;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Dc(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Dc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=mL(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:p,y:f}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in ll){if(h[v]===void 0)continue;const{correct:y,applyTo:g,isCSSVariable:x}=ll[v],b=d.transform==="none"?h[v]:y(h[v],m);if(g){const N=g.length;for(let j=0;j<N;j++)d[g[j]]=b}else x?this.options.visualElement.renderState.vars[v]=b:d[v]=b}return this.options.layoutId&&(d.pointerEvents=m===this?Dc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Vb),this.root.sharedNodes.clear()}}}function fL(e){e.updateLayout()}function gL(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?un(m=>{const h=o?r.measuredBox[m]:r.layoutBox[m],p=Ot(h);h.min=s[m].min,h.max=h.min+p}):YN(i,r.layoutBox,s)&&un(m=>{const h=o?r.measuredBox[m]:r.layoutBox[m],p=Ot(s[m]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=La();wo(l,s,r.layoutBox);const c=La();o?wo(c,e.applyTransform(a,!0),r.measuredBox):wo(c,s,r.layoutBox);const d=!HN(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const f=lt();jo(f,r.layoutBox,h.layoutBox);const v=lt();jo(v,s,p.layoutBox),GN(f,v)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=f,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function xL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bL(e){e.clearSnapshot()}function Vb(e){e.clearMeasurements()}function vL(e){e.isLayoutDirty=!1}function wL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Wb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jL(e){e.resolveTargetDelta()}function NL(e){e.calcProjection()}function SL(e){e.resetSkewAndRotation()}function CL(e){e.removeLeadSnapshot()}function Hb(e,t,r){e.translate=nt(t.translate,0,r),e.scale=nt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Gb(e,t,r,s){e.min=nt(t.min,r.min,s),e.max=nt(t.max,r.max,s)}function kL(e,t,r,s){Gb(e.x,t.x,r.x,s),Gb(e.y,t.y,r.y,s)}function TL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const EL={duration:.45,ease:[.4,0,.1,1]},qb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Kb=qb("applewebkit/")&&!qb("chrome/")?Math.round:sn;function Yb(e){e.min=Kb(e.min),e.max=Kb(e.max)}function PL(e){Yb(e.x),Yb(e.y)}function YN(e,t,r){return e==="position"||e==="preserve-aspect"&&!MR(Bb(t),Bb(r),.2)}function AL(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ML=KN({attachResizeListener:(e,t)=>ml(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),V0={current:void 0},QN=KN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!V0.current){const e=new ML({});e.mount(window),e.setOptions({layoutScroll:!0}),V0.current=e}return V0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),RL={pan:{Feature:KR},drag:{Feature:qR,ProjectionNode:QN,MeasureLayout:UN}};function Qb(e,t,r){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&Ye.postRender(()=>i(t,Ml(t)))}class LL extends Es{mount(){const{current:t}=this.node;t&&(this.unmount=zA(t,(r,s)=>(Qb(this.node,s,"Start"),a=>Qb(this.node,a,"End"))))}unmount(){}}class IL extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Al(ml(this.node.current,"focus",()=>this.onFocus()),ml(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xb(e,t,r){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&Ye.postRender(()=>i(t,Ml(t)))}class _L extends Es{mount(){const{current:t}=this.node;t&&(this.unmount=HA(t,(r,s)=>(Xb(this.node,s,"Start"),(a,{success:i})=>Xb(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tp=new WeakMap,W0=new WeakMap,FL=e=>{const t=tp.get(e.target);t&&t(e)},OL=e=>{e.forEach(FL)};function DL({root:e,...t}){const r=e||document;W0.has(r)||W0.set(r,{});const s=W0.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(OL,{root:e,...t})),s[a]}function $L(e,t,r){const s=DL(t);return tp.set(e,r),s.observe(e),()=>{tp.delete(e),s.unobserve(e)}}const BL={some:0,all:1};class zL extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:BL[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return $L(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(UL(t,r))&&this.startObserver()}unmount(){}}function UL({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const VL={inView:{Feature:zL},tap:{Feature:_L},focus:{Feature:IL},hover:{Feature:LL}},WL={layout:{ProjectionNode:QN,MeasureLayout:UN}},np={current:null},XN={current:!1};function HL(){if(XN.current=!0,!!Kf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>np.current=e.matches;e.addListener(t),t()}else np.current=!1}const GL=[...wN,Pt,js],qL=e=>GL.find(vN(e)),KL=new WeakMap;function YL(e,t,r){for(const s in t){const a=t[s],i=r[s];if(Rt(a))e.addValue(s,a);else if(Rt(i))e.addValue(s,il(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,il(o!==void 0?o:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const Zb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QL{scrapeMotionValuesFromProps(t,r,s){return{}}constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=er.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ye.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ru(r),this.isVariantNode=O4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in h){const f=h[p];c[p]!==void 0&&Rt(f)&&f.set(c[p],!1)}}mount(t){this.current=t,KL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),XN.current||HL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:np.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ma.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bi){const r=bi[t];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<Zb.length;s++){const a=Zb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=YL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const s=this.values.get(t);r!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=il(r===null?void 0:r,{owner:this}),this.addValue(t,s)),s}readValue(t,r){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(yN(a)||lN(a))?a=parseFloat(a):!qL(a)&&js.test(r)&&(a=fN(t,r)),this.setBaseTarget(t,Rt(a)?a.get():a)),Rt(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const o=gg(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Rt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Jf),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class ZN extends QL{constructor(){super(...arguments),this.KeyframeResolver=jN}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function XL(e){return window.getComputedStyle(e)}class ZL extends ZN{constructor(){super(...arguments),this.type="html",this.renderInstance=K4}readValueFromInstance(t,r){if(ma.has(r))return c7(t,r);{const s=XL(t),a=(lg(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return DN(t,r)}build(t,r,s){ug(t,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,s){return xg(t,r,s)}}class JL extends ZN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&q4(this.current,this.renderState)}}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ma.has(r)){const s=pN(r);return s&&s.default||0}return r=Y4.has(r)?r:og(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,s){return X4(t,r,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ye.postRender(this.updateDimensions)}build(t,r,s){pg(t,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,s,a){Q4(t,r,s,a)}mount(t){this.isSVGTag=fg(t.tagName),super.mount(t)}}const e9=(e,t)=>hg(e)?new JL(t):new ZL(t,{allowProjection:e!==w.Fragment}),t9=FM({...NR,...VL,...RL,...WL},e9),Z=ZA(t9),n9={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},r9={block:Ik({format(e){var r;return{transactions:(r=e.transactions)==null?void 0:r.map(s=>{if(typeof s=="string")return s;const a=pu(s);return a.typeHex==="0x7e"&&(a.isSystemTx=s.isSystemTx,a.mint=s.mint?Mn(s.mint):void 0,a.sourceHash=s.sourceHash,a.type="deposit"),a}),stateRoot:e.stateRoot}}}),transaction:Rk({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?Mn(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:FE({format(e){return{l1GasPrice:e.l1GasPrice?Mn(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?Mn(e.l1GasUsed):null,l1Fee:e.l1Fee?Mn(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function s9(e,t){return o9(e)?i9(e):qE(e,t)}const a9={transaction:s9};function i9(e){l9(e);const{sourceHash:t,data:r,from:s,gas:a,isSystemTx:i,mint:o,to:l,value:c}=e,d=[t,s,l??"0x",o?Me(o):"0x",c?Me(c):"0x",a?Me(a):"0x",i?"0x1":"0x",r??"0x"];return Pr(["0x7e",xs(d)])}function o9(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function l9(e){const{from:t,to:r}=e;if(t&&!Be(t))throw new jn({address:t});if(r&&!Be(r))throw new jn({address:r})}const Ld={contracts:n9,formatters:r9,serializers:a9},Jb=ua({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Yi=1,ev=ua({...Ld,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Ld.contracts,disputeGameFactory:{[Yi]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Yi]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Yi]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Yi]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Yi}),tv=ua({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),nv=ua({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Qi=1,rv=ua({...Ld,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Ld.contracts,disputeGameFactory:{[Qi]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Qi]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Qi]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Qi]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Qi}),sv=ua({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),av=ua({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});Iu.type="coinbaseWallet";function Iu(e={}){return e.version==="3"||e.headlessMode?d9(e):c9(e)}function c9(e){let t,r,s,a;return i=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Iu.type,async connect({chainId:o,...l}={}){try{const c=await this.getProvider(),d=(await c.request({method:"eth_requestAccounts",params:"instantOnboarding"in l&&l.instantOnboarding?[{onboarding:"instant"}]:[]})).map(m=>jt(m));r||(r=this.onAccountsChanged.bind(this),c.on("accountsChanged",r)),s||(s=this.onChainChanged.bind(this),c.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),c.on("disconnect",a));let u=await this.getChainId();if(o&&u!==o){const m=await this.switchChain({chainId:o}).catch(h=>{if(h.code===De.code)throw h;return{id:u}});u=(m==null?void 0:m.id)??u}return{accounts:d,chainId:u}}catch(c){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(c.message)?new De(c):c}},async disconnect(){var l;const o=await this.getProvider();r&&(o.removeListener("accountsChanged",r),r=void 0),s&&(o.removeListener("chainChanged",s),s=void 0),a&&(o.removeListener("disconnect",a),a=void 0),o.disconnect(),(l=o.close)==null||l.call(o)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(l=>jt(l))},async getChainId(){const l=await(await this.getProvider()).request({method:"eth_chainId"});return Number(l)},async getProvider(){if(!t){const o=(()=>{var d;return typeof e.preference=="string"?{options:e.preference}:{...e.preference,options:((d=e.preference)==null?void 0:d.options)??"all"}})(),{createCoinbaseWalletSDK:l}=await ki(async()=>{const{createCoinbaseWalletSDK:d}=await import("./index-Y2bq20Ww.js");return{createCoinbaseWalletSDK:d}},__vite__mapDeps([0,1]));t=l({...e,appChainIds:i.chains.map(d=>d.id),preference:o}).getProvider()}return t},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:l}){var u,m,h,p;const c=i.chains.find(f=>f.id===l);if(!c)throw new $t(new ys);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(c.id)}]}),c}catch(f){if(f.code===4902)try{let v;o!=null&&o.blockExplorerUrls?v=o.blockExplorerUrls:v=(u=c.blockExplorers)!=null&&u.default.url?[(m=c.blockExplorers)==null?void 0:m.default.url]:[];let y;(h=o==null?void 0:o.rpcUrls)!=null&&h.length?y=o.rpcUrls:y=[((p=c.rpcUrls.default)==null?void 0:p.http[0])??""];const g={blockExplorerUrls:v,chainId:Ae(l),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:y};return await d.request({method:"wallet_addEthereumChain",params:[g]}),c}catch(v){throw new De(v)}throw new $t(f)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(l=>jt(l))})},onChainChanged(o){const l=Number(o);i.emitter.emit("change",{chainId:l})},async onDisconnect(o){i.emitter.emit("disconnect");const l=await this.getProvider();r&&(l.removeListener("accountsChanged",r),r=void 0),s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0)}})}function d9(e){let r,s,a,i,o;return l=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",type:Iu.type,async connect({chainId:c}={}){try{const d=await this.getProvider(),u=(await d.request({method:"eth_requestAccounts"})).map(h=>jt(h));a||(a=this.onAccountsChanged.bind(this),d.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),d.on("disconnect",o));let m=await this.getChainId();if(c&&m!==c){const h=await this.switchChain({chainId:c}).catch(p=>{if(p.code===De.code)throw p;return{id:m}});m=(h==null?void 0:h.id)??m}return{accounts:u,chainId:m}}catch(d){throw/(user closed modal|accounts received is empty|user denied account)/i.test(d.message)?new De(d):d}},async disconnect(){const c=await this.getProvider();a&&(c.removeListener("accountsChanged",a),a=void 0),i&&(c.removeListener("chainChanged",i),i=void 0),o&&(c.removeListener("disconnect",o),o=void 0),c.disconnect(),c.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(d=>jt(d))},async getChainId(){const d=await(await this.getProvider()).request({method:"eth_chainId"});return Number(d)},async getProvider(){var c;if(!s){const d=await(async()=>{const{default:f}=await ki(async()=>{const{default:v}=await import("./index-BjIL6YcH.js").then(y=>y.i);return{default:v}},__vite__mapDeps([2,3,1,4]));return typeof f!="function"&&typeof f.default=="function"?f.default:f})();r=new d({...e,reloadOnDisconnect:!1});const u=(c=r.walletExtension)==null?void 0:c.getChainId(),m=l.chains.find(f=>e.chainId?f.id===e.chainId:f.id===u)||l.chains[0],h=e.chainId||(m==null?void 0:m.id),p=e.jsonRpcUrl||(m==null?void 0:m.rpcUrls.default.http[0]);s=r.makeWeb3Provider(p,h)}return s},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:d}){var h,p,f,v;const u=l.chains.find(y=>y.id===d);if(!u)throw new $t(new ys);const m=await this.getProvider();try{return await m.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(u.id)}]}),u}catch(y){if(y.code===4902)try{let g;c!=null&&c.blockExplorerUrls?g=c.blockExplorerUrls:g=(h=u.blockExplorers)!=null&&h.default.url?[(p=u.blockExplorers)==null?void 0:p.default.url]:[];let x;(f=c==null?void 0:c.rpcUrls)!=null&&f.length?x=c.rpcUrls:x=[((v=u.rpcUrls.default)==null?void 0:v.http[0])??""];const b={blockExplorerUrls:g,chainId:Ae(d),chainName:(c==null?void 0:c.chainName)??u.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??u.nativeCurrency,rpcUrls:x};return await m.request({method:"wallet_addEthereumChain",params:[b]}),u}catch(g){throw new De(g)}throw new $t(y)}},onAccountsChanged(c){c.length===0?this.onDisconnect():l.emitter.emit("change",{accounts:c.map(d=>jt(d))})},onChainChanged(c){const d=Number(c);l.emitter.emit("change",{chainId:d})},async onDisconnect(c){l.emitter.emit("disconnect");const d=await this.getProvider();a&&(d.removeListener("accountsChanged",a),a=void 0),i&&(d.removeListener("chainChanged",i),i=void 0),o&&(d.removeListener("disconnect",o),o=void 0)}})}kg.type="metaMask";function kg(e={}){let t,r,s,a,i,o,l,c;return d=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:kg.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),a||(a=this.onAccountsChanged.bind(this),u.on("accountsChanged",a)))},async connect({chainId:u,isReconnecting:m}={}){const h=await this.getProvider();l||(l=this.onDisplayUri,h.on("display_uri",l));let p=[];m&&(p=await this.getAccounts().catch(()=>[]));try{let f,v;p!=null&&p.length||(e.connectAndSign||e.connectWith?(e.connectAndSign?f=await t.connectAndSign({msg:e.connectAndSign}):e.connectWith&&(v=await t.connectWith({method:e.connectWith.method,params:e.connectWith.params})),p=await this.getAccounts()):p=(await t.connect()).map(x=>jt(x)));let y=await this.getChainId();if(u&&y!==u){const g=await this.switchChain({chainId:u}).catch(x=>{if(x.code===De.code)throw x;return{id:y}});y=(g==null?void 0:g.id)??y}return l&&(h.removeListener("display_uri",l),l=void 0),f?h.emit("connectAndSign",{accounts:p,chainId:y,signResponse:f}):v&&h.emit("connectWith",{accounts:p,chainId:y,connectWithResponse:v}),o&&(h.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),h.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c)),{accounts:p,chainId:y}}catch(f){const v=f;throw v.code===De.code?new De(v):v.code===Zn.code?new Zn(v):v}},async disconnect(){const u=await this.getProvider();i&&(u.removeListener("chainChanged",i),i=void 0),c&&(u.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o)),await t.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(h=>jt(h))},async getChainId(){const u=await this.getProvider(),m=u.getChainId()||await(u==null?void 0:u.request({method:"eth_chainId"}));return Number(m)},async getProvider(){async function u(){var v,y,g,x,b;const m=await(async()=>{const{default:N}=await ki(async()=>{const{default:j}=await import("./metamask-sdk-BQpvxHut.js");return{default:j}},__vite__mapDeps([5,4]));return typeof N!="function"&&typeof N.default=="function"?N.default:N})(),h={};for(const N of d.chains)h[Ae(N.id)]=(v=Bj({chain:N,transports:d.transports}))==null?void 0:v[0];t=new m({_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...e,readonlyRPCMap:h,dappMetadata:{...e.dappMetadata,name:(y=e.dappMetadata)!=null&&y.name?(g=e.dappMetadata)==null?void 0:g.name:"wagmi",url:(x=e.dappMetadata)!=null&&x.url?(b=e.dappMetadata)==null?void 0:b.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:e.useDeeplink??!0});const p=await t.init(),f=p!=null&&p.activeProvider?p.activeProvider:t.getProvider();if(!f)throw new lr;return f}return r||(s||(s=u()),r=await s),r},async isAuthorized(){try{return!!(await fi(()=>Ef(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:m}){var y,g;const h=await this.getProvider(),p=d.chains.find(x=>x.id===m);if(!p)throw new $t(new ys);try{return await h.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(m)}]}),await f(),await v(m),p}catch(x){const b=x;if(b.code===De.code)throw new De(b);if(b.code===4902||((g=(y=b==null?void 0:b.data)==null?void 0:y.originalError)==null?void 0:g.code)===4902)try{return await h.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:N,...j}=p.blockExplorers??{};if(u!=null&&u.blockExplorerUrls)return u.blockExplorerUrls;if(N)return[N.url,...Object.values(j).map(k=>k.url)]})(),chainId:Ae(m),chainName:(u==null?void 0:u.chainName)??p.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??p.nativeCurrency,rpcUrls:(()=>{var N,j;return(N=u==null?void 0:u.rpcUrls)!=null&&N.length?u.rpcUrls:[((j=p.rpcUrls.default)==null?void 0:j.http[0])??""]})()}]}),await f(),await v(m),p}catch(N){const j=N;throw j.code===De.code?new De(j):new $t(j)}throw new $t(b)}async function f(){await fi(async()=>{const x=Sr(await h.request({method:"eth_chainId"}));if(x!==m)throw new Error("User rejected switch after adding network.");return x},{delay:50,retryCount:20})}async function v(x){await new Promise(b=>{const N=j=>{"chainId"in j&&j.chainId===x&&(d.emitter.off("change",N),b())};d.emitter.on("change",N),d.emitter.emit("change",{chainId:x})})}},async onAccountsChanged(u){if(u.length===0)if(t.isExtensionActive())this.onDisconnect();else return;else if(d.emitter.listenerCount("connect")){const m=(await this.getChainId()).toString();this.onConnect({chainId:m})}else d.emitter.emit("change",{accounts:u.map(m=>jt(m))})},onChainChanged(u){const m=Number(u);d.emitter.emit("change",{chainId:m})},async onConnect(u){const m=await this.getAccounts();if(m.length===0)return;const h=Number(u.chainId);d.emitter.emit("connect",{accounts:m,chainId:h});const p=await this.getProvider();o&&(p.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),p.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),p.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c))},async onDisconnect(u){const m=await this.getProvider();u&&u.code===1013&&m&&(await this.getAccounts()).length||(d.emitter.emit("disconnect"),i&&(m.removeListener("chainChanged",i),i=void 0),c&&(m.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),m.on("connect",o)))},onDisplayUri(u){d.emitter.emit("message",{type:"display_uri",data:u})}})}Tg.type="walletConnect";function Tg(e){const t=e.isNewChainsStale??!0;let r,s;const a="eip155";let i,o,l,c,d,u;return m=>({id:"walletConnect",name:"WalletConnect",type:Tg.type,async setup(){const h=await this.getProvider().catch(()=>null);h&&(l||(l=this.onConnect.bind(this),h.on("connect",l)),d||(d=this.onSessionDelete.bind(this),h.on("session_delete",d)))},async connect({chainId:h,...p}={}){var f,v;try{const y=await this.getProvider();if(!y)throw new lr;c||(c=this.onDisplayUri,y.on("display_uri",c));let g=h;if(!g){const j=await((f=m.storage)==null?void 0:f.getItem("state"))??{};m.chains.some(T=>T.id===j.chainId)?g=j.chainId:g=(v=m.chains[0])==null?void 0:v.id}if(!g)throw new Error("No chains found on connector.");const x=await this.isChainsStale();if(y.session&&x&&await y.disconnect(),!y.session||x){const j=m.chains.filter(k=>k.id!==g).map(k=>k.id);await y.connect({optionalChains:[g,...j],..."pairingTopic"in p?{pairingTopic:p.pairingTopic}:{}}),this.setRequestedChainsIds(m.chains.map(k=>k.id))}const b=(await y.enable()).map(j=>jt(j)),N=await this.getChainId();return c&&(y.removeListener("display_uri",c),c=void 0),l&&(y.removeListener("connect",l),l=void 0),i||(i=this.onAccountsChanged.bind(this),y.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),y.on("chainChanged",o)),u||(u=this.onDisconnect.bind(this),y.on("disconnect",u)),d||(d=this.onSessionDelete.bind(this),y.on("session_delete",d)),{accounts:b,chainId:N}}catch(y){throw/(user rejected|connection request reset)/i.test(y==null?void 0:y.message)?new De(y):y}},async disconnect(){const h=await this.getProvider();try{await(h==null?void 0:h.disconnect())}catch(p){if(!/No matching key/i.test(p.message))throw p}finally{o&&(h==null||h.removeListener("chainChanged",o),o=void 0),u&&(h==null||h.removeListener("disconnect",u),u=void 0),l||(l=this.onConnect.bind(this),h==null||h.on("connect",l)),i&&(h==null||h.removeListener("accountsChanged",i),i=void 0),d&&(h==null||h.removeListener("session_delete",d),d=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(p=>jt(p))},async getProvider({chainId:h}={}){var f;async function p(){const v=m.chains.map(g=>g.id);if(!v.length)return;const{EthereumProvider:y}=await ki(async()=>{const{EthereumProvider:g}=await import("./index.es-BNOkUNmm.js");return{EthereumProvider:g}},__vite__mapDeps([6,3]));return await y.init({...e,disableProviderPing:!0,optionalChains:v,projectId:e.projectId,rpcMap:Object.fromEntries(m.chains.map(g=>{const[x]=Bj({chain:g,transports:m.transports});return[g.id,x]})),showQrModal:e.showQrModal??!0})}return r||(s||(s=p()),r=await s,r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY)),h&&await((f=this.switchChain)==null?void 0:f.call(this,{chainId:h})),r},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[h,p]=await Promise.all([this.getAccounts(),this.getProvider()]);return h.length?await this.isChainsStale()&&p.session?(await p.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:p}){var y,g,x;const f=await this.getProvider();if(!f)throw new lr;const v=m.chains.find(b=>b.id===p);if(!v)throw new $t(new ys);try{await Promise.all([new Promise(N=>{const j=({chainId:k})=>{k===p&&(m.emitter.off("change",j),N())};m.emitter.on("change",j)}),f.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(p)}]})]);const b=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...b,p]),v}catch(b){const N=b;if(/(user rejected)/i.test(N.message))throw new De(N);try{let j;h!=null&&h.blockExplorerUrls?j=h.blockExplorerUrls:j=(y=v.blockExplorers)!=null&&y.default.url?[(g=v.blockExplorers)==null?void 0:g.default.url]:[];let k;(x=h==null?void 0:h.rpcUrls)!=null&&x.length?k=h.rpcUrls:k=[...v.rpcUrls.default.http];const T={blockExplorerUrls:j,chainId:Ae(p),chainName:(h==null?void 0:h.chainName)??v.name,iconUrls:h==null?void 0:h.iconUrls,nativeCurrency:(h==null?void 0:h.nativeCurrency)??v.nativeCurrency,rpcUrls:k};await f.request({method:"wallet_addEthereumChain",params:[T]});const P=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...P,p]),v}catch(j){throw new De(j)}}},onAccountsChanged(h){h.length===0?this.onDisconnect():m.emitter.emit("change",{accounts:h.map(p=>jt(p))})},onChainChanged(h){const p=Number(h);m.emitter.emit("change",{chainId:p})},async onConnect(h){const p=Number(h.chainId),f=await this.getAccounts();m.emitter.emit("connect",{accounts:f,chainId:p})},async onDisconnect(h){this.setRequestedChainsIds([]),m.emitter.emit("disconnect");const p=await this.getProvider();i&&(p.removeListener("accountsChanged",i),i=void 0),o&&(p.removeListener("chainChanged",o),o=void 0),u&&(p.removeListener("disconnect",u),u=void 0),d&&(p.removeListener("session_delete",d),d=void 0),l||(l=this.onConnect.bind(this),p.on("connect",l))},onDisplayUri(h){m.emitter.emit("message",{type:"display_uri",data:h})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var p,f,v;return r?((v=(f=(p=r.session)==null?void 0:p.namespaces[a])==null?void 0:f.accounts)==null?void 0:v.map(y=>Number.parseInt(y.split(":")[1]||"")))??[]:[]},async getRequestedChainsIds(){var h;return await((h=m.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!t)return!1;const h=m.chains.map(v=>v.id),p=this.getNamespaceChainsIds();if(p.length&&!p.some(v=>h.includes(v)))return!1;const f=await this.getRequestedChainsIds();return!h.every(v=>f.includes(v))},async setRequestedChainsIds(h){var p;await((p=m.storage)==null?void 0:p.setItem(this.requestedChainsStorageKey,h))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const iv={id:656476,name:"Open Campus Codex",nativeCurrency:{name:"EDU",symbol:"EDU",decimals:18},rpcUrls:{default:{http:["https://rpc.open-campus-codex.gelato.digital"]},public:{http:["https://rpc.open-campus-codex.gelato.digital"]}},blockExplorers:{default:{name:"Block Scout",url:"https://opencampus-codex.blockscout.com/"}},testnet:!0},JN=q8({chains:[nv,av,sv,rv,Jb,ev,tv,iv],connectors:[kg(),xu(),Iu({appName:"mySchoolTree",appLogoUrl:"/mySchoolTree.png"}),Tg({projectId:"7947a33e1a1c8a86929311254cedf81a",metadata:{name:"mySchoolTree",description:"mySchoolTree Web Application",url:typeof window<"u"?window.location.host:"https://mySchooltree.app",icons:[typeof window<"u"?window.location.origin+"/mySchoolTree.png":"/mySchoolTree.png"]},showQrModal:!0})],transports:{[nv.id]:Fr(),[av.id]:Fr(),[sv.id]:Fr(),[rv.id]:Fr(),[Jb.id]:Fr(),[ev.id]:Fr(),[tv.id]:Fr(),[iv.id]:Fr()},ssr:!1}),ov=JN.chains,H0={1:"",11155111:"",137:"",10:"",42161:"",8453:"",56:"",656476:"",defaultEmoji:""},lv=e=>e in H0?H0[e]:H0.defaultEmoji;function u9(){const e=Ge(),{connectors:t,connect:r}=FP(),{disconnect:s}=DP(),a=bu(),{switchChainAsync:i}=$P(),[o,l]=w.useState(!1),[c,d]=w.useState(null),[u,m]=w.useState(!1),h=w.useRef(null),p=w.useRef(null),[f,v]=w.useState("bottom");w.useEffect(()=>{const j=()=>{if(h.current&&p.current){const k=h.current.getBoundingClientRect(),T=p.current.getBoundingClientRect(),I=window.innerHeight-k.bottom,B=k.top-T.top,U=I<240&&B>240?"top":"bottom";v(U)}};return o&&j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[o]),w.useEffect(()=>{const j=k=>{h.current&&!h.current.contains(k.target)&&l(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const y=w.useCallback(()=>{const j=setTimeout(()=>d(null),3e3);return()=>clearTimeout(j)},[]),g=async j=>{if(!(j.id===a||u))try{if(m(!0),d({message:`Switching to ${j.name}...`,isError:!1}),!window.ethereum)throw new Error("No wallet found! Please install MetaMask");const k=`0x${j.id.toString(16)}`;try{await i({chainId:j.id})}catch(T){if(T.code===4902||T.code===-32603)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:k,chainName:j.name,nativeCurrency:{name:j.nativeCurrency.name,symbol:j.nativeCurrency.symbol,decimals:j.nativeCurrency.decimals},rpcUrls:[...j.rpcUrls.default.http],blockExplorerUrls:j.blockExplorers?[j.blockExplorers.default.url]:void 0}]})}catch(P){throw new Error(P.message||"Failed to add network")}else throw T}d({message:`Successfully switched to ${j.name}`,isError:!1}),l(!1),y()}catch(k){console.error("Network switch failed:",k),d({message:k.message||"Failed to switch network",isError:!0}),y()}finally{m(!1)}},x=j=>`${j.slice(0,6)}...${j.slice(-4)}`,b=ov.find(j=>j.id===a),N=lv(a);return n.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-2xl shadow-xl border border-gray-800/50 backdrop-blur-sm max-h-[90vh] overflow-y-auto",ref:p,children:n.jsxs("div",{className:"max-w-md mx-auto space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Wallet Connection"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage your wallet connection and network"})]}),e.isConnected&&n.jsx("button",{onClick:()=>s(),className:"px-4 py-2 text-sm font-medium text-red-400 bg-red-400/10 rounded-xl hover:bg-red-400/20 transition-all duration-200 hover:scale-105 active:scale-95",children:"Disconnect"})]}),n.jsx("div",{className:"p-4 bg-gray-800/50 rounded-xl backdrop-blur-sm border border-gray-700/50 transition-all duration-300 hover:bg-gray-800/70",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Status"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${e.isConnected?"bg-green-400 animate-pulse":"bg-yellow-400"}`}),n.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${e.isConnected?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.isConnected?"Connected":"Disconnected"})]})]})}),e.isConnected&&e.address&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-gray-700/50 space-y-2 group hover:bg-gray-800/70 transition-all duration-300",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Wallet Address"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("code",{className:"bg-gray-900/50 px-4 py-2 rounded-lg text-sm font-mono text-gray-300 overflow-x-auto scrollbar-thin",children:x(e.address)}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e.address||""),d({message:"Address copied to clipboard!",isError:!1}),y()},className:"p-2 hover:bg-gray-700/50 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95 ml-2 flex-shrink-0",title:"Copy address",children:n.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]})]}),n.jsxs("div",{className:"relative",ref:h,children:[n.jsxs("button",{onClick:j=>{j.stopPropagation(),l(!o)},disabled:u,className:"w-full flex items-center justify-between p-4 bg-gray-800/50 rounded-xl border border-gray-700/50 hover:bg-gray-800/70 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-2xl mr-3 group-hover:scale-110 transition-transform duration-200",children:N}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Network"}),n.jsx("p",{className:"font-medium text-gray-200",children:(b==null?void 0:b.name)||"Unknown"})]})]}),n.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-all duration-200 ${o?"rotate-180 text-blue-400":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx(Nt,{children:o&&n.jsxs(n.Fragment,{children:[n.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>l(!1)}),n.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:20,stiffness:300},className:`
                        absolute ${f==="top"?"bottom-full mb-2":"top-full mt-2"} 
                        left-0 right-0 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 
                        rounded-xl shadow-xl z-50
                      `,style:{maxHeight:"240px"},children:n.jsx("div",{className:"overflow-y-auto max-h-[240px] scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:ov.map(j=>{const k=j.id===a,T=lv(j.id);return n.jsxs("button",{onClick:()=>{k||g(j),l(!1)},disabled:u,className:`w-full flex items-center px-4 py-3 hover:bg-gray-700/50 transition-all duration-200 ${k?"bg-blue-500/10 text-blue-400":""} disabled:opacity-50 disabled:cursor-not-allowed group`,children:[n.jsx("span",{className:"text-xl mr-3 group-hover:scale-110 transition-transform duration-200",children:T}),n.jsx("span",{className:"font-medium",children:j.name}),k&&n.jsx("span",{className:"ml-auto text-xs bg-blue-500/20 text-blue-300 px-3 py-1 rounded-lg",children:"Connected"})]},j.id)})})})]})})]}),n.jsx(Nt,{children:c&&n.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:`p-4 rounded-xl text-sm flex items-start backdrop-blur-sm ${c.isError?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:[n.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.isError?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:c.message})]})})]}),!e.isConnected&&n.jsx("div",{className:"space-y-3",children:t.map(j=>{const k=j.id==="injected"&&typeof window<"u"&&!!window.ethereum,T="ready"in j?j.ready:k;return n.jsxs("button",{onClick:()=>r({connector:j}),disabled:!T,className:`w-full flex items-center justify-between p-4 rounded-xl transition-all duration-300 group ${T?"bg-gray-800/50 hover:bg-gray-800/70 hover:scale-[1.02] active:scale-[0.98]":"bg-gray-800/30 cursor-not-allowed"} border border-gray-700/50`,children:[n.jsx("span",{className:"font-medium text-gray-200 group-hover:text-white transition-colors",children:j.name}),T?n.jsx("svg",{className:"w-5 h-5 text-blue-400 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}):n.jsx("span",{className:"text-xs text-yellow-400 bg-yellow-400/10 px-3 py-1 rounded-lg border border-yellow-400/20",children:"Not available"})]},j.uid)})})]})})}const cv=({className:e="",variant:t="default"})=>{const{isInitialized:r,isAuthenticated:s,user:a,ocAuth:i}=ms.useOCAuth(),[o,l]=w.useState(!1),[c,d]=w.useState(null),u=()=>a&&(a.name||a.email||a.sub)||"User";if(!r)return n.jsx("div",{className:"relative inline-block",children:n.jsxs("button",{disabled:!0,className:`px-3 py-1.5 sm:px-4 sm:py-2 bg-gray-400 text-white rounded-md cursor-not-allowed opacity-70 flex items-center space-x-2 ${e}`,children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"text-sm sm:text-base",children:"Initializing..."})]})});const m=async()=>{try{l(!0),d(null),await i.logout(),console.log("Logged out successfully")}catch(p){console.error("Logout error:",p),d("Failed to log out. Please try again.")}finally{l(!1)}},h=async()=>{try{l(!0),d(null),await i.signInWithRedirect({state:"opencampus"}),console.log("Redirecting to login...")}catch(p){console.error("Login error:",p),d("Failed to initiate login. Please try again."),l(!1)}};return s&&a?n.jsxs("div",{className:"relative inline-block group",children:[n.jsx("button",{onClick:m,disabled:o,className:`
            px-3 py-1.5 sm:px-4 sm:py-2 bg-red-600 text-white rounded-md 
            hover:bg-red-700 transition-all duration-200 flex items-center space-x-2
            ${o?"opacity-70 cursor-not-allowed":"hover:scale-105 active:scale-95"}
            ${t==="compact"?"text-xs sm:text-sm":"text-sm sm:text-base"}
            ${e}
          `,children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Signing out..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[a.picture?n.jsx("img",{src:a.picture,alt:"Profile",className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full"}):n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-red-500 flex items-center justify-center text-xs font-bold",children:u().charAt(0).toUpperCase()}),n.jsx("span",{className:t==="compact"?"hidden sm:inline":"",children:u()})]}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})]})}),c&&n.jsx("div",{className:"absolute top-full left-0 mt-2 w-full px-2 py-1 text-xs text-red-500 bg-red-100 rounded",children:c}),n.jsx("div",{className:"absolute hidden group-hover:block top-full left-0 mt-2 w-48 p-2 bg-gray-800 rounded-md shadow-lg",children:n.jsxs("div",{className:"text-sm text-gray-300 p-2",children:[n.jsx("div",{className:"font-medium text-white",children:a.name}),n.jsx("div",{className:"text-xs text-gray-400 truncate",children:a.email})]})})]}):n.jsxs("div",{className:"relative inline-block",children:[n.jsx("button",{onClick:h,disabled:o,className:`
          px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-600 text-white rounded-md 
          hover:bg-blue-700 transition-all duration-200 flex items-center space-x-2
          ${o?"opacity-70 cursor-not-allowed":"hover:scale-105 active:scale-95"}
          ${t==="compact"?"text-xs sm:text-sm":"text-sm sm:text-base"}
          ${e}
        `,children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Signing in..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),n.jsx("span",{className:t==="compact"?"hidden sm:inline":"",children:"OpenCampus ID"})]})}),c&&n.jsx("div",{className:"absolute top-full left-0 mt-2 w-full px-2 py-1 text-xs text-red-500 bg-red-100 rounded",children:c})]})},m9="/assets/mySchoolTree-CniRutJw.png",h9=()=>{const[e,t]=w.useState(!1),[r,s]=w.useState(!1),[a,i]=w.useState(!1),o=Ge(),{isInitialized:l,isAuthenticated:c,user:d}=ms.useOCAuth();w.useEffect(()=>{const h=()=>{t(window.scrollY>10)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const u=h=>h?`${h.slice(0,6)}...${h.slice(-4)}`:"",m=()=>l?c&&d?`Logged in as ${d.name||d.email||"User"}`:"Not logged in":"Initializing...";return n.jsxs(n.Fragment,{children:[n.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"bg-gray-900/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-shrink-0 flex items-center",children:[n.jsx("img",{src:m9,alt:"mySchoolTree Logo",className:"h-12 w-auto mr-2"}),n.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"mySchoolTree"})]}),n.jsx("div",{className:"hidden md:block",children:n.jsxs("div",{className:"ml-10 flex items-center space-x-8",children:[n.jsx(hc,{href:"#",active:!0,children:"Dashboard"}),n.jsx(hc,{href:"#",active:!1,children:"Explore"}),n.jsx(hc,{href:"#",active:!1,children:"Marketplace"}),n.jsx(hc,{href:"#",active:!1,children:"Documentation"}),n.jsx("span",{className:`text-sm font-medium ${c?"text-green-400":"text-gray-400"}`,children:m()})]})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[n.jsx(cv,{className:"px-3 py-1.5 text-sm rounded-xl"}),n.jsx(Z.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>i(!a),className:`flex items-center px-3 py-1.5 rounded-xl font-medium transition-all ${o.status==="connected"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30 hover:bg-blue-500/30"}`,children:o.status==="connected"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),u(o.address)]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Connect Wallet"]})})]}),n.jsxs("div",{className:"md:hidden flex items-center",children:[n.jsx("span",{className:`text-xs font-medium mr-3 ${c?"text-green-400":"text-gray-400"}`,children:m()}),n.jsx("div",{className:"mr-2",children:n.jsx(cv,{className:"px-2 py-1 text-xs rounded-lg",variant:"compact"})}),o.status==="connected"&&n.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-xl px-3 py-1 mr-3 text-sm flex items-center",onClick:()=>i(!a),children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mr-1.5"}),u(o.address)]}),n.jsx("button",{onClick:()=>s(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white focus:outline-none",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),n.jsx(Nt,{children:r&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden overflow-hidden bg-gray-800",children:n.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[n.jsx(pc,{href:"#",active:!0,children:"Dashboard"}),n.jsx(pc,{href:"#",active:!1,children:"Explore"}),n.jsx(pc,{href:"#",active:!1,children:"Marketplace"}),n.jsx(pc,{href:"#",active:!1,children:"Documentation"}),o.status!=="connected"&&n.jsxs("button",{onClick:()=>{i(!a),s(!1)},className:"w-full flex items-center px-3 py-2 rounded-md text-base font-medium text-blue-400 bg-blue-500/10 hover:bg-blue-500/20",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Connect Wallet"]})]})})})]}),n.jsx(Nt,{children:a&&n.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-gray-900/80 backdrop-blur-sm",onClick:()=>i(!1),children:n.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:500},className:"relative w-full max-w-md",onClick:h=>h.stopPropagation(),children:[n.jsx("button",{onClick:()=>i(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-white z-[110] bg-gray-800 p-1 rounded-full","aria-label":"Close modal",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx(u9,{})]})})})]})},hc=({href:e,active:t,children:r})=>n.jsx(Z.a,{href:e,whileHover:{y:-2},className:`px-3 py-2 text-sm font-medium ${t?"text-white border-b-2 border-blue-400":"text-gray-300 hover:text-white transition-colors"}`,children:r}),pc=({href:e,active:t,children:r})=>n.jsx("a",{href:e,className:`block px-3 py-2 rounded-md text-base font-medium ${t?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:r});var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.parse=v9;Eg.serialize=w9;const p9=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,f9=/^[\u0021-\u003A\u003C-\u007E]*$/,g9=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,x9=/^[\u0020-\u003A\u003D-\u007E]*$/,y9=Object.prototype.toString,b9=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function v9(e,t){const r=new b9,s=e.length;if(s<2)return r;const a=(t==null?void 0:t.decode)||j9;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const l=e.indexOf(";",i),c=l===-1?s:l;if(o>c){i=e.lastIndexOf(";",o-1)+1;continue}const d=dv(e,i,o),u=uv(e,o,d),m=e.slice(d,u);if(r[m]===void 0){let h=dv(e,o+1,c),p=uv(e,c,h);const f=a(e.slice(h,p));r[m]=f}i=c+1}while(i<s);return r}function dv(e,t,r){do{const s=e.charCodeAt(t);if(s!==32&&s!==9)return t}while(++t<r);return r}function uv(e,t,r){for(;t>r;){const s=e.charCodeAt(--t);if(s!==32&&s!==9)return t+1}return r}function w9(e,t,r){const s=(r==null?void 0:r.encode)||encodeURIComponent;if(!p9.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=s(t);if(!f9.test(a))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+a;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!g9.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!x9.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!N9(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function j9(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function N9(e){return y9.call(e)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mv="popstate";function S9(e={}){function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return rp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:hl(a)}return k9(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C9(){return Math.random().toString(36).substring(2,10)}function hv(e,t){return{usr:e.state,key:e.key,idx:t}}function rp(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Mi(t):t,state:r,key:t&&t.key||s||C9()}}function hl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function k9(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function m(){l="POP";let y=u(),g=y==null?null:y-d;d=y,c&&c({action:l,location:v.location,delta:g})}function h(y,g){l="PUSH";let x=rp(v.location,y,g);d=u()+1;let b=hv(x,d),N=v.createHref(x);try{o.pushState(b,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:l,location:v.location,delta:1})}function p(y,g){l="REPLACE";let x=rp(v.location,y,g);d=u();let b=hv(x,d),N=v.createHref(x);o.replaceState(b,"",N),i&&c&&c({action:l,location:v.location,delta:0})}function f(y){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:hl(y);return x=x.replace(/ $/,"%20"),et(g,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,g)}let v={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(mv,m),c=y,()=>{a.removeEventListener(mv,m),c=null}},createHref(y){return t(a,y)},createURL:f,encodeLocation(y){let g=f(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return o.go(y)}};return v}function e3(e,t,r="/"){return T9(e,t,r,!1)}function T9(e,t,r,s){let a=typeof t=="string"?Mi(t):t,i=Tr(a.pathname||"/",r);if(i==null)return null;let o=t3(e);E9(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=$9(i);l=O9(o[c],d,s)}return l}function t3(e,t=[],r=[],s=""){let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let d=yr([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),t3(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:_9(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of n3(i.path))a(i,o,c)}),t}function n3(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=n3(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function E9(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:F9(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var P9=/^:[\w-]+$/,A9=3,M9=2,R9=1,L9=10,I9=-2,pv=e=>e==="*";function _9(e,t){let r=e.split("/"),s=r.length;return r.some(pv)&&(s+=I9),t&&(s+=M9),r.filter(a=>!pv(a)).reduce((a,i)=>a+(P9.test(i)?A9:i===""?R9:L9),s)}function F9(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function O9(e,t,r=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=Id({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&r&&!s[s.length-1].route.index&&(m=Id({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:yr([i,m.pathname]),pathnameBase:V9(yr([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=yr([i,m.pathnameBase]))}return o}function Id(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=D9(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:m},h)=>{if(u==="*"){let f=l[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function D9(e,t=!1,r=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function $9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Tr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function B9(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Mi(e):e;return{pathname:r?r.startsWith("/")?r:z9(r,t):t,search:W9(s),hash:H9(a)}}function z9(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function G0(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Pg(e){let t=U9(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Ag(e,t,r,s=!1){let a;typeof e=="string"?a=Mi(e):(a={...e},et(!a.pathname||!a.pathname.includes("?"),G0("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),G0("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),G0("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=B9(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var yr=e=>e.join("/").replace(/\/\/+/g,"/"),V9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function G9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var r3=["POST","PUT","PATCH","DELETE"];new Set(r3);var q9=["GET",...r3];new Set(q9);var Ri=w.createContext(null);Ri.displayName="DataRouter";var _u=w.createContext(null);_u.displayName="DataRouterState";var s3=w.createContext({isTransitioning:!1});s3.displayName="ViewTransition";var K9=w.createContext(new Map);K9.displayName="Fetchers";var Y9=w.createContext(null);Y9.displayName="Await";var $n=w.createContext(null);$n.displayName="Navigation";var Rl=w.createContext(null);Rl.displayName="Location";var rr=w.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Mg=w.createContext(null);Mg.displayName="RouteError";function Q9(e,{relative:t}={}){et(Li(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=w.useContext($n),{hash:a,pathname:i,search:o}=Il(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:yr([r,i])),s.createHref({pathname:l,search:o,hash:a})}function Li(){return w.useContext(Rl)!=null}function Ps(){return et(Li(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Rl).location}var a3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i3(e){w.useContext($n).static||w.useLayoutEffect(e)}function Ll(){let{isDataRoute:e}=w.useContext(rr);return e?cI():X9()}function X9(){et(Li(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Ri),{basename:t,navigator:r}=w.useContext($n),{matches:s}=w.useContext(rr),{pathname:a}=Ps(),i=JSON.stringify(Pg(s)),o=w.useRef(!1);return i3(()=>{o.current=!0}),w.useCallback((c,d={})=>{if(On(o.current,a3),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=Ag(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:yr([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,a,e])}w.createContext(null);function Il(e,{relative:t}={}){let{matches:r}=w.useContext(rr),{pathname:s}=Ps(),a=JSON.stringify(Pg(r));return w.useMemo(()=>Ag(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function Z9(e,t){return o3(e,t)}function o3(e,t,r,s){var x;et(Li(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=w.useContext($n),{matches:o}=w.useContext(rr),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",m=l&&l.route;{let b=m&&m.path||"";l3(d,!m||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=Ps(),p;if(t){let b=typeof t=="string"?Mi(t):t;et(u==="/"||((x=b.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),p=b}else p=h;let f=p.pathname||"/",v=f;if(u!=="/"){let b=u.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=!i&&r&&r.matches&&r.matches.length>0?r.matches:e3(e,{pathname:v});On(m||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),On(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=rI(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:yr([u,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:yr([u,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,s);return t&&g?w.createElement(Rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},g):g}function J9(){let e=lI(),t=G9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,o)}var eI=w.createElement(J9,null),tI=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(rr.Provider,{value:this.props.routeContext},w.createElement(Mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:e,match:t,children:r}){let s=w.useContext(Ri);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(rr.Provider,{value:e},r)}function rI(e,t=[],r=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let c=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);et(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:m}=r,h=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,u)=>{let m,h=!1,p=null,f=null;r&&(m=i&&d.route.id?i[d.route.id]:void 0,p=d.route.errorElement||eI,o&&(l<0&&u===0?(l3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,u+1)),y=()=>{let g;return m?g=p:h?g=f:d.route.Component?g=w.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,w.createElement(nI,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?w.createElement(tI,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}function Rg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sI(e){let t=w.useContext(Ri);return et(t,Rg(e)),t}function aI(e){let t=w.useContext(_u);return et(t,Rg(e)),t}function iI(e){let t=w.useContext(rr);return et(t,Rg(e)),t}function Lg(e){let t=iI(e),r=t.matches[t.matches.length-1];return et(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function oI(){return Lg("useRouteId")}function lI(){var s;let e=w.useContext(Mg),t=aI("useRouteError"),r=Lg("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function cI(){let{router:e}=sI("useNavigate"),t=Lg("useNavigate"),r=w.useRef(!1);return i3(()=>{r.current=!0}),w.useCallback(async(a,i={})=>{On(r.current,a3),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var fv={};function l3(e,t,r){!t&&!fv[e]&&(fv[e]=!0,On(!1,r))}w.memo(dI);function dI({routes:e,future:t,state:r}){return o3(e,void 0,r,t)}function uI({to:e,replace:t,state:r,relative:s}){et(Li(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext($n);On(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(rr),{pathname:o}=Ps(),l=Ll(),c=Ag(e,Pg(i),o,s==="path"),d=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:s})},[l,d,s,t,r]),null}function zr(e){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mI({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:i=!1}){et(!Li(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Mi(r));let{pathname:c="/",search:d="",hash:u="",state:m=null,key:h="default"}=r,p=w.useMemo(()=>{let f=Tr(c,o);return f==null?null:{location:{pathname:f,search:d,hash:u,state:m,key:h},navigationType:s}},[o,c,d,u,m,h,s]);return On(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement($n.Provider,{value:l},w.createElement(Rl.Provider,{children:t,value:p}))}function hI({children:e,location:t}){return Z9(sp(e),t)}function sp(e,t=[]){let r=[];return w.Children.forEach(e,(s,a)=>{if(!w.isValidElement(s))return;let i=[...t,a];if(s.type===w.Fragment){r.push.apply(r,sp(s.props.children,i));return}et(s.type===zr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=sp(s.props.children,i)),r.push(o)}),r}var Bc="get",zc="application/x-www-form-urlencoded";function Fu(e){return e!=null&&typeof e.tagName=="string"}function pI(e){return Fu(e)&&e.tagName.toLowerCase()==="button"}function fI(e){return Fu(e)&&e.tagName.toLowerCase()==="form"}function gI(e){return Fu(e)&&e.tagName.toLowerCase()==="input"}function xI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yI(e,t){return e.button===0&&(!t||t==="_self")&&!xI(e)}var fc=null;function bI(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var vI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q0(e){return e!=null&&!vI.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zc}"`),null):e}function wI(e,t){let r,s,a,i,o;if(fI(e)){let l=e.getAttribute("action");s=l?Tr(l,t):null,r=e.getAttribute("method")||Bc,a=q0(e.getAttribute("enctype"))||zc,i=new FormData(e)}else if(pI(e)||gI(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?Tr(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Bc,a=q0(e.getAttribute("formenctype"))||q0(l.getAttribute("enctype"))||zc,i=new FormData(l,e),!bI()){let{name:d,type:u,value:m}=e;if(u==="image"){let h=d?`${d}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else d&&i.append(d,m)}}else{if(Fu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Bc,s=null,a=zc,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:o}}function Ig(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function jI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function SI(e,t,r){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await jI(i,r);return o.links?o.links():[]}return[]}));return EI(s.flat(1).filter(NI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gv(e,t,r,s,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var m;let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function CI(e,t,{includeHydrateFallback:r}={}){return kI(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function kI(e){return[...new Set(e)]}function TI(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function EI(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(TI(a));return r.has(i)||(r.add(i),s.push({key:i,link:a})),s},[])}function PI(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Tr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function c3(){let e=w.useContext(Ri);return Ig(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function AI(){let e=w.useContext(_u);return Ig(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _g=w.createContext(void 0);_g.displayName="FrameworkContext";function d3(){let e=w.useContext(_g);return Ig(e,"You must render this element inside a <HydratedRouter> element"),e}function MI(e,t){let r=w.useContext(_g),[s,a]=w.useState(!1),[i,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,h=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=g=>{g.forEach(x=>{o(x.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),w.useEffect(()=>{if(s){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[s]);let p=()=>{a(!0)},f=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Xi(l,p),onBlur:Xi(c,f),onMouseEnter:Xi(d,p),onMouseLeave:Xi(u,f),onTouchStart:Xi(m,p)}]:[!1,h,{}]}function Xi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function RI({page:e,...t}){let{router:r}=c3(),s=w.useMemo(()=>e3(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?w.createElement(II,{page:e,matches:s,...t}):null}function LI(e){let{manifest:t,routeModules:r}=d3(),[s,a]=w.useState([]);return w.useEffect(()=>{let i=!1;return SI(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),s}function II({page:e,matches:t,...r}){let s=Ps(),{manifest:a,routeModules:i}=d3(),{basename:o}=c3(),{loaderData:l,matches:c}=AI(),d=w.useMemo(()=>gv(e,t,c,a,s,"data"),[e,t,c,a,s]),u=w.useMemo(()=>gv(e,t,c,a,s,"assets"),[e,t,c,a,s]),m=w.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let f=new Set,v=!1;if(t.forEach(g=>{var b;let x=a.routes[g.route.id];!x||!x.hasLoader||(!d.some(N=>N.route.id===g.route.id)&&g.route.id in l&&((b=i[g.route.id])!=null&&b.shouldRevalidate)||x.hasClientLoader?v=!0:f.add(g.route.id))}),f.size===0)return[];let y=PI(e,o);return v&&f.size>0&&y.searchParams.set("_routes",t.filter(g=>f.has(g.route.id)).map(g=>g.route.id).join(",")),[y.pathname+y.search]},[o,l,s,a,d,t,e,i]),h=w.useMemo(()=>CI(u,a),[u,a]),p=LI(u);return w.createElement(w.Fragment,null,m.map(f=>w.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),h.map(f=>w.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),p.map(({key:f,link:v})=>w.createElement("link",{key:f,...v})))}function _I(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var u3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u3&&(window.__reactRouterVersion="7.4.1")}catch{}function FI({basename:e,children:t,window:r}){let s=w.useRef();s.current==null&&(s.current=S9({window:r,v5Compat:!0}));let a=s.current,[i,o]=w.useState({action:a.action,location:a.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>a.listen(l),[a,l]),w.createElement(mI,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var m3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h3=w.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m,...h},p){let{basename:f}=w.useContext($n),v=typeof d=="string"&&m3.test(d),y,g=!1;if(typeof d=="string"&&v&&(y=d,u3))try{let I=new URL(window.location.href),B=d.startsWith("//")?new URL(I.protocol+d):new URL(d),U=Tr(B.pathname,f);B.origin===I.origin&&U!=null?d=U+B.search+B.hash:g=!0}catch{On(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Q9(d,{relative:a}),[b,N,j]=MI(s,h),k=BI(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function T(I){t&&t(I),I.defaultPrevented||k(I)}let P=w.createElement("a",{...h,...j,href:y||x,onClick:g||i?t:T,ref:_I(p,N),target:c,"data-discover":!v&&r==="render"?"true":void 0});return b&&!v?w.createElement(w.Fragment,null,P,w.createElement(RI,{page:x})):P});h3.displayName="Link";var OI=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let m=Il(o,{relative:d.relative}),h=Ps(),p=w.useContext(_u),{navigator:f,basename:v}=w.useContext($n),y=p!=null&&HI(m)&&l===!0,g=f.encodeLocation?f.encodeLocation(m).pathname:m.pathname,x=h.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(x=x.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&v&&(b=Tr(b,v)||b);const N=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let j=x===g||!a&&x.startsWith(g)&&x.charAt(N)==="/",k=b!=null&&(b===g||!a&&b.startsWith(g)&&b.charAt(g.length)==="/"),T={isActive:j,isPending:k,isTransitioning:y},P=j?t:void 0,I;typeof s=="function"?I=s(T):I=[s,j?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(T):i;return w.createElement(h3,{...d,"aria-current":P,className:I,ref:u,style:B,to:o,viewTransition:l},typeof c=="function"?c(T):c)});OI.displayName="NavLink";var DI=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:i,method:o=Bc,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:m,...h},p)=>{let f=VI(),v=WI(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&m3.test(l),x=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let N=b.nativeEvent.submitter,j=(N==null?void 0:N.getAttribute("formmethod"))||o;f(N||b.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:m})};return w.createElement("form",{ref:p,method:y,action:v,onSubmit:s?c:x,...h,"data-discover":!g&&e==="render"?"true":void 0})});DI.displayName="Form";function $I(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p3(e){let t=w.useContext(Ri);return et(t,$I(e)),t}function BI(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Ll(),c=Ps(),d=Il(e,{relative:i});return w.useCallback(u=>{if(yI(u,t)){u.preventDefault();let m=r!==void 0?r:hl(c)===hl(d);l(e,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,s,t,e,a,i,o])}var zI=0,UI=()=>`__${String(++zI)}__`;function VI(){let{router:e}=p3("useSubmit"),{basename:t}=w.useContext($n),r=oI();return w.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=wI(s,t);if(a.navigate===!1){let u=a.fetcherKey||UI();await e.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function WI(e,{relative:t}={}){let{basename:r}=w.useContext($n),s=w.useContext(rr);et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...Il(e||".",{relative:t})},o=Ps();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let u=l.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:yr([r,i.pathname])),hl(i)}function HI(e,t={}){let r=w.useContext(s3);et(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=p3("useViewTransitionState"),a=Il(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Tr(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=Tr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Id(a.pathname,o)!=null||Id(a.pathname,i)!=null}new TextEncoder;const ap=({children:e,onClick:t})=>n.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:t,className:"px-6 py-3 rounded-xl font-medium text-white bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg",children:e}),GI=()=>{const e=Ge(),t=Ll(),r=()=>{t("/school-admin")};return n.jsx(Z.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7},className:"max-w-7xl mx-auto mt-8 sm:mt-12 md:mt-20 px-3 sm:px-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center w-full",children:[n.jsxs("h1",{className:"text-3xl xs:text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight leading-tight",children:[n.jsxs(Z.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"block",children:["Get into ",n.jsx("span",{className:"text-blue-400",children:"my"}),n.jsx("span",{className:"text-purple-500",children:"SchoolTree"})]}),n.jsx(Z.span,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"block mt-2 sm:mt-3 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Education Meets Blockchain"})]}),n.jsx("p",{className:"mt-4 sm:mt-6 max-w-xs xs:max-w-sm sm:max-w-lg md:max-w-2xl mx-auto text-base sm:text-lg md:text-xl text-gray-300",children:"Bridging traditional education with blockchain technology for secure, transparent academic record management."})]}),n.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-6 sm:mt-8 md:mt-10 flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center w-full px-4 sm:px-0",children:[e.status!=="connected"?n.jsx(ap,{onClick:()=>{},children:"Connect Wallet"}):n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 sm:p-4 bg-green-500/20 rounded-xl border border-green-500/30 text-green-400 flex items-center justify-center w-full sm:w-auto text-sm sm:text-base",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Ready to Explore"]}),n.jsxs(Z.button,{onClick:r,whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto px-4 sm:px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white font-medium rounded-lg shadow-lg flex items-center justify-center sm:justify-start space-x-2 transition-all duration-200 text-sm sm:text-base",children:[n.jsx("span",{children:"EnterDapp"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.5},className:"mt-6 sm:mt-8 px-3 sm:px-4 py-1.5 sm:py-2 bg-blue-500/10 rounded-full border border-blue-500/20 text-blue-400 text-xs sm:text-sm flex items-center max-w-full overflow-hidden",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 h-4 w-4 sm:h-5 sm:w-5 mr-1.5 sm:mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),n.jsx("span",{className:"truncate",children:"Interactive Learning Environment"})]})]})})},K0=({title:e,children:t})=>n.jsx("div",{children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400",children:e}),n.jsx("p",{className:"mt-1 text-sm text-gray-400",children:t})]})]})}),gc=({title:e,color:t,children:r})=>{const s={blue:"bg-blue-500/20 text-blue-400 border-blue-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",green:"bg-green-500/20 text-green-400 border-green-500/30",amber:"bg-amber-500/20 text-amber-400 border-amber-500/30"};return n.jsxs(Z.div,{whileHover:{scale:1.05},className:`p-3 ${s[t]} rounded-lg border flex flex-col items-center justify-center text-center`,children:[r,n.jsx("p",{className:"text-xs mt-2 font-medium",children:e})]})},qI=()=>n.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},className:"max-w-7xl mx-auto mt-24 bg-gray-800/40 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-gray-700",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Reimagining Education Management"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"mySchoolTree creates a seamless bridge between traditional educational systems and blockchain technology, offering institutions the best of both worlds."}),n.jsx("p",{className:"text-gray-300 mb-6",children:"Maintain familiar operations while gaining the benefits of immutable record-keeping, transparent accounting, and secure digital identity for students of all ages."}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(K0,{title:"Synchronize On-Chain & Off-Chain",children:"Transform standard educational processes into blockchain-secured operations without disrupting existing workflows."}),n.jsx(K0,{title:"Adopt at Your Own Pace",children:"Institutions can embrace blockchain benefits while preserving the efficiency of current systems."}),n.jsx(K0,{title:"Early Blockchain Exposure",children:"Introduce students to digital identity and blockchain interaction from a young age, preparing them for the future."})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 opacity-75 blur-xl"}),n.jsxs(Z.div,{initial:{y:0},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:5,ease:"easeInOut"},className:"relative bg-gray-900/90 p-6 rounded-2xl border border-gray-700",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(gc,{title:"Student Records",color:"blue",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})})}),n.jsx(gc,{title:"Attendance",color:"purple",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),n.jsx(gc,{title:"Certificates",color:"green",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})})}),n.jsx(gc,{title:"Payments",color:"amber",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),n.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})})]}),n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsxs("div",{className:"relative py-3 px-6 bg-blue-500/20 text-blue-400 rounded-lg flex items-center space-x-2",children:[n.jsx("div",{className:"absolute -left-2 -top-2 w-4 h-4 bg-blue-400 rounded-full animate-ping"}),n.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),n.jsx("span",{children:"Blockchain Integration"})]})})]})]})]})}),Y0=({icon:e,title:t,description:r})=>n.jsxs(Z.div,{whileHover:{y:-5},className:"p-6 bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700",children:[n.jsx("div",{className:"h-12 w-12 bg-blue-500/20 rounded-lg flex items-center justify-center mb-4 text-blue-400",children:e}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:t}),n.jsx("p",{className:"text-gray-400",children:r})]}),KI=()=>n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},className:"max-w-7xl mx-auto mt-24",children:[n.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Key Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsx(Y0,{icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),title:"Immutable Records",description:"Secure student records, certificates, and credentials with blockchain technology ensuring tamper-proof verification."}),n.jsx(Y0,{icon:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),n.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),title:"Digital Identity",description:"Provide students with unique blockchain identities and wallets from an early age, fostering digital literacy."}),n.jsx(Y0,{icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})}),title:"Seamless Integration",description:"Connect existing school management systems with blockchain without disrupting established workflows."})]})]}),YI=({children:e,onClick:t})=>n.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:t,className:"px-6 py-3 rounded-xl font-medium text-white bg-gray-700 hover:bg-gray-600 border border-gray-600 shadow-lg",children:e}),Q0=({number:e,title:t,description:r})=>n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center border border-blue-500/30",children:n.jsx("span",{className:"text-blue-400 font-bold",children:e})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h4",{className:"text-lg font-medium",children:t}),n.jsx("p",{className:"mt-1 text-gray-400 text-sm",children:r})]})]}),QI=()=>{const e=Ge();return n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9,duration:.5},className:"max-w-7xl mx-auto mt-24 bg-gradient-to-br from-blue-900/50 to-purple-900/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-blue-700/50",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Join Our Educational Protocol"}),n.jsx("p",{className:"text-gray-300 mb-6",children:"Become part of the future of education by integrating your institution with mySchoolTree. We're bringing students onchain from an early age, preparing them for the digital future."}),n.jsxs("div",{className:"space-y-6 mb-8",children:[n.jsx(Q0,{number:"01",title:"Student Digital Identity",description:"Each student receives a secure wallet address and digital identity for lifelong learning credentials."}),n.jsx(Q0,{number:"02",title:"Gradual Implementation",description:"Adopt blockchain features at your own pace with our flexible integration options."}),n.jsx(Q0,{number:"03",title:"Technical Support",description:"Receive dedicated onboarding and ongoing support from our team of education and blockchain experts."})]}),e.status!=="connected"?n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[n.jsx(ap,{onClick:()=>{},children:"Connect Wallet to Apply"}),n.jsx(YI,{onClick:()=>{},children:"Learn More"})]}):n.jsx(ap,{onClick:()=>{},children:"Register Your Institution"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Z.div,{initial:{opacity:.8},animate:{opacity:[.8,1,.8]},transition:{repeat:1/0,duration:3},className:"absolute inset-0 bg-gradient-to-r from-blue-500/30 to-purple-600/30 rounded-2xl blur-xl"}),n.jsxs("div",{className:"relative bg-gray-900/70 p-6 rounded-2xl border border-gray-700",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Partner Application"}),e.status==="connected"?n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Institution Name"}),n.jsx("input",{type:"text",className:"w-full bg-gray-800/80 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter institution name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Institution Type"}),n.jsxs("select",{className:"w-full bg-gray-800/80 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{children:"Elementary School"}),n.jsx("option",{children:"Middle School"}),n.jsx("option",{children:"High School"}),n.jsx("option",{children:"University"}),n.jsx("option",{children:"Vocational Training"}),n.jsx("option",{children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),n.jsx("input",{type:"email",className:"w-full bg-gray-800/80 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@institution.edu"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Student Population"}),n.jsx("input",{type:"number",className:"w-full bg-gray-800/80 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Approximate number of students"})]}),n.jsx("button",{className:"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 rounded-lg font-medium text-white shadow-lg",children:"Submit Application"})]}):n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-blue-400 mb-3",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v-1l1-1 1-1-.257-.257A6 6 0 1118 8zm-6-4a1 1 0 100 2h2a1 1 0 100-2h-2z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Connect your wallet to access the application form and join our educational protocol."}),n.jsx("button",{className:"w-full py-2 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-lg font-medium",children:"Connect Wallet First"})]})]})]})]})})},xc=({title:e,value:t})=>n.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-xl text-center",children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:e}),n.jsx("p",{className:"text-2xl font-bold",children:t})]}),XI=()=>n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.5},className:"max-w-7xl mx-auto mt-24 bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-gray-700",children:[n.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Protocol Statistics"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(xc,{title:"Institutions",value:"243"}),n.jsx(xc,{title:"Students Onchain",value:"124,582"}),n.jsx(xc,{title:"Records Secured",value:"1.7M+"}),n.jsx(xc,{title:"Countries",value:"37"})]})]}),ZI=()=>{const e=new Date().getFullYear();return n.jsxs("footer",{className:"relative w-full bg-gray-900/90 backdrop-blur-lg shadow-[0_-10px_30px_-15px_rgba(0,0,0,0.3)] border-t border-green-800/50",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"}),n.jsxs("div",{className:"max-w-7xl mx-auto py-8 sm:py-10 md:py-12 px-4 sm:px-6 lg:px-8 relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/20 to-gray-900/60 pointer-events-none rounded-lg"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 lg:gap-12",children:[n.jsxs("div",{className:"col-span-1 sm:col-span-2 md:col-span-1",children:[n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"mySchoolTree"}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm max-w-xs",children:"Bridging traditional education with blockchain technology for a more secure, transparent future of learning."})]}),n.jsxs("div",{className:"mt-4 sm:mt-6 flex space-x-4",children:[n.jsx(yc,{href:"https://twitter.com","aria-label":"Twitter",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M22.1623 5.65593C21.3989 5.99362 20.5893 6.2154 19.7603 6.31393C20.634 5.79136 21.288 4.96894 21.6003 3.99993C20.7803 4.48793 19.8813 4.82993 18.9443 5.01493C18.3149 4.34151 17.4807 3.89489 16.5713 3.74451C15.6618 3.59413 14.7282 3.74842 13.9156 4.18338C13.1029 4.61834 12.4567 5.30961 12.0774 6.14972C11.6981 6.98983 11.607 7.93171 11.8183 8.82893C10.1554 8.74558 8.52863 8.31345 7.04358 7.56059C5.55854 6.80773 4.24842 5.75097 3.1983 4.45893C2.82659 5.09738 2.63125 5.82315 2.6323 6.56193C2.6323 8.01193 3.3703 9.29293 4.4923 10.0429C3.82831 10.022 3.17893 9.84271 2.5983 9.51993V9.57193C2.5985 10.5376 2.93267 11.4735 3.54414 12.221C4.15562 12.9684 5.00678 13.4814 5.9533 13.6729C5.33691 13.84 4.6906 13.8646 4.0633 13.7449C4.33016 14.5762 4.8503 15.3031 5.55089 15.824C6.25147 16.3449 7.09742 16.6337 7.9703 16.6499C7.10278 17.3313 6.10947 17.8349 5.04718 18.1321C3.98488 18.4293 2.87442 18.5142 1.7793 18.3819C3.69099 19.6114 5.91639 20.264 8.1893 20.2619C15.8823 20.2619 20.0893 13.8889 20.0893 8.36193C20.0893 8.18193 20.0843 7.99993 20.0763 7.82193C20.8952 7.23009 21.6019 6.49695 22.1633 5.65693L22.1623 5.65593Z"})}),ariaLabel:"Twitter"}),n.jsx(yc,{href:"https://linkedin.com","aria-label":"LinkedIn",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),ariaLabel:"LinkedIn"}),n.jsx(yc,{href:"https://github.com","aria-label":"GitHub",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),ariaLabel:"GitHub"}),n.jsx(yc,{href:"https://discord.com","aria-label":"Discord",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})}),ariaLabel:"Discord"})]})]}),n.jsxs("div",{className:"hidden xs:block",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-300 tracking-wider uppercase",children:"Platform"}),n.jsxs("ul",{className:"mt-3 space-y-2",children:[n.jsx($e,{href:"#",children:"Features"}),n.jsx($e,{href:"#",children:"How It Works"}),n.jsx($e,{href:"#",children:"Pricing"}),n.jsx($e,{href:"#",children:"Case Studies"}),n.jsx($e,{href:"#",children:"Documentation"})]})]}),n.jsxs("div",{className:"hidden xs:block",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-300 tracking-wider uppercase",children:"Resources"}),n.jsxs("ul",{className:"mt-3 space-y-2",children:[n.jsx($e,{href:"#",children:"Blog"}),n.jsx($e,{href:"#",children:"Support Center"}),n.jsx($e,{href:"#",children:"Partner Program"}),n.jsx($e,{href:"#",children:"Student Wallet"}),n.jsx($e,{href:"#",children:"API Documentation"})]})]}),n.jsxs("div",{className:"hidden xs:block",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-300 tracking-wider uppercase",children:"Company"}),n.jsxs("ul",{className:"mt-3 space-y-2",children:[n.jsx($e,{href:"#",children:"About"}),n.jsx($e,{href:"#",children:"Team"}),n.jsx($e,{href:"#",children:"Careers"}),n.jsx($e,{href:"#",children:"Contact Us"}),n.jsx($e,{href:"#",children:"Privacy Policy"})]})]}),n.jsxs("div",{className:"block xs:hidden col-span-1 sm:col-span-2 space-y-4",children:[n.jsx(X0,{title:"Platform",children:n.jsxs("ul",{className:"space-y-2 py-2",children:[n.jsx($e,{href:"#",children:"Features"}),n.jsx($e,{href:"#",children:"How It Works"}),n.jsx($e,{href:"#",children:"Pricing"}),n.jsx($e,{href:"#",children:"Case Studies"}),n.jsx($e,{href:"#",children:"Documentation"})]})}),n.jsx(X0,{title:"Resources",children:n.jsxs("ul",{className:"space-y-2 py-2",children:[n.jsx($e,{href:"#",children:"Blog"}),n.jsx($e,{href:"#",children:"Support Center"}),n.jsx($e,{href:"#",children:"Partner Program"}),n.jsx($e,{href:"#",children:"Student Wallet"}),n.jsx($e,{href:"#",children:"API Documentation"})]})}),n.jsx(X0,{title:"Company",children:n.jsxs("ul",{className:"space-y-2 py-2",children:[n.jsx($e,{href:"#",children:"About"}),n.jsx($e,{href:"#",children:"Team"}),n.jsx($e,{href:"#",children:"Careers"}),n.jsx($e,{href:"#",children:"Contact Us"}),n.jsx($e,{href:"#",children:"Privacy Policy"})]})})]})]}),n.jsx("div",{className:"mt-8 sm:mt-10 pt-6 sm:pt-8 border-t border-gray-800/50",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm sm:text-base font-medium text-white",children:"Subscribe to our newsletter"}),n.jsx("p",{className:"mt-1.5 text-xs sm:text-sm text-gray-400",children:"Stay updated with the latest in educational blockchain technology."})]}),n.jsx("div",{children:n.jsxs("form",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"px-3 sm:px-4 py-2 bg-gray-800/80 border border-gray-700/80 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent flex-grow text-sm"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 rounded-lg text-white font-medium text-sm whitespace-nowrap",children:"Subscribe"})]})})]})}),n.jsxs("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-gray-800/50 flex flex-col sm:flex-row justify-between items-center",children:[n.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:[" ",e," mySchoolTree. All rights reserved."]}),n.jsxs("div",{className:"mt-3 sm:mt-0 flex space-x-4 sm:space-x-6",children:[n.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hover:text-gray-300",children:n.jsx("a",{href:"#",children:"Terms"})}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hover:text-gray-300",children:n.jsx("a",{href:"#",children:"Privacy"})}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hover:text-gray-300",children:n.jsx("a",{href:"#",children:"Cookies"})})]})]})]})]})]})},X0=({title:e,children:t})=>n.jsx("div",{className:"border-b border-gray-800/50 pb-3",children:n.jsxs("details",{children:[n.jsxs("summary",{className:"text-sm font-semibold text-gray-300 tracking-wider uppercase cursor-pointer py-2 flex justify-between items-center",children:[e,n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t]})}),$e=({href:e,children:t})=>n.jsx("li",{children:n.jsx("a",{href:e,className:"text-gray-400 hover:text-blue-400 transition-colors text-xs sm:text-sm",children:t})}),yc=({href:e,icon:t,ariaLabel:r})=>n.jsx(Z.a,{href:e,"aria-label":r,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.95},className:"text-gray-400 hover:text-blue-400 transition-colors flex items-center justify-center bg-gray-800/30 p-2 rounded-full",children:t}),JI=()=>{const e=Ge();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:[n.jsx(h9,{}),n.jsxs("main",{className:"pt-10 pb-16 px-0 sm:px-2 lg:px-4",children:[n.jsx(GI,{}),n.jsx(qI,{}),n.jsx(KI,{}),n.jsx(QI,{}),e.status==="connected"&&n.jsx(n.Fragment,{children:n.jsx(XI,{})})]}),n.jsx(ZI,{})]})},e_=()=>{w.useEffect(()=>{localStorage.getItem("countdownStartTime")||localStorage.setItem("countdownStartTime",Date.now().toString())},[]);const[e,t]=w.useState(!1),[r,s]=w.useState(0),a=()=>{const f=localStorage.getItem("countdownTargetDate");if(f)return new Date(parseInt(f));{const v=new Date,y=new Date(v);return y.setDate(v.getDate()+2),y.setHours(v.getHours()+10),localStorage.setItem("countdownTargetDate",y.getTime().toString()),y}},[i]=w.useState(a()),[o,l]=w.useState({days:0,hours:0,minutes:0,seconds:0}),[c]=w.useState(30),[d]=w.useState(Array.from({length:c},(f,v)=>({id:v,x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+1,speed:Math.random()*.5+.1})));w.useEffect(()=>{localStorage.getItem("countdownCompleted")==="true"&&(t(!0),s(100),l({days:0,hours:0,minutes:0,seconds:0}))},[]),w.useEffect(()=>{const f=()=>{const y=new Date,g=i.getTime()-y.getTime();if(g>0){const x=Math.floor(g/864e5),b=Math.floor(g%(1e3*60*60*24)/(1e3*60*60)),N=Math.floor(g%(1e3*60*60)/(1e3*60)),j=Math.floor(g%(1e3*60)/1e3);l({days:x,hours:b,minutes:N,seconds:j});const k=parseInt(localStorage.getItem("countdownStartTime")||"0"),T=i.getTime(),P=y.getTime();if(k>0){const I=T-k,B=P-k,U=Math.max(0,Math.min(100,Math.floor(B/I*100)));s(U)}}else l({days:0,hours:0,minutes:0,seconds:0}),t(!0),s(100),localStorage.setItem("countdownCompleted","true")};f();const v=setInterval(f,1e3);return()=>clearInterval(v)},[i]);const u={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3,duration:1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},h={initial:{scale:.8,opacity:.5},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0}},p=({value:f,label:v})=>n.jsxs(Z.div,{className:"flex flex-col items-center justify-center",variants:m,children:[n.jsxs(Z.div,{className:"bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-lg shadow-lg h-20 w-20 sm:h-24 sm:w-24 md:h-32 md:w-32 flex items-center justify-center relative overflow-hidden",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.2)"},children:[n.jsx(Z.div,{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",variants:h,initial:"initial",animate:"animate",exit:"exit",children:f.toString().padStart(2,"0")},f),n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent top-1/2"}),n.jsx("div",{className:"absolute right-0 top-1/2 transform translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-gray-600"}),n.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-gray-600"})]}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm md:text-base font-medium",children:v})]});return n.jsxs("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:d.map(f=>n.jsx(Z.div,{className:"absolute rounded-full",style:{left:`${f.x}%`,top:`${f.y}%`,width:`${f.size}px`,height:`${f.size}px`,background:`rgba(${Math.floor(Math.random()*100+60)}, ${Math.floor(Math.random()*100+90)}, ${Math.floor(Math.random()*155+100)}, ${Math.random()*.5+.2})`},animate:{y:[`${f.y}%`,`${(f.y+f.speed*20)%100}%`],x:[`${f.x}%`,`${(f.x+(Math.random()*2-1))%100}%`],opacity:[.7,.3,.7]},transition:{duration:10/f.speed,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},f.id))}),n.jsx(Z.div,{className:"container mx-auto px-4 py-12 z-10 relative",variants:u,initial:"hidden",animate:"visible",children:n.jsxs(Z.div,{className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-8 md:p-12 max-w-4xl mx-auto relative overflow-hidden",whileHover:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.9)"},children:[n.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-gradient-to-br from-blue-500/20 to-purple-600/20 rounded-full blur-xl"}),n.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-gradient-to-tr from-green-500/20 to-teal-600/20 rounded-full blur-xl"}),n.jsx(Z.h1,{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",variants:m,children:e?"App Is Ready Now!":"App Will Be Ready Soon"}),n.jsx(Z.p,{className:"text-gray-300 text-center mb-10 text-lg md:text-xl",variants:m,children:e?"Thank you for your patience. Let's get started!":"We're working hard to bring you something amazing"}),n.jsxs(Z.div,{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 md:gap-8 mb-10",variants:m,children:[n.jsx(p,{value:o.days,label:"Days"}),n.jsx(p,{value:o.hours,label:"Hours"}),n.jsx(p,{value:o.minutes,label:"Minutes"}),n.jsx(p,{value:o.seconds,label:"Seconds"})]}),n.jsxs(Z.div,{className:"mb-8",variants:m,children:[n.jsx("div",{className:"relative h-4 bg-gray-800 rounded-full overflow-hidden border border-gray-700",children:n.jsx(Z.div,{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-600",initial:{width:"0%"},animate:{width:`${r}%`},transition:{duration:.5}})}),n.jsxs("p",{className:"text-right text-sm text-gray-400 mt-2",children:["Development progress: ",r,"%"]})]}),n.jsx(Z.div,{className:"mb-6 text-center",variants:m,children:e?n.jsx("div",{className:"flex justify-center",children:n.jsx(Z.button,{className:"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white font-medium py-3 px-8 rounded-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{localStorage.removeItem("countdownTargetDate"),localStorage.removeItem("countdownCompleted"),localStorage.removeItem("countdownProgress"),localStorage.removeItem("countdownStartTime"),localStorage.removeItem("countdownTotalDuration"),window.location.reload()},children:"Launch App"})}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-300 mb-4",children:"Want to be notified when we launch?"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 bg-gray-800 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"}),n.jsx(Z.button,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Notify Me"})]})]})}),n.jsxs(Z.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",variants:m,children:[n.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-3 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),n.jsx("h3",{className:"text-gray-200 font-semibold mb-1",children:"Lightning Fast"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Optimized for speed and performance"})]}),n.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-3 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),n.jsx("h3",{className:"text-gray-200 font-semibold mb-1",children:"Secure & Reliable"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Enterprise-grade security built in"})]}),n.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-3 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),n.jsx("h3",{className:"text-gray-200 font-semibold mb-1",children:"Beautiful UI"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Stunning design that feels intuitive"})]})]})]})})]})},t_=()=>{const e=Ll();return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen",children:[n.jsx(Z.button,{onClick:()=>e("/"),className:"fixed top-6 left-6 z-50 bg-gray-800/50 hover:bg-gray-700/70 text-gray-300 rounded-full p-2 backdrop-blur-sm border border-gray-700/50",whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),n.jsx(e_,{})]})},f3=e=>{const[t,r]=w.useState(""),[s,a]=w.useState("1"),[i,o]=w.useState(null),[l,c]=w.useState(!1),[d,u]=w.useState(""),[m,h]=w.useState(!1),[p,f]=w.useState(!1),{isError:v,isLoading:y,refetch:g}=Ce({...e,functionName:"getAttendanceMetrics",args:t&&s?[t,BigInt(s)]:void 0}),x=j=>{const k=new Date(Number(j)*1e3);return k.toLocaleDateString()+" "+k.toLocaleTimeString()},b=j=>j?(Number(j)/100).toFixed(2):"0",N=async()=>{if(!t){u("Please enter a student address"),h(!0);return}f(!0);try{const j=await g();j.data?(o(j.data),u("Attendance metrics fetched successfully"),c(!0)):(u("No metrics data found"),o(null),c(!1))}catch(j){console.error("Error fetching attendance metrics:",j),u("Error fetching attendance metrics"),o(null),c(!1)}finally{f(!1),h(!0)}};return w.useEffect(()=>{if(m){const j=setTimeout(()=>{h(!1)},5e3);return()=>clearTimeout(j)}},[m]),{studentAddress:t,setStudentAddress:r,termNumber:s,setTermNumber:a,metrics:i,isLoading:y,isError:v,isFetching:p,fetchStatus:d,showStatus:m,showMetrics:l,handleFetchMetrics:N,formatTimestamp:x,formatPercentage:b,refetch:g}},n_=({contract:e})=>{const{studentAddress:t,setStudentAddress:r,termNumber:s,setTermNumber:a,metrics:i,isLoading:o,isError:l,isFetching:c,fetchStatus:d,showStatus:u,showMetrics:m,handleFetchMetrics:h,formatTimestamp:p,formatPercentage:f}=f3(e);return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Attendance Metrics"}),n.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"View detailed attendance metrics for a student in a specific term."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Student Address"}),n.jsx("input",{type:"text",value:t,onChange:v=>r(v.target.value),placeholder:"0x...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Term Number"}),n.jsx("input",{type:"number",value:s,onChange:v=>a(v.target.value),min:"1",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),n.jsx(Z.button,{onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:o||c,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:o||c?"Loading...":"Fetch Attendance Metrics"}),u&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-4",children:n.jsx("p",{className:`p-2 rounded-md ${d.includes("Error")||d.includes("Please enter")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:d})}),(o||c)&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading attendance metrics..."})]}),l&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4 mt-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error fetching attendance metrics"})]})}),m&&i&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Attendance Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Attendance Rate"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:f(i.attendancePercentage)}),n.jsx("span",{className:"text-gray-400",children:"%"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall attendance percentage"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Present"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:i.totalPresent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total days present"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Absent"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:i.totalAbsent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total days absent"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Streak"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:i.consecutivePresent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current consecutive days present"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-3 text-gray-300",children:"Attendance History"}),n.jsx("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800/50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Term"})]})}),n.jsx("tbody",{className:"bg-gray-900/30 divide-y divide-gray-800",children:i.history.map((v,y)=>n.jsxs("tr",{className:y%2===0?"bg-gray-800/20":"bg-gray-800/10",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:p(v.timestamp)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${v.present?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.present?"Present":"Absent"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:v.termNumber})]},y))})]})})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("details",{className:"group",children:[n.jsxs("summary",{className:"flex items-center justify-between cursor-pointer list-none text-gray-400 hover:text-blue-400 transition-colors duration-300",children:[n.jsx("span",{className:"text-sm font-medium",children:"View Raw Data"}),n.jsx("span",{className:"transform group-open:rotate-180 transition-transform duration-200",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 pl-2 border-l-2 border-gray-700",children:[n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Total Present:"})," ",i.totalPresent]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Total Absent:"})," ",i.totalAbsent]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Consecutive Present:"})," ",i.consecutivePresent]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Attendance Percentage:"})," ",i.attendancePercentage.toString()," (basis points)"]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"History Records:"})," ",i.history.length]})]})]})})]})})]})},g3=(e,t)=>{const[r,s]=w.useState(t||""),[a,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(""),[u,m]=w.useState(!1),[h,p]=w.useState(!1),f=100,{isError:v,isLoading:y,refetch:g}=Ce({...e,functionName:"studentProgramProgress",args:[r]});w.useEffect(()=>{const j=/^0x[a-fA-F0-9]{40}$/.test(r);p(j)},[r]);const x=async()=>{if(!h){d("Please enter a valid Ethereum address"),m(!0);return}try{const j=await g();j.data!==void 0?(i(Number(j.data)),d("Progress fetched successfully"),l(!0)):(d("Could not retrieve student progress"),i(null),l(!1))}catch(j){console.error("Error fetching student progress:",j),d("Error fetching student progress"),i(null),l(!1)}m(!0)};w.useEffect(()=>{if(u){const j=setTimeout(()=>{m(!1)},5e3);return()=>clearTimeout(j)}},[u]);const b=()=>a===null?0:Math.min(100,a/f*100);return{studentAddress:r,setStudentAddress:s,progress:a,showInfo:o,fetchStatus:c,showStatus:u,isValid:h,isLoading:y,isError:v,handleFetchInfo:x,getProgressPercentage:b,getProgressStatus:()=>{if(a===null)return{text:"",colorClass:""};const j=b();return j>=100?{text:"Completed",colorClass:"text-green-400"}:j>=75?{text:"Advanced",colorClass:"text-blue-400"}:j>=50?{text:"Intermediate",colorClass:"text-purple-400"}:j>=25?{text:"Beginner",colorClass:"text-yellow-400"}:{text:"Getting Started",colorClass:"text-red-400"}},MAX_PROGRESS:f,refetch:g}},r_=({contract:e,defaultAddress:t})=>{const{studentAddress:r,setStudentAddress:s,progress:a,showInfo:i,fetchStatus:o,showStatus:l,isValid:c,isLoading:d,isError:u,handleFetchInfo:m,getProgressPercentage:h,getProgressStatus:p,MAX_PROGRESS:f}=g3(e,t),v=p();return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Program Progress"}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700 mb-4",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Student Address"}),n.jsx("input",{type:"text",value:r,onChange:y=>s(y.target.value),placeholder:"0x...",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx(Z.button,{onClick:m,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:d||!c,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:d?"Loading...":"Check Progress"})}),l&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md ${o.includes("Error")||o.includes("Could not")||o.includes("Please enter")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:o})}),d&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading progress information..."})]}),u&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error checking student progress"})]})}),i&&a!==null&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Progress Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Progress Points"}),n.jsxs("div",{className:"text-gray-200 text-2xl font-bold",children:[a," / ",f]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),n.jsx("div",{className:`font-semibold text-xl ${v.colorClass}`,children:v.text})]})]}),n.jsxs("div",{className:"mt-4 bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Overall Progress"}),n.jsx("div",{className:"mt-3",children:n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:n.jsx("div",{className:`h-4 rounded-full ${h()<25?"bg-gradient-to-r from-red-500 to-red-600":h()<50?"bg-gradient-to-r from-yellow-400 to-yellow-500":h()<75?"bg-gradient-to-r from-purple-400 to-purple-500":"bg-gradient-to-r from-blue-500 to-green-400"}`,style:{width:`${h()}%`}})})}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0%"}),n.jsx("span",{children:"25%"}),n.jsx("span",{children:"50%"}),n.jsx("span",{children:"75%"}),n.jsx("span",{children:"100%"})]})]}),n.jsx("div",{className:"mt-4 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400 mr-2 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsx("div",{className:"text-blue-400",children:h()>=100?n.jsx("p",{children:"Congratulations! You've completed the program requirements."}):h()>=75?n.jsx("p",{children:"You're making excellent progress! Continue attending sessions to complete the program."}):h()>=50?n.jsx("p",{children:"You're on the right track. Keep up the good work and attend upcoming sessions."}):h()>=25?n.jsx("p",{children:"You've made a good start. Increasing your attendance will help boost your progress."}):n.jsx("p",{children:"Getting started is the hardest part. Join more sessions to increase your progress."})})]})})]})})]})},s_=({progress:e,maxProgress:t=100})=>{if(e===null)return null;const r=()=>Math.min(100,e/t*100),a=(()=>{const i=r();return i>=100?{text:"Completed",color:"text-green-500"}:i>=75?{text:"Advanced",color:"text-blue-500"}:i>=50?{text:"Intermediate",color:"text-purple-500"}:i>=25?{text:"Beginner",color:"text-yellow-500"}:{text:"Getting Started",color:"text-red-500"}})();return n.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"Program Progress"}),n.jsx("span",{className:`font-medium ${a.color}`,children:a.text})]}),n.jsx("div",{className:"mb-1",children:n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:`h-2.5 rounded-full ${r()<25?"bg-red-500":r()<50?"bg-yellow-400":r()<75?"bg-purple-500":"bg-green-500"}`,style:{width:`${r()}%`}})})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsxs("span",{children:[e," points"]}),n.jsxs("span",{children:[Math.round(r()),"%"]})]})]})},x3=(e,t="")=>{const[r,s]=w.useState(t),[a,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(""),[u,m]=w.useState(!1),[h,p]=w.useState(!1),{isError:f,isLoading:v,refetch:y}=Ce({...e,functionName:"getStudentProgress",args:r?[r]:void 0}),g=j=>j?(Number(j)/100).toFixed(2):"0",x=j=>{if(!j)return 0;const k=Number(j)/100;return Math.min(Math.max(k,0),100)},b=j=>j<30?"from-red-500 to-red-600":j<70?"from-yellow-500 to-yellow-600":"from-green-500 to-green-600",N=async()=>{if(!r){d("Please enter a student address"),m(!0);return}p(!0);try{const j=await y();j.data!==void 0?(i(j.data),d("Student progress fetched successfully"),l(!0)):(d("No progress data found"),i(null),l(!1))}catch(j){console.error("Error fetching student progress:",j),d("Error fetching student progress"),i(null),l(!1)}finally{p(!1),m(!0)}};return w.useEffect(()=>{if(u){const j=setTimeout(()=>{m(!1)},5e3);return()=>clearTimeout(j)}},[u]),{studentAddress:r,setStudentAddress:s,progress:a,showProgress:o,fetchStatus:c,showStatus:u,isFetching:h,isLoading:v,isError:f,handleFetchProgress:N,formatProgressPercentage:g,getProgressPercentage:x,getProgressColor:b,refetch:y}},a_=({contract:e})=>{const{studentAddress:t,setStudentAddress:r,progress:s,showProgress:a,fetchStatus:i,showStatus:o,isFetching:l,isLoading:c,isError:d,handleFetchProgress:u,formatProgressPercentage:m,getProgressPercentage:h,getProgressColor:p}=x3(e),f=h(s),v=p(f);return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Progress Tracker"}),n.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Check a student's overall progress in their educational journey."}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Student Address"}),n.jsx("input",{type:"text",value:t,onChange:y=>r(y.target.value),placeholder:"0x...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsx(Z.button,{onClick:u,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:c||l,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:c||l?"Loading...":"Check Progress"}),o&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-4",children:n.jsx("p",{className:`p-2 rounded-md ${i.includes("Error")||i.includes("Please enter")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:i})}),(c||l)&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading student progress..."})]}),d&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4 mt-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error fetching student progress"})]})}),a&&s!==null&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Progress Summary"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"Overall Progress"}),n.jsxs("span",{className:"text-gray-300 font-bold",children:[m(s),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden",children:n.jsx(Z.div,{initial:{width:0},animate:{width:`${f}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${v}`})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Progress Level"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:m(s)}),n.jsx("span",{className:"text-gray-400",children:"%"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall completion percentage"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${f<30?"bg-red-500":f<70?"bg-yellow-500":"bg-green-500"}`}),n.jsx("span",{className:"text-lg font-bold text-gray-200",children:f<30?"Starting":f<70?"In Progress":"Advanced"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current learning status"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Raw Value"}),n.jsx("div",{className:"flex items-baseline space-x-1",children:n.jsx("span",{className:"text-md font-bold text-gray-200 truncate",children:s==null?void 0:s.toString()})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Raw progress value (basis points)"})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[n.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"Assessment"}),n.jsx("p",{className:"text-sm text-gray-400",children:f<30?"The student is in the early stages of their educational journey. More focus and engagement may be needed to improve progress.":f<70?"The student is making steady progress in their educational journey. Continued engagement will help them reach advanced stages.":"The student is at an advanced stage in their educational journey. They are demonstrating excellent progress and engagement."})]})]})})]})},i_=({progress:e,formatProgressPercentage:t,getProgressPercentage:r,getProgressColor:s,showPercentage:a=!0,height:i="h-4",animated:o=!0})=>{const l=r(e),c=s(l);return n.jsxs("div",{children:[a&&n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"Progress"}),n.jsxs("span",{className:"text-sm font-medium text-gray-300",children:[t(e),"%"]})]}),n.jsx("div",{className:`w-full bg-gray-700 rounded-full ${i} overflow-hidden`,children:o?n.jsx(Z.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${c}`}):n.jsx("div",{className:`h-full bg-gradient-to-r ${c}`,style:{width:`${l}%`}})})]})},o_=({progress:e})=>{const t=d=>d?(Number(d)/100).toFixed(2):"0",r=d=>{if(!d)return 0;const u=Number(d)/100;return Math.min(Math.max(u,0),100)},s=d=>d<30?"from-red-500 to-red-600":d<70?"from-yellow-500 to-yellow-600":"from-green-500 to-green-600",a=r(e),i=d=>d<30?"Starting":d<70?"In Progress":"Advanced",o=d=>d<30?"text-red-500":d<70?"text-yellow-500":"text-green-500",l=i(a),c=o(a);return n.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg border border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"Progress"}),n.jsx("span",{className:`text-sm font-medium ${c}`,children:l})]}),n.jsx(i_,{progress:e,formatProgressPercentage:t,getProgressPercentage:r,getProgressColor:s,showPercentage:!1,height:"h-2",animated:!1}),n.jsx("div",{className:"flex justify-end mt-1",children:n.jsxs("span",{className:"text-sm font-medium text-gray-300",children:[t(e),"%"]})})]})},l_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"AttendanceHistoryLimitReached",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"DailyAttendanceRecorded",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"ManagementContractsNotSet",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OperationTooFrequent",type:"error"},{inputs:[],name:"ProgramInactive",type:"error"},{inputs:[],name:"RateLimitExceeded",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"StudentNotRegistered",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"uint256",name:"termNumber",type:"uint256"},{indexed:!1,internalType:"bool",name:"present",type:"bool"}],name:"AttendanceHistoryRecorded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"bool",name:"attended",type:"bool"}],name:"AttendanceRecorded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"attendancePoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"behaviorPoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"academicPoints",type:"uint256"}],name:"ReputationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"progress",type:"uint256"}],name:"StudentProgressUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"termNumber",type:"uint256"}],name:"getAttendanceMetrics",outputs:[{internalType:"uint32",name:"totalPresent",type:"uint32"},{internalType:"uint32",name:"totalAbsent",type:"uint32"},{internalType:"uint32",name:"consecutivePresent",type:"uint32"},{internalType:"uint256",name:"attendancePercentage",type:"uint256"},{components:[{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"bool",name:"present",type:"bool"},{internalType:"uint32",name:"termNumber",type:"uint32"}],internalType:"struct AttendanceTracking.AttendanceRecord[]",name:"history",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentProgress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"hasMetAttendanceRequirement",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"programAttendance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"programManagement",outputs:[{internalType:"contract IProgramManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"bool",name:"present",type:"bool"}],name:"recordAttendance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_studentManagement",type:"address"},{internalType:"address",name:"_programManagement",type:"address"}],name:"setManagementContracts",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentManagement",outputs:[{internalType:"contract IStudentManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"studentProgramProgress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"attendancePoints",type:"uint256"},{internalType:"uint256",name:"behaviorPoints",type:"uint256"},{internalType:"uint256",name:"academicPoints",type:"uint256"}],name:"updateStudentReputation",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],c_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],d_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"ArrayLengthMismatch",type:"error"},{inputs:[],name:"BatchSizeTooLarge",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"InvalidString",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OperationTooFrequent",type:"error"},{inputs:[],name:"ProgramInactive",type:"error"},{inputs:[],name:"RateLimitExceeded",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"StudentAlreadyRegistered",type:"error"},{inputs:[],name:"StudentNotRegistered",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"TuitionAlreadyPaid",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"BatchStudentsRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"}],name:"StudentProgramUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"}],name:"StudentRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"}],name:"StudentRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"newTerm",type:"uint256"}],name:"StudentTermAdvanced",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"uint256",name:"term",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TuitionPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"advanceStudentTerm",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"studentAddresses",type:"address[]"},{internalType:"string[]",name:"names",type:"string[]"},{internalType:"uint256[]",name:"programIds",type:"uint256[]"}],name:"batchRegisterStudents",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getRemainingRegistrations",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"},{internalType:"uint256",name:"windowReset",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentDetails",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"isRegistered",type:"bool"},{internalType:"uint32",name:"currentTerm",type:"uint32"},{internalType:"uint32",name:"attendanceCount",type:"uint32"},{internalType:"uint64",name:"lastAttendanceDate",type:"uint64"},{internalType:"bool",name:"hasFirstAttendance",type:"bool"},{internalType:"uint32",name:"programId",type:"uint32"},{internalType:"uint128",name:"totalPayments",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentProgram",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"getTuitionPaymentStatus",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"term",type:"uint256"}],name:"payTuition",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"programManagement",outputs:[{internalType:"contract IProgramManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"registerStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"removeStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"setFirstAttendance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_programManagement",type:"address"}],name:"setProgramManagement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"studentPrograms",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"students",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"isRegistered",type:"bool"},{internalType:"uint32",name:"currentTerm",type:"uint32"},{internalType:"uint32",name:"attendanceCount",type:"uint32"},{internalType:"uint64",name:"lastAttendanceDate",type:"uint64"},{internalType:"bool",name:"hasFirstAttendance",type:"bool"},{internalType:"uint32",name:"programId",type:"uint32"},{internalType:"uint128",name:"totalPayments",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tuitionPayments",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"bool",name:"increase",type:"bool"}],name:"updateStudentAttendance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"}],name:"updateStudentAttendanceDate",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],u_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"EnrollmentLimitReached",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAttendanceRequirement",type:"error"},{inputs:[],name:"InvalidEnrollmentLimit",type:"error"},{inputs:[],name:"InvalidFeeRange",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OperationTooFrequent",type:"error"},{inputs:[],name:"ProgramAlreadyExists",type:"error"},{inputs:[],name:"ProgramInactive",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"SubscriptionExpired",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requirement",type:"uint256"}],name:"ProgramAttendanceRequirementUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"uint256",name:"termFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requiredAttendance",type:"uint256"}],name:"ProgramCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"}],name:"ProgramDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"uint256",name:"termFee",type:"uint256"}],name:"ProgramDetailsRetrieved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint32",name:"maxEnrollment",type:"uint32"}],name:"ProgramEnrollmentUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"ProgramFeesUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint128",name:"termFee",type:"uint128"},{internalType:"uint16",name:"requiredAttendance",type:"uint16"},{internalType:"uint32",name:"maxEnrollment",type:"uint32"}],name:"createProgram",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"deactivateProgram",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCurrentProgramId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramAttendanceRequirement",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramDetails",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"termFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramEnrollmentCount",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramMaxEnrollment",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"incrementEnrollment",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"isProgramActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"programs",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint128",name:"termFee",type:"uint128"},{internalType:"uint16",name:"minimumAttendance",type:"uint16"},{internalType:"uint16",name:"requiredAttendance",type:"uint16"},{internalType:"uint32",name:"enrolledCount",type:"uint32"},{internalType:"uint32",name:"maxEnrollment",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"uint256",name:"newFee",type:"uint256"}],name:"updateProgramFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],m_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"InvalidRoleOperation",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"RoleAlreadyAssigned",type:"error"},{inputs:[],name:"RoleNotAssigned",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"teacher",type:"address"}],name:"TeacherRoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"teacher",type:"address"}],name:"TeacherRoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"teacher",type:"address"}],name:"addTeacher",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hasAdminRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hasMasterAdminRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hasTeacherRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"teacher",type:"address"}],name:"removeTeacher",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],h_=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"AlreadySet",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidMasterAdmin",type:"error"},{inputs:[],name:"InvalidNewSchool",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"PenaltyTooHigh",type:"error"},{inputs:[],name:"ProgramNotActive",type:"error"},{inputs:[],name:"SchoolNotActive",type:"error"},{inputs:[],name:"StudentAlreadyRegistered",type:"error"},{inputs:[],name:"StudentNotActive",type:"error"},{inputs:[],name:"StudentNotRegistered",type:"error"},{inputs:[],name:"TooSoonForAttendance",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"totalClasses",type:"uint256"},{indexed:!1,internalType:"uint256",name:"attendedClasses",type:"uint256"}],name:"AttendanceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"points",type:"uint256"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"ReputationPenalty",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"attendancePoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"behaviorPoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"academicPoints",type:"uint256"}],name:"ReputationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"}],name:"SchoolActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"}],name:"SchoolDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"schoolManagement",type:"address"}],name:"SchoolManagementSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"StudentDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"masterAdmin",type:"address"}],name:"StudentInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"programId",type:"uint256"}],name:"StudentProgramUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"programId",type:"uint256"}],name:"StudentRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"address",name:"fromSchool",type:"address"},{indexed:!1,internalType:"address",name:"toSchool",type:"address"}],name:"StudentTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"}],name:"TermCompleted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"}],name:"activateSchool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"points",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"applyReputationPenalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"completeStudentTerm",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"completedTerms",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"}],name:"deactivateSchool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"deactivateStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"getStudentAttendance",outputs:[{internalType:"uint256",name:"termAttendance",type:"uint256"},{internalType:"uint256",name:"totalAttendance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentDetails",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"currentTerm",type:"uint256"},{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"registrationDate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentProgram",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentReputation",outputs:[{components:[{internalType:"uint256",name:"attendancePoints",type:"uint256"},{internalType:"uint256",name:"behaviorPoints",type:"uint256"},{internalType:"uint256",name:"academicPoints",type:"uint256"},{internalType:"uint256",name:"lastUpdateTime",type:"uint256"}],internalType:"struct StudentProfile.Reputation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentStatus",outputs:[{internalType:"bool",name:"isRegistered",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"currentTerm",type:"uint256"},{internalType:"address",name:"school",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"masterAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isActiveSchool",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"address",name:"school",type:"address"}],name:"isStudentOfSchool",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"string",name:"name",type:"string"}],name:"registerStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"schoolManagement",outputs:[{internalType:"contract ISchoolManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"schoolStudentCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_schoolManagement",type:"address"}],name:"setSchoolManagement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"address",name:"newSchool",type:"address"}],name:"transferStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tuitionPayments",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"bool",name:"attended",type:"bool"}],name:"updateAttendance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"attendancePoints",type:"uint256"},{internalType:"uint256",name:"behaviorPoints",type:"uint256"},{internalType:"uint256",name:"academicPoints",type:"uint256"}],name:"updateReputation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"updateStudentProgram",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"validateProgramEnrollment",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],p_=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidMasterAdminAddress",type:"error"},{inputs:[],name:"InvalidStudentProfileAddress",type:"error"},{inputs:[],name:"LateFeePercentageTooHigh",type:"error"},{inputs:[],name:"NoBalanceToWithdraw",type:"error"},{inputs:[],name:"NotEnrolledInSchool",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"PaymentAlreadyRecorded",type:"error"},{inputs:[],name:"ProgramFeesNotSet",type:"error"},{inputs:[],name:"TuitionAlreadyPaid",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"BalanceWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"studentProfile",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"}],name:"ContractInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LateFeeCharged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PaymentRecorded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"registrationFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"termFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"graduationFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lateFeePercentage",type:"uint256"}],name:"ProgramFeesUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"},{indexed:!1,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TuitionPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"},{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"checkTuitionStatus",outputs:[{internalType:"bool",name:"isPaid",type:"bool"},{internalType:"uint256",name:"dueDate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"payTuition",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"programFees",outputs:[{internalType:"uint256",name:"registrationFee",type:"uint256"},{internalType:"uint256",name:"termFee",type:"uint256"},{internalType:"uint256",name:"graduationFee",type:"uint256"},{internalType:"uint256",name:"lateFeePercentage",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"recordTuitionPayment",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"schoolBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"uint256",name:"_registrationFee",type:"uint256"},{internalType:"uint256",name:"_termFee",type:"uint256"},{internalType:"uint256",name:"_graduationFee",type:"uint256"},{internalType:"uint256",name:"_lateFeePercentage",type:"uint256"}],name:"setProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tuitionFees",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"dueDate",type:"uint256"},{internalType:"bool",name:"isPaid",type:"bool"},{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"uint256",name:"lateFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawBalance",outputs:[],stateMutability:"nonpayable",type:"function"}],f_=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"DirectTransfersNotAllowed",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"FeeSyncFailed",type:"error"},{inputs:[],name:"InsufficientFee",type:"error"},{inputs:[],name:"InvalidCertificateFee",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidMasterAdmin",type:"error"},{inputs:[],name:"InvalidPaymentAmount",type:"error"},{inputs:[],name:"InvalidProgramFee",type:"error"},{inputs:[],name:"InvalidRevenueShare",type:"error"},{inputs:[],name:"InvalidRevenueSharePercentage",type:"error"},{inputs:[],name:"InvalidSchool",type:"error"},{inputs:[],name:"InvalidSchoolManagement",type:"error"},{inputs:[],name:"InvalidSubscriptionFee",type:"error"},{inputs:[],name:"InvalidTuitionSystem",type:"error"},{inputs:[],name:"NoRevenueToWithdraw",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ProgramNotActive",type:"error"},{inputs:[],name:"SubscriptionExpired",type:"error"},{inputs:[],name:"TooSoonToWithdraw",type:"error"},{inputs:[],name:"TuitionNotPaid",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"batchId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"CertificateIssued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"schoolManagement",type:"address"},{indexed:!1,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"}],name:"ContractInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"programCreationFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueSharePercentage",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ProgramRevenueLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformShare",type:"uint256"},{indexed:!1,internalType:"uint256",name:"schoolShare",type:"uint256"}],name:"RevenueReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"RevenueWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"schoolManagement",type:"address"}],name:"SchoolManagementUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"validUntil",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"defaultFeeStructure",outputs:[{internalType:"uint256",name:"programCreationFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueSharePercentage",type:"uint256"},{internalType:"bool",name:"isCustom",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"}],name:"getRevenueDetails",outputs:[{internalType:"uint256",name:"total",type:"uint256"},{internalType:"uint256",name:"platformShare",type:"uint256"},{internalType:"uint256",name:"schoolShare",type:"uint256"},{internalType:"uint256",name:"lastWithdrawal",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_schoolManagement",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"masterAdmin",type:"address"},{internalType:"uint256",name:"defaultProgramFee",type:"uint256"},{internalType:"uint256",name:"defaultSubscriptionFee",type:"uint256"},{internalType:"uint256",name:"defaultCertificateFee",type:"uint256"},{internalType:"uint256",name:"defaultRevenueShare",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"batchId",type:"uint256"}],name:"issueCertificate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"processTuitionPayment",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"programRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"revenueTracking",outputs:[{internalType:"uint256",name:"totalRevenue",type:"uint256"},{internalType:"uint256",name:"platformShare",type:"uint256"},{internalType:"uint256",name:"schoolShare",type:"uint256"},{internalType:"uint256",name:"lastWithdrawalTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"schoolFeeStructures",outputs:[{internalType:"uint256",name:"programCreationFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueSharePercentage",type:"uint256"},{internalType:"bool",name:"isCustom",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"schoolManagement",outputs:[{internalType:"contract ISchoolManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"},{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"setCustomFeeStructure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"subscriptionEndTimes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"}],name:"syncFeeStructure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateDefaultFeeStructure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_schoolManagement",type:"address"}],name:"updateSchoolManagementAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawSchoolRevenue",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],g_=[{inputs:[{internalType:"address",name:"_implementation",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"DirectPaymentsNotAllowed",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"FailedDeployment",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"InsufficientBalance",type:"error"},{inputs:[],name:"InsufficientBalance",type:"error"},{inputs:[],name:"InsufficientSubscriptionFee",type:"error"},{inputs:[],name:"InvalidImplementation",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidMasterAdmin",type:"error"},{inputs:[],name:"InvalidOrganizationAddress",type:"error"},{inputs:[],name:"InvalidRecipient",type:"error"},{inputs:[],name:"InvalidRevenueShare",type:"error"},{inputs:[],name:"InvalidRevenueSystem",type:"error"},{inputs:[],name:"InvalidStudentProfile",type:"error"},{inputs:[],name:"InvalidSubscriptionDuration",type:"error"},{inputs:[],name:"InvalidSubscriptionFee",type:"error"},{inputs:[],name:"NotContractAddress",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OrganizationAlreadyHasContract",type:"error"},{inputs:[],name:"OrganizationCannotBeContract",type:"error"},{inputs:[],name:"OrganizationNotActive",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"SameImplementation",type:"error"},{inputs:[],name:"SubscriptionExpiredBeyondGracePeriod",type:"error"},{inputs:[],name:"TransferFailed",type:"error"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],indexed:!1,internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"config",type:"tuple"}],name:"ConfigurationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newContract",type:"address"},{indexed:!0,internalType:"address",name:"organization",type:"address"},{indexed:!1,internalType:"uint256",name:"deploymentTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionEnd",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],name:"ContractDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!1,internalType:"address",name:"studentProfile",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],indexed:!1,internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"config",type:"tuple"}],name:"ContractInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FeesWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldImplementation",type:"address"},{indexed:!0,internalType:"address",name:"newImplementation",type:"address"}],name:"ImplementationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"organization",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"OrganizationDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"organization",type:"address"},{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountPaid",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_REVENUE_SHARE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SUBSCRIPTION_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SUBSCRIPTION_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_SUBSCRIPTION_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_SUBSCRIPTION_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organization",type:"address"}],name:"deactivateOrganization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"defaultConfig",outputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organizationAdmin",type:"address"},{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"customConfig",type:"tuple"}],name:"deploySchoolManagement",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"deployedContracts",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDefaultConfig",outputs:[{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"}],name:"getDeployedContracts",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organization",type:"address"}],name:"getOrganizationDetails",outputs:[{internalType:"address",name:"contractAddress",type:"address"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"subscriptionEnd",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"},{internalType:"bool",name:"isInGracePeriod",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementationContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"_defaultConfig",type:"tuple"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"organizationInfo",outputs:[{internalType:"bool",name:"isDeployed",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"subscriptionEnd",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"organizationToContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organization",type:"address"}],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalFeesCollected",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"newConfig",type:"tuple"}],name:"updateDefaultConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"updateImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],x_=l_,y_=c_,b_=d_,v_=u_,w_=m_,j_=h_,N_=p_,S_=f_,C_=g_,k_="0xb0610af457d8a9f4d9b7e9e19f42e4ff0cb70109",T_="0x25f6cfaa3643e813137f41475240f340f1a2a991",E_="0x41ba9139b99b57a4f73d8c7f41f5cccff677d563",P_="0x0489a2109a4bae17d11b584c6c8d4f92e93158af",A_="0xf7cd3a74c37113516b60a516d0c657e8c03e51d7",M_="0xee09eae82539866dbf4a7af45913e9fb816c949f",R_="0x94c7bcc591e6cf45537da11db0fe3046aab51c5d",L_="0xf733304763f32dd5be4cd6de0d49c1b5cac75788",I_="0xf94e2babc52c6a0362b947e1c2a246864687e797",_e={abi:x_,address:k_},__={abi:y_,address:T_},wt={abi:b_,address:E_},vt={abi:v_,address:P_},_d={abi:w_,address:A_},pl={abi:j_,address:M_},ns={abi:N_,address:R_},Zs={abi:S_,address:L_},F_={abi:C_,address:I_},O_=()=>{const{address:e}=Ge(),[t,r]=w.useState(!0),[s,a]=w.useState("overview"),{setStudentAddress:i,metrics:o,formatTimestamp:l,formatPercentage:c,handleFetchMetrics:d}=f3({address:_e.address,abi:_e.abi}),{progress:u,getProgressPercentage:m,getProgressStatus:h,handleFetchInfo:p}=g3({address:_e.address,abi:_e.abi},e),{progress:f,formatProgressPercentage:v,getProgressPercentage:y,getProgressColor:g,handleFetchProgress:x}=x3({address:_e.address,abi:_e.abi},e);w.useEffect(()=>{e&&(i(e),(async()=>{r(!0);try{await Promise.all([d(),p(),x()])}catch(P){console.error("Error fetching student data:",P)}finally{r(!1)}})())},[e,i,d,p,x]);const N=(()=>{if(!o||u===null||f===null)return{text:"Loading...",color:"text-gray-400"};const T=o.attendancePercentage?Number(o.attendancePercentage)/100:0,P=m(),I=y(f),B=(T+P+I)/3;return B>=80?{text:"Excellent",color:"text-green-500"}:B>=60?{text:"Good",color:"text-blue-500"}:B>=40?{text:"Satisfactory",color:"text-yellow-500"}:{text:"Needs Improvement",color:"text-red-500"}})(),j={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},k={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.5}}};return n.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[n.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:"Student Dashboard"}),n.jsxs("p",{className:"text-gray-400 mt-2",children:["Welcome back, ",e?`${e.slice(0,6)}...${e.slice(-4)}`:"Student"]})]}),t?n.jsxs("div",{className:"flex justify-center items-center h-64",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-4 text-gray-300",children:"Loading your educational data..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[n.jsx("button",{onClick:()=>a("overview"),className:`px-4 py-2 font-medium ${s==="overview"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Overview"}),n.jsx("button",{onClick:()=>a("attendance"),className:`px-4 py-2 font-medium ${s==="attendance"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Attendance"}),n.jsx("button",{onClick:()=>a("program"),className:`px-4 py-2 font-medium ${s==="program"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Program Progress"}),n.jsx("button",{onClick:()=>a("learning"),className:`px-4 py-2 font-medium ${s==="learning"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Learning Progress"})]}),s==="overview"&&n.jsxs(Z.div,{variants:j,initial:"hidden",animate:"show",className:"space-y-6",children:[n.jsxs(Z.div,{variants:k,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-2",children:"Educational Journey Overview"}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("span",{className:"text-lg mr-2",children:"Overall Status:"}),n.jsx("span",{className:`text-lg font-bold ${N.color}`,children:N.text})]}),n.jsx("p",{className:"text-gray-400",children:"This dashboard provides a comprehensive view of your educational journey, including attendance records, program completion status, and overall learning progress. Below you'll find a summary of your current standing."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(Z.div,{variants:k,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-3",children:"Attendance Record"}),o?n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-400",children:"Attendance Rate:"}),n.jsxs("span",{className:"text-white font-bold",children:[c(o.attendancePercentage),"%"]})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-400",children:"Present:"}),n.jsxs("span",{className:"text-white",children:[o.totalPresent," days"]})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-400",children:"Absent:"}),n.jsxs("span",{className:"text-white",children:[o.totalAbsent," days"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Current Streak:"}),n.jsxs("span",{className:"text-white",children:[o.consecutivePresent," days"]})]})]}):n.jsx("p",{className:"text-gray-400",children:"No attendance data available"}),n.jsx("button",{onClick:()=>a("attendance"),className:"mt-4 w-full px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded hover:bg-blue-500/30 transition-colors",children:"View Details"})]}),n.jsxs(Z.div,{variants:k,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-3",children:"Program Progress"}),u!==null?n.jsx("div",{children:n.jsx(s_,{progress:u,maxProgress:100})}):n.jsx("p",{className:"text-gray-400",children:"No program progress data available"}),n.jsx("button",{onClick:()=>a("program"),className:"mt-4 w-full px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded hover:bg-blue-500/30 transition-colors",children:"View Details"})]}),n.jsxs(Z.div,{variants:k,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-3",children:"Learning Progress"}),f!==null?n.jsx("div",{children:n.jsx(o_,{progress:f})}):n.jsx("p",{className:"text-gray-400",children:"No learning progress data available"}),n.jsx("button",{onClick:()=>a("learning"),className:"mt-4 w-full px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded hover:bg-blue-500/30 transition-colors",children:"View Details"})]})]}),n.jsxs(Z.div,{variants:k,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-4",children:"Recent Attendance"}),o&&o.history&&o.history.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800/50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Term"})]})}),n.jsx("tbody",{className:"bg-gray-900/30 divide-y divide-gray-800",children:o.history.slice(0,5).map((T,P)=>n.jsxs("tr",{className:P%2===0?"bg-gray-800/20":"bg-gray-800/10",children:[n.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-300",children:l(T.timestamp)}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${T.present?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.present?"Present":"Absent"})}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-300",children:T.termNumber})]},P))})]})}):n.jsx("p",{className:"text-gray-400",children:"No recent attendance records available"})]}),n.jsxs(Z.div,{variants:k,className:"bg-blue-900/20 rounded-lg p-5 border border-blue-800/30 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Personalized Recommendations"}),n.jsxs("ul",{className:"space-y-3",children:[o&&o.attendancePercentage&&Number(o.attendancePercentage)/100<70?n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-300",children:"Your attendance rate is below 70%. Improving your attendance will significantly enhance your overall progress."})]}):null,u!==null&&m()<50?n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-300",children:"You've completed less than half of your program requirements. Focus on completing key assignments to progress to the next level."})]}):null,f!==null&&y(f)<70?n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-300",children:"Consider spending more time engaging with the course materials to improve your learning progress."})]}):null,n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-300",children:"Check your dashboard regularly to monitor your progress and identify areas where you can improve."})]})]})]})]}),s==="attendance"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"Your attendance record shows your participation in scheduled class sessions."}),o?n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Attendance Detail"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Attendance Rate"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:c(o.attendancePercentage)}),n.jsx("span",{className:"text-gray-400",children:"%"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall attendance percentage"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Present"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:o.totalPresent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total days present"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Absent"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:o.totalAbsent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total days absent"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Current Streak"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:o.consecutivePresent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Consecutive days present"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-3 text-gray-300",children:"Complete Attendance History"}),n.jsx("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800/50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Term"})]})}),n.jsx("tbody",{className:"bg-gray-900/30 divide-y divide-gray-800",children:o.history.map((T,P)=>n.jsxs("tr",{className:P%2===0?"bg-gray-800/20":"bg-gray-800/10",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:l(T.timestamp)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${T.present?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.present?"Present":"Absent"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:T.termNumber})]},P))})]})})})]})]}):n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-8 border border-gray-700 shadow-lg text-center",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"No attendance data is currently available for your account."}),n.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Refresh Attendance Data"})]})]}),s==="program"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"Your progress through the educational program curriculum."}),u!==null?n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Program Progress Detail"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Progress Points"}),n.jsxs("div",{className:"text-gray-200 text-2xl font-bold",children:[u," / 100"]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),n.jsx("div",{className:`font-semibold text-xl ${h().colorClass}`,children:h().text})]})]}),n.jsxs("div",{className:"mt-4 bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Overall Progress"}),n.jsx("div",{className:"mt-3",children:n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:n.jsx("div",{className:`h-4 rounded-full ${m()<25?"bg-gradient-to-r from-red-500 to-red-600":m()<50?"bg-gradient-to-r from-yellow-400 to-yellow-500":m()<75?"bg-gradient-to-r from-purple-400 to-purple-500":"bg-gradient-to-r from-blue-500 to-green-400"}`,style:{width:`${m()}%`}})})}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0%"}),n.jsx("span",{children:"25%"}),n.jsx("span",{children:"50%"}),n.jsx("span",{children:"75%"}),n.jsx("span",{children:"100%"})]})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400 mr-2 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsx("div",{className:"text-blue-400",children:m()>=100?n.jsx("p",{children:"Congratulations! You've completed the program requirements."}):m()>=75?n.jsx("p",{children:"You're making excellent progress! Continue attending sessions to complete the program."}):m()>=50?n.jsx("p",{children:"You're on the right track. Keep up the good work and attend upcoming sessions."}):m()>=25?n.jsx("p",{children:"You've made a good start. Increasing your participation will help boost your progress."}):n.jsx("p",{children:"Getting started is the hardest part. Join more sessions to increase your progress."})})]})})]}):n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-8 border border-gray-700 shadow-lg text-center",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"No program progress data is currently available for your account."}),n.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Refresh Program Data"})]})]}),s==="learning"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"Your progress in mastering the educational content and materials."}),f!==null?n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Learning Progress Detail"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"Overall Learning Progress"}),n.jsxs("span",{className:"text-gray-300 font-bold",children:[v(f),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden",children:n.jsx(Z.div,{initial:{width:0},animate:{width:`${y(f)}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${g(y(f))}`})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Progress Level"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:v(f)}),n.jsx("span",{className:"text-gray-400",children:"%"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall completion percentage"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${y(f)<30?"bg-red-500":y(f)<70?"bg-yellow-500":"bg-green-500"}`}),n.jsx("span",{className:"text-lg font-bold text-gray-200",children:y(f)<30?"Starting":y(f)<70?"In Progress":"Advanced"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current learning status"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Raw Value"}),n.jsx("div",{className:"flex items-baseline space-x-1",children:n.jsx("span",{className:"text-md font-bold text-gray-200 truncate",children:f==null?void 0:f.toString()})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Raw progress value (basis points)"})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[n.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"Learning Assessment"}),n.jsx("p",{className:"text-sm text-gray-400",children:y(f)<30?"You are in the early stages of your educational journey. More focus and engagement with the learning materials will help improve your progress.":y(f)<70?"You are making steady progress in your educational journey. Continued engagement with the learning materials will help you reach advanced stages.":"You are at an advanced stage in your educational journey. You are demonstrating excellent engagement with the learning materials."})]})]}):n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-8 border border-gray-700 shadow-lg text-center",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"No learning progress data is currently available for your account."}),n.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Refresh Learning Data"})]})]})]})]})},D_=e=>{const t=e;return{name:t[0]??"",isRegistered:t[1]??!1,currentTerm:Number(t[2]??0),attendanceCount:Number(t[3]??0),lastAttendanceDate:t[4]??0n,hasFirstAttendance:t[5]??!1,programId:Number(t[6]??0),totalPayments:t[7]??0n}},$_=e=>{if(e<=0n)return"Never";try{return new Date(Number(e)*1e3).toLocaleString()}catch(t){return console.error("Error formatting timestamp:",t),"Invalid date"}},B_=(e,t)=>{if(e<=0||t<=0)return"N/A";const r=Math.min(e*12,12);return`${(t/r*100).toFixed(1)}%`};function z_(e,t="",r){const{address:s}=Ge(),[a,i]=w.useState(t||s||""),[o,l]=w.useState(t?Be(t):s?Be(s):!1),[c,d]=w.useState(!1),[u,m]=w.useState({lastAttendance:"",totalPaymentsFormatted:"",attendanceRate:""}),{data:h,error:p,isLoading:f,isSuccess:v,refetch:y}=Ce({...e,functionName:"getStudentDetails",args:[a],enabled:c&&o}),g=h?D_(h):null;return w.useEffect(()=>{const N=a?Be(a):!1;l(N)},[a]),w.useEffect(()=>{if(v&&g){const N=$_(g.lastAttendanceDate),j=Mt(g.totalPayments),k=B_(g.currentTerm,g.attendanceCount);m({lastAttendance:N,totalPaymentsFormatted:j,attendanceRate:k}),r&&r(g)}},[g,v,r]),{studentData:g,formattedData:u,address:a,isAddressValid:o,hasSearched:c,isLoading:f,isSuccess:v,error:p,setStudentAddress:i,refetch:y,searchStudent:()=>{o&&d(!0)},getRegistrationStatus:()=>!v||!g?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:g.isRegistered?{text:"Registered",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Registered",color:"text-red-400",bg:"bg-red-500/20"}}}function U_(e,t="",r){const{address:s}=Ge(),[a,i]=w.useState(t||s||""),[o,l]=w.useState(t?Be(t):s?Be(s):!1),[c,d]=w.useState(!1),{data:u,error:m,isLoading:h,isSuccess:p,refetch:f}=Ce({...e,functionName:"getStudentProgram",args:[a],enabled:c&&o}),v=u!=null?BigInt(u.toString()):void 0,y=m instanceof Error?m.message:m?String(m):"Unknown error";return w.useEffect(()=>{l(a?Be(a):!1)},[a]),w.useEffect(()=>{p&&v!==void 0&&r&&r(v,a)},[v,p,a,r]),{programId:v,studentAddress:a,isAddressValid:o,hasSearched:c,isLoading:h,isSuccess:p,error:m,errorMessage:y,setStudentAddress:i,searchProgram:()=>{o&&d(!0)},refetch:f,getProgramStatus:()=>!p||v===void 0?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:v>0n?{text:"Enrolled",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Enrolled",color:"text-red-400",bg:"bg-red-500/20"}}}function V_(e="",t,r={}){const{address:s}=Ge(),[a,i]=w.useState(e||s||""),[o,l]=w.useState(e?Be(e):s?Be(s):!1),[c,d]=w.useState(!1),[u,m]=w.useState([]),{data:h,error:p,isLoading:f,isSuccess:v,refetch:y}=Ce({address:wt.address,abi:wt.abi,functionName:"studentPrograms",args:[a]}),g=h!=null?BigInt(h.toString()):void 0,x=p instanceof Error?p.message:p?String(p):"Unknown error",b={programId:g,studentAddress:a,isSuccess:v,isLoading:f,error:p,errorMessage:x};return w.useEffect(()=>{l(a?Be(a):!1)},[a]),w.useEffect(()=>{const P=localStorage.getItem("studentProgramSearches");if(P)try{const I=JSON.parse(P);Array.isArray(I)&&m(I.slice(0,5))}catch(I){console.error("Error parsing saved searches:",I)}},[]),w.useEffect(()=>{v&&g!==void 0&&t&&t(g,a)},[g,v,a,t]),{programData:b,studentAddress:a,isAddressValid:o,hasSearched:c,recentSearches:u,setStudentAddress:i,searchProgram:()=>{if(o&&(d(!0),!u.includes(a))){const P=[a,...u].slice(0,5);m(P);try{localStorage.setItem("studentProgramSearches",JSON.stringify(P))}catch(I){console.error("Error saving to localStorage:",I)}}},selectRecentSearch:P=>{i(P),Be(P)&&(l(!0),d(!0))},refetch:y,getProgramName:P=>{const I=P.toString();return r[I]||`Program #${I}`},getEnrollmentStatus:()=>!v||g===void 0?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:g>0n?{text:"Enrolled",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Enrolled",color:"text-red-400",bg:"bg-red-500/20"}}}const W_=()=>{var v,y,g,x,b,N,j,k,T,P;const{address:e}=Ge(),[t,r]=w.useState(""),[s,a]=w.useState(!1),[i,o]=w.useState("info"),[l]=w.useState({1:"Web Development",2:"Mobile App Development",3:"UI/UX Design",4:"Data Science"}),c=z_(_e,t||e||"",I=>console.log("Student details fetched:",I)),d=U_(_e,t||e||"",(I,B)=>console.log(`Program ID ${I} for ${B}`)),u=V_(t||e||"",(I,B)=>console.log(`Program ID ${I} for ${B}`),l);w.useEffect(()=>{e&&!t&&(r(e),s||m())},[e,t,s]);const m=()=>{a(!0),c.searchStudent(),d.searchProgram(),u.searchProgram()},h=s&&c.isSuccess&&c.studentData,p=d.programId!==void 0?d.programId:u.programData.programId,f=c.isLoading||d.isLoading||u.programData.isLoading;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h2",{className:"text-lg font-medium text-blue-400 mb-4",children:"Student Information"}),f&&n.jsxs("div",{className:"flex items-center justify-center py-3",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading student data..."})]}),h&&!f&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center text-gray-300 mr-3",children:(v=c.studentData)!=null&&v.name?c.studentData.name.substring(0,2).toUpperCase():"ST"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-200",children:((y=c.studentData)==null?void 0:y.name)||"Unnamed Student"}),c.studentData&&n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${c.studentData.isRegistered?"bg-green-500/20 border-green-400/30":"bg-red-500/20 border-red-400/30"} border`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${c.studentData.isRegistered?"bg-green-400":"bg-red-400"} mr-2`}),n.jsx("span",{className:`text-xs font-medium ${c.studentData.isRegistered?"text-green-400":"text-red-400"}`,children:c.studentData.isRegistered?"Registered":"Not Registered"})]})]}),n.jsxs("div",{className:"mt-1 space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-400",children:[n.jsx("span",{className:"text-gray-300",children:"Address:"}),n.jsxs("span",{className:"font-mono ml-2 text-xs",children:[(t||e||"").substring(0,6),"...",(t||e||"").substring((t||e||"").length-4)]})]}),p!==void 0&&p>0n&&n.jsxs("p",{className:"text-sm text-gray-400",children:[n.jsx("span",{className:"text-gray-300",children:"Program:"}),n.jsx("span",{className:"ml-2",children:u.getProgramName(p)}),n.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded text-xs",children:["#",p.toString()]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Attendance"}),n.jsx("p",{className:"text-lg font-medium text-white",children:((g=c.studentData)==null?void 0:g.attendanceCount)||0}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Rate: ",c.formattedData.attendanceRate||"N/A"]})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Current Term"}),n.jsx("p",{className:"text-lg font-medium text-white",children:c.studentData&&c.studentData.currentTerm!==void 0&&c.studentData.currentTerm>0?c.studentData.currentTerm:"N/A"}),n.jsx("p",{className:"text-xs text-gray-400",children:c.studentData&&c.studentData.currentTerm!==void 0&&c.studentData.currentTerm>0?"Active":"Not enrolled"})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Total Payments"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:"text-lg font-medium text-white",children:c.formattedData.totalPaymentsFormatted||"0"}),n.jsx("p",{className:"ml-1 text-xs text-gray-400",children:"ETH"})]})]})]}),((x=c.studentData)==null?void 0:x.isRegistered)&&!((b=c.studentData)!=null&&b.hasFirstAttendance)&&n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3 text-sm",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("span",{children:"First attendance has not been recorded yet"})]})}),n.jsxs("div",{className:"flex space-x-2 mt-4",children:[n.jsx("button",{onClick:()=>o("info"),className:`px-3 py-1 rounded text-sm ${i==="info"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Basic Info"}),n.jsx("button",{onClick:()=>o("details"),className:`px-3 py-1 rounded text-sm ${i==="details"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Student Details"}),n.jsx("button",{onClick:()=>o("program"),className:`px-3 py-1 rounded text-sm ${i==="program"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Program Info"})]}),i==="details"&&n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mt-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Detailed Student Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Name: "}),n.jsx("span",{className:"text-gray-200",children:(N=c.studentData)==null?void 0:N.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Is Registered: "}),n.jsx("span",{className:"text-gray-200",children:(j=c.studentData)!=null&&j.isRegistered?"Yes":"No"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Current Term: "}),n.jsx("span",{className:"text-gray-200",children:(k=c.studentData)==null?void 0:k.currentTerm})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Attendance Count: "}),n.jsx("span",{className:"text-gray-200",children:(T=c.studentData)==null?void 0:T.attendanceCount})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Last Attendance: "}),n.jsx("span",{className:"text-gray-200",children:c.formattedData.lastAttendance})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Has First Attendance: "}),n.jsx("span",{className:"text-gray-200",children:(P=c.studentData)!=null&&P.hasFirstAttendance?"Yes":"No"})]})]})]}),i==="program"&&n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mt-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Program Information"}),p&&p>0n?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Program ID: "}),n.jsxs("span",{className:"text-sm font-medium text-white",children:["#",p.toString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Program Name: "}),n.jsx("span",{className:"text-sm text-white",children:u.getProgramName(p)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Status: "}),n.jsx("span",{className:"text-sm text-green-400",children:"Active Enrollment"})]})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-yellow-400",children:"Not enrolled in any program"})]})]})]}),s&&!f&&(!c.studentData||c.studentData.name==="")&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx("svg",{className:"w-10 h-10 mx-auto text-yellow-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"No student record found"}),n.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"No student information exists for this address. Registration may be required."})]}),!s&&!f&&!e&&n.jsx("div",{className:"bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"Connect your wallet to view your student information."})})]}),n.jsx(n_,{contract:{address:_e.address,abi:_e.abi}}),n.jsx(r_,{contract:{address:_e.address,abi:_e.abi},defaultAddress:e}),n.jsx(a_,{contract:{address:_e.address,abi:_e.abi}})]})};function y3(e,t="",r=1,s=0){const[a,i]=w.useState(t),[o,l]=w.useState(r),[c,d]=w.useState(!1),{data:u,error:m,isLoading:h,refetch:p}=Ce({address:pl.address,abi:pl.abi,functionName:"getStudentAttendance",args:a?[a,BigInt(o)]:void 0,query:{enabled:!!a&&o>0}}),f=u?u[0]:void 0,v=u?u[1]:void 0,{data:y,error:g,isLoading:x,refetch:b}=Ce({...e,functionName:"students",args:a?[a]:void 0,query:{enabled:!!a&&!!e&&c}}),N=y&&c?{name:y[0],isRegistered:y[1],currentTerm:Number(y[2])}:void 0,j=m||(c?g:void 0),k=h||(c?x:!1),T=()=>{if(!f||!v)return{text:"No Data",color:"text-gray-400",bg:"bg-gray-500/20"};const B=Number(f);return B>10?{text:"Excellent",color:"text-green-400",bg:"bg-green-500/20"}:B>5?{text:"Good",color:"text-blue-400",bg:"bg-blue-500/20"}:B>0?{text:"Minimal",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{text:"None",color:"text-red-400",bg:"bg-red-500/20"}};w.useEffect(()=>{if(s>0&&a&&o>0){const B=setInterval(()=>{p(),c&&e&&b()},s);return()=>{clearInterval(B)}}},[s,a,o,c,e,p,b]);const P=()=>{p(),c&&e&&b()},I=()=>{const B=!c;d(B),B&&e&&a&&!y&&b()};return{studentAddress:a,term:o,termAttendance:f,totalAttendance:v,studentInfo:N,status:T(),isLoading:k,error:j,refresh:P,setStudentAddress:i,setTerm:l,toggleAdditionalInfo:I}}const Z0=[{name:"Novice",threshold:0,color:"gray"},{name:"Apprentice",threshold:100,color:"green"},{name:"Scholar",threshold:250,color:"blue"},{name:"Master",threshold:500,color:"purple"},{name:"Virtuoso",threshold:1e3,color:"indigo"}];function H_(e,t){const{address:r}=Ge(),[s,a]=w.useState(t||""),[i,o]=w.useState(!t),[l,c]=w.useState("");w.useEffect(()=>{console.log("Validation Error:",l)},[l]),w.useEffect(()=>{t?(a(t),o(!1)):o(!0)},[t]);const d=i?s:t||r||"",{data:u,isLoading:m,isError:h,refetch:p}=Ce({...e,functionName:"getStudentReputation",args:[d],query:{enabled:!!d}}),[f,v]=w.useState(null);w.useEffect(()=>{if(u){const B=u,U={attendancePoints:B[0],behaviorPoints:B[1],academicPoints:B[2],lastUpdateTime:B[3],totalPoints:B[0]+B[1]+B[2]};v(U)}else v(null)},[u]);const y=B=>B?/^0x[a-fA-F0-9]{40}$/.test(B)?(c(""),!0):(c("Invalid Ethereum address format"),!1):(c("Student address is required"),!1),g=B=>{a(B),c("")},x=B=>!B||B===BigInt(0)?"Never":new Date(Number(B)*1e3).toLocaleString(),b=B=>{if(!B||B===BigInt(0))return"Never updated";const U=Date.now()/1e3,q=Number(B),K=U-q;return K<60?"Just now":K<3600?`${Math.floor(K/60)} minutes ago`:K<86400?`${Math.floor(K/3600)} hours ago`:`${Math.floor(K/86400)} days ago`},N=B=>{const U=Number(B);let q=Z0[0];for(const K of Z0)if(U>=K.threshold)q=K;else break;return q},j=B=>{const U=Number(B);let q=null;for(const E of Z0)if(U<E.threshold){q=E;break}if(!q)return{name:`${N(B).name} (Max Level)`,pointsNeeded:0,progress:100};const K=N(B),ne=q.threshold-U,J=q.threshold-K.threshold,L=U-K.threshold,A=Math.floor(L/J*100);return{name:q.name,pointsNeeded:ne,progress:A}},k=B=>[{name:"Attendance",value:B.attendancePoints,color:"green"},{name:"Behavior",value:B.behaviorPoints,color:"blue"},{name:"Academic",value:B.academicPoints,color:"purple"}].sort((q,K)=>Number(K.value-q.value))[0],T=f?N(f.totalPoints):null,P=f?j(f.totalPoints):null,I=f?k(f):null;return{data:f,level:T,nextLevel:P,dominantCategory:I,isLoading:m,isError:h,validationError:l,effectiveAddress:d,refresh:p,setCustomAddress:g,validateAddress:y,formatTimestamp:x,getTimeSinceUpdate:b}}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function la(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ze(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ke(e){Ze(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Fd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function G_(e,t){Ze(2,arguments);var r=Ke(e).getTime(),s=la(t);return new Date(r+s)}var q_={};function _l(){return q_}function ip(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Uc(e,t){Ze(2,arguments);var r=Ke(e),s=Ke(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function K_(e){return Ze(1,arguments),e instanceof Date||Fd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Y_(e){if(Ze(1,arguments),!K_(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function Q_(e,t){Ze(2,arguments);var r=Ke(e),s=Ke(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function X_(e,t){return Ze(2,arguments),Ke(e).getTime()-Ke(t).getTime()}var Z_={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},J_="trunc";function eF(e){return Z_[J_]}function tF(e){Ze(1,arguments);var t=Ke(e);return t.setHours(23,59,59,999),t}function nF(e){Ze(1,arguments);var t=Ke(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rF(e){Ze(1,arguments);var t=Ke(e);return tF(t).getTime()===nF(t).getTime()}function sF(e,t){Ze(2,arguments);var r=Ke(e),s=Ke(t),a=Uc(r,s),i=Math.abs(Q_(r,s)),o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var l=Uc(r,s)===-a;rF(Ke(e))&&i===1&&Uc(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function aF(e,t,r){Ze(2,arguments);var s=X_(e,t)/1e3;return eF()(s)}function iF(e,t){Ze(2,arguments);var r=la(t);return G_(e,-r)}var oF=864e5;function lF(e){Ze(1,arguments);var t=Ke(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),a=r-s;return Math.floor(a/oF)+1}function Od(e){Ze(1,arguments);var t=1,r=Ke(e),s=r.getUTCDay(),a=(s<t?7:0)+s-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function b3(e){Ze(1,arguments);var t=Ke(e),r=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(r+1,0,4),s.setUTCHours(0,0,0,0);var a=Od(s),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=Od(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function cF(e){Ze(1,arguments);var t=b3(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var s=Od(r);return s}var dF=6048e5;function uF(e){Ze(1,arguments);var t=Ke(e),r=Od(t).getTime()-cF(t).getTime();return Math.round(r/dF)+1}function Dd(e,t){var r,s,a,i,o,l,c,d;Ze(1,arguments);var u=_l(),m=la((r=(s=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ke(e),p=h.getUTCDay(),f=(p<m?7:0)+p-m;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function v3(e,t){var r,s,a,i,o,l,c,d;Ze(1,arguments);var u=Ke(e),m=u.getUTCFullYear(),h=_l(),p=la((r=(s=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&s!==void 0?s:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(m+1,0,p),f.setUTCHours(0,0,0,0);var v=Dd(f,t),y=new Date(0);y.setUTCFullYear(m,0,p),y.setUTCHours(0,0,0,0);var g=Dd(y,t);return u.getTime()>=v.getTime()?m+1:u.getTime()>=g.getTime()?m:m-1}function mF(e,t){var r,s,a,i,o,l,c,d;Ze(1,arguments);var u=_l(),m=la((r=(s=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=v3(e,t),p=new Date(0);p.setUTCFullYear(h,0,m),p.setUTCHours(0,0,0,0);var f=Dd(p,t);return f}var hF=6048e5;function pF(e,t){Ze(1,arguments);var r=Ke(e),s=Dd(r,t).getTime()-mF(r,t).getTime();return Math.round(s/hF)+1}function We(e,t){for(var r=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return r+s}var Dr={y:function(t,r){var s=t.getUTCFullYear(),a=s>0?s:1-s;return We(r==="yy"?a%100:a,r.length)},M:function(t,r){var s=t.getUTCMonth();return r==="M"?String(s+1):We(s+1,2)},d:function(t,r){return We(t.getUTCDate(),r.length)},a:function(t,r){var s=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,r){return We(t.getUTCHours()%12||12,r.length)},H:function(t,r){return We(t.getUTCHours(),r.length)},m:function(t,r){return We(t.getUTCMinutes(),r.length)},s:function(t,r){return We(t.getUTCSeconds(),r.length)},S:function(t,r){var s=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,s-3));return We(i,r.length)}},xa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fF={G:function(t,r,s){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,r,s){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return s.ordinalNumber(i,{unit:"year"})}return Dr.y(t,r)},Y:function(t,r,s,a){var i=v3(t,a),o=i>0?i:1-i;if(r==="YY"){var l=o%100;return We(l,2)}return r==="Yo"?s.ordinalNumber(o,{unit:"year"}):We(o,r.length)},R:function(t,r){var s=b3(t);return We(s,r.length)},u:function(t,r){var s=t.getUTCFullYear();return We(s,r.length)},Q:function(t,r,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return We(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return We(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,s){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Dr.M(t,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,s){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return We(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,s,a){var i=pF(t,a);return r==="wo"?s.ordinalNumber(i,{unit:"week"}):We(i,r.length)},I:function(t,r,s){var a=uF(t);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):We(a,r.length)},d:function(t,r,s){return r==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):Dr.d(t,r)},D:function(t,r,s){var a=lF(t);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):We(a,r.length)},E:function(t,r,s){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,s,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return We(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,s,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return We(o,r.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,s){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return We(i,r.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,s){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,s){var a=t.getUTCHours(),i;switch(a===12?i=xa.noon:a===0?i=xa.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,s){var a=t.getUTCHours(),i;switch(a>=17?i=xa.evening:a>=12?i=xa.afternoon:a>=4?i=xa.morning:i=xa.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,s){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Dr.h(t,r)},H:function(t,r,s){return r==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Dr.H(t,r)},K:function(t,r,s){var a=t.getUTCHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):We(a,r.length)},k:function(t,r,s){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):We(a,r.length)},m:function(t,r,s){return r==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Dr.m(t,r)},s:function(t,r,s){return r==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Dr.s(t,r)},S:function(t,r){return Dr.S(t,r)},X:function(t,r,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return yv(o);case"XXXX":case"XX":return _s(o);case"XXXXX":case"XXX":default:return _s(o,":")}},x:function(t,r,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return yv(o);case"xxxx":case"xx":return _s(o);case"xxxxx":case"xxx":default:return _s(o,":")}},O:function(t,r,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+xv(o,":");case"OOOO":default:return"GMT"+_s(o,":")}},z:function(t,r,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+xv(o,":");case"zzzz":default:return"GMT"+_s(o,":")}},t:function(t,r,s,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return We(o,r.length)},T:function(t,r,s,a){var i=a._originalDate||t,o=i.getTime();return We(o,r.length)}};function xv(e,t){var r=e>0?"-":"+",s=Math.abs(e),a=Math.floor(s/60),i=s%60;if(i===0)return r+String(a);var o=t;return r+String(a)+o+We(i,2)}function yv(e,t){if(e%60===0){var r=e>0?"-":"+";return r+We(Math.abs(e)/60,2)}return _s(e,t)}function _s(e,t){var r=t||"",s=e>0?"-":"+",a=Math.abs(e),i=We(Math.floor(a/60),2),o=We(a%60,2);return s+i+r+o}var bv=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},w3=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},gF=function(t,r){var s=t.match(/(P+)(p+)?/)||[],a=s[1],i=s[2];if(!i)return bv(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",bv(a,r)).replace("{{time}}",w3(i,r))},xF={p:w3,P:gF},yF=["D","DD"],bF=["YY","YYYY"];function vF(e){return yF.indexOf(e)!==-1}function wF(e){return bF.indexOf(e)!==-1}function vv(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var jF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NF=function(t,r,s){var a,i=jF[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function J0(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,s=e.formats[r]||e.formats[e.defaultWidth];return s}}var SF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TF={date:J0({formats:SF,defaultWidth:"full"}),time:J0({formats:CF,defaultWidth:"full"}),dateTime:J0({formats:kF,defaultWidth:"full"})},EF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PF=function(t,r,s,a){return EF[t]};function Zi(e){return function(t,r){var s=r!=null&&r.context?String(r.context):"standalone",a;if(s==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var AF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_F={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FF=function(t,r){var s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},OF={ordinalNumber:FF,era:Zi({values:AF,defaultWidth:"wide"}),quarter:Zi({values:MF,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Zi({values:RF,defaultWidth:"wide"}),day:Zi({values:LF,defaultWidth:"wide"}),dayPeriod:Zi({values:IF,defaultWidth:"wide",formattingValues:_F,defaultFormattingWidth:"wide"})};function Ji(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$F(l,function(m){return m.test(o)}):DF(l,function(m){return m.test(o)}),d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;var u=t.slice(o.length);return{value:d,rest:u}}}function DF(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function $F(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function BF(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var a=s[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(a.length);return{value:o,rest:l}}}var zF=/^(\d+)(th|st|nd|rd)?/i,UF=/\d+/i,VF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WF={any:[/^b/i,/^(a|c)/i]},HF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GF={any:[/1/i,/2/i,/3/i,/4/i]},qF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JF={ordinalNumber:BF({matchPattern:zF,parsePattern:UF,valueCallback:function(t){return parseInt(t,10)}}),era:Ji({matchPatterns:VF,defaultMatchWidth:"wide",parsePatterns:WF,defaultParseWidth:"any"}),quarter:Ji({matchPatterns:HF,defaultMatchWidth:"wide",parsePatterns:GF,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ji({matchPatterns:qF,defaultMatchWidth:"wide",parsePatterns:KF,defaultParseWidth:"any"}),day:Ji({matchPatterns:YF,defaultMatchWidth:"wide",parsePatterns:QF,defaultParseWidth:"any"}),dayPeriod:Ji({matchPatterns:XF,defaultMatchWidth:"any",parsePatterns:ZF,defaultParseWidth:"any"})},j3={code:"en-US",formatDistance:NF,formatLong:TF,formatRelative:PF,localize:OF,match:JF,options:{weekStartsOn:0,firstWeekContainsDate:1}},eO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nO=/^'([^]*?)'?$/,rO=/''/g,sO=/[a-zA-Z]/;function wv(e,t,r){var s,a,i,o,l,c,d,u,m,h,p,f,v,y;Ze(2,arguments);var g=String(t),x=_l(),b=(s=(a=void 0)!==null&&a!==void 0?a:x.locale)!==null&&s!==void 0?s:j3,N=la((i=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:x.firstWeekContainsDate)!==null&&o!==void 0?o:(d=x.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=la((m=(h=(p=(f=void 0)!==null&&f!==void 0?f:void 0)!==null&&p!==void 0?p:x.weekStartsOn)!==null&&h!==void 0?h:(v=x.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&m!==void 0?m:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var k=Ke(e);if(!Y_(k))throw new RangeError("Invalid time value");var T=ip(k),P=iF(k,T),I={firstWeekContainsDate:N,weekStartsOn:j,locale:b,_originalDate:k},B=g.match(tO).map(function(U){var q=U[0];if(q==="p"||q==="P"){var K=xF[q];return K(U,b.formatLong)}return U}).join("").match(eO).map(function(U){if(U==="''")return"'";var q=U[0];if(q==="'")return aO(U);var K=fF[q];if(K)return wF(U)&&vv(U,t,String(e)),vF(U)&&vv(U,t,String(e)),K(P,U,b.localize,I);if(q.match(sO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return U}).join("");return B}function aO(e){var t=e.match(nO);return t?t[1].replace(rO,"'"):e}function N3(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function iO(e){return N3({},e)}var jv=1440,oO=2520,em=43200,lO=86400;function cO(e,t,r){var s,a;Ze(2,arguments);var i=_l(),o=(s=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&s!==void 0?s:j3;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Uc(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=N3(iO(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),d,u;l>0?(d=Ke(t),u=Ke(e)):(d=Ke(e),u=Ke(t));var m=aF(u,d),h=(ip(u)-ip(d))/1e3,p=Math.round((m-h)/60),f;if(p<2)return r!=null&&r.includeSeconds?m<5?o.formatDistance("lessThanXSeconds",5,c):m<10?o.formatDistance("lessThanXSeconds",10,c):m<20?o.formatDistance("lessThanXSeconds",20,c):m<40?o.formatDistance("halfAMinute",0,c):m<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):p===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",p,c);if(p<45)return o.formatDistance("xMinutes",p,c);if(p<90)return o.formatDistance("aboutXHours",1,c);if(p<jv){var v=Math.round(p/60);return o.formatDistance("aboutXHours",v,c)}else{if(p<oO)return o.formatDistance("xDays",1,c);if(p<em){var y=Math.round(p/jv);return o.formatDistance("xDays",y,c)}else if(p<lO)return f=Math.round(p/em),o.formatDistance("aboutXMonths",f,c)}if(f=sF(u,d),f<12){var g=Math.round(p/em);return o.formatDistance("xMonths",g,c)}else{var x=f%12,b=Math.floor(f/12);return x<3?o.formatDistance("aboutXYears",b,c):x<9?o.formatDistance("overXYears",b,c):o.formatDistance("almostXYears",b+1,c)}}function Zt(e,t){return Ze(1,arguments),cO(e,Date.now(),t)}function S3(e,t="",r="",s=0){const[a,i]=w.useState(t),[o,l]=w.useState(r),[c,d]=w.useState(""),[u,m]=w.useState(null),{data:h,error:p,isLoading:f,isSuccess:v,refetch:y}=Ce({...e,functionName:"isStudentOfSchool",args:a&&o?[a,o]:void 0,query:{enabled:!!a&&!!o}}),g=k=>!k||k.length<42?k:`${k.substring(0,6)}...${k.substring(38)}`,x=(k,T)=>k?/^0x[a-fA-F0-9]{40}$/.test(k)?(d(""),!0):(d(`Invalid Ethereum address format for ${T}`),!1):(d(`${T} address is required`),!1),b=k=>{i(k),d("")},N=k=>{l(k),d("")};return w.useEffect(()=>{v&&h!==void 0&&m(new Date)},[v,h]),w.useEffect(()=>{if(s>0&&a&&o){const k=setInterval(()=>{y()},s);return()=>{clearInterval(k)}}},[s,a,o,y]),{isVerified:h,studentAddress:a,schoolAddress:o,status:h===void 0?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:h?{text:"Verified",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Verified",color:"text-red-400",bg:"bg-red-500/20"},lastUpdated:u,isLoading:f,error:p,setStudentAddress:b,setSchoolAddress:N,refresh:y,formatAddress:g,validateAddress:x,validationError:c}}const dO=({contract:e,studentAddress:t="",schoolAddress:r="",refreshInterval:s=0,onVerificationResult:a})=>{const{isVerified:i,studentAddress:o,schoolAddress:l,status:c,lastUpdated:d,isLoading:u,error:m,setStudentAddress:h,setSchoolAddress:p,refresh:f,formatAddress:v,validateAddress:y,validationError:g}=S3(e,t,r,s);w.useEffect(()=>{i!==void 0&&a&&a(i,o,l)},[i,o,l,a]);const x=j=>{h(j)},b=j=>{p(j)},N=j=>{j.preventDefault(),!(!y(o,"Student")||!y(l,"School"))&&f()};return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Student-School Verification"}),n.jsx("form",{onSubmit:N,className:"space-y-4 mb-4",children:n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"student-address",type:"text",value:o,onChange:j=>x(j.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${g&&!o?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-address",className:"block text-sm font-medium text-gray-300",children:"School Address"}),n.jsx("input",{id:"school-address",type:"text",value:l,onChange:j=>b(j.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${g&&!l?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the school's Ethereum address"})]}),g&&n.jsx("div",{className:"text-xs text-red-400 mt-1",children:g}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Student Test Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>x("0x742d35Cc6634C0532925a3b844Bc454e4438f44e"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test Student 1"}),n.jsx("button",{type:"button",onClick:()=>x("0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test Student 2"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"School Test Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>b("0xdD2FD4581271e230360230F9337D5c0430Bf44C0"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test School 1"}),n.jsx("button",{type:"button",onClick:()=>b("0x5FbDB2315678afecb367f032d93F642f64180aa3"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test School 2"})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u,children:u?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Relationship"})})]})}),m?n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:[n.jsxs("p",{className:"text-sm",children:["Error verifying relationship: ",m.message||"Unknown error"]}),n.jsx("button",{onClick:()=>f(),className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}):i!==void 0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${c.bg} border border-${c.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${c.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${c.color}`,children:c.text})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Verification Result"}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:n.jsx("div",{className:"flex items-center justify-center p-3",children:i?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 border border-green-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("p",{className:"text-lg font-medium text-green-400",children:"Verified Student"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This student is enrolled at the specified school"})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("p",{className:"text-lg font-medium text-red-400",children:"Not Verified"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This student is not enrolled at the specified school"})]})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Verification Details"}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Student Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:o}),n.jsx("p",{className:"text-xs text-gray-400",children:v(o)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"School Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:l}),n.jsx("p",{className:"text-xs text-gray-400",children:v(l)})]})]})})]})]})}),n.jsx("div",{className:"bg-gray-700/20 rounded-md p-3 text-xs",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-400 mr-2",children:"Verification Status:"}),n.jsx("span",{className:`font-medium ${i?"text-green-400":"text-red-400"}`,children:i?"Verified":"Not Verified"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>f(),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-3 rounded flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),d&&n.jsxs("span",{className:"text-xs text-gray-400",children:["Updated ",Zt(d,{addSuffix:!0})]})]})]})})]}):null]})};function uO(e,t="",r=1,s=0){const[a,i]=w.useState(t),[o,l]=w.useState(r),[c,d]=w.useState(""),[u,m]=w.useState(null),{data:h,error:p,isLoading:f,isSuccess:v,refetch:y}=Ce({...e,functionName:"completedTerms",args:a&&o?[a,BigInt(o)]:void 0,query:{enabled:!!a&&o>0}}),g=T=>!T||T.length<42?T:`${T.substring(0,6)}...${T.substring(38)}`,x=T=>T?/^0x[a-fA-F0-9]{40}$/.test(T)?(d(""),!0):(d("Invalid Ethereum address format"),!1):(d("Student address is required"),!1),b=T=>!T||T<=0?(d("Term number must be positive"),!1):(d(""),!0),N=T=>{i(T),d("")},j=T=>{l(T),d("")};return w.useEffect(()=>{v&&h!==void 0&&m(new Date)},[v,h]),w.useEffect(()=>{if(s>0&&a&&o>0){const T=setInterval(()=>{y()},s);return()=>{clearInterval(T)}}},[s,a,o,y]),{isCompleted:h,studentAddress:a,termNumber:o,status:h===void 0?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:h?{text:"Completed",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Completed",color:"text-red-400",bg:"bg-red-500/20"},lastUpdated:u,isLoading:f,error:p,setStudentAddress:N,setTermNumber:j,refresh:y,formatAddress:g,validateAddress:x,validateTerm:b,validationError:c}}const mO=({studentProfileContract:e,studentContractView:t,reputationContract:r,schoolVerificationContract:s,termCompletionContract:a,studentAddress:i="",schoolAddress:o="",termNumber:l=1,refreshInterval:c=0,defaultMode:d="attendance",onDataFetched:u})=>{const[m,h]=w.useState(d),[p,f]=w.useState(!0),[v,y]=w.useState(i),{address:g}=Ge();w.useEffect(()=>{i&&y(i)},[i]);const x=e?y3(t,p?v:"",l,c):null,b=r?H_(r,p&&v||void 0):null,N=s?S3(s,p?v:"",o,c):null,j=a?uO(a,p?v:"",l,c):null,k=I=>{p&&y(I)},T=I=>{h(I)};w.useEffect(()=>{if(!u)return;let I;switch(m){case"attendance":x&&x.termAttendance!==void 0&&x.totalAttendance!==void 0&&(I={mode:"attendance",termAttendance:x.termAttendance,totalAttendance:x.totalAttendance,studentAddress:x.studentAddress,term:x.term},u(I));break;case"reputation":b&&b.data&&(I={mode:"reputation",reputationData:b.data,level:b.level,nextLevel:b.nextLevel,dominantCategory:b.dominantCategory,studentAddress:b.effectiveAddress},u(I));break;case"school":N&&N.isVerified!==void 0&&(I={mode:"school",isVerified:N.isVerified,studentAddress:N.studentAddress,schoolAddress:N.schoolAddress},u(I));break;case"termCompletion":j&&j.isCompleted!==void 0&&(I={mode:"termCompletion",isCompleted:j.isCompleted,studentAddress:j.studentAddress,termNumber:j.termNumber},u(I));break}},[m,x==null?void 0:x.termAttendance,x==null?void 0:x.totalAttendance,b==null?void 0:b.data,N==null?void 0:N.isVerified,j==null?void 0:j.isCompleted,u]);const P=I=>{switch(I){case"attendance":return!!e;case"reputation":return!!r;case"school":return!!s;case"termCompletion":return!!a;default:return!1}};return w.useEffect(()=>{P(m)||(e?h("attendance"):r?h("reputation"):s?h("school"):a&&h("termCompletion"))},[m,e,r,s,a]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400",children:"Student Verification Hub"}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:p,onChange:()=>f(!p)}),n.jsx("div",{className:"relative w-10 h-5 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ml-3 text-sm text-gray-300",children:"Sync Student Address"})]})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e&&n.jsx("button",{type:"button",onClick:()=>T("attendance"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="attendance"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Attendance"}),r&&n.jsx("button",{type:"button",onClick:()=>T("reputation"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="reputation"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Reputation"}),s&&n.jsx("button",{type:"button",onClick:()=>T("school"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="school"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"School Verification"}),a&&n.jsx("button",{type:"button",onClick:()=>T("termCompletion"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="termCompletion"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Term Completion"})]}),p&&n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsx("label",{htmlFor:"shared-student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"shared-student-address",type:"text",value:v,onChange:I=>k(I.target.value),placeholder:"0x...",className:"flex-grow px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),g&&n.jsx("button",{type:"button",onClick:()=>k(g),className:"px-3 py-2 bg-gray-600 text-gray-200 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Use connected wallet address",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"This address will be used across all verification modes"})]}),n.jsxs("div",{className:"mt-4",children:[m==="attendance"&&e&&n.jsx("div",{className:"space-y-4",children:n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4 mb-4",children:[!p&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"attendance-student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"attendance-student-address",type:"text",value:(x==null?void 0:x.studentAddress)||"",onChange:I=>x==null?void 0:x.setStudentAddress(I.target.value),placeholder:"0x...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"attendance-term",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsx("input",{id:"attendance-term",type:"number",value:(x==null?void 0:x.term)||1,onChange:I=>x==null?void 0:x.setTerm(parseInt(I.target.value)||1),placeholder:"Enter term number",min:"1",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the term number to check attendance for"})]}),t&&n.jsx("div",{className:"flex items-center mt-2",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!(x!=null&&x.studentInfo),onChange:()=>x==null?void 0:x.toggleAdditionalInfo()}),n.jsx("div",{className:"relative w-10 h-5 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ml-3 text-sm text-gray-300",children:"Show Additional Student Info"})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>x==null?void 0:x.refresh(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:x==null?void 0:x.isLoading,children:x!=null&&x.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"View Attendance"})})]}),x!=null&&x.error?n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:n.jsxs("p",{className:"text-sm",children:["Error fetching attendance data: ",x.error.message||"Unknown error"]})}):(x==null?void 0:x.termAttendance)!==void 0&&(x==null?void 0:x.totalAttendance)!==void 0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${x.status.bg} border border-${x.status.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${x.status.color.replace("text-","bg-")} mr-2`}),n.jsxs("span",{className:`text-sm font-medium ${x.status.color}`,children:[x.status.text," Attendance"]})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-300",children:["Term ",x.term," Attendance:"]}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:x.termAttendance.toString()}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"classes"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Total Attendance:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:x.totalAttendance.toString()}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"classes"})]})]})]})})]}):null]},"attendance")}),m==="reputation"&&r&&n.jsx("div",{className:"space-y-4",children:n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[!p&&n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:(b==null?void 0:b.effectiveAddress)||"",onChange:I=>b==null?void 0:b.setCustomAddress(I.target.value),placeholder:"Student address (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${b!=null&&b.validationError?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`})}),n.jsx("button",{type:"button",onClick:()=>b==null?void 0:b.refresh(),className:"px-3 py-2 bg-gray-600 text-gray-200 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:b==null?void 0:b.isLoading,children:b!=null&&b.isLoading?n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}):"Lookup"})]}),(b==null?void 0:b.validationError)&&n.jsx("p",{className:"text-xs text-red-400",children:b.validationError})]}),(b==null?void 0:b.isLoading)&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading reputation data..."})]}),(b==null?void 0:b.isError)&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsx("p",{className:"text-sm",children:"Error loading reputation data. Please try again later."})}),(b==null?void 0:b.data)&&b.level&&b.nextLevel&&b.dominantCategory&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Student Address:"}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-sm font-mono text-gray-300 truncate",children:b.effectiveAddress})})]}),n.jsxs("div",{className:`bg-${b.level.color}-500/20 border border-${b.level.color}-500/30 rounded-lg p-4 flex flex-col items-center`,children:[n.jsx("div",{className:`text-${b.level.color}-400 text-xl font-bold mb-1`,children:b.level.name}),n.jsx("div",{className:"text-gray-300 text-sm",children:"Reputation Level"})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-end justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Total Reputation"}),n.jsxs("div",{className:"text-2xl font-bold text-white",children:[b.data.totalPoints.toString(),n.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"points"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Attendance"}),n.jsx("div",{className:"text-xl font-bold text-green-400 mb-2",children:b.data.attendancePoints.toString()})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Behavior"}),n.jsx("div",{className:"text-xl font-bold text-blue-400 mb-2",children:b.data.behaviorPoints.toString()})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Academic"}),n.jsx("div",{className:"text-xl font-bold text-purple-400 mb-2",children:b.data.academicPoints.toString()})]})]})]}),!(b!=null&&b.isLoading)&&!(b!=null&&b.data)&&(b==null?void 0:b.effectiveAddress)&&!(b!=null&&b.isError)&&n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-6 text-center",children:[n.jsx("svg",{className:"w-12 h-12 text-gray-500 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:"text-gray-400 mb-3",children:"No reputation data found for this address."}),n.jsx("p",{className:"text-xs text-gray-500",children:"This could be because the student hasn't begun building their reputation yet or the address is not registered in the system."})]})]},"reputation")}),m==="school"&&s&&n.jsx("div",{className:"space-y-4",children:n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4 mb-4",children:[!p&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"school-student-address",type:"text",value:(N==null?void 0:N.studentAddress)||"",onChange:I=>N==null?void 0:N.setStudentAddress(I.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${N!=null&&N.validationError&&!N.studentAddress?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-address",className:"block text-sm font-medium text-gray-300",children:"School Address"}),n.jsx("input",{id:"school-address",type:"text",value:(N==null?void 0:N.schoolAddress)||"",onChange:I=>N==null?void 0:N.setSchoolAddress(I.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${N!=null&&N.validationError&&!N.schoolAddress?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the school's Ethereum address"})]}),(N==null?void 0:N.validationError)&&n.jsx("div",{className:"text-xs text-red-400 mt-1",children:N.validationError}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"School Test Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>N==null?void 0:N.setSchoolAddress("0xdD2FD4581271e230360230F9337D5c0430Bf44C0"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test School 1"}),n.jsx("button",{type:"button",onClick:()=>N==null?void 0:N.setSchoolAddress("0x5FbDB2315678afecb367f032d93F642f64180aa3"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test School 2"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>N==null?void 0:N.refresh(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:N==null?void 0:N.isLoading,children:N!=null&&N.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Relationship"})})]}),N!=null&&N.error?n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:n.jsxs("p",{className:"text-sm",children:["Error verifying relationship: ",N.error.message||"Unknown error"]})}):(N==null?void 0:N.isVerified)!==void 0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${N.status.bg} border border-${N.status.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${N.status.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${N.status.color}`,children:N.status.text})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Verification Result"}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:n.jsx("div",{className:"flex items-center justify-center p-3",children:N.isVerified?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 border border-green-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("p",{className:"text-lg font-medium text-green-400",children:"Verified Student"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This student is enrolled at the specified school"})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("p",{className:"text-lg font-medium text-red-400",children:"Not Verified"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This student is not enrolled at the specified school"})]})})})]})})})]}):null]},"school")}),m==="termCompletion"&&a&&n.jsx("div",{className:"space-y-4",children:n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4 mb-4",children:[!p&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term-student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"term-student-address",type:"text",value:(j==null?void 0:j.studentAddress)||"",onChange:I=>j==null?void 0:j.setStudentAddress(I.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${j!=null&&j.validationError&&!j.studentAddress?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term-number",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsx("input",{id:"term-number",type:"number",value:(j==null?void 0:j.termNumber)||1,onChange:I=>j==null?void 0:j.setTermNumber(parseInt(I.target.value)||1),placeholder:"Enter term number",min:"1",className:`w-full px-3 py-2 bg-gray-700 border ${j!=null&&j.validationError&&(!j.termNumber||j.termNumber<=0)?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the term number to check completion status"})]}),(j==null?void 0:j.validationError)&&n.jsx("div",{className:"text-xs text-red-400 mt-1",children:j.validationError}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Term Numbers:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>j==null?void 0:j.setTermNumber(1),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Term 1"}),n.jsx("button",{type:"button",onClick:()=>j==null?void 0:j.setTermNumber(2),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Term 2"}),n.jsx("button",{type:"button",onClick:()=>j==null?void 0:j.setTermNumber(3),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Term 3"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>j==null?void 0:j.refresh(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:j==null?void 0:j.isLoading,children:j!=null&&j.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Completion"})})]}),j!=null&&j.error?n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:n.jsxs("p",{className:"text-sm",children:["Error verifying term completion: ",j.error.message||"Unknown error"]})}):(j==null?void 0:j.isCompleted)!==void 0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${j.status.bg} border border-${j.status.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${j.status.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${j.status.color}`,children:j.status.text})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Term Completion Result"}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:n.jsx("div",{className:"flex items-center justify-center p-3",children:j.isCompleted?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 border border-green-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsxs("p",{className:"text-lg font-medium text-green-400",children:["Term ",j.termNumber," Completed"]}),n.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["This student has successfully completed term ",j.termNumber]})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("p",{className:"text-lg font-medium text-red-400",children:["Term ",j.termNumber," Not Completed"]}),n.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["This student has not yet completed term ",j.termNumber]})]})})})]})})})]}):null]},"termCompletion")}),!e&&!r&&!s&&!a&&n.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-md p-4 text-yellow-400",children:[n.jsx("p",{className:"text-sm font-medium",children:"No contracts provided"}),n.jsx("p",{className:"text-xs mt-1",children:"Please provide at least one contract to use the Student Verification Hub."})]})]})]})};function Nv(e,t="",r="",s=1,a=0){const[i,o]=w.useState(t),[l,c]=w.useState(r),[d,u]=w.useState(s),[m,h]=w.useState(""),[p,f]=w.useState(!1),{data:v,error:y,isLoading:g,refetch:x}=Ce({...e,functionName:"tuitionFees",args:i&&l?[i,l,BigInt(d)]:void 0,query:{enabled:!!i&&!!l&&d>0}}),b=v?{amount:v.amount,dueDate:v.dueDate,isPaid:v.isPaid,programId:v.programId,lateFee:v.lateFee}:void 0,N=()=>{if(!b)return BigInt(0);const _=BigInt(Math.floor(Date.now()/1e3)),Y=!b.isPaid&&_>b.dueDate;return b.amount+(Y?b.lateFee:BigInt(0))},j=()=>{if(!b)return!1;const _=BigInt(Math.floor(Date.now()/1e3));return!b.isPaid&&_>b.dueDate},k=()=>{if(!b)return{value:0,isOverdue:!1};const _=BigInt(Math.floor(Date.now()/1e3)),Y=BigInt(86400);return _>b.dueDate?{value:Number((_-b.dueDate)/Y),isOverdue:!0}:{value:Number((b.dueDate-_)/Y),isOverdue:!1}},T=(_,Y)=>_?/^0x[a-fA-F0-9]{40}$/.test(_)?(h(""),!0):(h(`Invalid ${Y} Ethereum address format`),!1):(h(`${Y} address is required`),!1),P=_=>isNaN(_)||_<=0?(h("Term must be a positive number"),!1):(h(""),!0),I=_=>{o(_),h("")},B=_=>{c(_),h("")},U=_=>{u(isNaN(_)?0:_),h("")},q=()=>{h("");const _=T(i,"School"),Y=T(l,"Student"),ee=P(d);_&&Y&&ee&&(f(!0),x())},K=(_,Y=6)=>(Number(_)/1e18).toFixed(Y),ne=_=>new Date(Number(_)*1e3).toLocaleString(),J=()=>{if(!b)return{color:"text-gray-400"};if(b.isPaid)return{color:"text-green-400"};const _=BigInt(Math.floor(Date.now()/1e3));return _>b.dueDate?{color:"text-red-400"}:_>b.dueDate-BigInt(86400*3)?{color:"text-yellow-400"}:{color:"text-blue-400"}},L=()=>b?b.isPaid?{text:"Paid",color:"text-green-400",bg:"bg-green-500/20"}:j()?{text:"Overdue",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Pending",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"},A=_=>_?`${_.substring(0,6)}...${_.substring(_.length-4)}`:"";w.useEffect(()=>{if(a>0&&i&&l&&d>0){const _=setInterval(()=>{x()},a);return()=>{clearInterval(_)}}},[a,i,l,d,x]);const E=b?L():{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"},O=J(),F=k(),R=N();return{feeData:b,schoolAddress:i,studentAddress:l,term:d,totalAmount:R,statusStyle:E,dueDateStyle:O,daysInfo:F,isPastDue:j(),isLoading:g,error:y,validationError:m,hasSearched:p,setSchoolAddress:I,setStudentAddress:B,setTerm:U,refresh:q,validateAddress:T,validateTerm:P,formatWeiToEther:K,formatTimestamp:ne,truncateAddress:A}}function Sv(e,t="",r="",s=1,a=0){const[i,o]=w.useState(t),[l,c]=w.useState(r),[d,u]=w.useState(s),[m,h]=w.useState(""),[p,f]=w.useState(!1),{data:v,error:y,isLoading:g,refetch:x}=Ce({...e,functionName:"checkTuitionStatus",args:i&&l?[i,l,BigInt(d)]:void 0,query:{enabled:!!i&&!!l&&d>0}}),b=v?{isPaid:v.isPaid,dueDate:v.dueDate}:void 0,N=()=>{if(!b)return!1;const F=BigInt(Math.floor(Date.now()/1e3));return!b.isPaid&&F>b.dueDate},j=()=>{if(!b)return{value:0,isOverdue:!1};const F=BigInt(Math.floor(Date.now()/1e3)),R=BigInt(86400);return F>b.dueDate?{value:Number((F-b.dueDate)/R),isOverdue:!0}:{value:Number((b.dueDate-F)/R),isOverdue:!1}},k=(F,R)=>F?/^0x[a-fA-F0-9]{40}$/.test(F)?(h(""),!0):(h(`Invalid ${R} Ethereum address format`),!1):(h(`${R} address is required`),!1),T=F=>isNaN(F)||F<=0?(h("Term must be a positive number"),!1):(h(""),!0),P=F=>{o(F),h("")},I=F=>{c(F),h("")},B=F=>{u(isNaN(F)?0:F),h("")},U=()=>{h("");const F=k(i,"School"),R=k(l,"Student"),_=T(d);F&&R&&_&&(f(!0),x())},q=F=>new Date(Number(F)*1e3).toLocaleString(),K=()=>b?b.isPaid?{text:"Paid",color:"text-green-400",bg:"bg-green-500/20"}:N()?{text:"Overdue",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Pending",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"},ne=()=>{if(!b)return{color:"text-gray-400"};if(b.isPaid)return{color:"text-green-400"};const F=BigInt(Math.floor(Date.now()/1e3));return F>b.dueDate?{color:"text-red-400"}:F>b.dueDate-BigInt(86400*3)?{color:"text-yellow-400"}:{color:"text-blue-400"}},J=()=>{if(!b)return"No tuition data available.";if(b.isPaid)return"Tuition has been paid successfully. The student is in good academic standing.";const F=j();return F.isOverdue?`Tuition payment is overdue by ${F.value} day${F.value!==1?"s":""}. The student may face late fees and administrative holds.`:`Tuition payment is due in ${F.value} day${F.value!==1?"s":""}. Please ensure timely payment to avoid late fees.`},L=F=>F?`${F.substring(0,6)}...${F.substring(F.length-4)}`:"";w.useEffect(()=>{if(a>0&&i&&l&&d>0){const F=setInterval(()=>{x()},a);return()=>{clearInterval(F)}}},[a,i,l,d,x]);const A=b?K():{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"},E=ne(),O=j();return{tuitionStatus:b,schoolAddress:i,studentAddress:l,term:d,statusStyle:A,dueDateStyle:E,daysInfo:O,isPastDue:N(),isLoading:g,error:y,validationError:m,hasSearched:p,setSchoolAddress:P,setStudentAddress:I,setTerm:B,refresh:U,validateAddress:k,validateTerm:T,formatTimestamp:q,getStatusMessage:J,truncateAddress:L}}function hO(e,t,r="",s="",a=1,i=0,o="fees"){const[l,c]=w.useState(o),[d,u]=w.useState(!0),[m,h]=w.useState(r),[p,f]=w.useState(s),[v,y]=w.useState(a),g=d?Nv(e,m,p,v,i):null,x=d?Sv(t,m,p,v,i):null,b=!d&&l==="fees"?Nv(e,r,s,a,i):null,N=!d&&l==="status"?Sv(t,r,s,a,i):null,j=d?g:b,k=d?x:N;return{fees:j,status:k,activeMode:l,setMode:c,schoolAddress:m,studentAddress:p,term:v,setSchoolAddress:U=>{h(U)},setStudentAddress:U=>{f(U)},setTerm:U=>{y(U)},refresh:()=>{l==="fees"&&j?j.refresh():l==="status"&&k&&k.refresh()},synchronizeAddresses:d,setSynchronizeAddresses:u}}const pO=({feeContract:e,statusContract:t,schoolAddress:r="",studentAddress:s="",term:a=1,refreshInterval:i=0,onFeesDataFetched:o,onStatusDataFetched:l,defaultMode:c="fees"})=>{const{fees:d,status:u,activeMode:m,setMode:h,schoolAddress:p,studentAddress:f,term:v,setSchoolAddress:y,setStudentAddress:g,setTerm:x,synchronizeAddresses:b,setSynchronizeAddresses:N}=hO(e,t,r,s,a,i,c);w.useEffect(()=>{d!=null&&d.feeData&&o&&o(d.feeData)},[d==null?void 0:d.feeData,o]),w.useEffect(()=>{u!=null&&u.tuitionStatus&&l&&l(u.tuitionStatus.isPaid,u.tuitionStatus.dueDate)},[u==null?void 0:u.tuitionStatus,l]);const j=K=>{y(K)},k=K=>{g(K)},T=K=>{const ne=parseInt(K);x(isNaN(ne)?0:ne)},P=K=>{K.preventDefault(),m==="fees"&&d?d.refresh():m==="status"&&u&&u.refresh()},I=()=>{const K=m==="fees"?d:u,ne=K==null?void 0:K.validationError;return ne?n.jsx("div",{className:"text-xs text-red-400 mt-1",children:ne}):null},B=m==="fees"?d==null?void 0:d.isLoading:u==null?void 0:u.isLoading,U=m==="fees"?d==null?void 0:d.hasSearched:u==null?void 0:u.hasSearched,q=m==="fees"?d==null?void 0:d.error:u==null?void 0:u.error;return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400",children:m==="fees"?"Tuition Fee Manager":"Tuition Status Manager"}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:b,onChange:()=>N(!b)}),n.jsx("div",{className:"relative w-10 h-5 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ml-3 text-sm text-gray-300",children:"Common Inputs"})]})})]}),n.jsxs("div",{className:"flex space-x-2 mb-4",children:[n.jsx("button",{type:"button",onClick:()=>h("fees"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${m==="fees"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Fee Details"}),n.jsx("button",{type:"button",onClick:()=>h("status"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${m==="status"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Payment Status"})]}),n.jsx("form",{onSubmit:P,className:"space-y-4 mb-4",children:n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-address",className:"block text-sm font-medium text-gray-300",children:"School Contract Address"}),n.jsx("input",{id:"school-address",type:"text",value:p,onChange:K=>j(K.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${d!=null&&d.validationError||u!=null&&u.validationError?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the school's contract address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"student-address",type:"text",value:f,onChange:K=>k(K.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${d!=null&&d.validationError||u!=null&&u.validationError?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term-number",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsx("input",{id:"term-number",type:"number",value:v||"",onChange:K=>T(K.target.value),placeholder:"Enter term number",min:"1",className:`w-full px-3 py-2 bg-gray-700 border ${d!=null&&d.validationError||u!=null&&u.validationError?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Enter the term number to check ",m==="fees"?"fees":"status"," for"]})]}),U&&I(),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:B,children:B?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):m==="fees"?"View Tuition Fees":"Check Status"})})]})}),q?n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:[n.jsxs("p",{className:"text-sm",children:["Error fetching ",m==="fees"?"fee":"status"," data:",q.message||"Unknown error"]}),n.jsx("button",{onClick:()=>m==="fees"?d==null?void 0:d.refresh():u==null?void 0:u.refresh(),className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}):n.jsxs(n.Fragment,{children:[m==="fees"&&(d==null?void 0:d.feeData)&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${d.statusStyle.bg} border border-${d.statusStyle.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${d.statusStyle.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${d.statusStyle.color}`,children:d.statusStyle.text})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Base Fee Amount:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:d.formatWeiToEther(d.feeData.amount)}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"ETH"})]}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Program ID: ",n.jsx("span",{className:"text-gray-300",children:d.feeData.programId.toString()})]}),d.feeData.lateFee>BigInt(0)&&n.jsxs("div",{className:"mt-2 bg-gray-700/40 rounded-md p-2",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Potential Late Fee:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:`text-lg font-medium ${d.isPastDue?"text-red-400":"text-yellow-400"}`,children:d.formatWeiToEther(d.feeData.lateFee)}),n.jsx("p",{className:"text-xs text-gray-400 ml-1",children:"ETH"})]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Due Date:"}),n.jsx("div",{className:"flex items-baseline",children:n.jsx("p",{className:`text-2xl font-bold ${d.dueDateStyle.color}`,children:d.formatTimestamp(d.feeData.dueDate)})}),!d.feeData.isPaid&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:`text-sm font-medium ${d.daysInfo.isOverdue?"text-red-400":"text-blue-400"}`,children:d.daysInfo.isOverdue?`${d.daysInfo.value} days overdue`:`${d.daysInfo.value} days remaining`}),n.jsx("div",{className:"mt-2 h-2 bg-gray-700 rounded-full overflow-hidden",children:d.daysInfo.isOverdue?n.jsx("div",{className:"h-full bg-red-500",style:{width:`${Math.min(d.daysInfo.value*10,100)}%`}}):n.jsx("div",{className:`h-full ${d.daysInfo.value>7?"bg-green-500":d.daysInfo.value>3?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${100-Math.min(d.daysInfo.value*10,100)}%`}})})]})]}),n.jsx("div",{className:"bg-gray-700/40 p-3 rounded-md md:col-span-2",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Total Amount Due:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:`text-3xl font-bold ${d.feeData.isPaid?"text-green-400":"text-white"}`,children:d.formatWeiToEther(d.totalAmount)}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"ETH"})]}),d.isPastDue&&n.jsxs("p",{className:"text-xs text-red-400 mt-1",children:["Includes late fee of ",d.formatWeiToEther(d.feeData.lateFee)," ETH"]})]}),n.jsx("div",{className:`mt-3 md:mt-0 px-4 py-2 rounded-md ${d.feeData.isPaid?"bg-green-500/20 border border-green-500/30":d.isPastDue?"bg-red-500/20 border border-red-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:n.jsx("p",{className:`text-lg font-medium ${d.feeData.isPaid?"text-green-400":d.isPastDue?"text-red-400":"text-yellow-400"}`,children:d.feeData.isPaid?"PAID":d.isPastDue?"PAYMENT OVERDUE":"PAYMENT PENDING"})})]})})]})})]}),m==="status"&&(u==null?void 0:u.tuitionStatus)&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`p-4 rounded-lg ${u.statusStyle.bg} border border-${u.statusStyle.color.replace("text-","")}/30 flex flex-col items-center justify-center text-center`,children:[n.jsx("div",{className:`w-16 h-16 rounded-full ${u.statusStyle.bg} border-2 border-${u.statusStyle.color.replace("text-","")} flex items-center justify-center mb-2`,children:u.tuitionStatus.isPaid?n.jsx("svg",{className:`w-8 h-8 ${u.statusStyle.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):u.isPastDue?n.jsx("svg",{className:`w-8 h-8 ${u.statusStyle.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:`w-8 h-8 ${u.statusStyle.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:`text-2xl font-bold ${u.statusStyle.color}`,children:u.statusStyle.text}),n.jsx("p",{className:"text-gray-300 mt-2 max-w-md",children:u.getStatusMessage()})]}),!u.tuitionStatus.isPaid&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Payment Timeline"}),n.jsxs("div",{className:"relative pt-2",children:[n.jsx("div",{className:"h-1 w-full bg-gray-700 rounded-full"}),n.jsxs("div",{className:"relative h-0",children:[n.jsx("div",{className:`absolute top-0 w-4 h-4 rounded-full -mt-1.5 ${u.dueDateStyle.color.replace("text-","bg-")}`,style:{left:"calc(50% - 8px)"}}),n.jsxs("div",{className:`absolute top-6 transform -translate-x-1/2 ${u.dueDateStyle.color}`,style:{left:"50%"},children:[n.jsx("span",{className:"text-xs",children:"Due Date"}),n.jsx("p",{className:"text-sm font-medium whitespace-nowrap",children:u.formatTimestamp(u.tuitionStatus.dueDate)})]})]}),n.jsxs("div",{className:"relative h-0",children:[n.jsx("div",{className:"absolute top-0 w-4 h-4 rounded-full border-2 border-blue-400 bg-gray-800 -mt-1.5",style:{left:`calc(${u.daysInfo.isOverdue?"75":"25"}% - 8px)`}}),n.jsxs("div",{className:"absolute top-6 transform -translate-x-1/2 text-blue-400",style:{left:`${u.daysInfo.isOverdue?"75":"25"}%`},children:[n.jsx("span",{className:"text-xs",children:"Today"}),n.jsx("p",{className:"text-sm font-medium",children:new Date().toLocaleDateString()})]})]})]}),n.jsx("div",{className:"mt-16 pt-4 border-t border-gray-600",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Status:"}),n.jsx("p",{className:`text-lg font-medium ${u.statusStyle.color}`,children:u.statusStyle.text})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-400",children:u.daysInfo.isOverdue?"Overdue by:":"Due in:"}),n.jsxs("p",{className:`text-lg font-medium ${u.daysInfo.isOverdue?"text-red-400":"text-blue-400"}`,children:[u.daysInfo.value," day",u.daysInfo.value!==1?"s":""]})]})]})})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 text-xs",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Status Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"School: "}),n.jsx("span",{className:"text-gray-200 font-mono",children:u.truncateAddress(u.schoolAddress)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Student: "}),n.jsx("span",{className:"text-gray-200 font-mono",children:u.truncateAddress(u.studentAddress)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Term: "}),n.jsx("span",{className:"text-gray-200",children:u.term})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Payment Status: "}),n.jsx("span",{className:`${u.statusStyle.color}`,children:u.statusStyle.text})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Due Date: "}),n.jsx("span",{className:`${u.dueDateStyle.color}`,children:u.formatTimestamp(u.tuitionStatus.dueDate)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:u.daysInfo.isOverdue?"Days Overdue:":"Days Remaining:"}),n.jsx("span",{className:`${u.daysInfo.isOverdue?"text-red-400":"text-blue-400"}`,children:u.daysInfo.value})]})]}),n.jsx("div",{className:"mt-3 pt-2 border-t border-gray-700",children:n.jsxs("button",{onClick:()=>u.refresh(),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-3 rounded flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Status"]})})]})]}),U&&!B&&(m==="fees"?!(d!=null&&d.feeData):!(u!=null&&u.tuitionStatus))&&n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3",children:n.jsxs("p",{className:"text-sm",children:["No ",m==="fees"?"tuition fee":"tuition status"," data found for the specified school, student, and term."]})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 text-xs text-gray-400",children:[n.jsx("p",{children:"This component combines tuition fee and status information. Toggle between modes to see different aspects of the student's tuition."}),n.jsxs("p",{className:"mt-2",children:[n.jsx("span",{className:"font-medium text-blue-400",children:"Common Inputs:"})," When enabled, the same school, student, and term values are used for both fee and status information."]})]})]})},fO=({onCountUpdateSuccess:e,onDateUpdateSuccess:t,onUpdateError:r,externalStudentAddress:s,externalIncrease:a,externalDate:i,externalTime:o,onStateChange:l,renderUI:c=!0,initialTab:d="count"})=>{const[u,m]=w.useState(d),[h,p]=w.useState(s||""),[f,v]=w.useState(""),[y,g]=w.useState(!1),[x,b]=w.useState(a!==void 0?a:!0),[N,j]=w.useState(i||te()),[k,T]=w.useState(o||$()),[P,I]=w.useState(!1),{data:B,error:U,isPending:q,writeContract:K}=zt(),{isLoading:ne,isSuccess:J,error:L}=on({hash:B}),{data:A,error:E,isPending:O,writeContract:F}=zt(),{isLoading:R,isSuccess:_,error:Y}=on({hash:A}),{data:ee,isLoading:me,refetch:le}=Ce({address:wt.address,abi:wt.abi,functionName:"students",args:h?[h]:void 0,query:{enabled:!!h&&y}}),ce=ee?{name:ee[0],isRegistered:ee[1],currentTerm:Number(ee[2]),attendanceCount:Number(ee[3]),lastAttendanceDate:ee[4],hasFirstAttendance:ee[5]}:void 0,G=U||L,H=E||Y,re=q||ne||O||R;function te(){return new Date().toISOString().split("T")[0]}function $(){return new Date().toTimeString().split(" ")[0].substring(0,5)}const z=V=>!V||V===BigInt(0)?"Never":new Date(Number(V)*1e3).toLocaleString(),X=()=>{const V=`${N}T${k}:00`,ae=Date.parse(V);if(isNaN(ae))throw new Error("Invalid date or time format");return BigInt(Math.floor(ae/1e3))},ie=V=>{p(V),v(""),g(!1)},oe=V=>{b(V)},ue=V=>{j(V),I(!0)},xe=V=>{T(V),I(!0)},ge=()=>{j(te()),T($()),I(!1)},ve=V=>V?/^0x[a-fA-F0-9]{40}$/.test(V)?(v(""),!0):(v("Invalid Ethereum address format"),!1):(v("Student address is required"),!1),ke=()=>{try{const V=X(),ae=BigInt(Math.floor(Date.now()/1e3));if(V>ae)return v("Attendance date cannot be in the future"),!1;const we=BigInt(10*365*24*60*60);return ae-V>we?(v("Attendance date is too far in the past"),!1):!0}catch{return v("Invalid date or time format"),!1}},se=()=>{ve(h)&&(g(!0),le())},de=V=>{ie(V)},je=async V=>{V&&V.preventDefault();try{if(!ve(h))return;if(ce){if(!ce.isRegistered){v("Student is not registered");return}if(!ce.hasFirstAttendance){v("Student needs to record first attendance before updating attendance count");return}if(!x&&ce.attendanceCount===0){v("Cannot decrease attendance count below zero");return}}K({abi:wt.abi,address:wt.address,functionName:"updateStudentAttendance",args:[h,x]})}catch(ae){const we=ae instanceof Error?ae.message:"Unknown error";v(we),r&&ae instanceof Error&&r(ae)}},Le=async V=>{V&&V.preventDefault();try{if(!ve(h)||!ke())return;if(ce){if(!ce.isRegistered){v("Student is not registered");return}if(!ce.hasFirstAttendance){v("Student needs to record first attendance before updating attendance date");return}}const ae=X();F({abi:wt.abi,address:wt.address,functionName:"updateStudentAttendanceDate",args:[h,ae]})}catch(ae){const we=ae instanceof Error?ae.message:"Unknown error";v(we),r&&ae instanceof Error&&r(ae)}},pe=async V=>{V&&V.preventDefault();try{u==="count"?await je():await Le()}catch(ae){const we=ae instanceof Error?ae.message:"Unknown error";v(we),r&&ae instanceof Error&&r(ae)}},M={activeTab:u,setActiveTab:m,studentAddress:h,setStudentAddress:ie,studentInfo:ce,isLoadingStudent:me,lookupAttempted:y,validationError:f,handleLookup:se,validateAddress:ve,formatTimestamp:z,increase:x,setIncrease:oe,date:N,time:k,customDate:P,setDate:ue,setTime:xe,handleSetCurrentDateTime:ge,getTimestampFromInputs:X,isCountWritePending:q,isCountConfirming:ne,isCountConfirmed:!!J,countHash:B,countError:G,isDateWritePending:O,isDateConfirming:R,isDateConfirmed:!!_,dateHash:A,dateError:H,isProcessing:re,handleCountSubmit:je,handleDateSubmit:Le,handleCombinedSubmit:pe};w.useEffect(()=>{s!==void 0&&s!==h&&ie(s)},[s]),w.useEffect(()=>{a!==void 0&&a!==x&&oe(a)},[a]),w.useEffect(()=>{i!==void 0&&i!==N&&ue(i)},[i]),w.useEffect(()=>{o!==void 0&&o!==k&&xe(o)},[o]),w.useEffect(()=>{l&&l(M)},[u,h,x,N,k,P,f,y,ce,me,q,ne,J,O,R,_,B,A,G,H]),w.useEffect(()=>{J&&B&&!ne&&e&&e(h,x,B)},[J,B,ne,e,h,x]),w.useEffect(()=>{if(_&&A&&!R){const V=X();t&&t(h,V,A)}},[_,A,R,t,h]);const S=()=>q?{text:x?"Increasing Attendance":"Decreasing Attendance",color:"text-yellow-400",bg:"bg-yellow-500/20"}:ne?{text:"Confirming Update",color:"text-blue-400",bg:"bg-blue-500/20"}:J?{text:"Attendance Updated",color:"text-green-400",bg:"bg-green-500/20"}:G?{text:"Update Failed",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Ready to Update",color:"text-gray-400",bg:"bg-gray-500/20"},C=()=>O?{text:"Updating Attendance Date",color:"text-yellow-400",bg:"bg-yellow-500/20"}:R?{text:"Confirming Update",color:"text-blue-400",bg:"bg-blue-500/20"}:_?{text:"Date Updated",color:"text-green-400",bg:"bg-green-500/20"}:H?{text:"Update Failed",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Ready to Update",color:"text-gray-400",bg:"bg-gray-500/20"},D=S(),W=C();return c?n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Student Attendance Manager"}),n.jsxs("div",{className:"flex mb-4 border-b border-gray-700",children:[n.jsx("button",{onClick:()=>m("count"),className:`px-4 py-2 text-sm font-medium ${u==="count"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,disabled:re,children:"Update Count"}),n.jsx("button",{onClick:()=>m("date"),className:`px-4 py-2 text-sm font-medium ${u==="date"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,disabled:re,children:"Update Date"})]}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${u==="count"?D.bg:W.bg} border border-${u==="count"?D.color.replace("text-",""):W.color.replace("text-","")}/30 mb-4`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${u==="count"?D.color.replace("text-","bg-"):W.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${u==="count"?D.color:W.color}`,children:u==="count"?D.text:W.text})]}),n.jsx("form",{onSubmit:pe,className:"space-y-4",children:n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx("input",{id:"student-address",type:"text",value:h,onChange:V=>de(V.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${f?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:re})}),n.jsx("button",{type:"button",onClick:se,className:"px-3 py-2 bg-gray-600 text-gray-200 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:re||me||!h,children:me?n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}):"Lookup"})]}),f&&n.jsx("p",{className:"text-xs text-red-400",children:f}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),ce&&y&&!me&&n.jsxs("div",{className:"p-3 bg-gray-700/40 rounded-md border border-gray-600",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Student Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Name: "}),n.jsx("span",{className:"text-sm text-white",children:ce.name||"Not available"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 mr-1",children:"Current Term: "}),n.jsx("span",{className:"text-sm text-white",children:ce.currentTerm})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 mr-1",children:"Attendance Count: "}),n.jsx("span",{className:"text-sm font-medium text-white",children:ce.attendanceCount}),u==="count"&&(x?n.jsxs("span",{className:"ml-2 text-xs text-green-400",children:[" ",ce.attendanceCount+1]}):n.jsxs("span",{className:"ml-2 text-xs text-red-400",children:[" ",Math.max(0,ce.attendanceCount-1)]}))]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 mr-1",children:"Last Attendance Date: "}),n.jsx("span",{className:"text-sm text-white font-medium",children:z(ce.lastAttendanceDate)}),u==="date"&&n.jsxs("span",{className:"ml-2 text-xs text-blue-400",children:[" ",z(X())]})]}),n.jsxs("div",{className:"flex space-x-4 mt-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${ce.isRegistered?"bg-green-400":"bg-red-400"} mr-1`}),n.jsx("span",{className:"text-xs text-gray-400",children:"Registration: "}),n.jsx("span",{className:`text-xs ${ce.isRegistered?"text-green-400":"text-red-400"} ml-1`,children:ce.isRegistered?"Registered":"Not Registered"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${ce.hasFirstAttendance?"bg-green-400":"bg-yellow-400"} mr-1`}),n.jsx("span",{className:"text-xs text-gray-400",children:"First Attendance: "}),n.jsx("span",{className:`text-xs ${ce.hasFirstAttendance?"text-green-400":"text-yellow-400"} ml-1`,children:ce.hasFirstAttendance?"Recorded":"Not Recorded"})]})]}),n.jsx("div",{className:"mt-2 pt-2 border-t border-gray-600",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${u==="count"?ce.isRegistered&&ce.hasFirstAttendance&&(x||ce.attendanceCount>0)?"bg-green-400":"bg-red-400":ce.isRegistered&&ce.hasFirstAttendance?"bg-green-400":"bg-red-400"} mr-1`}),n.jsx("span",{className:"text-xs text-gray-400",children:"Eligibility: "}),n.jsx("span",{className:`text-xs ${u==="count"?ce.isRegistered&&ce.hasFirstAttendance&&(x||ce.attendanceCount>0)?"text-green-400":"text-red-400":ce.isRegistered&&ce.hasFirstAttendance?"text-green-400":"text-red-400"} ml-1 font-medium`,children:ce.isRegistered?ce.hasFirstAttendance?u==="count"&&!x&&ce.attendanceCount===0?"Cannot decrease below zero":"Eligible for update":"First attendance not recorded":"Not registered"})]})})]})]}),u==="count"?n.jsx("div",{className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Attendance Action"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>oe(!0),className:`flex-1 px-3 py-2 rounded-md text-white ${x?"bg-green-600 border border-green-500":"bg-gray-700 border border-gray-600 hover:bg-gray-600"}`,disabled:re,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{children:"Increase"})]})}),n.jsx("button",{type:"button",onClick:()=>oe(!1),className:`flex-1 px-3 py-2 rounded-md text-white ${x?"bg-gray-700 border border-gray-600 hover:bg-gray-600":"bg-red-600 border border-red-500"}`,disabled:re,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),n.jsx("span",{children:"Decrease"})]})})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Select whether to increase or decrease the student's attendance count"})]})}):n.jsx("div",{className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Attendance Date and Time"}),n.jsx("button",{type:"button",onClick:ge,className:`text-xs px-2 py-1 rounded-md ${P?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-blue-600 text-white"}`,disabled:re,children:"Use Current Time"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"attendance-date",className:"block text-xs text-gray-400",children:"Date"}),n.jsx("input",{id:"attendance-date",type:"date",value:N,onChange:V=>ue(V.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",max:te(),disabled:re})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"attendance-time",className:"block text-xs text-gray-400",children:"Time"}),n.jsx("input",{id:"attendance-time",type:"time",value:k,onChange:V=>xe(V.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:re})]})]}),n.jsxs("div",{className:"text-xs text-gray-400 flex items-center mt-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"The selected date and time will be recorded as the student's last attendance date."]}),n.jsx("div",{className:"mt-2 p-2 bg-blue-500/10 border border-blue-500/30 rounded-md",children:n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx("span",{className:"text-gray-300 mr-2",children:"New attendance timestamp:"}),n.jsx("span",{className:"text-blue-400 font-medium",children:z(X())})]})})]})})]})})]}):null},gO=w.forwardRef(({contractAddress:e,contractAbi:t,roleContract:r,onStateChange:s,onUpdateComplete:a,title:i="Student Record Manager"},o)=>{const{address:l}=Ge(),[c,d]=w.useState(""),[u,m]=w.useState(""),[h,p]=w.useState(!1),[f,v]=w.useState(!1),[y,g]=w.useState(null),[x,b]=w.useState(!1),[N,j]=w.useState(null),{writeContractAsync:k,isPending:T,isSuccess:P,isError:I,error:B,reset:U}=zt(),{data:q,isLoading:K,refetch:ne}=Ce({...r,functionName:"hasTeacherRole",args:l?[l]:void 0,query:{enabled:!!l}});w.useImperativeHandle(o,()=>({getData:()=>({studentAddress:c,programId:u,isAddressValid:h,isProgramIdValid:f,isProcessing:T,hasTeacherRole:!!q,isCheckingRole:K,lastUpdateResult:y}),resetComponent:()=>{d(""),m(""),g(null),U(),j(null)},updateProgram:async(Y,ee)=>{if(!Be(Y)||!/^\d+$/.test(ee))return!1;if(!(await ne()).data)return console.error("Error: User does not have teacher role"),!1;try{return await k({address:e,abi:t,functionName:"updateStudentProgram",args:[Y,BigInt(ee)]}),!0}catch(le){return console.error("Error updating student program:",le),!1}},completeStudentTerm:async Y=>{if(!Be(Y))return!1;if(!(await ne()).data)return console.error("Error: User does not have teacher role"),!1;try{return await k({address:e,abi:t,functionName:"completeStudentTerm",args:[Y]}),!0}catch(me){return console.error("Error completing student term:",me),!1}}})),w.useEffect(()=>{const Y=c?Be(c):!1;p(Y)},[c]),w.useEffect(()=>{const Y=/^\d+$/.test(u)&&parseInt(u)>=0;v(Y)},[u]),w.useEffect(()=>{if(P){const Y={success:!0,timestamp:new Date,actionType:N};g(Y),b(!1),a&&N&&a(!0,c,N,{studentAddress:c,programId:N==="program-update"?u:void 0,timestamp:Y.timestamp})}},[P,c,u,a,N]),w.useEffect(()=>{if(I&&B){const Y={success:!1,timestamp:new Date,errorMessage:B.message||"Unknown error occurred",actionType:N};g(Y),b(!1),a&&N&&a(!1,c,N,{studentAddress:c,programId:N==="program-update"?u:void 0,error:B.message||"Unknown error occurred"})}},[I,B,c,u,a,N]),w.useEffect(()=>{s&&s({studentAddress:c,programId:u,isAddressValid:h,isProgramIdValid:f,isProcessing:T,hasTeacherRole:!!q,isCheckingRole:K,lastUpdateResult:y})},[c,u,h,f,T,q,K,y,s]);const J=Y=>{d(Y),g(null),U()},L=Y=>{m(Y),g(null),U()},A=Y=>{Y.preventDefault(),h&&f&&(j("program-update"),b(!0))},E=Y=>{Y.preventDefault(),h&&(j("term-completion"),b(!0))},O=async()=>{if(!(!h||!q))try{if(N==="program-update"){if(!f)return;await k({address:e,abi:t,functionName:"updateStudentProgram",args:[c,BigInt(u)]})}else N==="term-completion"&&await k({address:e,abi:t,functionName:"completeStudentTerm",args:[c]})}catch(Y){console.error(`Error with ${N}:`,Y)}},F=[{label:"Test Student 1",address:"0x742d35Cc6634C0532925a3b844Bc454e4438f44e"},{label:"Test Student 2",address:"0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199"}],R=!!q&&!K,_=()=>N==="program-update"?"Program Update":N==="term-completion"?"Term Completion":"Action";return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4","data-testid":"student-record-manager",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:i}),l&&n.jsx("div",{className:"mb-4 bg-gray-700/30 p-3 rounded-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("p",{className:"text-xs text-gray-400",children:["Connected as: ",n.jsx("span",{className:"text-blue-400 font-mono",children:l})]}),K?n.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[n.jsx("div",{className:"w-3 h-3 mr-1 border-2 border-t-white border-white/30 rounded-full animate-spin"}),"Checking role..."]}):q?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"})}),n.jsx("span",{className:"text-xs text-blue-400",children:"Teacher Role"})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-1"}),n.jsx("span",{className:"text-xs text-red-400",children:"No Teacher Role"})]})]})}),!K&&!q&&l&&n.jsx("div",{className:"mb-4 bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium mb-1",children:"Teacher Role Required"}),n.jsx("p",{className:"text-sm",children:"You need teacher privileges to manage student records. Please connect with an account that has the teacher role."})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Student Identification"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Student Address"}),n.jsx("input",{type:"text",value:c,onChange:Y=>J(Y.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${c&&!h?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,"data-testid":"student-address-input",disabled:!R}),c&&!h&&n.jsx("p",{className:"text-xs text-red-400","data-testid":"address-validation-error",children:"Please enter a valid Ethereum address"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the Ethereum address of the student"})]}),n.jsxs("div",{className:"space-y-2 mt-3",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Test Student Addresses:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:F.map((Y,ee)=>n.jsx("button",{type:"button",onClick:()=>J(Y.address),className:`text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded ${R?"":"opacity-50 cursor-not-allowed"}`,"data-testid":`test-address-${ee+1}`,disabled:!R,children:Y.label},ee))})]})]}),n.jsxs("form",{onSubmit:A,className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Update Student Program"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Program ID"}),n.jsx("input",{type:"text",value:u,onChange:Y=>L(Y.target.value),placeholder:"Enter program ID number",className:`w-full px-3 py-2 bg-gray-700 border ${u&&!f?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,"data-testid":"program-id-input",disabled:!R}),u&&!f&&n.jsx("p",{className:"text-xs text-red-400","data-testid":"program-id-validation-error",children:"Please enter a valid program ID (non-negative integer)"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the new program ID for the student"})]}),n.jsxs("div",{className:"space-y-2 mt-3",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Test Program IDs:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>L("1001"),className:`text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded ${R?"":"opacity-50 cursor-not-allowed"}`,"data-testid":"test-program-id-1",disabled:!R,children:"Program 1001"}),n.jsx("button",{type:"button",onClick:()=>L("2002"),className:`text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded ${R?"":"opacity-50 cursor-not-allowed"}`,"data-testid":"test-program-id-2",disabled:!R,children:"Program 2002"})]})]}),n.jsx("div",{className:"flex justify-end space-x-3 mt-4",children:n.jsx("button",{type:"submit",disabled:!h||!f||T||!R,className:`px-4 py-2 rounded-md text-white ${!h||!f||T||!R?"bg-gray-700 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-blue-500`,"data-testid":"update-program-button",children:T&&N==="program-update"?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Update Program"})})]}),n.jsxs("form",{onSubmit:E,className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Complete Student Term"}),n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Mark the student as having completed their current academic term. This will update their record on the blockchain."}),n.jsx("div",{className:"flex justify-end space-x-3 mt-4",children:n.jsx("button",{type:"submit",disabled:!h||T||!R,className:`px-4 py-2 rounded-md text-white ${!h||T||!R?"bg-gray-700 cursor-not-allowed":"bg-green-600 hover:bg-green-700"} focus:outline-none focus:ring-2 focus:ring-green-500`,"data-testid":"complete-term-button",children:T&&N==="term-completion"?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Complete Term"})})]}),R&&n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>{d(""),m(""),g(null),U()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500","data-testid":"reset-button",children:"Reset All"})})]}),x&&n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70","data-testid":"confirmation-dialog",children:n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("h4",{className:"text-lg font-medium text-blue-400 mb-4",children:["Confirm ",_()]}),n.jsxs("div",{className:"bg-gray-700/30 p-4 rounded-md mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["You are about to ",N==="program-update"?"update the program for":"mark as term completed"," the following student:"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Student Address:"}),n.jsx("div",{className:"bg-gray-800/50 p-2 rounded font-mono text-xs text-gray-300 break-all",children:c})]}),N==="program-update"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"New Program ID:"}),n.jsx("div",{className:"bg-gray-800/50 p-2 rounded font-mono text-xs text-blue-400",children:u})]})]}),n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-md p-3 mt-3 text-sm text-yellow-200",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("span",{children:"This action will update the student's record on the blockchain and cannot be undone. Please ensure this information is correct."})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500","data-testid":"cancel-confirmation",children:"Cancel"}),n.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:T,"data-testid":"confirm-action",children:T?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Confirm ${_()}`})]})]})}),y&&n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`mt-6 ${y.success?"bg-green-900/20 border border-green-700/30":"bg-red-900/20 border border-red-700/30"} rounded-lg p-4`,"data-testid":"update-result",children:n.jsxs("div",{className:"flex items-start",children:[y.success?n.jsx("svg",{className:"w-6 h-6 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:`text-lg font-medium ${y.success?"text-green-400":"text-red-400"}`,children:y.actionType==="program-update"?y.success?"Program Update Successful":"Program Update Failed":y.success?"Term Completion Successful":"Term Completion Failed"}),y.success?n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:y.actionType==="program-update"?`The student's program has been successfully updated to ${u}.`:"The student's term has been successfully marked as completed."}):n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:y.errorMessage||"An error occurred while updating the record."}),y.timestamp&&n.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Zt(y.timestamp,{addSuffix:!0})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700/30",children:n.jsx("button",{type:"button",onClick:()=>{d(""),m(""),g(null),U()},className:`px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${R?"":"opacity-50 cursor-not-allowed"}`,"data-testid":"update-another-button",disabled:!R,children:"Manage Another Student"})})]})]})})]})}),xO=w.forwardRef(({contract:e,currentTerm:t,onPaymentSuccess:r,onPaymentError:s,onStateChange:a},i)=>{const[o,l]=w.useState((t==null?void 0:t.toString())||""),[c,d]=w.useState("0.05"),[u,m]=w.useState(""),{data:h,error:p,isPending:f,writeContract:v,reset:y}=zt(),{isLoading:g,isSuccess:x,error:b}=on({hash:h}),N=p||b;w.useImperativeHandle(i,()=>({getPaymentData:()=>({term:o,amount:c,paymentNote:u,isProcessing:f,isConfirming:g,isConfirmed:x,transactionHash:h||null,error:N}),resetPaymentForm:()=>{l((t==null?void 0:t.toString())||""),d("0.05"),m(""),y()},submitPayment:async(P,I,B)=>{try{if(!P||isNaN(Number(P))||Number(P)<=0)throw new Error("Please enter a valid term number");if(!I||isNaN(Number(I))||Number(I)<=0)throw new Error("Please enter a valid payment amount");return l(P),d(I),B!==void 0&&m(B),v({...e,functionName:"payTuition",args:[BigInt(P)],value:bd(I)}),!0}catch(U){return s&&U instanceof Error&&s(U),!1}}})),w.useEffect(()=>{a&&a({term:o,amount:c,paymentNote:u,isProcessing:f,isConfirming:g,isConfirmed:x,transactionHash:h||null,error:N})},[o,c,u,f,g,x,h,N,a]);const j=async P=>{P.preventDefault();try{if(!o||isNaN(Number(o))||Number(o)<=0)throw new Error("Please enter a valid term number");if(!c||isNaN(Number(c))||Number(c)<=0)throw new Error("Please enter a valid payment amount");v({...e,functionName:"payTuition",args:[BigInt(o)],value:bd(c)})}catch(I){s&&I instanceof Error&&s(I)}};w.useEffect(()=>{x&&h&&!g&&o&&c&&(r&&r(Number(o),c,h),r||(l((t==null?void 0:t.toString())||""),d("0.05"),m("")))},[x,h,g,o,c,r,t]);const T=f?{text:"Initiating Payment",color:"text-yellow-400",bg:"bg-yellow-500/20"}:g?{text:"Confirming Payment",color:"text-blue-400",bg:"bg-blue-500/20"}:x?{text:"Payment Successful",color:"text-green-400",bg:"bg-green-500/20"}:N?{text:"Payment Failed",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Ready for Payment",color:"text-gray-400",bg:"bg-gray-500/20"};return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4","data-testid":"tuition-payment-form",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Tuition Payment"}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${T.bg} border border-${T.color.replace("text-","")}/30 mb-4`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${T.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${T.color}`,children:T.text})]}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsx("input",{id:"term",type:"number",value:o,onChange:P=>l(P.target.value),placeholder:"Enter term number",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",required:!0,disabled:f||g,"data-testid":"term-input"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the term you're paying tuition for"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-300",children:"Payment Amount (ETH)"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"amount",type:"number",value:c,onChange:P=>d(P.target.value),placeholder:"0.00",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01",min:"0.01",required:!0,disabled:f||g,"data-testid":"amount-input"}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("span",{className:"text-gray-400",children:"ETH"})})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the amount of ETH to pay for tuition"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-300",children:"Payment Note (Optional)"}),n.jsx("textarea",{id:"note",value:u,onChange:P=>m(P.target.value),placeholder:"Add a note for this payment",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,disabled:f||g,"data-testid":"note-input"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Add a personal note for reference (not stored on-chain)"})]})]}),N&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3","data-testid":"error-display",children:n.jsxs("p",{className:"text-sm",children:["Error processing payment: ",N.message||"Unknown error"]})}),x&&h&&n.jsxs("div",{className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-3","data-testid":"success-display",children:[n.jsx("p",{className:"text-sm",children:"Payment successful!"}),n.jsxs("div",{className:"mt-1 flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Transaction Hash: "}),n.jsx("a",{href:`https://etherscan.io/tx/${h}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 ml-1 font-mono truncate hover:underline",children:h})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("button",{type:"button",onClick:()=>{l((t==null?void 0:t.toString())||""),d("0.05"),m(""),y()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:f||g,"data-testid":"reset-button",children:"Reset"}),n.jsx("button",{type:"submit",className:`px-4 py-2 rounded-md text-white font-medium transition-colors ${f||g?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:f||g,"data-testid":"submit-button",children:f||g?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f?"Initiating Payment...":"Confirming Payment..."]}):x?"Payment Complete":"Pay Tuition"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Payment Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Function: "}),n.jsx("span",{className:"text-gray-200 font-mono",children:"payTuition(uint256 term)"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Transaction Type: "}),n.jsx("span",{className:"text-gray-200",children:"Payable"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Gas Estimate: "}),n.jsx("span",{className:"text-gray-200",children:"~50,000 gas"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Confirmation Time: "}),n.jsx("span",{className:"text-gray-200",children:"~15-30 seconds"})]})]}),n.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:[n.jsx("p",{className:"mb-1",children:"Note: Please ensure you have sufficient ETH balance for tuition payment and gas fees."}),n.jsx("p",{children:"All payments are non-refundable once confirmed on the blockchain."})]})]})]})}),yO=()=>{const{address:e}=Ge(),[t,r]=w.useState("overview"),[s,a]=w.useState(!1),i=w.useRef(null),o=w.useRef(null),l=()=>{console.log("Logout requested")},c=d=>{r(d),a(!1)};return n.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[n.jsxs("nav",{className:"bg-gray-800/80 border-b border-gray-700 backdrop-blur-sm fixed w-full z-10",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:"EduChain"}),n.jsxs("div",{className:"hidden md:ml-10 md:flex md:space-x-6",children:[n.jsx("button",{onClick:()=>c("overview"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="overview"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Dashboard"}),n.jsx("button",{onClick:()=>c("records"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="records"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Records"}),n.jsx("button",{onClick:()=>c("verification"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="verification"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Verification"}),n.jsx("button",{onClick:()=>c("tuition"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="tuition"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Tuition"}),n.jsx("button",{onClick:()=>c("management"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="management"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Management"})]})]}),n.jsxs("div",{className:"flex items-center",children:[e&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-gray-700 rounded-full p-1 mr-2",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-gray-300",children:e.substring(2,4).toUpperCase()})}),n.jsxs("div",{className:"hidden md:block text-sm",children:[n.jsx("div",{className:"text-gray-300",children:`${e.slice(0,6)}...${e.slice(-4)}`}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]}),n.jsx("button",{onClick:l,className:"ml-4 text-gray-300 hover:text-gray-100",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}),n.jsx("div",{className:"md:hidden ml-2",children:n.jsx("button",{onClick:()=>a(!s),className:"p-2 rounded-md text-gray-400 hover:text-white focus:outline-none",children:n.jsx("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:s?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})]})}),n.jsx("div",{className:`md:hidden ${s?"block":"hidden"}`,children:n.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-800 border-b border-gray-700",children:[n.jsx("button",{onClick:()=>c("overview"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="overview"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Dashboard"}),n.jsx("button",{onClick:()=>c("records"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="records"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Records"}),n.jsx("button",{onClick:()=>c("verification"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="verification"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Verification"}),n.jsx("button",{onClick:()=>c("tuition"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="tuition"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Tuition"}),n.jsx("button",{onClick:()=>c("management"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="management"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Management"})]})})]}),n.jsxs("main",{className:"pt-20 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-white",children:[t==="overview"&&"Student Dashboard",t==="records"&&"Student Records",t==="verification"&&"Student Verification",t==="tuition"&&"Tuition Management",t==="management"&&"Student Management"]}),n.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:[t==="overview"&&"Overview of your educational progress and attendance",t==="records"&&"View and manage your student records",t==="verification"&&"Verify your academic credentials and status",t==="tuition"&&"Manage tuition payments and fee information",t==="management"&&"Administrative tools for student management"]})]}),n.jsxs("div",{className:"space-y-6",children:[t==="overview"&&n.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:n.jsx(O_,{})}),t==="records"&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[n.jsx(W_,{}),n.jsx(fO,{onCountUpdateSuccess:(d,u)=>{console.log(`Attendance ${u?"increased":"decreased"} for ${d}`)},onDateUpdateSuccess:(d,u)=>{console.log(`Attendance date updated for ${d} to ${new Date(Number(u)*1e3)}`)}})]}),t==="verification"&&n.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:n.jsx(mO,{studentContractView:{address:wt.address,abi:wt.abi},reputationContract:{address:_e.address,abi:_e.abi},schoolVerificationContract:{address:_e.address,abi:_e.abi},termCompletionContract:{address:_e.address,abi:_e.abi},studentProfileContract:{address:pl.address,abi:pl.abi},studentAddress:e,defaultMode:"attendance",onDataFetched:d=>console.log("Verification data fetched:",d)})}),t==="tuition"&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[n.jsx(pO,{feeContract:ns,statusContract:ns,studentAddress:e,defaultMode:"fees",onFeesDataFetched:d=>console.log("Fee data fetched:",d),onStatusDataFetched:(d,u)=>console.log("Status data fetched:",{isPaid:d,dueDate:u})}),n.jsx(xO,{ref:i,contract:ns,currentTerm:1,onPaymentSuccess:(d,u)=>{console.log(`Payment of ${u} ETH for term ${d} successful`)},onPaymentError:d=>{console.error("Payment error:",d)}})]}),t==="management"&&n.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:n.jsx(gO,{ref:o,contractAddress:wt.address,contractAbi:wt.abi,roleContract:wt,onUpdateComplete:(d,u,m,h)=>{console.log(`Record update ${d?"successful":"failed"} for ${u}`),console.log("Action:",m),console.log("Data:",h)},title:"Student Record Management"})})]})]}),n.jsx("footer",{className:"bg-gray-800/80 border-t border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"text-sm text-gray-400",children:" 2025 EduChain - Blockchain Education Management"}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsx("button",{onClick:()=>console.log("Support clicked"),className:"text-blue-400 hover:text-blue-300",children:"Support"})," | ",n.jsx("button",{onClick:()=>console.log("Documentation clicked"),className:"text-blue-400 hover:text-blue-300",children:"Documentation"})]})]})})})]})},bO=({onDataChange:e})=>{const[t,r]=w.useState([{name:"Revenue System",functionName:"revenueSystem",description:"Manages revenue collection, distribution, and reporting",address:null,isLoading:!1,isError:!1,refetch:async()=>{}},{name:"Student Management",functionName:"studentManagement",description:"Handles student registration, tracking, and administrative functions",address:null,isLoading:!1,isError:!1,refetch:async()=>{}},{name:"Student Profile",functionName:"studentProfile",description:"Stores and manages student personal information and academic profiles",address:null,isLoading:!1,isError:!1,refetch:async()=>{}},{name:"Tuition System",functionName:"tuitionSystem",description:"Handles tuition payments, fee calculations, and scholarship management",address:null,isLoading:!1,isError:!1,refetch:async()=>{}}]),[s,a]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),d=Ce({address:_e.address,abi:_e.abi,functionName:"revenueSystem",args:[]}),u=Ce({address:_e.address,abi:_e.abi,functionName:"studentManagement",args:[]}),m=Ce({address:_e.address,abi:_e.abi,functionName:"studentProfile",args:[]}),h=Ce({address:_e.address,abi:_e.abi,functionName:"tuitionSystem",args:[]});w.useEffect(()=>{const y=[d,u,m,h],g=[...t];y.forEach((x,b)=>{g[b].isError=x.isError,g[b].isLoading=x.isLoading,g[b].refetch=x.refetch}),r(g)},[d.isError,d.isLoading,u.isError,u.isLoading,m.isError,m.isLoading,h.isError,h.isLoading]);const p=y=>y?`${y.substring(0,6)}...${y.substring(y.length-4)}`:"Not Available",f=w.useCallback(async()=>{c(!0),a("Fetching all system contract addresses..."),o(!0);try{const y=t.map(g=>({...g}));for(let g=0;g<y.length;g++){y[g].isLoading=!0,r([...y]);try{const x=await y[g].refetch();y[g].address=x.data,y[g].isError=!1}catch(x){console.error(`Error fetching ${y[g].name}:`,x),y[g].isError=!0}finally{y[g].isLoading=!1,r([...y])}}a("All system contract addresses fetched successfully")}catch(y){console.error("Error fetching system contracts:",y),a("Error fetching system contract addresses")}finally{c(!1)}},[]);w.useEffect(()=>{e&&e({contracts:t,isAllLoading:l,fetchAllContracts:f,fetchStatus:s})},[t,l,f,s,e]);const v=({address:y})=>{const[g,x]=w.useState(!1);if(!y)return null;const b=()=>{navigator.clipboard.writeText(y),x(!0),setTimeout(()=>x(!1),2e3)};return n.jsx("button",{onClick:b,className:"text-blue-400 hover:text-blue-300 transition-colors ml-2 focus:outline-none",title:"Copy address",children:g?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})};return w.useEffect(()=>{if(i){const y=setTimeout(()=>{o(!1)},5e3);return()=>clearTimeout(y)}},[i]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"System Contracts"}),n.jsx("div",{className:"mb-6 flex justify-center",children:n.jsx(Z.button,{onClick:f,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:l,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:l?"Loading...":"Fetch All Contracts"})}),i&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md text-center ${s.includes("Error")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:s})}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"grid grid-cols-12 bg-gray-800 p-4 border-b border-gray-700",children:[n.jsx("div",{className:"col-span-3 md:col-span-2 font-semibold text-gray-300",children:"System"}),n.jsx("div",{className:"col-span-9 md:col-span-6 font-semibold text-gray-300",children:"Contract Address"}),n.jsx("div",{className:"hidden md:block md:col-span-4 font-semibold text-gray-300",children:"Description"})]}),t.map((y,g)=>n.jsxs("div",{className:`grid grid-cols-12 p-4 ${g!==t.length-1?"border-b border-gray-700":""} hover:bg-gray-800/30 transition-colors`,children:[n.jsx("div",{className:"col-span-3 md:col-span-2 flex items-center",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-medium",children:y.name})}),n.jsx("div",{className:"col-span-9 md:col-span-6 flex items-center",children:y.isLoading?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-gray-400",children:"Loading..."})]}):y.isError?n.jsxs("span",{className:"text-red-400 flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Error retrieving address"]}):y.address?n.jsxs("div",{className:"flex items-center text-gray-200",children:[n.jsx("span",{children:p(y.address)}),n.jsx(v,{address:y.address})]}):n.jsx("span",{className:"text-gray-500",children:"Not fetched"})}),n.jsx("div",{className:"hidden md:block md:col-span-4 text-gray-400 text-sm",children:y.description})]},y.functionName))]}),n.jsxs("div",{className:"mt-6 bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"System Architecture"}),n.jsx("div",{className:"bg-gray-800/30 p-4 rounded-lg border border-gray-700",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl",children:[n.jsxs("div",{className:`p-3 rounded-lg border ${t[0].address?"border-blue-500/30 bg-blue-500/5":"border-gray-700 bg-gray-800/30"}`,children:[n.jsx("div",{className:"font-medium text-blue-400",children:t[0].name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t[0].description})]}),n.jsxs("div",{className:`p-3 rounded-lg border ${t[1].address?"border-purple-500/30 bg-purple-500/5":"border-gray-700 bg-gray-800/30"}`,children:[n.jsx("div",{className:"font-medium text-purple-400",children:t[1].name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t[1].description})]}),n.jsxs("div",{className:`p-3 rounded-lg border ${t[2].address?"border-green-500/30 bg-green-500/5":"border-gray-700 bg-gray-800/30"}`,children:[n.jsx("div",{className:"font-medium text-green-400",children:t[2].name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t[2].description})]}),n.jsxs("div",{className:`p-3 rounded-lg border ${t[3].address?"border-yellow-500/30 bg-yellow-500/5":"border-gray-700 bg-gray-800/30"}`,children:[n.jsx("div",{className:"font-medium text-yellow-400",children:t[3].name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t[3].description})]})]}),n.jsx("div",{className:"mt-5 text-center text-gray-400 text-sm",children:t.every(y=>y.address)?n.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-2 inline-block",children:n.jsx("span",{className:"text-green-400",children:"All system contracts are connected and operational"})}):t.some(y=>y.address)?n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-2 inline-block",children:n.jsx("span",{className:"text-yellow-400",children:"Some system contracts are connected"})}):n.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-2 inline-block",children:n.jsx("span",{className:"text-blue-400",children:'Click "Fetch All Contracts" to view system connections'})})})]})})]})]})},vO=({defaultProgramId:e,defaultAddress:t,onDataChange:r})=>{const[s,a]=w.useState((e==null?void 0:e.toString())||""),[i,o]=w.useState(t||""),[l,c]=w.useState(null),[d,u]=w.useState(!1),[m,h]=w.useState(""),[p,f]=w.useState(!1),[v,y]=w.useState(!1),{isError:g,isLoading:x,refetch:b}=Ce({address:_e.address,abi:_e.abi,functionName:"programAttendance",args:[BigInt(s||"0"),i]});w.useEffect(()=>{const j=/^\d+$/.test(s)&&parseInt(s)>=0,k=/^0x[a-fA-F0-9]{40}$/.test(i);y(j&&k)},[s,i]);const N=w.useCallback(async()=>{if(!v){h("Please enter a valid program ID and Ethereum address"),f(!0);return}try{const j=await b();j.data!==void 0?(c(j.data),h("Attendance status fetched successfully"),u(!0)):(h("Could not retrieve attendance status"),c(null),u(!1))}catch(j){console.error("Error fetching attendance status:",j),h("Error fetching attendance status"),c(null),u(!1)}f(!0)},[v,b]);return w.useEffect(()=>{r&&r({programId:s,studentAddress:i,hasAttended:l,isLoading:x,isError:g,fetchAttendance:N,fetchStatus:m})},[s,i,l,x,g,N,m,r]),w.useEffect(()=>{if(p){const j=setTimeout(()=>{f(!1)},5e3);return()=>clearTimeout(j)}},[p]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Program Attendance Check"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Program ID"}),n.jsx("input",{type:"number",value:s,onChange:j=>a(j.target.value),min:"0",placeholder:"Enter program ID",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Student Address"}),n.jsx("input",{type:"text",value:i,onChange:j=>o(j.target.value),placeholder:"0x...",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx(Z.button,{onClick:N,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:x||!v,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:x?"Loading...":"Check Attendance"})}),p&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md ${m.includes("Error")||m.includes("Could not")||m.includes("Please enter")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:m})}),x&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading attendance information..."})]}),g&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error checking attendance status"})]})}),d&&l!==null&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Attendance Status"}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:["Attendance for Program ID: ",s]}),n.jsx("div",{className:"text-gray-200 flex items-center",children:l?n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-green-400 font-semibold",children:"Present"})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-red-400 font-semibold",children:"Absent"})]})})]}),n.jsx("div",{className:"mt-4 bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-purple-400",children:l?"The student has attended this program session.":"The student has not attended this program session."})]})})]})})]})},$d={ADMIN_ROLE:"0x0000000000000000000000000000000000000000000000000000000000000000",PROGRAM_MANAGER_ROLE:"0x7fab940a61ea2dbd47aca7449d99e95b1c9ea29dcad8f56e9a7a47f1e2989d11",EDUCATOR_ROLE:"0x22976f7f83a7c9f912b9cf4bad5d23d14f64943c5de369cb54d95f68132led46",STUDENT_ROLE:"0x4c5a99d76b63156c595e0f5e6d205b0b035c900015b44074d97e5eefdf156e64"},tm=e=>/^0x[a-fA-F0-9]{40}$/.test(e),wO=e=>{const t=Object.entries($d).find(([r,s])=>s===e);return t?t[0]:"Custom Role"},jO=({onDataChange:e})=>{const[t,r]=w.useState(""),[s,a]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(!1),[d,u]=w.useState(!1),[m,h]=w.useState([]),p=l?s:t,{data:f,isError:v,error:y,isPending:g,refetch:x}=Ce({address:_e.address,abi:_e.abi,functionName:"hasRole",args:[p,i]});w.useEffect(()=>{d&&p&&i&&x()},[d,p,i,x]),w.useEffect(()=>{u(!1)},[p,i]),w.useEffect(()=>{f!==void 0&&d&&!g&&!v&&(h(k=>[{timestamp:Date.now(),role:p,roleName:wO(p),address:i,hasRole:!!f},...k.slice(0,9)]),u(!1))},[f,g,v,d,p,i]);const b=w.useCallback(async()=>{if(!p||!i||!tm(i))return;u(!0);const k=await(x==null?void 0:x());return k==null?void 0:k.data},[p,i,x]),N=w.useCallback(async(k,T)=>(Object.values($d).includes(k)?(c(!1),r(k)):(c(!0),a(k)),o(T),await new Promise(P=>setTimeout(P,0)),b()),[b]);w.useEffect(()=>{e&&e({selectedRole:p,accountAddress:i,queryHistory:m,isPending:g,isError:v,error:y,checkRole:N})},[p,i,m,g,v,y,N,e]);const j=k=>new Date(k).toLocaleTimeString();return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Role Checker"}),n.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Check if an account has a specific role assigned to it."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("input",{type:"checkbox",id:"useCustomRoleCheck",checked:l,onChange:()=>c(!l),className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-700 rounded bg-gray-800"}),n.jsx("label",{htmlFor:"useCustomRoleCheck",className:"block text-sm font-medium text-gray-300",children:"Use custom role hash"})]}),l?n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Custom Role (bytes32)"}),n.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:n.jsx("input",{type:"text",value:s,onChange:k=>a(k.target.value),className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-300 text-sm font-mono",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000000"})})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Select Role"}),n.jsxs("select",{value:t,onChange:k=>r(k.target.value),className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-300 text-sm",children:[n.jsx("option",{value:"",children:"Select a role..."}),Object.entries($d).map(([k,T])=>n.jsx("option",{value:T,children:k},T))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Account Address"}),n.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:n.jsx("input",{type:"text",value:i,onChange:k=>o(k.target.value),className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-300 text-sm font-mono",placeholder:"0x..."})})]})]}),n.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z",clipRule:"evenodd"})})}),n.jsx("p",{className:"ml-3 text-sm text-gray-300",children:"This is a read-only operation that checks if the specified account has been granted a particular role. The query does not modify any blockchain state and does not require a transaction."})]})}),n.jsx(Z.button,{onClick:b,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:g||!p||!i||!tm(i),className:`w-full py-3 px-4 rounded-md text-white font-medium shadow-lg transition-all duration-300 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 ${g||!p||!i||!tm(i)?"opacity-70 cursor-not-allowed":"opacity-100"}`,children:g?"Checking...":"Check Role"}),n.jsxs(Nt,{children:[d&&g&&n.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex justify-center items-center p-4 bg-gray-800/50 rounded-md border border-gray-700",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin mr-3"}),n.jsx("p",{className:"text-gray-300",children:"Querying blockchain..."})]}),v&&n.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"p-4 bg-red-500/20 rounded-md border border-red-500/30 text-red-400",children:[n.jsx("h3",{className:"font-medium mb-1",children:"Error"}),n.jsx("p",{className:"text-sm",children:(y==null?void 0:y.message)||"Failed to check role status"})]}),m.length>0&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-md border overflow-hidden",children:[n.jsx("div",{className:"bg-gray-800 p-3 border-b border-gray-700",children:n.jsx("h3",{className:"text-md font-semibold text-blue-400",children:"Latest Results"})}),n.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:m.map((k,T)=>n.jsxs("div",{className:`p-4 border-b border-gray-700 last:border-b-0 ${T===0?"bg-gray-800/70":"bg-gray-900/90"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("span",{className:"text-xs text-gray-400",children:j(k.timestamp)}),n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.hasRole?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:k.hasRole?"Has Role":"No Role"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Role"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("p",{className:"text-sm text-gray-300 mr-2",children:k.roleName}),n.jsx("p",{className:"text-xs text-gray-500 font-mono truncate",children:k.role})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Address"}),n.jsx("p",{className:"text-sm font-mono text-gray-300 truncate mt-1",children:k.address})]})]})]},`${k.timestamp}-${T}`))})]})]})]})]})},NO=[{name:"System Overview",icon:"dashboard"},{name:"Attendance",icon:"check"},{name:"Roles & Permissions",icon:"lock"}],Cv=()=>{const[e,t]=w.useState(0),[r,s]=w.useState(null),[a,i]=w.useState(null),[o,l]=w.useState(null),[c,d]=w.useState([]),u=w.useCallback((g,x="info")=>{const b={message:g,type:x};d(N=>[b,...N]),setTimeout(()=>{d(N=>N.filter(j=>j!==b))},5e3)},[]),m=w.useCallback(g=>{s(g),g.fetchStatus&&g.fetchStatus!==""&&u(g.fetchStatus,g.fetchStatus.includes("Error")?"error":"success")},[u]),h=w.useCallback(g=>{if(i(g),g.fetchStatus&&g.fetchStatus!==""){const x=g.fetchStatus.includes("Error")||g.fetchStatus.includes("Please enter")?"error":"success";u(g.fetchStatus,x)}},[u]),p=w.useCallback(g=>{l(g);const x=g.queryHistory[0];if(x){const b=`${x.address} ${x.hasRole?"has":"does not have"} ${x.roleName}`;u(b,x.hasRole?"success":"info")}},[u]),f=g=>{switch(g){case"dashboard":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})});case"check":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"lock":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})});default:return null}},v=()=>{switch(e){case 0:return n.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r==null?void 0:r.fetchAllContracts(),disabled:r==null?void 0:r.isAllLoading,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md transition-colors shadow-lg disabled:opacity-50",children:r!=null&&r.isAllLoading?"Loading...":"Refresh All Contracts"});case 1:return n.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a==null?void 0:a.fetchAttendance(),disabled:a==null?void 0:a.isLoading,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md transition-colors shadow-lg disabled:opacity-50",children:a!=null&&a.isLoading?"Loading...":"Check Attendance"});case 2:return o!=null&&o.accountAddress?n.jsx("div",{className:"flex space-x-2",children:Object.entries($d).map(([g,x])=>n.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o.checkRole(x,o.accountAddress),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-md transition-colors shadow-lg text-sm",children:["Check ",g.split("_")[0].toLowerCase()]},g))}):null;default:return null}},y=()=>n.jsx("div",{className:"fixed bottom-6 right-6 z-50 space-y-2 max-w-md",children:c.map((g,x)=>n.jsxs(Z.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`px-4 py-3 rounded-lg shadow-lg ${g.type==="success"?"bg-green-500 text-white":g.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"} flex items-center justify-between`,children:[n.jsx("p",{children:g.message}),n.jsx("button",{onClick:()=>d(b=>b.filter((N,j)=>j!==x)),className:"ml-3 text-white opacity-70 hover:opacity-100",children:""})]},x))});return n.jsx("div",{className:"min-h-screen bg-gray-950 text-white p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("header",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-indigo-400 bg-clip-text text-transparent",children:"Educational Blockchain Dashboard"}),n.jsx(v,{})]}),n.jsx("div",{className:"mt-6 border-b border-gray-800",children:n.jsx("div",{className:"flex space-x-1",children:NO.map((g,x)=>n.jsxs("button",{className:`px-4 py-3 flex items-center space-x-2 ${e===x?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"} transition-colors`,onClick:()=>t(x),children:[f(g.icon),n.jsx("span",{children:g.name})]},g.name))})})]}),n.jsxs("main",{children:[e===0&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"bg-gray-900/70 border border-gray-800 rounded-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-blue-400",children:"System Status"}),n.jsx("p",{className:"text-gray-300",children:"This dashboard provides a centralized interface for managing educational blockchain systems. View contract statuses, check student attendance, and manage system roles."}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"text-xl font-bold text-blue-400 mb-1",children:[(r==null?void 0:r.contracts.filter(g=>g.address).length)||0,"/",(r==null?void 0:r.contracts.length)||0]}),n.jsx("div",{className:"text-sm text-gray-400",children:"Connected Contracts"})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("div",{className:"text-xl font-bold text-purple-400 mb-1",children:(a==null?void 0:a.hasAttended)!==null?"Available":"Not Checked"}),n.jsx("div",{className:"text-sm text-gray-400",children:"Attendance System"})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("div",{className:"text-xl font-bold text-green-400 mb-1",children:(o==null?void 0:o.queryHistory.length)||0}),n.jsx("div",{className:"text-sm text-gray-400",children:"Role Checks Performed"})]})]})]})}),n.jsx(bO,{onDataChange:m})]}),e===1&&n.jsx(vO,{onDataChange:h}),e===2&&n.jsx(jO,{onDataChange:p})]}),n.jsx(y,{})]})})},SO=(e="",t=0,r)=>{const[s,a]=w.useState(e),[i,o]=w.useState(null),{data:l,error:c,isLoading:d,isSuccess:u,refetch:m}=Ce({address:wt.address,abi:wt.abi,functionName:"schoolStudentCount",args:s?[s]:void 0,query:{enabled:!!s}});return w.useEffect(()=>{if(t>0&&s){const p=setInterval(()=>{m()},t);return()=>{clearInterval(p)}}},[t,s,m]),w.useEffect(()=>{u&&l!==void 0&&o(new Date)},[u,l,s,r]),w.useEffect(()=>{e&&a(e)},[e]),{count:l,schoolAddress:s,category:(()=>{if(l===void 0)return{text:"No Data",color:"text-gray-400",bg:"bg-gray-500/20"};const p=Number(l);return p===0?{text:"No Students",color:"text-red-400",bg:"bg-red-500/20"}:p<10?{text:"Small School",color:"text-yellow-400",bg:"bg-yellow-500/20"}:p<50?{text:"Medium School",color:"text-blue-400",bg:"bg-blue-500/20"}:{text:"Large School",color:"text-green-400",bg:"bg-green-500/20"}})(),lastUpdated:i,isLoading:d,isSuccess:u,error:c,refetch:m}},CO=({schoolAddress:e="",studentAddress:t="",studentContractView:r=!1,refreshInterval:s=0})=>{var I,B;const[a,i]=w.useState("school"),[o,l]=w.useState(e),[c,d]=w.useState(t),[u,m]=w.useState(1),[h,p]=w.useState(!0),[f,v]=w.useState(""),y=SO(a==="school"?o:"",s),g=y3(r,a==="student"?c:"",u,s);w.useEffect(()=>{g.studentInfo&&p(!0)},[g.studentInfo]);const x=U=>U?/^0x[a-fA-F0-9]{40}$/.test(U)?(v(""),!0):(v("Invalid Ethereum address format"),!1):(v("Address is required"),!1),b=U=>isNaN(U)||U<=0?(v("Term must be a positive number"),!1):(v(""),!0),N=U=>{U.preventDefault(),x(o)&&y.refetch()},j=U=>{U.preventDefault(),x(c)&&b(u)&&g.refresh()},k=U=>!U||U.length<42?U:`${U.substring(0,6)}...${U.substring(38)}`,T=U=>{l(U),v("")},P=U=>{d(U),v("")};return n.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-br from-gray-900 to-gray-800 text-white rounded-xl shadow-2xl overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Student Management Dashboard"}),n.jsx("p",{className:"text-blue-100 mt-1",children:"View school enrollment and student attendance data"})]}),n.jsxs("div",{className:"flex border-b border-gray-700",children:[n.jsx("button",{onClick:()=>i("school"),className:`flex-1 py-4 px-6 text-center transition-colors ${a==="school"?"text-blue-400 border-b-2 border-blue-400 font-medium":"text-gray-400 hover:text-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"School Enrollment"]})}),n.jsx("button",{onClick:()=>i("student"),className:`flex-1 py-4 px-6 text-center transition-colors ${a==="student"?"text-blue-400 border-b-2 border-blue-400 font-medium":"text-gray-400 hover:text-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Student Attendance"]})})]}),n.jsx("div",{className:"p-6",children:n.jsx(Nt,{mode:"wait",children:a==="school"?n.jsxs(Z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.3},children:[n.jsx("form",{onSubmit:N,className:"mb-6",children:n.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm rounded-lg p-5 shadow-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-200 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search School Enrollment"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-address",className:"block text-sm font-medium text-gray-300",children:"School Wallet Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),n.jsx("input",{id:"school-address",type:"text",value:o,onChange:U=>{l(U.target.value),v("")},placeholder:"0x...",className:`w-full pl-10 px-3 py-3 bg-gray-700/70 border ${f&&a==="school"?"border-red-500":"border-gray-600"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the school's Ethereum wallet address"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>T("0xdD2FD4581271e230360230F9337D5c0430Bf44C0"),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-2 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Test School 1"]}),n.jsxs("button",{type:"button",onClick:()=>T("0x5FbDB2315678afecb367f032d93F642f64180aa3"),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-2 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Test School 2"]})]}),f&&a==="school"&&n.jsxs("div",{className:"text-sm text-red-400 mt-1 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-lg flex items-center",disabled:y.isLoading,children:y.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View Enrollment"]})})})]})]})}),n.jsx(Nt,{children:y.error?n.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-red-400 font-medium",children:"Error"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:((I=y.error)==null?void 0:I.message)||"Failed to fetch school data"}),n.jsxs("button",{onClick:()=>y.refetch(),className:"text-sm mt-3 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again"]})]})]})}):y.isSuccess&&y.count!==void 0?n.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${y.category.bg} border border-${y.category.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${y.category.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${y.category.color}`,children:y.category.text})]}),n.jsx("div",{className:"text-xs text-gray-400",children:y.lastUpdated&&n.jsxs("span",{children:["Updated ",PO(y.lastUpdated)]})})]}),n.jsxs("div",{className:"bg-gradient-to-b from-gray-800/70 to-gray-800/20 rounded-xl shadow-lg overflow-hidden border border-gray-700",children:[n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center md:items-start",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-100 flex items-center mb-1",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"School Enrollment"]}),n.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["School ID: ",n.jsx("span",{className:"text-gray-300 font-mono",children:k(y.schoolAddress)})]})]}),n.jsxs("button",{onClick:()=>y.refetch(),className:"text-sm bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 py-2 px-4 rounded-lg transition-colors flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})]})}),n.jsx("div",{className:"px-6 py-8 bg-gray-700/20 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"text-6xl font-bold text-white mb-2 flex items-baseline",children:[y.count?y.count.toString():"0",n.jsx("span",{className:"text-xl text-gray-400 ml-2",children:Number(y.count||0)===1?"Student":"Students"})]}),n.jsxs("div",{className:"w-full max-w-md mt-4",children:[n.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden shadow-inner",children:n.jsx(Z.div,{initial:{width:0},animate:{width:`${TO(Number(y.count||0))}%`},transition:{duration:1,ease:"easeOut"},className:kO(Number(y.count||0))})}),n.jsx("p",{className:"text-sm text-gray-400 mt-2 text-center",children:EO(Number(y.count||0))})]})]})})]})]}):null})]},"school-tab"):n.jsxs(Z.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.3},children:[n.jsx("form",{onSubmit:j,className:"mb-6",children:n.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm rounded-lg p-5 shadow-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-200 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search Student Attendance"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{id:"student-address",type:"text",value:c,onChange:U=>{d(U.target.value),v("")},placeholder:"0x...",className:`w-full pl-10 px-3 py-3 bg-gray-700/70 border ${f&&!c&&a==="student"?"border-red-500":"border-gray-600"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term-number",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsx("input",{id:"term-number",type:"number",value:u||"",onChange:U=>{m(parseInt(U.target.value)||0),v("")},placeholder:"Enter term number",min:"1",className:`w-full pl-10 px-3 py-3 bg-gray-700/70 border ${f&&(!u||u<=0)&&a==="student"?"border-red-500":"border-gray-600"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the term number to check attendance for"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsxs("button",{type:"button",onClick:()=>P("0x1234567890123456789012345678901234567890"),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-2 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Test Student 1"]})}),r&&n.jsx("div",{className:"flex items-center mt-2",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:h,onChange:()=>p(!h)}),n.jsx("div",{className:"relative w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ms-3 text-sm text-gray-300",children:"Show Student Profile"})]})}),f&&a==="student"&&n.jsxs("div",{className:"text-sm text-red-400 mt-1 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-lg flex items-center",disabled:g.isLoading,children:g.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View Attendance"]})})})]})]})}),n.jsx(Nt,{children:g.error?n.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-red-400 font-medium",children:"Error"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:((B=g.error)==null?void 0:B.message)||"Failed to fetch student data"}),n.jsxs("button",{onClick:()=>g.refresh(),className:"text-sm mt-3 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again"]})]})]})}):g.termAttendance!==void 0&&g.totalAttendance!==void 0?n.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${g.status.bg} border border-${g.status.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g.status.color.replace("text-","bg-")} mr-2`}),n.jsxs("span",{className:`text-sm font-medium ${g.status.color}`,children:[g.status.text," Attendance"]})]}),n.jsx(Nt,{children:h&&g.studentInfo&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gradient-to-b from-blue-900/20 to-blue-800/10 rounded-xl shadow-lg overflow-hidden border border-blue-800/30",children:n.jsxs("div",{className:"p-5",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-100 flex items-center mb-4",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Student Profile"]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Name:"}),n.jsx("p",{className:"text-xl font-medium text-white",children:g.studentInfo.name||"Unnamed Student"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Wallet Address:"}),n.jsx("p",{className:"text-sm font-mono text-gray-300",children:k(g.studentAddress)})]})]}),n.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col items-start md:items-end",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${g.studentInfo.isRegistered?"bg-green-400":"bg-red-400"} mr-2`}),n.jsx("span",{className:`text-sm ${g.studentInfo.isRegistered?"text-green-400":"text-red-400"}`,children:g.studentInfo.isRegistered?"Registered":"Not Registered"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Current Term: "}),n.jsx("span",{className:"text-md text-white font-medium",children:g.studentInfo.currentTerm}),u!==g.studentInfo.currentTerm&&n.jsxs("span",{className:"text-xs text-yellow-400 ml-2",children:["(Viewing term ",u,")"]})]})]})]})]})})}),n.jsxs("div",{className:"bg-gradient-to-b from-gray-800/70 to-gray-800/20 rounded-xl shadow-lg overflow-hidden border border-gray-700",children:[n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center md:items-start",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-100 flex items-center mb-1",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Attendance Record"]}),n.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["Term ",g.term]})]}),n.jsxs("button",{onClick:()=>g.refresh(),className:"text-sm bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 py-2 px-4 rounded-lg transition-colors flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})]})}),n.jsx("div",{className:"p-6 bg-gray-700/20 backdrop-blur-sm",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("h4",{className:"text-md font-medium text-gray-300 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Term Attendance"]}),n.jsxs("div",{className:"flex items-baseline justify-center mb-4",children:[n.jsx("p",{className:"text-4xl font-bold text-white",children:g.termAttendance.toString()}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"classes"})]}),Number(g.termAttendance)===0&&n.jsx("p",{className:"text-xs text-red-400 text-center mb-2",children:"No attendance recorded for this term"}),n.jsx("div",{className:"mt-2 h-3 bg-gray-700 rounded-full overflow-hidden shadow-inner",children:n.jsx(Z.div,{initial:{width:0},animate:{width:`${Math.min(Number(g.termAttendance)*5,100)}%`},transition:{duration:1,ease:"easeOut"},className:AO(Number(g.termAttendance))})}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:MO(Number(g.termAttendance))})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("h4",{className:"text-md font-medium text-gray-300 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Total Attendance"]}),n.jsxs("div",{className:"flex items-baseline justify-center mb-4",children:[n.jsx("p",{className:"text-4xl font-bold text-white",children:g.totalAttendance.toString()}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"classes"})]}),Number(g.termAttendance)>0&&Number(g.totalAttendance)>Number(g.termAttendance)&&n.jsxs("p",{className:"text-xs text-blue-400 text-center mb-2",children:[(Number(g.termAttendance)/Number(g.totalAttendance)*100).toFixed(1),"% of total in this term"]}),n.jsx("div",{className:"mt-2 h-3 bg-gray-700 rounded-full overflow-hidden shadow-inner",children:n.jsx(Z.div,{initial:{width:0},animate:{width:`${Math.min(Number(g.totalAttendance)*2,100)}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-500"})}),n.jsxs("div",{className:"mt-4 pt-2 border-t border-gray-700",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsx("span",{children:"Beginning"}),n.jsx("span",{children:"Career Progress"}),n.jsx("span",{children:"Advanced"})]}),n.jsx("div",{className:"mt-1 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",style:{width:`${Math.min(Number(g.totalAttendance)*2,100)}%`}})})]})]})]})})]})]}):null})]},"student-tab")})})]})};function kO(e){return e===0?"h-full bg-red-500":e<10?"h-full bg-yellow-500":e<50?"h-full bg-blue-500":"h-full bg-gradient-to-r from-green-500 to-emerald-400"}function TO(e){return e===0?0:e<10?Math.min(e*10,100):e<50?Math.min(e*2,100):100}function EO(e){return e===0?"No students enrolled":e<10?"Small student population":e<50?"Medium-sized student population":e<100?"Large student population":"Very large student population"}function PO(e){if(!e)return"";const t=Math.floor((new Date().getTime()-e.getTime())/1e3);let r=Math.floor(t/31536e3);return r>=1?r===1?"1 year ago":`${r} years ago`:(r=Math.floor(t/2592e3),r>=1?r===1?"1 month ago":`${r} months ago`:(r=Math.floor(t/86400),r>=1?r===1?"1 day ago":`${r} days ago`:(r=Math.floor(t/3600),r>=1?r===1?"1 hour ago":`${r} hours ago`:(r=Math.floor(t/60),r>=1?r===1?"1 minute ago":`${r} minutes ago`:t<10?"just now":`${Math.floor(t)} seconds ago`))))}function AO(e){return e>10?"h-full bg-gradient-to-r from-green-500 to-emerald-400":e>5?"h-full bg-blue-500":e>0?"h-full bg-yellow-500":"h-full bg-red-500"}function MO(e){return e>15?"Exceptional attendance level":e>10?"Excellent attendance level":e>5?"Good attendance level":e>0?"Minimal attendance level":"No attendance recorded"}function C3(){const[e,t]=w.useState(""),[r,s]=w.useState(0),[a,i]=w.useState(!1),{data:o,error:l,isLoading:c,isSuccess:d,refetch:u}=Ce({address:vt.address,abi:vt.abi,functionName:"getCurrentProgramId",args:[]});return w.useEffect(()=>{if(o!==void 0&&d){const m=Number(o);s(m),m>0?(t(`Program #${m}`),i(!0)):(t("No active program"),i(!1))}},[o,d]),{rawProgramId:o,programIdNumber:r,programInfo:e,isValidProgram:a,isLoading:c,isSuccess:d,error:l,refetch:u}}const Bd=({onProgramIdRead:e})=>{const{rawProgramId:t,programIdNumber:r,programInfo:s,isValidProgram:a,isLoading:i,isSuccess:o,error:l,refetch:c}=C3();return w.useEffect(()=>{o&&e&&e(r)},[r,o,e]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Current Program ID"}),i&&n.jsxs("div",{className:"flex items-center justify-center py-3",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Reading contract data..."})]}),l&&n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:[n.jsxs("p",{className:"text-sm",children:["Error reading current program ID: ",l.message||"Unknown error"]}),n.jsx("button",{onClick:()=>c(),className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}),o&&t!==void 0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`p-3 rounded-md ${a?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:[n.jsx("p",{className:`text-sm font-medium ${a?"text-green-400":"text-yellow-400"}`,children:a?"Active Program Found":"No Active Program"}),n.jsx("p",{className:"text-xs text-gray-300 mt-1",children:s})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Program ID:"}),n.jsx("p",{className:"text-sm text-gray-200 mt-1",children:s}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Raw Value:"}),n.jsx("p",{className:"text-xs font-mono text-gray-300 mt-1",children:String(t)})]})]})]})},RO=({initialProgramId:e=0,onEnrollmentDataRead:t})=>{const[r,s]=w.useState(e),[a,i]=w.useState(0),[o,l]=w.useState(0),{data:c,error:d,isLoading:u,isSuccess:m,refetch:h}=Ce({address:vt.address,abi:vt.abi,functionName:"getProgramEnrollmentCount",args:r>0?[r]:void 0}),{data:p,error:f,isLoading:v,isSuccess:y,refetch:g}=Ce({address:vt.address,abi:vt.abi,functionName:"getProgramMaxEnrollment",args:r>0?[r]:void 0});w.useEffect(()=>{c!==void 0&&m&&i(Number(c))},[c,m]),w.useEffect(()=>{p!==void 0&&y&&l(Number(p))},[p,y]),w.useEffect(()=>{m&&y&&r>0&&t&&t(a,o,r)},[a,o,r,m,y,t]);const x=()=>o>0?Math.min(100,Math.round(a/o*100)):0,b=()=>{const P=x();return P>=100?{text:"Full",color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/30"}:P>=75?{text:"Almost Full",color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/30"}:P>=25?{text:"Filling Up",color:"text-yellow-400",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/30"}:P>0?{text:"Open",color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/30"}:{text:"No Enrollment Data",color:"text-gray-400",bgColor:"bg-gray-500/20",borderColor:"border-gray-500/30"}},N=()=>{r>0&&(h(),g())},j=P=>{s(P)},k=b(),T=x();return n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[n.jsx(Bd,{onProgramIdRead:j}),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Program Enrollment Status"}),r<=0&&n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"Please select a valid program ID to view enrollment data."})}),r>0&&(u||v)&&n.jsxs("div",{className:"flex items-center justify-center py-3",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Reading enrollment data..."})]}),r>0&&(d||f)&&n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:[n.jsxs("p",{className:"text-sm",children:["Error reading enrollment data: ",(d||f).message||"Unknown error"]}),n.jsx("button",{onClick:N,className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}),r>0&&m&&y&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`${k.bgColor} ${k.borderColor} rounded-md p-3`,children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm font-medium ${k.color}`,children:k.text}),n.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:["Program #",r]})]}),n.jsx("div",{className:"bg-gray-900/40 rounded-full px-3 py-1",children:n.jsxs("p",{className:`text-xs font-medium ${k.color}`,children:[T,"% Full"]})})]})}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Current Enrollment"}),n.jsxs("p",{className:"text-xs text-gray-300",children:[a," / ",o]})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:`h-2.5 rounded-full ${T>=100?"bg-red-500":T>=75?"bg-orange-500":T>=25?"bg-yellow-500":"bg-green-500"}`,style:{width:`${T}%`}})}),n.jsxs("div",{className:"flex justify-between mt-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Available Spots"}),n.jsxs("p",{className:"text-sm text-gray-200 mt-1",children:[Math.max(0,o-a)," remaining"]})]}),n.jsx("button",{onClick:N,className:"text-xs bg-blue-600/30 hover:bg-blue-600/40 text-blue-400 py-1 px-2 rounded",children:"Refresh"})]})]}),n.jsxs("div",{className:"bg-gray-900/40 rounded-md p-2 flex justify-between text-xs",children:[n.jsxs("div",{className:"flex flex-col text-gray-400",children:[n.jsxs("span",{children:["Current: ",String(c)]}),n.jsxs("span",{children:["Maximum: ",String(p)]})]}),n.jsx("div",{className:"text-right text-gray-400",children:n.jsxs("span",{children:["Program ID: ",r]})})]})]})]})]})},LO=({onStatusChange:e=()=>{}})=>{const[t,r]=w.useState(""),[s,a]=w.useState(!1),[i,o]=w.useState(""),[l,c]=w.useState("info"),[d,u]=w.useState(!1),{data:m,isError:h,error:p,isPending:f,refetch:v}=Ce({address:vt.address,abi:vt.abi,functionName:"isProgramActive",args:t?[BigInt(t)]:void 0});w.useEffect(()=>{s&&m!==void 0&&!f&&!h&&e(t,!!m)},[s,m,f,h,t,e]),w.useEffect(()=>{h&&p&&(o(`Error checking program status: ${p.message}`),c("error"),u(!0))},[h,p]),w.useEffect(()=>{if(d){const g=setTimeout(()=>{u(!1)},5e3);return()=>clearTimeout(g)}},[d]);const y=async()=>{if(a(!1),!t||isNaN(Number(t))||Number(t)<=0){o("Please enter a valid program ID"),c("error"),u(!0);return}try{await v(),a(!0)}catch(g){console.error("Error checking program status:",g),o(`Error: ${g instanceof Error?g.message:"Unknown error"}`),c("error"),u(!0)}};return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Program Status Checker"}),n.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Check if an educational program is currently active."}),d&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:`p-3 rounded-md mb-6 ${l==="success"?"bg-green-500/20 text-green-400 border border-green-500/30":l==="error"?"bg-red-500/20 text-red-400 border border-red-500/30":l==="warning"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:n.jsx("p",{className:"text-sm",children:i})}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3 text-sm text-gray-300",children:[n.jsx("p",{className:"mb-2",children:"This utility checks whether a program is currently active in the system. Active programs are available for enrollment and participation."}),n.jsx("p",{children:"Enter the program ID (a positive integer) to check its status."})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[n.jsxs("div",{className:"space-y-2 md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Program ID"}),n.jsx("input",{type:"number",value:t,onChange:g=>r(g.target.value),className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-300 text-sm",placeholder:"Enter program ID",min:"1",step:"1"})]}),n.jsx(Z.button,{onClick:y,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:f||!t,className:`py-2 px-4 rounded-md text-white font-medium shadow-lg transition-all duration-300 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 ${f||!t?"opacity-70 cursor-not-allowed":"opacity-100"}`,children:f?"Checking...":"Check Status"})]}),s&&m!==void 0&&!f&&!h&&n.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:`p-4 rounded-md border ${m?"bg-green-500/20 border-green-500/30":"bg-red-500/20 border-red-500/30"}`,children:n.jsxs("div",{className:"flex items-center",children:[m?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400 mr-3",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400 mr-3",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:`font-medium ${m?"text-green-400":"text-red-400"}`,children:["Program ID: ",t]}),n.jsxs("p",{className:"text-gray-300 mt-1",children:["Status: ",m?"Active":"Inactive"]}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:m?"This program is currently active and available for operations.":"This program is inactive and not accepting new enrollments."})]})]})}),f&&n.jsxs("div",{className:"flex justify-center items-center p-4 bg-gray-800/50 rounded-md border border-gray-700",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin mr-3"}),n.jsx("p",{className:"text-gray-300",children:"Checking program status..."})]})]})]})},IO=()=>{const[e,t]=w.useState({programId:0,isActive:null,programInfo:"",enrollmentData:null,statusData:null}),[r,s]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(0),c=C3(),d=w.useCallback((b,N="info")=>{const j=Date.now().toString();s(k=>[{id:j,message:b,type:N},...k]),setTimeout(()=>{s(k=>k.filter(T=>T.id!==j))},5e3)},[]);w.useEffect(()=>{c.isSuccess&&c.programIdNumber>0&&(t(b=>({...b,programId:c.programIdNumber,programInfo:c.programInfo})),i(b=>b.includes(c.programIdNumber)?b:[c.programIdNumber,...b.slice(0,4)]),d(`Active program loaded: ${c.programInfo}`,"success"))},[c.isSuccess,c.programIdNumber,c.programInfo,d]);const u=w.useCallback(b=>{b>0&&t(N=>({...N,programId:b}))},[]),m=w.useCallback((b,N)=>{t(j=>({...j,isActive:N})),d(`Program #${b} status: ${N?"Active":"Inactive"}`,N?"success":"warning")},[d]),h=w.useCallback((b,N,j)=>{const k=N>0?Math.round(b/N*100):0,T={programId:j,currentEnrollment:b,maxEnrollment:N,enrollmentPercentage:k,availableSpots:Math.max(0,N-b),statusText:p(k),isFull:b>=N};t(P=>({...P,enrollmentData:T})),d(`Enrollment data loaded: ${k}% full (${b}/${N})`,"info")},[d]),p=b=>b>=100?"Full":b>=75?"Almost Full":b>=25?"Filling Up":b>0?"Open":"No Enrollment Data",f=()=>{switch(o){case 0:return n.jsx("div",{className:"flex space-x-2",children:n.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c.refetch(),className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md shadow-md transition-colors text-sm",children:"Refresh Program"})});case 1:return n.jsx("div",{className:"flex space-x-2",children:e.programId>0&&n.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{document.getElementById("program-id-input")&&(document.getElementById("program-id-input").value=e.programId.toString())},className:"bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-md shadow-md transition-colors text-sm",children:"Use Current Program"})});case 2:return null;default:return null}},v=()=>n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs(Z.div,{className:`p-3 rounded-lg border ${e.programId>0?"bg-green-500/20 border-green-500/30":"bg-gray-500/20 border-gray-500/30"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:e.programId>0?"Active Program":"No Program"}),n.jsx("div",{className:`text-lg font-bold ${e.programId>0?"text-green-400":"text-gray-400"}`,children:e.programId>0?`Program #${e.programId}`:"Not Available"})]}),n.jsxs(Z.div,{className:`p-3 rounded-lg border ${e.isActive===!0?"bg-green-500/20 border-green-500/30":e.isActive===!1?"bg-red-500/20 border-red-500/30":"bg-gray-500/20 border-gray-500/30"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.1},children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:"Status"}),n.jsx("div",{className:`text-lg font-bold ${e.isActive===!0?"text-green-400":e.isActive===!1?"text-red-400":"text-gray-400"}`,children:e.isActive===!0?"Active":e.isActive===!1?"Inactive":"Unknown"})]}),n.jsxs(Z.div,{className:`p-3 rounded-lg border ${e.enrollmentData?e.enrollmentData.isFull?"bg-red-500/20 border-red-500/30":"bg-blue-500/20 border-blue-500/30":"bg-gray-500/20 border-gray-500/30"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:"Enrollment"}),n.jsx("div",{className:`text-lg font-bold ${e.enrollmentData?e.enrollmentData.isFull?"text-red-400":"text-blue-400":"text-gray-400"}`,children:e.enrollmentData?`${e.enrollmentData.enrollmentPercentage}% Full`:"No Data"})]})]}),y=()=>a.length===0?null:n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Recent Programs"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(b=>n.jsxs("button",{onClick:()=>u(b),className:`py-1 px-3 rounded-full text-xs ${e.programId===b?"bg-blue-500/30 text-blue-400 border border-blue-500/30":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Program #",b]},b))})]}),g=()=>n.jsx("div",{className:"fixed bottom-6 right-6 z-50 space-y-2 max-w-md",children:n.jsx(Nt,{children:r.map(b=>n.jsxs(Z.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`px-4 py-3 rounded-lg shadow-lg ${b.type==="success"?"bg-green-500 text-white":b.type==="error"?"bg-red-500 text-white":b.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"} flex items-center justify-between`,children:[n.jsx("p",{children:b.message}),n.jsx("button",{onClick:()=>s(N=>N.filter(j=>j.id!==b.id)),className:"ml-3 text-white opacity-70 hover:opacity-100",children:""})]},b.id))})}),x=b=>{switch(b){case 0:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Bd,{onProgramIdRead:u}),e.programId>0&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Program Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[n.jsx("div",{className:"text-gray-400",children:"Program ID:"}),n.jsx("div",{className:"text-gray-200",children:e.programId}),n.jsx("div",{className:"text-gray-400",children:"Status:"}),n.jsx("div",{className:e.isActive===!0?"text-green-400":e.isActive===!1?"text-red-400":"text-gray-400",children:e.isActive===!0?"Active":e.isActive===!1?"Inactive":"Unknown"}),n.jsx("div",{className:"text-gray-400",children:"Enrollment:"}),n.jsx("div",{className:"text-gray-200",children:e.enrollmentData?`${e.enrollmentData.currentEnrollment}/${e.enrollmentData.maxEnrollment}`:"Unknown"}),n.jsx("div",{className:"text-gray-400",children:"Availability:"}),n.jsx("div",{className:"text-gray-200",children:e.enrollmentData?e.enrollmentData.isFull?"No available spots":`${e.enrollmentData.availableSpots} spots available`:"Unknown"})]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>l(1),className:"text-xs py-1 px-3 bg-blue-600/30 hover:bg-blue-600/40 text-blue-400 rounded",children:"Check Status"}),n.jsx("button",{onClick:()=>l(2),className:"text-xs py-1 px-3 bg-purple-600/30 hover:bg-purple-600/40 text-purple-400 rounded",children:"View Enrollment"})]})]})]})]}),e.enrollmentData&&n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-4",children:"Enrollment Visualization"}),n.jsxs("div",{className:"relative pt-1",children:[n.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[n.jsx("div",{children:n.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-400 bg-blue-200/10",children:e.enrollmentData.statusText})}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-400",children:[e.enrollmentData.enrollmentPercentage,"%"]})})]}),n.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-700",children:n.jsx(Z.div,{style:{width:`${e.enrollmentData.enrollmentPercentage}%`},initial:{width:0},animate:{width:`${e.enrollmentData.enrollmentPercentage}%`},transition:{duration:1,ease:"easeOut"},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${e.enrollmentData.enrollmentPercentage>=90?"bg-red-500":e.enrollmentData.enrollmentPercentage>=70?"bg-orange-500":e.enrollmentData.enrollmentPercentage>=50?"bg-yellow-500":"bg-green-500"}`})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 text-center",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.enrollmentData.currentEnrollment}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Current Enrollment"})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:e.enrollmentData.maxEnrollment}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Maximum Capacity"})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:e.enrollmentData.availableSpots}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Available Spots"})]})]})]})]});case 1:return n.jsx(LO,{onStatusChange:m});case 2:return n.jsx(RO,{initialProgramId:e.programId,onEnrollmentDataRead:h});default:return null}};return n.jsx("div",{className:"min-h-screen bg-gray-950 text-white p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("header",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-indigo-400 bg-clip-text text-transparent",children:"Program Management"}),n.jsx(f,{})]}),n.jsx(v,{}),n.jsx(y,{}),n.jsx("div",{className:"border-b border-gray-800",children:n.jsx("div",{className:"flex space-x-1",children:["Overview","Program Status","Enrollment"].map((b,N)=>n.jsx("button",{className:`px-4 py-3 flex items-center space-x-2 ${o===N?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"} transition-colors`,onClick:()=>l(N),children:n.jsx("span",{children:b})},b))})})]}),n.jsx("main",{children:n.jsx(Nt,{mode:"wait",children:n.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:x(o)},o)})}),n.jsx(g,{})]})})},_O=({onAttendanceRecorded:e,onReputationUpdated:t,externalAttendanceRecords:r=[],externalReputationRecords:s=[]})=>{const[a,i]=w.useState("attendance"),[o,l]=w.useState(""),[c,d]=w.useState(""),[u,m]=w.useState(!0),[h,p]=w.useState("0"),[f,v]=w.useState("0"),[y,g]=w.useState("0"),[x,b]=w.useState({}),[N,j]=w.useState(!1),[k,T]=w.useState(""),[P,I]=w.useState("info"),[B,U]=w.useState(!1),[q,K]=w.useState("form"),{data:ne,isPending:J,writeContract:L,error:A,reset:E}=zt(),{isLoading:O,isSuccess:F,error:R}=on({hash:ne}),[_,Y]=w.useState(r),[ee,me]=w.useState(s);w.useEffect(()=>{r&&Y(r),s&&me(s)},[r,s]);const le=se=>/^0x[a-fA-F0-9]{40}$/.test(se),ce=se=>/^[1-9]\d*$/.test(se),G=se=>/^\d+$/.test(se),H=se=>{l(se),!le(se)&&se!==""?b(de=>({...de,studentAddress:"Please enter a valid Ethereum address"})):b(de=>{const je={...de};return delete je.studentAddress,je})},re=se=>{d(se),!ce(se)&&se!==""?b(de=>({...de,programId:"Please enter a valid program ID (positive integer)"})):b(de=>{const je={...de};return delete je.programId,je})},te=(se,de,je)=>{de(se),!G(se)&&se!==""?b(Le=>({...Le,[je]:"Please enter a valid non-negative integer"})):b(Le=>{const pe={...Le};return delete pe[je],pe})};w.useEffect(()=>{if(a==="attendance"){const se=o.trim()!==""&&le(o),de=c.trim()!==""&&ce(c),je=Object.keys(x).length===0;j(se&&de&&je)}else{const se=o.trim()!==""&&le(o),de=G(h),je=G(f),Le=G(y),pe=Object.keys(x).length===0;j(se&&de&&je&&Le&&pe)}},[a,o,c,h,f,y,x,u]);const $=w.useCallback(()=>{l(""),d(""),m(!0),p("0"),v("0"),g("0"),K("form"),E==null||E()},[E]);w.useEffect(()=>{if(F&&ne){if(a==="attendance"){const se={student:o,programId:c,present:u,timestamp:Date.now()};Y(de=>[se,...de]),e&&e(se,ne),T("Attendance record successfully submitted!")}else{const se={student:o,attendancePoints:h,behaviorPoints:f,academicPoints:y,timestamp:Date.now()};me(de=>[se,...de]),t&&t(se,ne),T("Student reputation updated successfully!")}I("success"),U(!0),K("completed")}},[F,ne,a,o,c,u,h,f,y,e,t]),w.useEffect(()=>{if(A||R){const se=(A==null?void 0:A.message)||(R==null?void 0:R.message)||"An unknown error occurred";T(`Transaction failed: ${se}`),I("error"),U(!0),K("form")}},[A,R]),w.useEffect(()=>{if(B){const se=setTimeout(()=>{U(!1)},5e3);return()=>clearTimeout(se)}},[B]);const z=async()=>{if(!N){T("Please fix form errors before submitting"),I("error"),U(!0);return}try{E==null||E(),K("submitting"),T(a==="attendance"?"Submitting attendance record...":"Submitting reputation update..."),I("info"),U(!0),L(a==="attendance"?{address:_e.address,abi:_e.abi,functionName:"recordAttendance",args:[o,BigInt(c),u]}:{address:_e.address,abi:_e.abi,functionName:"updateStudentReputation",args:[o,BigInt(h),BigInt(f),BigInt(y)]})}catch(se){console.error("Error submitting transaction:",se),T(`Error: ${se instanceof Error?se.message:"Unknown error"}`),I("error"),U(!0),K("form")}},X=se=>new Date(se).toLocaleString(),ie=se=>se?`${se.substring(0,6)}...${se.substring(se.length-4)}`:"",oe=()=>{$()},ue=()=>B&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`p-4 rounded-md mb-6 ${P==="success"?"bg-green-500/20 text-green-400 border border-green-500/30":P==="error"?"bg-red-500/20 text-red-400 border border-red-500/30":P==="warning"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:n.jsxs("div",{className:"flex",children:[P==="success"&&n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),P==="error"&&n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),P==="warning"&&n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),P==="info"&&n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:k}),ne&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-700",children:[n.jsx("p",{className:"text-xs mb-1",children:"Transaction Hash:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("p",{className:"text-xs font-mono truncate",children:ne}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ne),T("Transaction hash copied to clipboard!"),I("success")},className:"ml-2 p-1 bg-gray-800 hover:bg-gray-700 rounded text-gray-300",title:"Copy to clipboard",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]})]})]})}),xe=()=>(J||O)&&n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border border-gray-700 rounded-md bg-gray-800/50 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin mr-4"}),n.jsx("span",{className:"text-lg text-gray-100 font-medium",children:J?"Waiting for wallet approval...":"Confirming transaction..."})]}),n.jsx("div",{className:"w-full max-w-md bg-gray-700 rounded-full h-2.5 mb-4",children:n.jsx("div",{className:`h-2.5 rounded-full ${J?"bg-blue-400 w-1/3":"bg-purple-500 w-2/3"}`})}),n.jsx("p",{className:"text-sm text-gray-400 text-center",children:J?"Please confirm this transaction in your wallet":"Transaction has been submitted. Waiting for blockchain confirmation..."})]}),ge=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-5 border border-gray-700",children:[n.jsxs("h3",{className:"text-lg font-medium text-blue-400 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Record Student Attendance"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"studentAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:["Student Address ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{id:"studentAddress",type:"text",value:o,onChange:se=>H(se.target.value),placeholder:"0x...",disabled:J||O,className:`pl-10 bg-gray-800 border ${x.studentAddress?"border-red-500":"border-gray-600"} text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 disabled:opacity-60`})]}),x.studentAddress&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.studentAddress}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The blockchain address of the student to record attendance for"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"programId",className:"block text-sm font-medium text-gray-300 mb-1",children:["Program ID ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsx("input",{id:"programId",type:"text",value:c,onChange:se=>re(se.target.value),placeholder:"1",disabled:J||O,className:`pl-10 bg-gray-800 border ${x.programId?"border-red-500":"border-gray-600"} text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 disabled:opacity-60`})]}),x.programId&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.programId}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The ID of the educational program to record attendance for"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Attendance Status"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:`flex items-center justify-center p-4 rounded-lg cursor-pointer transition-colors ${u?"bg-green-900/30 border-2 border-green-500/50 text-green-400":"bg-gray-800/50 border border-gray-600 text-gray-400 hover:bg-gray-800"}`,onClick:()=>!J&&!O&&m(!0),children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"font-medium",children:"Present"})]}),n.jsxs("div",{className:`flex items-center justify-center p-4 rounded-lg cursor-pointer transition-colors ${u?"bg-gray-800/50 border border-gray-600 text-gray-400 hover:bg-gray-800":"bg-red-900/30 border-2 border-red-500/50 text-red-400"}`,onClick:()=>!J&&!O&&m(!1),children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"font-medium",children:"Absent"})]})]})]})]})]}),n.jsx(Z.button,{onClick:z,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!N||J||O,className:`w-full py-3 px-4 rounded-md text-white font-medium shadow-lg transition-all duration-300 ${N?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"bg-gray-700 cursor-not-allowed"} ${J||O?"opacity-70":"opacity-100"}`,children:"Record Attendance"}),_.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 text-blue-400 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recent Attendance Records"]}),n.jsx("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Student"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Program ID"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Timestamp"})]})}),n.jsx("tbody",{className:"bg-gray-800/30 divide-y divide-gray-700",children:_.map((se,de)=>n.jsxs("tr",{className:de===0?"bg-blue-900/20":"",children:[n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-mono text-gray-300",children:ie(se.student)}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-300",children:se.programId}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${se.present?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:se.present?"Present":"Absent"})}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-300",children:X(se.timestamp)})]},de))})]})})})]})]}),ve=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-5 border border-gray-700",children:[n.jsxs("h3",{className:"text-lg font-medium text-blue-400 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Update Student Reputation"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"reputationStudentAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:["Student Address ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{id:"reputationStudentAddress",type:"text",value:o,onChange:se=>H(se.target.value),placeholder:"0x...",disabled:J||O,className:`pl-10 bg-gray-800 border ${x.studentAddress?"border-red-500":"border-gray-600"} text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 disabled:opacity-60`})]}),x.studentAddress&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.studentAddress}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The blockchain address of the student to update reputation for"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("h4",{className:"text-md font-medium text-blue-400 mb-4",children:"Reputation Points"}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{htmlFor:"attendancePoints",className:"block text-sm font-medium text-gray-300 mb-1",children:"Attendance Points"}),n.jsx("div",{className:"bg-blue-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:"text-sm font-medium text-blue-400",children:h})})]}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsx("input",{id:"attendancePoints",type:"range",min:"0",max:"100",value:h,onChange:se=>te(se.target.value,p,"attendancePoints"),disabled:J||O,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-60",style:{accentColor:"#3b82f6",background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${h}%, #374151 ${h}%, #374151 100%)`}})]}),x.attendancePoints&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.attendancePoints}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Points for student attendance and participation"})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{htmlFor:"behaviorPoints",className:"block text-sm font-medium text-gray-300 mb-1",children:"Behavior Points"}),n.jsx("div",{className:"bg-purple-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:"text-sm font-medium text-purple-400",children:f})})]}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("input",{id:"behaviorPoints",type:"range",min:"0",max:"100",value:f,onChange:se=>te(se.target.value,v,"behaviorPoints"),disabled:J||O,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-60",style:{accentColor:"#a855f7",background:`linear-gradient(to right, #a855f7 0%, #a855f7 ${f}%, #374151 ${f}%, #374151 100%)`}})]}),x.behaviorPoints&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.behaviorPoints}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Points for student behavior and conduct"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{htmlFor:"academicPoints",className:"block text-sm font-medium text-gray-300 mb-1",children:"Academic Points"}),n.jsx("div",{className:"bg-green-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:"text-sm font-medium text-green-400",children:y})})]}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),n.jsx("input",{id:"academicPoints",type:"range",min:"0",max:"100",value:y,onChange:se=>te(se.target.value,g,"academicPoints"),disabled:J||O,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-60",style:{accentColor:"#22c55e",background:`linear-gradient(to right, #22c55e 0%, #22c55e ${y}%, #374151 ${y}%, #374151 100%)`}})]}),x.academicPoints&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.academicPoints}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Points for student academic performance"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-800/30 p-5 rounded-lg border border-gray-700",children:[n.jsxs("h3",{className:"text-md font-medium text-blue-400 mb-4 flex items-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),"Reputation Summary"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-blue-800/50",children:[n.jsx("span",{className:"text-blue-400 text-xs mb-1",children:"Attendance"}),n.jsx("span",{className:"text-2xl font-bold text-blue-400",children:h})]}),n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-purple-800/50",children:[n.jsx("span",{className:"text-purple-400 text-xs mb-1",children:"Behavior"}),n.jsx("span",{className:"text-2xl font-bold text-purple-400",children:f})]}),n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-green-800/50",children:[n.jsx("span",{className:"text-green-400 text-xs mb-1",children:"Academic"}),n.jsx("span",{className:"text-2xl font-bold text-green-400",children:y})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Total Reputation Points"}),n.jsx("span",{className:"text-xl font-semibold bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 bg-clip-text text-transparent",children:Number(h)+Number(f)+Number(y)})]}),n.jsx("div",{className:"h-4 bg-gray-700 rounded-full mt-2 overflow-hidden",children:n.jsxs("div",{className:"h-full flex",children:[n.jsx("div",{className:"bg-blue-500 h-full",style:{width:`${Number(h)/(Number(h)+Number(f)+Number(y))*100}%`}}),n.jsx("div",{className:"bg-purple-500 h-full",style:{width:`${Number(f)/(Number(h)+Number(f)+Number(y))*100}%`}}),n.jsx("div",{className:"bg-green-500 h-full",style:{width:`${Number(y)/(Number(h)+Number(f)+Number(y))*100}%`}})]})}),n.jsxs("div",{className:"flex justify-between mt-1",children:[n.jsx("span",{className:"text-xs text-blue-400",children:"Attendance"}),n.jsx("span",{className:"text-xs text-purple-400",children:"Behavior"}),n.jsx("span",{className:"text-xs text-green-400",children:"Academic"})]})]})]}),n.jsx(Z.button,{onClick:z,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!N||J||O,className:`w-full py-3 px-4 rounded-md text-white font-medium shadow-lg transition-all duration-300 ${N?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"bg-gray-700 cursor-not-allowed"} ${J||O?"opacity-70":"opacity-100"}`,children:"Update Student Reputation"}),ee.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 text-blue-400 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recent Reputation Updates"]}),n.jsx("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Student"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-blue-400 uppercase tracking-wider",children:"Attend."}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-purple-400 uppercase tracking-wider",children:"Behavior"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-green-400 uppercase tracking-wider",children:"Academic"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Timestamp"})]})}),n.jsx("tbody",{className:"bg-gray-800/30 divide-y divide-gray-700",children:ee.map((se,de)=>n.jsxs("tr",{className:de===0?"bg-blue-900/20":"",children:[n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-mono text-gray-300",children:ie(se.student)}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-blue-400 font-medium",children:se.attendancePoints}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-purple-400 font-medium",children:se.behaviorPoints}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-green-400 font-medium",children:se.academicPoints}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-white",children:Number(se.attendancePoints)+Number(se.behaviorPoints)+Number(se.academicPoints)}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-300",children:X(se.timestamp)})]},de))})]})})})]})]}),ke=()=>{var se,de,je,Le,pe,M,S,C,D,W,V,ae,we;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-900/30 border border-green-700/50 rounded-md p-6 text-center",children:[n.jsx(Z.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("h3",{className:"text-xl font-semibold text-green-400",children:a==="attendance"?"Attendance Recorded Successfully":"Reputation Updated Successfully"}),n.jsx("p",{className:"text-gray-300 mt-2",children:a==="attendance"?"The attendance record has been successfully submitted to the blockchain.":"The student reputation has been successfully updated on the blockchain."})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-2",children:"Transaction Details"}),n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Transaction Hash"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"font-mono text-xs bg-gray-800 p-2 rounded-md text-gray-300 overflow-x-auto max-w-full flex-1 break-all",children:ne}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ne||""),T("Transaction hash copied to clipboard!"),I("success"),U(!0)},className:"ml-2 p-2 bg-gray-700 hover:bg-gray-600 rounded-md text-gray-300",title:"Copy to clipboard",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]})]}),a==="attendance"&&_.length>0&&n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-3",children:"Attendance Record Summary"}),n.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("dt",{className:"text-gray-400",children:"Student Address"}),n.jsx("dd",{className:"font-mono text-gray-300 break-all",children:(se=_[0])==null?void 0:se.student})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-gray-400",children:"Program ID"}),n.jsx("dd",{className:"text-gray-300",children:(de=_[0])==null?void 0:de.programId})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-gray-400",children:"Attendance Status"}),n.jsxs("dd",{className:"text-gray-300 flex items-center",children:[n.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${(je=_[0])!=null&&je.present?"bg-green-500":"bg-red-500"}`}),(Le=_[0])!=null&&Le.present?"Present":"Absent"]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("dt",{className:"text-gray-400",children:"Timestamp"}),n.jsx("dd",{className:"text-gray-300",children:X(((pe=_[0])==null?void 0:pe.timestamp)||Date.now())})]})]})]}),a==="reputation"&&ee.length>0&&n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-3",children:"Reputation Update Summary"}),n.jsxs("dl",{className:"grid grid-cols-1 gap-y-2 text-sm mb-4",children:[n.jsxs("div",{children:[n.jsx("dt",{className:"text-gray-400",children:"Student Address"}),n.jsx("dd",{className:"font-mono text-gray-300 break-all",children:(M=ee[0])==null?void 0:M.student})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-gray-400",children:"Timestamp"}),n.jsx("dd",{className:"text-gray-300",children:X(((S=ee[0])==null?void 0:S.timestamp)||Date.now())})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-blue-800/50",children:[n.jsx("span",{className:"text-blue-400 text-xs mb-1",children:"Attendance"}),n.jsx("span",{className:"text-2xl font-bold text-blue-400",children:(C=ee[0])==null?void 0:C.attendancePoints})]}),n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-purple-800/50",children:[n.jsx("span",{className:"text-purple-400 text-xs mb-1",children:"Behavior"}),n.jsx("span",{className:"text-2xl font-bold text-purple-400",children:(D=ee[0])==null?void 0:D.behaviorPoints})]}),n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-green-800/50",children:[n.jsx("span",{className:"text-green-400 text-xs mb-1",children:"Academic"}),n.jsx("span",{className:"text-2xl font-bold text-green-400",children:(W=ee[0])==null?void 0:W.academicPoints})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Total Reputation"}),n.jsx("span",{className:"text-xl font-semibold bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 bg-clip-text text-transparent",children:Number((V=ee[0])==null?void 0:V.attendancePoints)+Number((ae=ee[0])==null?void 0:ae.behaviorPoints)+Number((we=ee[0])==null?void 0:we.academicPoints)})]})})]}),n.jsx("div",{className:"flex space-x-3",children:n.jsx(Z.button,{onClick:oe,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium rounded-md shadow-lg transition-all duration-300",children:a==="attendance"?"Record Another Attendance":"Update Another Student"})})]})};return n.jsx("div",{className:"mx-auto max-w-5xl",children:n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-purple-900 p-6 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Management System"}),n.jsx("p",{className:"text-blue-100 mt-1",children:"Record attendance and manage student reputation on the blockchain"})]})]}),n.jsxs("div",{className:"flex border-b border-gray-700",children:[n.jsx("button",{onClick:()=>i("attendance"),className:`flex-1 py-4 px-4 text-center transition-all ${a==="attendance"?"text-blue-400 border-b-2 border-blue-500 font-medium":"text-gray-400 hover:text-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Attendance Recorder"]})}),n.jsx("button",{onClick:()=>i("reputation"),className:`flex-1 py-4 px-4 text-center transition-all ${a==="reputation"?"text-purple-400 border-b-2 border-purple-500 font-medium":"text-gray-400 hover:text-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Reputation Manager"]})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx(ue,{}),n.jsx(xe,{}),n.jsx(Nt,{mode:"wait",children:q==="form"?n.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:a==="attendance"?n.jsx(ge,{}):n.jsx(ve,{})},"form"):q==="completed"?n.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:n.jsx(ke,{})},"completed"):null})]})]})})},Un={isValidAddress:e=>/^0x[a-fA-F0-9]{40}$/.test(e),validatePoints:e=>{const t=parseInt(e,10);return!isNaN(t)&&t>=0&&t<=100},calculateTotalPoints:e=>parseInt(e.attendancePoints||"0",10)+parseInt(e.behaviorPoints||"0",10)+parseInt(e.academicPoints||"0",10),formatAddress:e=>!e||e.length<10?e:`${e.substring(0,6)}...${e.substring(e.length-4)}`,getPointsColor:e=>{const t=parseInt(e,10);return t>=80?"text-green-400":t>=60?"text-blue-400":t>=40?"text-yellow-400":t>=20?"text-orange-400":"text-red-400"},getPointsGradient:e=>{const t=parseInt(e,10);return t>=80?"from-green-500 to-emerald-400":t>=60?"from-blue-500 to-cyan-400":t>=40?"from-yellow-500 to-amber-400":t>=20?"from-orange-500 to-amber-400":"from-red-500 to-pink-400"}},FO=({reputationContract:e,roleContract:t,schoolContract:r,studentAddress:s="",onPointsChange:a,onValidationChange:i,onStatusChange:o,onUpdateSuccess:l})=>{const{address:c}=Ge(),[d,u]=w.useState(s),[m,h]=w.useState("0"),[p,f]=w.useState("0"),[v,y]=w.useState("0"),[g,x]=w.useState(""),[b,N]=w.useState(!1),{data:j,isLoading:k,refetch:T}=_c({contracts:[{...e,functionName:"paused"},{...t,functionName:"hasRole",args:[t.teacherRole,c]},{...r,functionName:"isActiveSchool",args:[c]},{...r,functionName:"isStudentOfSchool",args:[d&&Un.isValidAddress(d)?d:"0x0000000000000000000000000000000000000000",c]}],query:{enabled:!!c&&!!d&&Un.isValidAddress(d)}}),{data:P,error:I,isPending:B,writeContract:U,reset:q}=zt(),{isLoading:K,isSuccess:ne}=on({hash:P}),J=d?Un.isValidAddress(d):!1;w.useEffect(()=>{s&&u(s)},[s]),w.useEffect(()=>{d&&Un.isValidAddress(d)&&T()},[d,T]),w.useEffect(()=>{a&&a({attendancePoints:m,behaviorPoints:p,academicPoints:v})},[m,p,v,a]),w.useEffect(()=>{if(i){const ee={isValid:!g,errorMessage:g};if(j&&j.length===4){const[me,le,ce,G]=j.map(H=>H.result);ee.isPaused=me,ee.hasTeacherRole=le,ee.isSchoolActive=ce,ee.isStudentOfSchool=G}i(ee)}},[g,j,i]),w.useEffect(()=>{o&&o({isLoading:k,isPending:B,isConfirming:K,isSuccess:ne,error:I||null})},[k,B,K,ne,I,o]),w.useEffect(()=>{ne&&l&&l(d,{attendancePoints:m,behaviorPoints:p,academicPoints:v})},[ne,d,m,p,v,l]);const L=ee=>{const me=parseInt(ee,10);return isNaN(me)||me<0||me>100?(x("Points must be a number between 0 and 100"),!1):!0},A=()=>{if(x(""),!d){x("Student address is required");return}if(!Un.isValidAddress(d)){x("Invalid Ethereum address format");return}if(!L(m)||!L(p)||!L(v))return;if(!j||j.length!==4){x("Unable to perform all required checks");return}const[ee,me,le,ce]=j.map(G=>G.result);if(ee){x("System is currently paused");return}if(!me){x("Caller must have teacher role");return}if(!le){x("School is not active");return}if(!ce){x("Student is not enrolled in this school");return}q(),U({...e,functionName:"updateReputation",args:[d,BigInt(m),BigInt(p),BigInt(v)]})},E=()=>{h("0"),f("0"),y("0"),q()},O=Un.calculateTotalPoints({attendancePoints:m,behaviorPoints:p,academicPoints:v}),F=O>0?parseInt(m,10)/300*100:0,R=O>0?parseInt(p,10)/300*100:0,_=O>0?parseInt(v,10)/300*100:0,Y=j&&j.length===4&&!j[0].result&&j[1].result&&j[2].result&&j[3].result&&Un.isValidAddress(d);return n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 rounded-lg shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-800 to-purple-800 p-5 relative",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Student Reputation Manager"]}),n.jsx("p",{className:"text-blue-200 mt-1",children:"Update and track student performance metrics"})]})]}),n.jsxs("div",{className:"p-5",children:[n.jsxs(Nt,{children:[g&&n.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-5 flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Error"}),n.jsx("p",{className:"text-sm mt-1",children:g})]})]}),ne&&n.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-4 mb-5 flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Success"}),n.jsx("p",{className:"text-sm mt-1",children:"Student reputation successfully updated!"}),P&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-green-500/20",children:[n.jsx("p",{className:"text-xs mb-1",children:"Transaction Hash:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("code",{className:"text-xs font-mono bg-gray-800 p-1 rounded-md mr-2 overflow-hidden overflow-ellipsis max-w-[200px]",children:P}),n.jsx("button",{onClick:()=>navigator.clipboard.writeText(P),className:"p-1 rounded-md bg-gray-800 hover:bg-gray-700",title:"Copy to clipboard",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})]})]})]}),(B||K)&&n.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-md p-4 mb-5 flex items-center",children:[n.jsx("div",{className:"mr-3 flex-shrink-0",children:n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:B?"Waiting for wallet approval":"Confirming transaction"}),n.jsx("p",{className:"text-sm mt-1",children:B?"Please confirm this transaction in your wallet":"Your transaction has been submitted and is being processed"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[n.jsxs("div",{className:"md:col-span-3 space-y-5",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-4",children:"Student Information"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300 mb-2",children:"Student Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{id:"student-address",type:"text",value:d,onChange:ee=>{u(ee.target.value),x("")},placeholder:"0x...",className:`w-full pl-10 pr-3 py-2 bg-gray-700/70 border ${!J&&d?"border-red-500":"border-gray-600"} rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:B||K})]}),!J&&d&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Invalid Ethereum address format"}),n.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Enter the blockchain address of the student"})]})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-4",children:"Reputation Points"}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Attendance Points"]}),n.jsx("div",{className:"bg-blue-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:`text-sm font-medium ${Un.getPointsColor(m)}`,children:m})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"range",min:"0",max:"100",value:m,onChange:ee=>h(ee.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${m}%, #374151 ${m}%, #374151 100%)`},disabled:B||K}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0"}),n.jsx("span",{children:"25"}),n.jsx("span",{children:"50"}),n.jsx("span",{children:"75"}),n.jsx("span",{children:"100"})]})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Points reflecting the student's class attendance and participation"})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Behavior Points"]}),n.jsx("div",{className:"bg-purple-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:`text-sm font-medium ${Un.getPointsColor(p)}`,children:p})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:ee=>f(ee.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #a855f7 0%, #a855f7 ${p}%, #374151 ${p}%, #374151 100%)`},disabled:B||K}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0"}),n.jsx("span",{children:"25"}),n.jsx("span",{children:"50"}),n.jsx("span",{children:"75"}),n.jsx("span",{children:"100"})]})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Points reflecting the student's conduct and behavior in school"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Academic Points"]}),n.jsx("div",{className:"bg-green-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:`text-sm font-medium ${Un.getPointsColor(v)}`,children:v})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"range",min:"0",max:"100",value:v,onChange:ee=>y(ee.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #22c55e 0%, #22c55e ${v}%, #374151 ${v}%, #374151 100%)`},disabled:B||K}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0"}),n.jsx("span",{children:"25"}),n.jsx("span",{children:"50"}),n.jsx("span",{children:"75"}),n.jsx("span",{children:"100"})]})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Points reflecting the student's academic performance and achievements"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:A,disabled:k||B||K||!J,className:`flex-1 py-3 rounded-lg font-medium transition-all ${k||B||K||!J?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg"}`,children:k?"Checking Permissions...":B?"Updating Reputation...":K?"Confirming Transaction...":"Update Reputation"}),n.jsx("button",{type:"button",onClick:E,disabled:B||K,className:"px-4 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300 font-medium disabled:opacity-50 disabled:cursor-not-allowed",title:"Reset points to zero",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),n.jsxs("div",{className:"md:col-span-2 space-y-5",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-4",children:"Reputation Summary"}),n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{className:"inline-flex items-center justify-center rounded-full w-24 h-24 border-4 border-gray-700 bg-gray-800 mb-3",children:n.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 bg-clip-text text-transparent",children:O})}),n.jsx("p",{className:"text-sm text-gray-300",children:"Total Reputation Points"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Out of 300 possible points"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-blue-400",children:"Attendance"}),n.jsxs("span",{className:"text-blue-400",children:[m," pts"]})]}),n.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500",style:{width:`${F}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-purple-400",children:"Behavior"}),n.jsxs("span",{className:"text-purple-400",children:[p," pts"]})]}),n.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500",style:{width:`${R}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-green-400",children:"Academic"}),n.jsxs("span",{className:"text-green-400",children:[v," pts"]})]}),n.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500",style:{width:`${_}%`}})})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400",children:"Requirements"}),k&&n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"text-xs text-gray-400",children:"Checking..."})]})]}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsxs("li",{className:`flex items-center p-2 rounded ${J?"bg-green-900/20":"bg-gray-700/30"}`,children:[J?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:J?"text-green-400":"text-gray-400",children:"Valid Student Address"})]}),j&&j.length===4&&n.jsxs(n.Fragment,{children:[n.jsxs("li",{className:`flex items-center p-2 rounded ${j[0].result?"bg-red-900/20":"bg-green-900/20"}`,children:[j[0].result?n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:j[0].result?"text-red-400":"text-green-400",children:"System Active (Not Paused)"})]}),n.jsxs("li",{className:`flex items-center p-2 rounded ${j[1].result?"bg-green-900/20":"bg-red-900/20"}`,children:[j[1].result?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:j[1].result?"text-green-400":"text-red-400",children:"Teacher Role"})]}),n.jsxs("li",{className:`flex items-center p-2 rounded ${j[2].result?"bg-green-900/20":"bg-red-900/20"}`,children:[j[2].result?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:j[2].result?"text-green-400":"text-red-400",children:"Active School"})]}),n.jsxs("li",{className:`flex items-center p-2 rounded ${j[3].result?"bg-green-900/20":"bg-red-900/20"}`,children:[j[3].result?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:j[3].result?"text-green-400":"text-red-400",children:"Student Enrolled in School"})]})]})]}),n.jsx("div",{className:`mt-4 p-3 rounded-lg ${Y?"bg-green-900/20 border border-green-800/30":"bg-red-900/20 border border-red-800/30"}`,children:n.jsx("div",{className:"flex items-center",children:Y?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm font-medium text-green-400",children:"All requirements met"})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm font-medium text-red-400",children:"Some requirements not met"})]})})})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg overflow-hidden border border-gray-700",children:[n.jsxs("button",{type:"button",onClick:()=>N(!b),className:"w-full p-4 text-left flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-medium text-blue-400",children:"Guidelines"}),n.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${b?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx(Nt,{children:b&&n.jsx(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:n.jsx("div",{className:"px-4 pb-4",children:n.jsxs("ul",{className:"text-sm text-gray-400 space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"Only teachers can update student reputation"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"Points range from 0 to 100 for each category"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"The school must be an active institution"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"The student must be enrolled in the teacher's school"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"The system must not be paused"]})]})})})})]})]})]})]})]})},OO=({onCheckComplete:e})=>{const{address:t}=Ge(),[r,s]=w.useState(""),[a,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(""),[u,m]=w.useState(!0),[h,p]=w.useState(!1);w.useEffect(()=>{console.log("TeacherRoleChecker state:",{accountToCheck:r,lastChecked:a,isFormValid:o,errorMessage:c,isCheckingConnectedAccount:u,showHistory:h})},[r,a,o,c,u,h]);const[f,v]=w.useState([]);w.useEffect(()=>{t&&r===""&&s(t)},[t,r]),w.useEffect(()=>{const P=/^0x[a-fA-F0-9]{40}$/.test(r);l(P),m(!!(t&&r===t))},[r,t]);const{data:y,isLoading:g,isError:x,refetch:b,error:N}=Ce({abi:_d.abi,address:_d.address,functionName:"hasTeacherRole",args:o?[r]:void 0,query:{enabled:o}}),j=()=>a?Zt(a,{addSuffix:!0}):"Never checked",k=()=>{if(!o){d("Please enter a valid Ethereum address");return}d(""),b().then(P=>{if(i(new Date),P.data!==void 0){const I=[{address:r,hasRole:P.data,timestamp:new Date},...f].slice(0,5);v(I),e&&e(P.data,r)}}).catch(P=>{console.error("Error checking role:",P),d("Error checking teacher role: "+P.message)})},T=P=>{s(P)};return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"Teacher Role Checker"}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"accountToCheck",className:"block text-sm font-medium text-gray-300 mb-1",children:"Account Address"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"accountToCheck",type:"text",value:r,onChange:P=>s(P.target.value),placeholder:"0x...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),t&&n.jsx("button",{onClick:()=>s(t),className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-xs text-gray-300 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500",title:"Use my connected wallet address",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the Ethereum address to check for teacher role privileges"})]}),c&&n.jsx("div",{className:"w-full bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:c}),n.jsx("button",{onClick:k,disabled:!o||g,className:`w-full px-4 py-3 rounded-md text-white font-medium flex items-center justify-center mb-4 ${!o||g?"bg-gray-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500"}`,children:g?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking Teacher Role..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Check Teacher Role"]})}),o&&y!==void 0&&!x&&n.jsxs("div",{className:`w-full rounded-lg p-4 flex items-center justify-between ${y?"bg-blue-900/20 border border-blue-700/30":"bg-red-900/20 border border-red-700/30"}`,children:[n.jsx("div",{className:"flex items-center",children:y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-blue-400",children:"Teacher Role Granted"}),n.jsxs("p",{className:"text-xs text-gray-300 mt-0.5",children:[r.substring(0,6),"...",r.substring(r.length-4)," has teacher privileges"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-red-400",children:"No Teacher Role"}),n.jsxs("p",{className:"text-xs text-gray-300 mt-0.5",children:[r.substring(0,6),"...",r.substring(r.length-4)," does not have teacher privileges"]})]})]})}),n.jsx("div",{children:n.jsxs("p",{className:"text-xs text-gray-400",children:["Last checked ",j()]})})]}),x&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Role Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:N?N.message:"An error occurred while checking the teacher role. Please try again."})]})]})})]}),f.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Recent Checks"}),n.jsxs("button",{onClick:()=>p(!h),className:"text-xs text-amber-400 hover:text-amber-300 flex items-center focus:outline-none",children:[h?"Hide History":"Show History",n.jsx("svg",{className:`ml-1 w-4 h-4 transition-transform ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),h&&n.jsx("div",{className:"bg-gray-700/20 rounded-lg p-2 mt-2",children:n.jsx("ul",{className:"divide-y divide-gray-700",children:f.map((P,I)=>n.jsx("li",{className:"py-2 first:pt-0 last:pb-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${P.hasRole?"bg-blue-500":"bg-red-500"} mr-2`}),n.jsxs("button",{onClick:()=>T(P.address),className:"text-blue-400 hover:text-blue-300 font-mono text-xs hover:underline",children:[P.address.substring(0,10),"...",P.address.substring(P.address.length-8)]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`text-xs ${P.hasRole?"text-blue-400":"text-red-400"} mr-3`,children:P.hasRole?"Teacher":"Not Teacher"}),n.jsx("span",{className:"text-xs text-gray-400",children:Zt(P.timestamp,{addSuffix:!0})})]})]})},I))})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About Teacher Role"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"The Teacher Role Checker allows you to verify if a specific Ethereum address has been granted teacher privileges in the system."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Teacher Privileges"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Teachers have the ability to create and manage educational content, oversee student enrollments, administer assessments, and issue credentials within their assigned courses and programs."})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Role Assignment"}),n.jsx("p",{className:"text-xs text-gray-400",children:"The teacher role is typically assigned by school administrators and can be associated with specific educational institutions or programs within the platform."})]})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mb-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Teacher Capabilities"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Teachers on the platform can typically perform these functions:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Content Creation:"})," Develop and publish educational materials and courses"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Student Management:"})," Review and approve student enrollments and track progress"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Assessment:"})," Create and grade assignments, quizzes, and exams"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Certification:"})," Issue digital credentials and certificates of completion"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Revenue:"})," Receive compensation based on platform's revenue sharing model"]})]})]})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"The teacher role check verifies permissions against the blockchain's current state. If an address recently gained or lost teacher privileges, those changes will be reflected in the check results."})]})]})},DO=()=>{var R;const{address:e,isConnected:t}=Ge(),[r,s]=w.useState("overview"),[a,i]=w.useState([]),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[u,m]=w.useState(!1),[h,p]=w.useState(""),[f,v]=w.useState(0),[y,g]=w.useState([]),[x,b]=w.useState({}),[N,j]=w.useState(!0),k=w.useRef(null);w.useEffect(()=>{console.log("Selected Program:",f)},[f]),w.useEffect(()=>{const _=()=>{d(window.innerWidth<768),window.innerWidth<1024&&!o?l(!0):window.innerWidth>=1280&&o&&l(!1)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[o]),w.useEffect(()=>{const _=Y=>{u&&k.current&&!k.current.contains(Y.target)&&m(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[u]),w.useEffect(()=>{const _=setTimeout(()=>{j(!1),console.log("Dashboard loaded, active section:",r)},500);return()=>clearTimeout(_)},[r]);const T=w.useCallback((_,Y="info")=>{const me={id:Date.now().toString(),message:_,type:Y,timestamp:new Date};i(le=>[me,...le.slice(0,4)]),console.log(`Notification added: ${Y} - ${_}`),setTimeout(()=>{i(le=>le.filter(ce=>ce.id!==me.id))},5e3)},[]),P=w.useCallback(_=>{console.log("Attendance recorded:",_),T(`Attendance record for ${K(_.student)} successfully submitted!`,"success"),g(Y=>Y.some(ee=>ee.type==="student"&&ee.address===_.student)?Y:[{type:"student",address:_.student,timestamp:new Date},...Y.slice(0,9)]),_.student.toLowerCase()===h.toLowerCase()&&console.log("Updated attendance for selected student")},[T,h]),I=w.useCallback(_=>{console.log("Reputation updated:",_),T(`Reputation for ${K(_.student)} successfully updated!`,"success"),g(Y=>Y.some(ee=>ee.type==="student"&&ee.address===_.student)?Y:[{type:"student",address:_.student,timestamp:new Date},...Y.slice(0,9)]),_.student.toLowerCase()===h.toLowerCase()&&console.log("Updated reputation for selected student")},[T,h]),B=w.useCallback(_=>{console.error("Contract error:",_),T(`Transaction failed: ${_.message||"Unknown error"}`,"error")},[T]),U=w.useCallback(_=>{console.log("Student selected:",_),p(_),_&&_.length>10&&g(Y=>Y.some(ee=>ee.type==="student"&&ee.address===_)?Y:[{type:"student",address:_,timestamp:new Date},...Y.slice(0,9)])},[]),q=w.useCallback(_=>{console.log("Program selected:",_),v(_),_>0&&g(Y=>Y.some(ee=>ee.type==="program"&&ee.id===_)?Y:[{type:"program",id:_,timestamp:new Date},...Y.slice(0,9)])},[]),K=_=>!_||_.length<10?_:`${_.substring(0,6)}...${_.substring(_.length-4)}`,ne=_=>_.toLocaleString(),J=(_,Y)=>{if(x[_])return n.jsxs("div",{className:"p-4 bg-red-500/20 border border-red-500/40 rounded-lg",children:[n.jsx("h3",{className:"text-lg text-red-400 font-medium mb-2",children:"Error Loading Component"}),n.jsx("p",{className:"text-gray-300 mb-3",children:x[_]}),n.jsx("button",{onClick:()=>{b(ee=>({...ee,[_]:""}))},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-md transition-colors",children:"Try Again"})]});try{return Y}catch(ee){return console.error(`Error rendering ${_}:`,ee),b(me=>({...me,[_]:ee instanceof Error?ee.message:"Unknown error"})),n.jsxs("div",{className:"p-4 bg-red-500/20 border border-red-500/40 rounded-lg",children:[n.jsx("h3",{className:"text-lg text-red-400 font-medium mb-2",children:"Error Loading Component"}),n.jsx("p",{className:"text-gray-300",children:ee instanceof Error?ee.message:"Unknown error"})]})}},L=[{id:"overview",label:"Dashboard Overview",icon:"dashboard",description:"Key metrics and system status"},{id:"students",label:"Student Management",icon:"students",description:"Lookup and manage student data"},{id:"programs",label:"Program Management",icon:"programs",description:"View and manage educational programs"},{id:"attendance",label:"Attendance Tracking",icon:"attendance",description:"Record and track student attendance"},{id:"reputation",label:"Student Reputation",icon:"reputation",description:"Manage student performance metrics"},{id:"roles",label:"Role Management",icon:"roles",description:"Manage system permissions"}],A=_=>{switch(_){case"dashboard":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})});case"students":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})});case"programs":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})});case"attendance":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"reputation":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.562-1.562C15.802 8.249 16 9.1 16 10zm-5.165 3.913l1.58 1.58A5.98 5.98 0 0110 16a5.976 5.976 0 01-2.516-.552l1.562-1.562a4.006 4.006 0 001.789.027zm-4.677-2.796a4.002 4.002 0 01-.041-2.08l-.08.08-1.53-1.533A5.98 5.98 0 004 10c0 .954.223 1.856.619 2.657l1.54-1.54zm1.088-6.45A5.974 5.974 0 0110 4c.954 0 1.856.223 2.657.619l-1.54 1.54a4.002 4.002 0 00-2.346.033L7.246 4.668zM12 10a2 2 0 11-4 0 2 2 0 014 0z",clipRule:"evenodd"})});case"roles":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z",clipRule:"evenodd"})});default:return null}},E=()=>{switch(r){case"overview":return J("overview",n.jsx(Cv,{}));case"students":return J("students",n.jsx(CO,{studentAddress:h,refreshInterval:0,studentContractView:!0}));case"programs":return J("programs",n.jsx(IO,{}));case"attendance":return J("attendance",n.jsx(_O,{onAttendanceRecorded:P,onReputationUpdated:I,externalAttendanceRecords:[],externalReputationRecords:[]}));case"reputation":return J("reputation",n.jsx(FO,{reputationContract:_e,roleContract:_d,schoolContract:wt,studentAddress:h,onPointsChange:_=>{console.log("Points updated:",_)},onValidationChange:_=>{_.isValid||(console.log("Validation error:",_.errorMessage),_.errorMessage&&T(`Validation error: ${_.errorMessage}`,"warning"))},onStatusChange:_=>{_.error&&B(_.error),_.isSuccess&&T("Reputation update successful!","success")},onUpdateSuccess:(_,Y)=>{I({student:_,attendancePoints:Y.attendancePoints,behaviorPoints:Y.behaviorPoints,academicPoints:Y.academicPoints,timestamp:Date.now()})}}));case"roles":return J("roles",n.jsx(OO,{onCheckComplete:(_,Y)=>{_?T(`Address ${K(Y)} has teacher role`,"success"):T(`Address ${K(Y)} does not have teacher role`,"warning"),g(ee=>ee.some(me=>me.type==="role-check"&&me.address===Y)?ee:[{type:"role-check",address:Y,timestamp:new Date},...ee.slice(0,9)])}}));default:return J("default",n.jsx(Cv,{}))}},O=()=>o&&!c||y.length===0?null:n.jsxs("div",{className:"px-4 pt-4 border-t border-gray-700",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Recent Activity"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:y.slice(0,5).map((_,Y)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-gray-800/50 hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>{_.type==="student"&&_.address?(U(_.address),s("students")):_.type==="program"&&_.id?(q(_.id),s("programs")):_.type==="role-check"&&_.address&&(U(_.address),s("roles"))},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${_.type==="student"?"bg-blue-500":_.type==="program"?"bg-purple-500":"bg-amber-500"}`}),n.jsx("span",{className:"text-xs text-gray-300 truncate",children:_.type==="student"&&_.address?K(_.address):_.type==="program"&&_.id?`Program #${_.id}`:_.type==="role-check"&&_.address?`Role Check: ${K(_.address)}`:"Unknown item"})]}),n.jsx("span",{className:"text-xs text-gray-500",children:ne(_.timestamp)})]},Y))})]}),F=()=>c?n.jsx("button",{onClick:()=>m(!u),className:"md:hidden p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-800","aria-label":u?"Close menu":"Open menu",children:u?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}):null;return n.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col md:flex-row overflow-hidden",children:[n.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:F()}),n.jsxs("div",{ref:k,className:`${c?u?"fixed inset-y-0 left-0 z-40 w-64 transform translate-x-0":"fixed inset-y-0 left-0 z-40 w-64 transform -translate-x-full":o?"w-20":"w-64"} bg-gray-900 border-r border-gray-800 flex flex-col transition-all duration-300 ease-in-out`,children:[n.jsx("div",{className:"h-16 flex items-center px-4 border-b border-gray-800",children:o&&!c?n.jsx("div",{className:"w-full flex justify-center",children:n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-900/30 flex items-center justify-center",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})})})}):n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-indigo-400 bg-clip-text text-transparent",children:"Teacher Dashboard"}),c&&n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white","aria-label":"Close menu",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:n.jsx("ul",{className:"space-y-1 px-2",children:L.map(_=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>{s(_.id),c&&m(!1)},className:`w-full flex items-center ${o?"justify-center":"justify-start"} px-2 sm:px-4 py-2 sm:py-3 rounded-lg transition-colors ${r===_.id?"bg-gray-800 text-blue-400":"text-gray-400 hover:text-gray-300 hover:bg-gray-800/50"}`,title:o||c?`${_.label}: ${_.description}`:void 0,"aria-label":_.label,children:[n.jsx("span",{className:"flex-shrink-0",children:A(_.icon)}),(!o||c)&&n.jsx("span",{className:"ml-2 sm:ml-3 text-xs sm:text-sm font-medium truncate",children:_.label})]})},_.id))})}),n.jsx("div",{className:"hidden sm:block",children:O()}),n.jsxs("div",{className:`p-2 sm:p-4 border-t border-gray-800 ${o?"text-center":""}`,children:[n.jsxs("div",{className:`flex ${o?"flex-col items-center":"items-center"} ${!o&&"space-x-2 sm:space-x-3"}`,children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),!o&&n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-white truncate",children:"Teacher Account"}),n.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[120px] sm:max-w-full",children:t?K(e||""):"Not connected"})]})]}),!c&&n.jsx("button",{onClick:()=>l(!o),className:`mt-2 sm:mt-4 w-full text-xs flex items-center justify-center py-1 sm:py-2 px-2 sm:px-3 rounded-md bg-gray-800 text-gray-400 hover:text-gray-300 transition-colors ${o?"":"text-center"}`,"aria-label":o?"Expand sidebar":"Collapse sidebar",children:o?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M15 2a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-2a1 1 0 1 1 0-2h1V4h-1a1 1 0 1 1 0-2h2zm-6 0a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h6zm-1 2H4v12h4V4z",clipRule:"evenodd"})}):n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M3 2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 1 0 0-2H4V4h1a1 1 0 1 0 0-2H3zm12 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-2zm-1 2h1v12h-1V4z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-xs",children:"Collapse"})]})})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("header",{className:"h-12 sm:h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-3 sm:px-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-100 truncate ml-10 md:ml-0",children:((R=L.find(_=>_.id===r))==null?void 0:R.label)||"Dashboard"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-4",children:[n.jsx("div",{className:"relative",children:n.jsxs("button",{className:"text-gray-400 hover:text-gray-300 p-1 rounded-md hover:bg-gray-800 transition-colors","aria-label":`Notifications ${a.length>0?"("+a.length+")":""}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),a.length>0&&n.jsx("span",{className:"absolute top-0 right-0 block h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full bg-red-500 ring-2 ring-gray-900"})]})}),n.jsx("div",{className:"hidden sm:flex items-center px-3 py-1 bg-purple-900/20 border border-purple-800/30 rounded-full",children:n.jsxs("span",{className:"text-xs font-medium text-purple-400",children:[y.length," recent items"]})}),n.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-1 bg-green-900/20 border border-green-800/30 rounded-full",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full mr-1 sm:mr-2 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"})}),n.jsx("span",{className:"text-xs font-medium text-green-400 hidden xs:inline",children:"Network connected"})]}),n.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-1 bg-gray-800 border border-gray-700 rounded-full",children:[n.jsx("div",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full mr-1 sm:mr-2 ${t?"bg-blue-500":"bg-red-500"}`}),n.jsx("span",{className:"text-xs font-medium text-gray-300 hidden xs:inline truncate max-w-[80px] sm:max-w-full",children:t?K(e||""):"Wallet not connected"})]})]})]}),n.jsx("main",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:N?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-3 sm:border-4 border-t-blue-500 border-blue-200/20 rounded-full animate-spin mb-3 sm:mb-4"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Loading dashboard..."})]})}):n.jsx(Nt,{mode:"wait",children:n.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"h-full",children:E()},r)})})]}),n.jsx("div",{className:"fixed bottom-3 sm:bottom-6 right-3 sm:right-6 z-50 space-y-2 max-w-[calc(100vw-24px)] sm:max-w-md",children:n.jsx(Nt,{children:a.map(_=>n.jsxs(Z.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`px-3 sm:px-4 py-2 sm:py-3 rounded-lg shadow-lg ${_.type==="success"?"bg-green-500 text-white":_.type==="error"?"bg-red-500 text-white":_.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"} flex items-center justify-between text-xs sm:text-sm`,children:[n.jsx("p",{className:"mr-2 break-words",children:_.message}),n.jsx("button",{onClick:()=>i(Y=>Y.filter(ee=>ee.id!==_.id)),className:"ml-1 sm:ml-3 text-white opacity-70 hover:opacity-100 flex-shrink-0","aria-label":"Dismiss notification",children:""})]},_.id))})})]})},kv=({isActive:e})=>n.jsx("div",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${e?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:e?"Active":"Inactive"}),$O=({enrollmentPercentage:e})=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[n.jsx("span",{children:"0%"}),n.jsxs("span",{children:[e,"%"]}),n.jsx("span",{children:"100%"})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${e>=90?"bg-red-500":e>=75?"bg-orange-500":e>=50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${e}%`}})})]}),eo=({contract:e=vt,defaultSchool:t,defaultProgramId:r=1,compact:s=!1,onDataChange:a,hideRevenue:i=!1,hideTracking:o=!1,hideFees:l=!1})=>{const{address:c}=Ge(),[d,u]=w.useState(i?o?"fees":"tracking":"revenue"),[m,h]=w.useState(t||c||""),[p,f]=w.useState(""),[v,y]=w.useState(!t&&!!c),[g,x]=w.useState(r),[b,N]=w.useState((r==null?void 0:r.toString())||"1"),[j,k]=w.useState(""),[T,P]=w.useState(null),[I,B]=w.useState(null),[U,q]=w.useState(null);w.useEffect(()=>{t?(h(t),y(!1)):v&&c&&h(c)},[t,c,v]),w.useEffect(()=>{r&&(x(r),N(r.toString()))},[r]);const{data:K,isLoading:ne,isError:J,refetch:L}=Ce({address:e.address,abi:e.abi,functionName:"programRevenue",args:[m,BigInt(g)],query:{enabled:!!m&&/^0x[a-fA-F0-9]{40}$/.test(m)&&g>0}}),{data:A,isLoading:E,isError:O,refetch:F}=Ce({address:e.address,abi:e.abi,functionName:"revenueTracking",args:[m],query:{enabled:!!m&&/^0x[a-fA-F0-9]{40}$/.test(m)}}),R=A,{data:_,isLoading:Y,isError:ee,refetch:me}=Ce({address:e.address,abi:e.abi,functionName:"defaultFeeStructure"}),le=_,ce=pe=>pe===void 0?"0 ETH":`${Mt(pe)} ETH`,G=pe=>{if(!pe||pe===BigInt(0))return"No withdrawals yet";const M=new Date(Number(pe)*1e3);return isNaN(M.getTime())?"Invalid date":`${wv(M,"PPP")} at ${wv(M,"pp")}`},H=pe=>{if(!pe||pe===BigInt(0))return"No withdrawals yet";const M=new Date(Number(pe)*1e3);return isNaN(M.getTime())?"Invalid date":Zt(M,{addSuffix:!0})},re=(pe,M)=>!pe||!M||M===BigInt(0)?0:Number(pe*BigInt(100)/M),te=(pe,M=!1)=>pe===void 0?"":M?`${pe.toString()}%`:`${Mt(pe)} ETH`,$=(()=>{if(K===void 0)return"0 ETH";try{return Mt(BigInt(K.toString()))+" ETH"}catch(pe){return console.error("Error formatting revenue data:",pe),"0 ETH"}})(),z=pe=>pe?Zt(pe,{addSuffix:!0}):"Never checked",X=pe=>{f(pe.target.value),k("")},ie=pe=>{N(pe.target.value);const M=parseInt(pe.target.value);isNaN(M)||x(M),k("")},oe=pe=>pe?/^0x[a-fA-F0-9]{40}$/.test(pe)?(k(""),!0):(k("Invalid Ethereum address format"),!1):(k("School address is required"),!1),ue=pe=>isNaN(pe)||pe<=0?(k("Program ID must be a positive number"),!1):(k(""),!0),xe=pe=>{if(pe.preventDefault(),v&&c){const M=parseInt(b);if(!ue(M))return;h(c),x(M)}else{const M=parseInt(b);if(!oe(p)||!ue(M))return;h(p),x(M)}ve()},ge=()=>{t||(y(!v),!v&&c?h(c):(h(""),f("")))},ve=w.useCallback(()=>{L(),F(),me();const pe=new Date;P(pe),B(pe),q(pe)},[L,F,me]),ke=w.useCallback(pe=>{const M=new Date;pe==="revenue"?(L(),P(M)):pe==="tracking"?(F(),B(M)):pe==="fees"&&(me(),q(M))},[L,F,me]);w.useEffect(()=>{if(a){let pe=null;R&&(pe={totalRevenue:{raw:R.totalRevenue,formatted:ce(R.totalRevenue)},platformShare:{raw:R.platformShare,formatted:ce(R.platformShare),percentage:re(R.platformShare,R.totalRevenue)},schoolShare:{raw:R.schoolShare,formatted:ce(R.schoolShare),percentage:re(R.schoolShare,R.totalRevenue)},lastWithdrawalTime:{raw:R.lastWithdrawalTime,formatted:G(R.lastWithdrawalTime),timeAgo:H(R.lastWithdrawalTime)}});let M=null;le&&(M={programCreationFee:{raw:le.programCreationFee,formatted:te(le.programCreationFee)},subscriptionFee:{raw:le.subscriptionFee,formatted:te(le.subscriptionFee)},certificateFee:{raw:le.certificateFee,formatted:te(le.certificateFee)},revenueSharePercentage:{raw:le.revenueSharePercentage,formatted:te(le.revenueSharePercentage,!0)},isCustom:le.isCustom});const C={programRevenue:{raw:K!==void 0?BigInt(K.toString()):void 0,formatted:$,programId:g,schoolAddress:m},revenueTracking:pe,feeStructure:M,loading:{programRevenue:ne,revenueTracking:E,feeStructure:Y},error:{programRevenue:J,revenueTracking:O,feeStructure:ee},lastChecked:{programRevenue:T,revenueTracking:I,feeStructure:U}};a(C)}},[K,R,le,ne,E,Y,J,O,ee,T,I,U,$,g,m,a]),w.useEffect(()=>{(t||v&&c)&&!T&&!I&&!U&&ve()},[t,c,v,T,I,U,ve]);const se=le?[{label:"Program Creation Fee",value:te(le.programCreationFee),raw:le.programCreationFee,description:"One-time fee paid when creating a new educational program"},{label:"Subscription Fee",value:te(le.subscriptionFee),raw:le.subscriptionFee,description:"Regular fee paid for access to platform services"},{label:"Certificate Fee",value:te(le.certificateFee),raw:le.certificateFee,description:"Fee paid for issuing digital certificates to students"},{label:"Revenue Share Percentage",value:te(le.revenueSharePercentage,!0),raw:le.revenueSharePercentage,description:"Percentage of program revenue shared with the platform"}]:[],de=!ne&&!J&&T,je=!E&&!O&&R,Le=!Y&&!ee&&le;return s?n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[n.jsxs("h3",{className:"text-md font-semibold mb-3 flex items-center bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 7H7v10h5v-4m0-6v4h5m-5-4v10h5V7h-5z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Financial Dashboard"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-2",children:[!i&&n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("p",{className:"text-xs text-cyan-400 font-medium",children:"Program Revenue:"}),n.jsx("button",{onClick:()=>ke("revenue"),className:"text-xs bg-gray-600/50 hover:bg-gray-600 text-gray-300 px-1.5 py-0.5 rounded-sm transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),de?n.jsx("div",{className:"text-sm font-medium text-white",children:$}):n.jsx("div",{className:"text-xs text-gray-400",children:"No data available"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Program #",g]})]}),!o&&n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("p",{className:"text-xs text-orange-400 font-medium",children:"Revenue Tracking:"}),n.jsx("button",{onClick:()=>ke("tracking"),className:"text-xs bg-gray-600/50 hover:bg-gray-600 text-gray-300 px-1.5 py-0.5 rounded-sm transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),je?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Total:"}),n.jsx("span",{className:"text-white ml-1",children:ce(R==null?void 0:R.totalRevenue)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"School Share:"}),n.jsx("span",{className:"text-white ml-1",children:ce(R==null?void 0:R.schoolShare)})]})]})}):n.jsx("div",{className:"text-xs text-gray-400",children:"No tracking data available"})]}),!l&&n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("p",{className:"text-xs text-indigo-400 font-medium",children:"Fee Structure:"}),n.jsx("button",{onClick:()=>ke("fees"),className:"text-xs bg-gray-600/50 hover:bg-gray-600 text-gray-300 px-1.5 py-0.5 rounded-sm transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),Le?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Revenue Share:"}),n.jsx("div",{className:"text-sm font-medium text-white",children:te(le==null?void 0:le.revenueSharePercentage,!0)})]}):n.jsx("div",{className:"text-xs text-gray-400",children:"No fee data available"})]})]})]}):n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-cyan-400 via-orange-400 to-indigo-400 bg-clip-text text-transparent",children:"Financial Dashboard"}),n.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ve,disabled:ne||E||Y,className:"flex items-center bg-gray-700 hover:bg-gray-600 text-gray-200 px-3 py-1.5 rounded text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[n.jsx("svg",{className:"w-3.5 h-3.5 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh All Data"]})]}),n.jsxs("form",{onSubmit:xe,className:"bg-gray-700/30 rounded-lg p-4 mb-5",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"School Address"}),!t&&c&&n.jsx("button",{type:"button",onClick:ge,className:"text-xs px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:v?"Use Custom Address":"Use Connected Address"})]}),v&&c?n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Connected Address:"}),n.jsx("div",{className:"font-mono text-sm text-white break-all",children:c})]}):n.jsx("input",{type:"text",value:p,onChange:X,placeholder:"Enter school address (0x...)",disabled:!!t,className:`w-full px-3 py-2 bg-gray-700 border ${j&&j.includes("address")?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t?"opacity-50 cursor-not-allowed":""}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"program-id",className:"block text-sm font-medium text-gray-300",children:"Program ID"}),n.jsx("input",{id:"program-id",type:"number",value:b,onChange:ie,placeholder:"Enter program ID",min:"1",disabled:!!r,className:`w-full px-3 py-2 bg-gray-700 border ${j&&j.includes("Program ID")?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r?"opacity-50 cursor-not-allowed":""}`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the ID of the program to check financial data"})]})]}),j&&n.jsx("div",{className:"text-xs text-red-400 mt-3 bg-red-500/10 p-2 rounded border border-red-500/30",children:j}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{type:"submit",disabled:ne||E||Y,className:"w-full px-4 py-2 rounded-md text-white font-medium bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600 hover:from-cyan-700 hover:via-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-70 transition-colors duration-300",children:ne||E||Y?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading Financial Data..."]}):"View Financial Data"})})]}),(de||je||Le)&&n.jsx("div",{className:"mb-4 border-b border-gray-700",children:n.jsxs("div",{className:"flex flex-wrap",children:[!i&&n.jsx("button",{onClick:()=>u("revenue"),className:`py-2 px-4 mr-2 text-sm font-medium transition-colors ${d==="revenue"?"text-cyan-400 border-b-2 border-cyan-400 bg-cyan-500/10":"text-gray-400 hover:text-gray-300"}`,children:"Program Revenue"}),!o&&n.jsx("button",{onClick:()=>u("tracking"),className:`py-2 px-4 mr-2 text-sm font-medium transition-colors ${d==="tracking"?"text-orange-400 border-b-2 border-orange-400 bg-orange-500/10":"text-gray-400 hover:text-gray-300"}`,children:"Revenue Tracking"}),!l&&n.jsx("button",{onClick:()=>u("fees"),className:`py-2 px-4 mr-2 text-sm font-medium transition-colors ${d==="fees"?"text-indigo-400 border-b-2 border-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-300"}`,children:"Fee Structure"})]})}),d==="revenue"&&!i&&n.jsxs("div",{className:"space-y-4",children:[ne&&n.jsx("div",{className:"flex items-center justify-center py-8 bg-gray-700/20 rounded-lg mb-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-t-cyan-400 border-cyan-200/30 rounded-full animate-spin mb-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Fetching program revenue data..."})]})}),J&&!ne&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Revenue Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to fetch program revenue. Please verify the school address and program ID are correct."})]})]})}),de&&n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"text-sm text-center text-gray-400 mb-1",children:"Program Revenue"}),n.jsx("div",{className:"text-3xl font-bold text-cyan-400 text-center",children:$})]}),n.jsx("div",{className:"w-full mt-2 mb-4",children:n.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-cyan-500 rounded-full",style:{width:`${Math.min(100,parseFloat($)*5)}%`,transition:"width 1s ease-in-out"}})})}),n.jsxs("div",{className:"w-full flex items-center justify-between bg-gray-700/50 rounded-md p-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"School:"}),n.jsx("p",{className:"font-mono text-sm text-gray-300 break-all",children:m})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Program ID:"}),n.jsx("p",{className:"text-sm text-gray-300 text-right",children:g})]})]}),n.jsx("div",{className:`py-1 px-3 rounded-full text-xs font-medium mb-3 ${parseFloat($)>0?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:parseFloat($)>0?"Revenue Available":"No Revenue Recorded"}),n.jsxs("button",{onClick:()=>ke("revenue"),disabled:ne,className:"flex items-center text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Revenue Data"]})]})}),de&&n.jsx("div",{className:"mt-4 bg-gray-700/20 rounded-md p-3",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",z(T)]})})]}),d==="tracking"&&!o&&n.jsxs("div",{className:"space-y-4",children:[E&&n.jsx("div",{className:"flex items-center justify-center py-8 bg-gray-700/20 rounded-lg mb-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-t-orange-400 border-orange-200/30 rounded-full animate-spin mb-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Fetching revenue tracking data..."})]})}),O&&!E&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Revenue Tracking Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to fetch revenue tracking data. Please verify the school address is correct."})]})]})}),je&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Revenue Tracking for School:"}),n.jsx("div",{className:"font-mono text-sm text-white break-all",children:m})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Revenue Summary"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-sm text-center text-gray-400 mb-1",children:"Total Revenue Generated"}),n.jsx("div",{className:"text-3xl font-bold text-orange-400 text-center",children:ce(R==null?void 0:R.totalRevenue)})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Revenue Distribution"}),n.jsxs("div",{className:"h-6 bg-gray-800 rounded-md overflow-hidden flex mb-3",children:[n.jsx("div",{className:"h-full bg-orange-500 flex items-center justify-center text-xs font-semibold text-white",style:{width:`${re(R==null?void 0:R.platformShare,R==null?void 0:R.totalRevenue)}%`,transition:"width 1s ease-in-out"},children:re(R==null?void 0:R.platformShare,R==null?void 0:R.totalRevenue)>=10?`${re(R==null?void 0:R.platformShare,R==null?void 0:R.totalRevenue)}%`:""}),n.jsx("div",{className:"h-full bg-blue-500 flex items-center justify-center text-xs font-semibold text-white",style:{width:`${re(R==null?void 0:R.schoolShare,R==null?void 0:R.totalRevenue)}%`,transition:"width 1s ease-in-out"},children:re(R==null?void 0:R.schoolShare,R==null?void 0:R.totalRevenue)>=10?`${re(R==null?void 0:R.schoolShare,R==null?void 0:R.totalRevenue)}%`:""})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-sm mr-1.5"}),n.jsx("span",{className:"text-gray-300",children:"Platform Share"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-sm mr-1.5"}),n.jsx("span",{className:"text-gray-300",children:"School Share"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Platform Share"}),n.jsx("span",{className:"text-md font-semibold text-orange-400",children:ce(R==null?void 0:R.platformShare)})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Amount allocated to the platform"})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"School Share"}),n.jsx("span",{className:"text-md font-semibold text-blue-400",children:ce(R==null?void 0:R.schoolShare)})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Amount allocated to the school"})]})]})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Withdrawal History"]}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[n.jsxs("div",{className:"mb-2 sm:mb-0",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"Last Withdrawal Date"}),n.jsx("p",{className:"text-md text-white",children:G(R==null?void 0:R.lastWithdrawalTime)})]}),n.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${R!=null&&R.lastWithdrawalTime&&(R==null?void 0:R.lastWithdrawalTime)>BigInt(0)?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:R!=null&&R.lastWithdrawalTime&&(R==null?void 0:R.lastWithdrawalTime)>BigInt(0)?H(R==null?void 0:R.lastWithdrawalTime):"No withdrawals yet"})]})})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{onClick:()=>ke("tracking"),disabled:E,className:"flex items-center text-xs px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Tracking Data"]})}),n.jsx("div",{className:"bg-gray-700/20 rounded-md p-2.5",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",z(I)]})})]})]}),d==="fees"&&!l&&n.jsxs("div",{className:"space-y-4",children:[Y&&!le&&n.jsx("div",{className:"flex items-center justify-center py-8 bg-gray-700/20 rounded-lg mb-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-t-indigo-400 border-indigo-200/30 rounded-full animate-spin mb-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading fee structure..."})]})}),ee&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Fee Structure Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to fetch fee structure data. Please try again later."})]})]})}),Le&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:se.map((pe,M)=>n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"text-sm text-gray-300",children:pe.label}),n.jsx("span",{className:"text-md font-semibold text-indigo-400",children:pe.value})]}),n.jsx("p",{className:"text-xs text-gray-400",children:pe.description})]},M))}),n.jsxs("div",{className:`rounded-md p-3 flex items-center ${le!=null&&le.isCustom?"bg-purple-900/20 border border-purple-700/30":"bg-blue-900/20 border border-blue-700/30"}`,children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${le!=null&&le.isCustom?"bg-purple-500":"bg-blue-500"}`}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-200",children:le!=null&&le.isCustom?"Custom Fee Structure":"Standard Fee Structure"}),n.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:le!=null&&le.isCustom?"This fee structure has been customized for specific use cases.":"This is the standard platform fee structure applied by default."})]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{onClick:()=>ke("fees"),disabled:Y,className:"flex items-center text-xs px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Fee Structure"]})}),n.jsx("div",{className:"bg-gray-700/20 rounded-md p-2.5",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-end",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",z(U)]})})]})]})]})},BO=(e,t)=>{const[r,s]=w.useState(null),a=i=>{s(i)};return{FinancialDashboard:({compact:i=!1,...o})=>n.jsx(eo,{defaultSchool:e,defaultProgramId:t,onDataChange:a,compact:i,...o}),data:r,CompactFinancialView:i=>n.jsx(eo,{defaultSchool:e,defaultProgramId:t,onDataChange:a,compact:!0,...i}),RevenueView:i=>n.jsx(eo,{defaultSchool:e,defaultProgramId:t,onDataChange:a,hideTracking:!0,hideFees:!0,...i}),TrackingView:i=>n.jsx(eo,{defaultSchool:e,onDataChange:a,hideRevenue:!0,hideFees:!0,...i}),FeesView:i=>n.jsx(eo,{onDataChange:a,hideRevenue:!0,hideTracking:!0,...i})}},zO=({contract:e,initialRoleId:t="",initialAddress:r="",predefinedRoles:s={},onRoleCheckResult:a})=>{const[i,o]=w.useState(t),[l,c]=w.useState(""),[d,u]=w.useState(r),[m,h]=w.useState(r?Be(r):!1),[p,f]=w.useState(!1),v=Object.keys(s),{data:y,error:g,isLoading:x,isSuccess:b,refetch:N}=Ce({...e,functionName:"hasRole",args:[i,d],enabled:p&&m&&i!==""});w.useEffect(()=>{const I=d?Be(d):!1;h(I)},[d]);const j=I=>{const B=I.target.value;c(B),B&&s[B]?o(s[B]):o("")},k=I=>{o(I.target.value),c("")},T=I=>{u(I.target.value)},P=I=>{I.preventDefault(),m&&i&&f(!0)};return w.useEffect(()=>{b&&y!==void 0&&a&&a(!!y,i,d)},[y,b,i,d,a]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Role Permission Checker"}),n.jsxs("form",{onSubmit:P,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Role to Check:"}),v.length>0&&n.jsx("div",{className:"mb-2",children:n.jsxs("select",{value:l,onChange:j,className:"w-full bg-gray-700/50 border border-gray-600 focus:border-blue-500 rounded px-3 py-2 text-sm text-gray-200 focus:outline-none",children:[n.jsx("option",{value:"",children:"Select a predefined role"}),v.map(I=>n.jsx("option",{value:I,children:I},I))]})}),n.jsxs("div",{className:"flex space-x-2 items-center",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",value:i,onChange:k,placeholder:"Enter role ID (bytes32)",className:"w-full bg-gray-700/50 border border-gray-600 focus:border-blue-500 rounded px-3 py-2 text-sm text-gray-200 focus:outline-none"})}),l&&n.jsx("div",{className:"bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-xs",children:l})]}),i&&!i.startsWith("0x")&&n.jsx("p",{className:"text-xs text-yellow-400",children:"Note: Role IDs should typically start with '0x'"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"address-input",className:"block text-sm text-gray-400",children:"Address to Check:"}),n.jsx("input",{id:"address-input",type:"text",value:d,onChange:T,placeholder:"0x...",className:`w-full bg-gray-700/50 border ${d&&!m?"border-red-500/50 focus:border-red-500":"border-gray-600 focus:border-blue-500"} rounded px-3 py-2 text-sm text-gray-200 focus:outline-none`}),d&&!m&&n.jsx("p",{className:"text-xs text-red-400",children:"Please enter a valid Ethereum address"})]}),n.jsx("button",{type:"submit",disabled:!m||!i||x,className:`w-full py-2 px-4 rounded text-sm font-medium ${!m||!i||x?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:x?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-white border-white/30 rounded-full animate-spin mr-2"}),n.jsx("span",{children:"Checking..."})]}):"Check Role"})]}),p&&n.jsxs("div",{className:"mt-5 border-t border-gray-700 pt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Results"}),g&&n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:[n.jsxs("p",{className:"text-sm",children:["Error checking role: ",g.message||"Unknown error"]}),n.jsx("button",{onClick:()=>N(),className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}),b&&y!==void 0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`p-3 rounded-md ${y?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:n.jsxs("div",{className:"flex items-center",children:[y?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("p",{className:`text-sm font-medium ${y?"text-green-400":"text-red-400"}`,children:y?"Address has this role":"Address does not have this role"})]})}),n.jsx("div",{className:"bg-gray-700/50 rounded-md p-3",children:n.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Role ID:"}),n.jsxs("p",{className:"text-sm font-mono text-gray-300 break-all",children:[i,l&&n.jsxs("span",{className:"ml-1 text-blue-400",children:["(",l,")"]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Address:"}),n.jsx("p",{className:"text-sm font-mono text-gray-300 break-all",children:d})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Result:"}),n.jsx("p",{className:"text-sm text-gray-200",children:y?"True (Has Role)":"False (No Role)"})]})]})})]})]})]})},bc=({defaultMode:e="create",initialProgramId:t,onProgramCreated:r,onProgramUpdated:s,onDataChange:a,adminRole:i,hideRoleChecker:o=!1,showAllTabs:l=!0})=>{const{address:c}=Ge(),[d,u]=w.useState(e==="create"?"create":e==="update"?"manage":"view"),[m,h]=w.useState(t||0),[p,f]=w.useState(null),[v,y]=w.useState(o),[g,x]=w.useState(o),[b,N]=w.useState(""),[j,k]=w.useState(""),[T,P]=w.useState(""),[I,B]=w.useState(""),[U,q]=w.useState(""),[,K]=w.useState(""),[,ne]=w.useState("info"),[J,L]=w.useState(!1),[A,E]=w.useState("initial"),[O,F]=w.useState(""),[R,_]=w.useState(null),[Y,ee]=w.useState(null),me=i||"0x0000000000000000000000000000000000000000000000000000000000000000",le={"Admin Role":me},{data:ce,isLoading:G,isSuccess:H,refetch:re}=Ce({address:vt.address,abi:vt.abi,functionName:"programs",args:[m],query:{enabled:m>0}}),{data:te,isPending:$,writeContract:z,error:X,reset:ie}=zt(),{isLoading:oe,isSuccess:ue,error:xe}=on({hash:te}),ge=$||oe,ve=X||xe;w.useEffect(()=>{if(ce&&H&&m>0){const[V,ae,we,Ue,Ie,Ne,Pe]=ce;f({programId:m,name:V,termFee:we,requiredAttendance:Ie,maxEnrollment:Pe,isActive:ae,minAttendance:Ue,currentEnrollment:Ne}),d==="manage"&&q(Mt(we))}},[ce,H,m,d]);const ke=V=>{h(V)},se=V=>{y(V),x(!0)},de=w.useCallback(()=>{if(!a)return;const V={currentProgram:p,creationData:R,updateData:Y,permissions:{hasAdminRole:v,roleCheckComplete:g},status:{isLoading:ge,isSuccess:ue,isError:!!ve,errorMessage:ve?ve.message:null}};a(V)},[p,R,Y,v,g,ge,ue,ve,a]);w.useEffect(()=>{de()},[de]),w.useEffect(()=>{if(J){const V=setTimeout(()=>{L(!1)},5e3);return()=>clearTimeout(V)}},[J]),w.useEffect(()=>{if(ue&&te){if(K("Transaction successfully confirmed!"),ne("success"),L(!0),E("completed"),d==="create"){const V={programName:b,termFee:j,requiredAttendance:T,maxEnrollment:I,transaction:{hash:te,timestamp:new Date,status:"success"}};_(V),r&&r(V)}else if(d==="manage"&&p){const V={programId:m,field:"termFee",oldValue:Mt(p.termFee),newValue:U,transaction:{hash:te,timestamp:new Date,status:"success"}};ee(V),s&&s(V)}}},[ue,te,d,b,j,T,I,p,m,U,r,s]),w.useEffect(()=>{if(ve){const V=(ve==null?void 0:ve.message)||"Unknown error occurred";K(`Transaction failed: ${V}`),ne("error"),L(!0),E("initial"),R&&R.transaction&&R.transaction.status==="pending"&&_({...R,transaction:{...R.transaction,status:"error",error:ve}}),Y&&Y.transaction&&Y.transaction.status==="pending"&&ee({...Y,transaction:{...Y.transaction,status:"error",error:ve}})}},[ve,R,Y]);const je=()=>b.trim()?!j||isNaN(Number(j))||Number(j)<0?(F("Please enter a valid term fee"),!1):!T||isNaN(Number(T))||Number(T)<0||Number(T)>1e4?(F("Required attendance must be a value between 0 and 10000 (0-100%)"),!1):!I||isNaN(Number(I))||!Number.isInteger(Number(I))||Number(I)<=0?(F("Maximum enrollment must be a positive integer"),!1):(F(""),!0):(F("Program name is required"),!1),Le=()=>!U||isNaN(Number(U))||Number(U)<0?(F("Please enter a valid term fee"),!1):p&&Mt(p.termFee)===U?(F("New fee must be different from the current fee"),!1):(F(""),!0),pe=async()=>{try{if(ie==null||ie(),F(""),!je())return;E("processing"),K("Submitting transaction to create program..."),ne("info"),L(!0);const V=bd(j),ae=Number(T),we=Number(I);z({...vt,address:vt.address,functionName:"createProgram",args:[b,V,ae,we]}),K("Transaction submitted! Waiting for confirmation..."),ne("info"),L(!0)}catch(V){console.error("Error creating program:",V);const ae=V instanceof Error?V:new Error("Unknown error");K(`Error: ${ae.message}`),ne("error"),L(!0),E("initial")}},M=async()=>{try{if(ie==null||ie(),F(""),!Le()||!p)return;E("processing"),K("Submitting transaction to update program fee..."),ne("info"),L(!0);const V=bd(U);z({...vt,address:vt.address,functionName:"updateProgramFee",args:[m,V]}),K("Transaction submitted! Waiting for confirmation..."),ne("info"),L(!0)}catch(V){console.error("Error updating program fee:",V);const ae=V instanceof Error?V:new Error("Unknown error");K(`Error: ${ae.message}`),ne("error"),L(!0),E("initial")}},S=()=>{N(""),k(""),P(""),B(""),F(""),E("initial"),ie==null||ie()},C=()=>{q(p?Mt(p.termFee):""),F(""),E("initial"),ie==null||ie()},D=V=>{if(typeof window<"u"&&window.__programManagement){const ae=window.__programManagement;ae.setProgramName(V.programName),ae.setTermFee(V.termFee),ae.setRequiredAttendance(V.requiredAttendance),ae.setMaxEnrollment(V.maxEnrollment),setTimeout(()=>{ae.handleCreateProgram()},100)}},W=(V,ae)=>{if(typeof window<"u"&&window.__programManagement){const we=window.__programManagement;we.setCurrentProgramId(V),we.setNewTermFee(ae),setTimeout(()=>{we.handleUpdateFee()},100)}};return w.useEffect(()=>(typeof window<"u"&&(window.__programManagement={createProgram:D,updateProgramFee:W,resetCreateForm:S,resetUpdateForm:C,refetchProgram:re,getCurrentProgramId:()=>m,getCurrentProgram:()=>p,hasAdminRole:()=>v,setProgramName:N,setTermFee:k,setRequiredAttendance:P,setMaxEnrollment:B,setValidationError:F,setProcessingState:E,resetWrite:ie,setCurrentProgramId:h,setNewTermFee:q,handleCreateProgram:pe,handleUpdateFee:M}),()=>{typeof window<"u"&&delete window.__programManagement}),[m,p,v,N,k,P,B,F,E,ie,h,q,pe,M]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Program Management Dashboard"}),n.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Create, manage, and view educational programs on the blockchain."}),l&&n.jsxs("div",{className:"flex flex-wrap mb-6 border-b border-gray-700",children:[n.jsx("button",{onClick:()=>u("create"),className:`py-2 px-4 text-sm font-medium transition-colors ${d==="create"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Create Program"}),n.jsx("button",{onClick:()=>u("manage"),className:`py-2 px-4 text-sm font-medium transition-colors ${d==="manage"?"text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:"Manage Programs"}),n.jsx("button",{onClick:()=>u("view"),className:`py-2 px-4 text-sm font-medium transition-colors ${d==="view"?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-gray-300"}`,children:"View Program"})]}),d==="create"&&A==="completed"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-900/30 border border-green-700/50 rounded-md p-4 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto mb-2 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"Program Created Successfully"}),n.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"Your new educational program has been created and is now available on the blockchain."})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-4",children:"Program Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"col-span-2 bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Program Name"}),n.jsx("p",{className:"text-sm font-medium text-gray-200 mt-1",children:b})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Term Fee"}),n.jsxs("p",{className:"text-sm font-medium text-gray-200 mt-1",children:[j," ETH"]})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Required Attendance"}),n.jsxs("p",{className:"text-sm font-medium text-gray-200 mt-1",children:[(Number(T)/100).toFixed(2),"%"]})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Maximum Enrollment"}),n.jsxs("p",{className:"text-sm font-medium text-gray-200 mt-1",children:[I," students"]})]}),n.jsxs("div",{className:"col-span-2 bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Next Steps"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Your program is now created. You can now set up courses, enrollment periods, and share the program details with potential students."})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-2",children:"Transaction Details"}),n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Transaction Hash"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"font-mono text-xs bg-gray-800 p-2 rounded-md text-gray-300 overflow-x-auto max-w-full flex-1 break-all",children:te}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(te||""),K("Transaction hash copied to clipboard!"),ne("success"),L(!0)},className:"ml-2 p-2 bg-gray-700 hover:bg-gray-600 rounded-md text-gray-300",title:"Copy to clipboard",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Z.button,{onClick:()=>{E("initial"),S()},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium rounded-md shadow-lg transition-all duration-300",children:"Create Another Program"}),n.jsx(Z.button,{onClick:()=>{u("manage")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 px-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-medium rounded-md shadow-lg transition-all duration-300",children:"Manage Programs"})]})]}),d==="manage"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-green-400 mb-4",children:"Program Fee Management"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Select a program and update its fee structure. Administrator privileges are required."})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Step 1: Select Program"}),n.jsx(Bd,{onProgramIdRead:ke})]}),m>0&&!o&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Step 2: Verify Admin Role"}),n.jsx(zO,{contract:{address:vt.address,abi:vt.abi},initialRoleId:me,initialAddress:c||void 0,predefinedRoles:le,onRoleCheckResult:se})]})]}),m>0&&(g||o)&&n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("h4",{className:"text-md font-medium text-green-400 mb-3",children:[o?"Update Program Fee":"Step 3: Update Program Fee",!v&&!o&&n.jsx("span",{className:"ml-2 text-red-400 text-sm",children:"(Admin role required)"})]}),!v&&!o?n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"You do not have the Admin role required to update program fees. Please contact your administrator for assistance."})}):n.jsx(n.Fragment,{children:G?n.jsxs("div",{className:"flex items-center justify-center py-10",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-green-400 border-green-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-300",children:"Loading program details..."})]}):p?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Program Name"}),n.jsx("p",{className:"text-sm font-medium text-white",children:p.name})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Current Fee"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[Mt(p.termFee)," ETH"]})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Required Attendance"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[(p.requiredAttendance/100).toFixed(2),"%"]})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Maximum Enrollment"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[p.maxEnrollment," students"]})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Current Enrollment"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[p.currentEnrollment," students"]})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Minimum Attendance"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[(p.minAttendance/100).toFixed(2),"%"]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Update Program Fee"}),n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-4",children:[n.jsx("label",{htmlFor:"new-fee-input",className:"block text-sm text-gray-400 mb-2",children:"New Fee (ETH):"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx("input",{id:"new-fee-input",type:"text",value:U,onChange:V=>{q(V.target.value),F("")},disabled:ge,placeholder:"0.01",className:`w-full bg-gray-700/50 border ${O?"border-red-500/50 focus:border-red-500":"border-gray-600 focus:border-green-500"} rounded px-3 py-2 text-sm text-gray-200 focus:outline-none`})}),n.jsx("button",{onClick:M,disabled:ge||!U,className:`px-4 py-2 rounded-md text-sm font-medium ${ge||!U?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:ge?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-white border-white/30 rounded-full animate-spin mr-2"}),oe?"Confirming...":"Processing..."]}):"Update Fee"})]}),O&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-2 text-sm mt-2",children:O})]})]})]}):n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"Could not load program details. Please make sure the program ID is valid."})})})]})]}),d==="view"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-purple-400 mb-4",children:"Program Details Viewer"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"View detailed information about a specific educational program."})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Select Program to View"}),n.jsx(Bd,{onProgramIdRead:ke})]})]}),m>0&&n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h4",{className:"text-md font-medium text-purple-400 mb-4",children:"Program Information"}),G?n.jsxs("div",{className:"flex items-center justify-center py-10",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-purple-400 border-purple-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-300",children:"Loading program details..."})]}):p?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:p.name}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${p.isActive?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:`text-sm ${p.isActive?"text-green-400":"text-red-400"}`,children:p.isActive?"Active":"Inactive"})]})]}),n.jsx("div",{className:"bg-purple-500/20 rounded-lg px-3 py-2 border border-purple-500/30 mt-3 md:mt-0",children:n.jsxs("p",{className:"text-sm font-medium text-purple-400",children:["ID: ",m]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-blue-400 mb-2",children:"Term Fee"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[Mt(p.termFee)," ETH"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Cost for one term enrollment"})]}),n.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-green-400 mb-2",children:"Required Attendance"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[(p.requiredAttendance/100).toFixed(2),"%"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Minimum attendance to pass the program"})]}),n.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-orange-400 mb-2",children:"Enrollment Capacity"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:p.maxEnrollment}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Maximum number of students allowed"})]}),n.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-purple-400 mb-2",children:"Current Enrollment"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:p.currentEnrollment}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Currently enrolled students"})]}),n.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-yellow-400 mb-2",children:"Minimum Attendance"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[(p.minAttendance/100).toFixed(2),"%"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Minimum attendance threshold"})]}),n.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-indigo-400 mb-2",children:"Available Slots"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:Math.max(0,p.maxEnrollment-p.currentEnrollment)}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Remaining enrollment capacity"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[n.jsx("button",{onClick:()=>re(),className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md text-sm text-gray-300 transition-colors",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh Data"]})}),n.jsx("button",{onClick:()=>u("manage"),className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded-md text-sm text-white transition-colors",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Manage Program"]})})]})]}):n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"Could not load program details. Please make sure the program ID is valid."})})]})]})]})},UO=(e,t)=>{const[r,s]=w.useState(null),a=i=>{s(i)};return{ProgramManagementComponent:(i={})=>n.jsx(bc,{defaultMode:e,initialProgramId:t,onDataChange:a,...i}),data:r,createProgram:i=>{typeof window<"u"&&window.__programManagement&&window.__programManagement.createProgram(i)},updateProgramFee:(i,o)=>{typeof window<"u"&&window.__programManagement&&window.__programManagement.updateProgramFee(i,o)},getCurrentProgram:()=>typeof window<"u"&&window.__programManagement?window.__programManagement.getCurrentProgram():null,hasAdminRole:()=>typeof window<"u"&&window.__programManagement?window.__programManagement.hasAdminRole():!1,resetCreateForm:()=>{typeof window<"u"&&window.__programManagement&&window.__programManagement.resetCreateForm()},resetUpdateForm:()=>{typeof window<"u"&&window.__programManagement&&window.__programManagement.resetUpdateForm()},ProgramCreator:(i={})=>n.jsx(bc,{defaultMode:"create",initialProgramId:t,onDataChange:a,showAllTabs:!1,...i}),ProgramManager:(i={})=>n.jsx(bc,{defaultMode:"update",initialProgramId:t,onDataChange:a,showAllTabs:!1,...i}),ProgramViewer:(i={})=>n.jsx(bc,{defaultMode:"view",initialProgramId:t,onDataChange:a,showAllTabs:!1,...i})}},VO=(e=Zs,t=Zs,r=Zs,s)=>{const{address:a}=Ge(),[i,o]=w.useState(""),[l,c]=w.useState(""),[d,u]=w.useState(""),[m,h]=w.useState(""),[p,f]=w.useState({programFee:"",subscriptionFee:"",certificateFee:"",revenueShare:""}),[v,y]=w.useState(!1),[g,x]=w.useState(null),[b,N]=w.useState(""),[j,k]=w.useState(!1),{data:T,isLoading:P,isError:I}=Ce({abi:t.abi,address:t.address,functionName:"ADMIN_ROLE"}),{data:B,isLoading:U,isError:q,refetch:K}=Ce({abi:r.abi,address:r.address,functionName:"paused"}),{data:ne,isLoading:J,isError:L,refetch:A}=Ce({abi:t.abi,address:t.address,functionName:"hasRole",args:T&&a?[T,a]:void 0,query:{enabled:!!T&&!!a}}),{data:E,isLoading:O,isError:F,refetch:R}=Ce({abi:e.abi,address:e.address,functionName:"getDefaultFeeStructure"}),{data:_,error:Y,isPending:ee,writeContract:me}=zt(),{isLoading:le,isSuccess:ce,error:G}=on({hash:_}),H=P||U||J||O,re=ee||le,te=Y||G;w.useEffect(()=>{if(E&&Array.isArray(E)){const[ue,xe,ge,ve]=E;f({programFee:ue.toString(),subscriptionFee:xe.toString(),certificateFee:ge.toString(),revenueShare:ve.toString()})}},[E]),w.useEffect(()=>{H||(y(!!ne&&!!!B),x(new Date))},[ne,B,H]),w.useEffect(()=>{const ue=/^\d+$/.test(i),xe=/^\d+$/.test(l),ge=/^\d+$/.test(d),ve=/^\d+$/.test(m)&&parseInt(m)<=1e4;k(ue&&xe&&ge&&ve)},[i,l,d,m]);const $=()=>g?Zt(g,{addSuffix:!0}):"Never checked",z=()=>{o(p.programFee),c(p.subscriptionFee),u(p.certificateFee),h(p.revenueShare)},X=()=>{o(""),c(""),u(""),h("")},ie=()=>{if(!v){N(ne?B?"System is paused. Cannot update fee structures at this time":"Unable to update fee structure due to system constraints":"You do not have the ADMIN_ROLE required to update fee structures");return}if(!j){/^\d+$/.test(i)?/^\d+$/.test(l)?/^\d+$/.test(d)?/^\d+$/.test(m)?parseInt(m)>1e4?N("Revenue share cannot exceed 10000 (100.00%)"):N("Please check all fields and try again"):N("Revenue share must be a valid integer value"):N("Certificate fee must be a valid integer value"):N("Subscription fee must be a valid integer value"):N("Program fee must be a valid integer value");return}try{N(""),me({abi:e.abi,address:e.address,functionName:"updateDefaultFeeStructure",args:[BigInt(i),BigInt(l),BigInt(d),BigInt(m)]})}catch(ue){console.error("Error updating fee structure:",ue),N("Error initiating transaction")}};return w.useEffect(()=>{ce&&!le&&(s&&_&&s(_),A(),K(),R(),x(new Date),X())},[ce,le,_,s,A,K,R]),{currentFeeStructure:p,programFee:i,subscriptionFee:l,certificateFee:d,revenueShare:m,setProgramFee:o,setSubscriptionFee:c,setCertificateFee:u,setRevenueShare:h,canUpdate:v,isLoading:H,isProcessing:re,isFormValid:j,errorMessage:b,setErrorMessage:N,updateError:te,isUpdateConfirmed:ce,isUpdateConfirming:le,updateTxHash:_,hasRole:!!ne,isPaused:!!B,isLoadingRoleId:P,isLoadingPauseStatus:U,isLoadingRoleCheck:J,isLoadingFeeData:O,isRoleIdError:I,isPauseStatusError:q,isRoleCheckError:L,isFeeDataError:F,handleUpdateFeeStructure:ie,refreshData:()=>{A(),K(),R(),x(new Date)},loadCurrentFeeStructure:z,resetForm:X,getTimeSinceLastCheck:$,lastChecked:g}},WO=({onWithdrawComplete:e,onStateChange:t,customRoleId:r,autoRefresh:s=!1,hideEducationalInfo:a=!1})=>{const i=Zs,{address:o}=Ge(),[l,c]=w.useState(!1),[d,u]=w.useState(null),[m,h]=w.useState(""),[p,f]=w.useState("0"),[v,y]=w.useState(null),[g,x]=w.useState(!1),[b,N]=w.useState(!1),{data:j,isLoading:k,isError:T}=Ce({abi:i.abi,address:i.address,functionName:"SCHOOL_ADMIN_ROLE",query:{enabled:!r}}),P=r||j,{data:I,isLoading:B,isError:U,refetch:q}=Ce({abi:i.abi,address:i.address,functionName:"paused"}),{data:K,isLoading:ne,isError:J,refetch:L}=Ce({abi:i.abi,address:i.address,functionName:"hasRole",args:P&&o?[P,o]:void 0,query:{enabled:!!P&&!!o}}),{data:A,isLoading:E,isError:O,refetch:F}=Ce({abi:i.abi,address:i.address,functionName:"getWithdrawableAmount",args:o?[o]:void 0,query:{enabled:!!o}}),{data:R,error:_,isPending:Y,writeContract:ee}=zt(),{isLoading:me,isSuccess:le,error:ce}=on({hash:R}),G=k||B||ne||E,H=Y||me,re=_||ce;w.useEffect(()=>{if(s){const oe=setInterval(()=>{L(),q(),F(),u(new Date)},3e4);return()=>clearInterval(oe)}},[s,L,q,F]),w.useEffect(()=>{A&&f(A.toString())},[A]),w.useEffect(()=>{ne||x(!!K),B||N(!!I)},[K,I,ne,B]),w.useEffect(()=>{if(!G){const oe=A!=null&&BigInt(A)>BigInt(0);c(g&&!b&&oe),u(new Date)}},[g,b,A,G]),w.useEffect(()=>{if(t){const oe={canWithdraw:l,hasRole:g,isPaused:b,availableBalance:p,formattedBalance:$(p),lastChecked:d,isLoading:G,isProcessing:H,isSuccess:le&&!me,isError:!!re||!!m,errorMessage:re?re.message:m,transactionHash:R||null};t(oe)}},[l,g,b,p,d,G,H,le,me,re,m,R,t]);const te=()=>d?Zt(d,{addSuffix:!0}):"Never checked",$=oe=>{try{const ue=BigInt(oe);return(Number(ue)/1e18).toFixed(6)}catch{return"0.000000"}},z=()=>{if(!l){g?b?h("System is paused. Cannot withdraw revenue at this time"):A!=null&&BigInt(A.toString())<=BigInt(0)?h("No revenue available to withdraw"):h("Unable to withdraw revenue due to system constraints"):h("You do not have the SCHOOL_ADMIN_ROLE required to withdraw revenue");return}try{h(""),ee({abi:i.abi,address:i.address,functionName:"withdrawSchoolRevenue"});const oe={address:o||"",amount:{raw:p,formatted:$(p)},timestamp:new Date,transactionHash:"",status:"pending",error:null};y(oe)}catch(oe){console.error("Error withdrawing revenue:",oe),h("Error initiating transaction");const ue={address:o||"",amount:{raw:p,formatted:$(p)},timestamp:new Date,transactionHash:"",status:"error",error:oe};y(ue)}};w.useEffect(()=>{R&&v&&v.status==="pending"&&y({...v,transactionHash:R})},[R,v]),w.useEffect(()=>{le&&!me&&(v&&y({...v,status:"success"}),e&&R&&e(R,p),L(),q(),F(),u(new Date))},[le,me,R,p,e,L,q,F,v]),w.useEffect(()=>{re&&v&&v.status==="pending"&&y({...v,status:"error",error:re})},[re,v]);const X=()=>{L(),q(),F(),u(new Date)},ie=()=>l?(z(),!0):!1;return w.useEffect(()=>(typeof window<"u"&&(window.__revenueWithdrawal={refresh:X,withdraw:ie,getAvailableBalance:()=>p,getFormattedBalance:()=>$(p),canWithdraw:()=>l,hasRole:()=>g,isPaused:()=>b}),()=>{typeof window<"u"&&delete window.__revenueWithdrawal}),[p,l,g,b]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"School Revenue Withdrawal"}),!G&&n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border mb-4 ${l?"bg-green-900/20 border-green-700/30":"bg-red-900/20 border-red-700/30"}`,children:[n.jsx("div",{className:"flex items-center",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-green-400",children:"Ready to Withdraw"}),n.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:"You can withdraw your school's revenue"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-red-400",children:"Withdrawal Unavailable"}),n.jsxs("p",{className:"text-xs text-gray-300 mt-0.5",children:[!g&&"You lack the required SCHOOL_ADMIN_ROLE permissions",g&&b&&"The system is currently paused",g&&!b&&A!==void 0&&A!==null&&BigInt(A.toString())<=BigInt(0)&&"No revenue available to withdraw"]})]})]})}),n.jsxs("button",{onClick:X,className:"flex items-center text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),G&&n.jsxs("div",{className:"flex items-center justify-center py-4 bg-gray-700/20 rounded-lg mb-4",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-amber-400 border-amber-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Checking system status..."})]}),(T||J)&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Permission Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to verify your role permissions. Please try again later."})]})]})}),U&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"System Status Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to check if system is paused. Please try again later."})]})]})}),O&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Balance Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to check your available revenue balance. Please try again later."})]})]})}),!G&&!O&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-2",children:"Available Revenue"}),n.jsxs("div",{className:"bg-gray-800/70 rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Amount available to withdraw:"}),n.jsxs("div",{className:"flex items-baseline mt-1",children:[n.jsx("p",{className:"text-xl font-semibold text-amber-400",children:$(p)}),n.jsx("p",{className:"text-sm text-gray-300 ml-2",children:"ETH"})]})]}),n.jsx("div",{className:"bg-gray-700/50 rounded-full p-3",children:n.jsx("svg",{className:"w-8 h-8 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]}),m&&n.jsx("div",{className:"w-full bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:m}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-amber-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-200",children:"What this does"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This will withdraw all available revenue from your school's account directly to your connected wallet address. The transaction will fail if there is no revenue to withdraw or if you don't have the proper permissions."})]})]})}),n.jsx("button",{onClick:z,disabled:H||!l,className:`w-full px-4 py-3 rounded-md text-white font-medium flex items-center justify-center ${H||!l?"bg-gray-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500"}`,children:H?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Withdrawal..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Withdraw School Revenue"]})})]}),le&&!me&&n.jsx("div",{className:"mt-4 bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Revenue Successfully Withdrawn"}),n.jsx("p",{className:"text-xs mt-1",children:"Your school's revenue has been successfully withdrawn to your wallet."}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-green-500/20",children:[n.jsx("p",{className:"text-xs text-gray-300",children:"Transaction Hash:"}),n.jsx("a",{href:`https://etherscan.io/tx/${R}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 font-mono break-all hover:underline",children:R})]})]})]})}),re&&n.jsx("div",{className:"mt-4 bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Error Withdrawing Revenue"}),n.jsx("p",{className:"text-xs mt-1",children:re.message||"An unknown error occurred while withdrawing your revenue."}),n.jsx("p",{className:"text-xs mt-2 text-gray-300",children:"This may happen if there is no revenue to withdraw or if you don't have the proper permissions."})]})]})}),!G&&n.jsxs("div",{className:"mt-4 bg-gray-700/20 rounded-md p-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"System Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-2",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Permission Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-red-500"} mr-2`}),n.jsx("p",{className:`text-sm ${g?"text-green-400":"text-red-400"}`,children:g?"SCHOOL_ADMIN_ROLE Granted":"Missing SCHOOL_ADMIN_ROLE"})]})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-2",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Contract Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${b?"bg-red-500":"bg-green-500"} mr-2`}),n.jsx("p",{className:`text-sm ${b?"text-red-400":"text-green-400"}`,children:b?"System Paused":"System Active"})]})]})]}),n.jsx("div",{className:"mt-2 pt-2 border-t border-gray-600",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-end",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",te()]})})]}),!a&&n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About School Revenue Withdrawal"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"This component allows school administrators to withdraw their accumulated revenue from the platform. Two security checks are performed:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Role Verification"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Only addresses with the SCHOOL_ADMIN_ROLE can withdraw school revenue, ensuring that funds are only accessible to authorized school administrators."})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"System Status Check"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Revenue cannot be withdrawn if the system is paused, which might occur during maintenance, upgrades, or security incidents."})]})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mb-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Revenue Sources"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"School revenue typically comes from the following sources:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-400 mr-2",children:""}),n.jsx("span",{children:"Student enrollment fees"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-400 mr-2",children:""}),n.jsx("span",{children:"Program participation fees"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-400 mr-2",children:""}),n.jsx("span",{children:"Certificate issuance fees"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-400 mr-2",children:""}),n.jsx("span",{children:"Revenue sharing with affiliated educators"})]})]})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"When you withdraw school revenue, the entire available balance will be transferred to your connected wallet address. Make sure your wallet is secure and that you have access to its private keys before proceeding."})]})]})},HO=(e=!1,t,r=!1)=>{const[s,a]=w.useState(null),[i,o]=w.useState(null),l=d=>{a(d)},c=(d,u)=>{o({address:"",amount:{raw:u,formatted:u?(Number(u)/1e18).toFixed(6):"0"},timestamp:new Date,transactionHash:d,status:"success",error:null})};return{SchoolRevenueWithdrawalComponent:()=>n.jsx(WO,{onStateChange:l,onWithdrawComplete:c,autoRefresh:e,customRoleId:t,hideEducationalInfo:r}),state:s,withdrawalData:i,refresh:()=>{typeof window<"u"&&window.__revenueWithdrawal&&window.__revenueWithdrawal.refresh()},withdraw:()=>typeof window<"u"&&window.__revenueWithdrawal?window.__revenueWithdrawal.withdraw():!1,getAvailableBalance:()=>typeof window<"u"&&window.__revenueWithdrawal?window.__revenueWithdrawal.getAvailableBalance():"0",getFormattedBalance:()=>typeof window<"u"&&window.__revenueWithdrawal?window.__revenueWithdrawal.getFormattedBalance():"0.000000",canWithdraw:()=>typeof window<"u"&&window.__revenueWithdrawal?window.__revenueWithdrawal.canWithdraw():!1}},GO=({contracts:e={},onFeeUpdateComplete:t,onWithdrawComplete:r,defaultTab:s="fees",customRoleId:a,hideEducationalInfo:i=!1})=>{const o={fee:Zs,role:Zs,pause:Zs},l={fee:e.fee||o.fee,role:e.role||o.role,pause:e.pause||o.pause},c=VO(l.fee,l.role,l.pause,t),{SchoolRevenueWithdrawalComponent:d,state:u,refresh:m}=HO(!1,a,i),h=()=>{const[j,k]=w.useState(new Set),T=(P,I)=>{r&&!j.has(P)&&(console.log(`Withdrawal complete - TX Hash: ${P}, Amount: ${I}`),r(P,I),k(B=>{const U=new Set(B);return U.add(P),U}))};return w.useEffect(()=>{u&&u.isSuccess&&u.transactionHash&&T(u.transactionHash,u.availableBalance)},[u]),n.jsx(d,{})},[p,f]=w.useState(s==="revenue"?1:0),[v,y]=w.useState(null),[g,x]=w.useState({hasAdminRole:!1,hasSchoolAdminRole:!1,isPaused:!1,isLoading:!0}),b=()=>{y(new Date),c.refreshData(),setTimeout(()=>{m()},500)};w.useEffect(()=>{!c.isLoading&&u&&x({hasAdminRole:c.hasRole,hasSchoolAdminRole:u.hasRole,isPaused:c.isPaused||(u?u.isPaused:!1),isLoading:c.isLoading||(u?u.isLoading:!0)})},[c.isLoading,c.hasRole,c.isPaused,u]);const N=()=>{if(!v)return"Never refreshed";const k=Math.floor((new Date().getTime()-v.getTime())/1e3);return k<60?`${k} seconds ago`:k<3600?`${Math.floor(k/60)} minutes ago`:k<86400?`${Math.floor(k/3600)} hours ago`:`${Math.floor(k/86400)} days ago`};return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-amber-400",children:"School Finance Manager"}),n.jsxs("button",{onClick:b,className:"flex items-center text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh All Data"]})]}),!g.isLoading&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsx("h3",{className:"text-md font-medium text-gray-300 mb-3",children:"System Status Overview"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Admin Role Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g.hasAdminRole?"bg-green-500":"bg-red-500"} mr-2`}),n.jsx("p",{className:`text-sm ${g.hasAdminRole?"text-green-400":"text-red-400"}`,children:g.hasAdminRole?"ADMIN_ROLE Granted":"Missing ADMIN_ROLE"})]})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"School Admin Role Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g.hasSchoolAdminRole?"bg-green-500":"bg-red-500"} mr-2`}),n.jsx("p",{className:`text-sm ${g.hasSchoolAdminRole?"text-green-400":"text-red-400"}`,children:g.hasSchoolAdminRole?"SCHOOL_ADMIN_ROLE Granted":"Missing SCHOOL_ADMIN_ROLE"})]})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Contract Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g.isPaused?"bg-red-500":"bg-green-500"} mr-2`}),n.jsx("p",{className:`text-sm ${g.isPaused?"text-red-400":"text-green-400"}`,children:g.isPaused?"System Paused":"System Active"})]})]})]}),n.jsxs("div",{className:"mt-3 text-xs text-gray-400 flex items-center justify-end",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last refreshed: ",N()]})]}),g.isLoading&&n.jsxs("div",{className:"flex items-center justify-center py-6 bg-gray-700/20 rounded-lg mb-4",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-amber-400 border-amber-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading financial system status..."})]}),!g.isLoading&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex rounded-lg bg-gray-700/30 p-1 mb-4",children:[n.jsx("button",{onClick:()=>f(0),className:`w-full py-2.5 text-sm font-medium leading-5 text-white rounded-lg
                ${p===0?"bg-amber-600 shadow":"text-gray-400 hover:bg-gray-700/40 hover:text-white"}`,children:"Fee Structure Management"}),n.jsx("button",{onClick:()=>f(1),className:`w-full py-2.5 text-sm font-medium leading-5 text-white rounded-lg
                ${p===1?"bg-amber-600 shadow":"text-gray-400 hover:bg-gray-700/40 hover:text-white"}`,children:"Revenue Withdrawal"})]}),n.jsxs(Nt,{mode:"wait",children:[p===0&&n.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"Default Fee Structure Management"}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border mb-4 ${c.canUpdate?"bg-green-900/20 border-green-700/30":"bg-red-900/20 border-red-700/30"}`,children:[n.jsx("div",{className:"flex items-center",children:c.canUpdate?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-green-400",children:"System Ready"}),n.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:"You can update the default fee structure"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-red-400",children:"System Unavailable"}),n.jsxs("p",{className:"text-xs text-gray-300 mt-0.5",children:[!c.hasRole&&"You lack the required ADMIN_ROLE permissions",c.hasRole&&c.isPaused&&"The system is currently paused"]})]})]})}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:c.loadCurrentFeeStructure,className:"flex items-center text-xs px-3 py-1.5 bg-blue-700 hover:bg-blue-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c.isLoading,children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Load Current"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"programFee",className:"block text-sm font-medium text-gray-300 mb-1",children:"Program Fee (wei)"}),n.jsx("input",{id:"programFee",type:"text",value:c.programFee,onChange:j=>c.setProgramFee(j.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Fee charged when creating a new program"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subscriptionFee",className:"block text-sm font-medium text-gray-300 mb-1",children:"Subscription Fee (wei)"}),n.jsx("input",{id:"subscriptionFee",type:"text",value:c.subscriptionFee,onChange:j=>c.setSubscriptionFee(j.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Fee charged for subscription services"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"certificateFee",className:"block text-sm font-medium text-gray-300 mb-1",children:"Certificate Fee (wei)"}),n.jsx("input",{id:"certificateFee",type:"text",value:c.certificateFee,onChange:j=>c.setCertificateFee(j.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Fee charged for issuing certificates"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"revenueShare",className:"block text-sm font-medium text-gray-300 mb-1",children:"Revenue Share (basis points)"}),n.jsx("input",{id:"revenueShare",type:"text",value:c.revenueShare,onChange:j=>c.setRevenueShare(j.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Revenue share in basis points (1-10000, where 10000 = 100%)"})]})]}),c.errorMessage&&n.jsx("div",{className:"w-full bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:c.errorMessage}),n.jsx("button",{onClick:c.handleUpdateFeeStructure,disabled:c.isProcessing||!c.canUpdate||!c.isFormValid,className:`w-full px-4 py-3 rounded-md text-white font-medium flex items-center justify-center ${c.isProcessing||!c.canUpdate||!c.isFormValid?"bg-gray-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500"}`,children:c.isProcessing?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Update Default Fee Structure"]})}),c.isUpdateConfirmed&&!c.isUpdateConfirming&&n.jsx("div",{className:"mt-4 bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Default Fee Structure Successfully Updated"}),n.jsx("p",{className:"text-xs mt-1",children:"The default fee structure has been successfully updated. New schools will use these values."}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-green-500/20",children:[n.jsx("p",{className:"text-xs text-gray-300",children:"Transaction Hash:"}),n.jsx("a",{href:`https://etherscan.io/tx/${c.updateTxHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 font-mono break-all hover:underline",children:c.updateTxHash})]})]})]})})]}),!i&&n.jsxs("div",{className:"mt-4 bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About Fee Structure Management"}),n.jsx("p",{className:"text-sm text-gray-400",children:"The fee structure management allows administrators to set platform-wide default fees for various services:"}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Program Fee"}),n.jsx("p",{className:"text-xs text-gray-400",children:"One-time fee charged when creating a new educational program on the platform."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Subscription Fee"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Recurring fee for subscription-based access to platform services and content."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Certificate Fee"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Fee charged when issuing certificates to students upon course completion."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Revenue Share"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Percentage of revenue shared with the platform (in basis points, where 10000 = 100%)."})]})]})]})]},"fee-structure"),p===1&&n.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:n.jsx(h,{})},"revenue-withdrawal")]})]}),!g.isLoading&&!i&&n.jsxs("div",{className:"mt-4 bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"Financial Analytics"}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300",children:"Revenue Overview"}),n.jsx("div",{className:"bg-amber-600/20 text-amber-400 text-xs px-2 py-1 rounded",children:"Coming Soon"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Total Collected Fees"}),n.jsx("p",{className:"text-xl font-semibold text-white mt-1",children:"-- ETH"})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Revenue Share Percentage"}),n.jsx("p",{className:"text-xl font-semibold text-white mt-1",children:"-- %"})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Monthly Revenue"}),n.jsx("p",{className:"text-xl font-semibold text-white mt-1",children:"-- ETH"})]})]}),n.jsx("div",{className:"mt-4 h-40 bg-gray-700/20 rounded-lg flex items-center justify-center",children:n.jsx("p",{className:"text-gray-400 text-sm",children:"Revenue chart visualization will appear here"})})]}),n.jsx("div",{className:"text-xs text-gray-400",children:n.jsx("p",{children:"The analytics dashboard will provide comprehensive insights into your financial data, including revenue trends, fee distribution, and withdrawal history. This feature will be available in the next update."})})]}),!i&&n.jsx("div",{className:"mt-4 bg-gray-700/20 rounded-md p-3",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-amber-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-200",children:"Need Help?"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This unified financial manager allows you to handle both fee structure management and revenue withdrawals in one place. Use the tabs above to switch between these functions. Each function requires specific role permissions."})]})]})})]})},Fg=({defaultMode:e="single",contract:t=wt,availablePrograms:r=[],onRegistrationSuccess:s,onRegistrationError:a,onDataChange:i,initialSingleStudent:o,initialBatchStudents:l,maxBatchSize:c=100,hideModeSwitcher:d=!1})=>{const[u,m]=w.useState(e),[h,p]=w.useState((o==null?void 0:o.address)||""),[f,v]=w.useState((o==null?void 0:o.name)||""),[y,g]=w.useState((o==null?void 0:o.programId)||""),[x,b]=w.useState(l||[{id:Date.now().toString(),address:"",name:"",programId:""}]),[N,j]=w.useState({}),{data:k,error:T,isPending:P,writeContract:I,reset:B}=zt(),{isLoading:U,isSuccess:q,error:K}=on({hash:k}),ne=T||K,J=P||U,L={address:h,name:f,programId:y},A=w.useCallback(()=>({status:P?"pending":U?"confirming":q?"success":ne?"error":"idle",mode:u,singleStudent:u==="single"?L:null,batchStudents:u==="batch"?x:null,hash:k,error:ne,timestamp:q||ne?new Date:null}),[u,L,x,k,ne,P,U,q]);w.useEffect(()=>{if(i){const G=A();i(G)}},[A,i]),w.useEffect(()=>{j({})},[u]),w.useEffect(()=>{q&&k&&(s&&(u==="single"?s("single",L,k):s("batch",x,k)),!s&&!i&&(u==="single"?(p(""),v(""),g("")):b([{id:Date.now().toString(),address:"",name:"",programId:""}])))},[q,k,s,i,u,L,x]),w.useEffect(()=>{ne&&a&&a(ne)},[ne,a]);const E=()=>{const G={};let H=!0;return h?/^0x[a-fA-F0-9]{40}$/.test(h)||(G.address="Invalid Ethereum address format",H=!1):(G.address="Address is required",H=!1),f||(G.name="Name is required",H=!1),y?(isNaN(Number(y))||Number(y)<0)&&(G.programId="Program ID must be a valid number",H=!1):(G.programId="Program ID is required",H=!1),j(G),H},O=()=>{const G={};let H=!0;x.forEach($=>{$.address?/^0x[a-fA-F0-9]{40}$/.test($.address)||(G[`${$.id}-address`]="Invalid Ethereum address format",H=!1):(G[`${$.id}-address`]="Address is required",H=!1),$.name||(G[`${$.id}-name`]="Name is required",H=!1),$.programId?(isNaN(Number($.programId))||Number($.programId)<0)&&(G[`${$.id}-programId`]="Program ID must be a valid number",H=!1):(G[`${$.id}-programId`]="Program ID is required",H=!1)});const re=x.map($=>$.address.toLowerCase()),te=re.filter(($,z)=>$&&re.indexOf($)!==z);return te.length>0&&(te.forEach($=>{x.filter(X=>X.address.toLowerCase()===$).forEach(X=>{G[`${X.id}-address`]="Duplicate address found"})}),H=!1),j(G),H},F=async G=>{G.preventDefault();try{if(u==="single"){if(!E())return;I({...t,functionName:"registerStudent",args:[h,f,BigInt(y)]})}else{if(!O())return;const H=x.map($=>$.address),re=x.map($=>$.name),te=x.map($=>BigInt($.programId));I({...t,functionName:"batchRegisterStudents",args:[H,re,te]})}}catch(H){a&&H instanceof Error&&a(H)}},R=(G,H)=>{switch(G){case"address":p(H);break;case"name":v(H);break;case"programId":g(H);break}N[G]&&j({...N,[G]:""})},_=()=>{x.length<c&&b([...x,{id:Date.now().toString(),address:"",name:"",programId:""}])},Y=G=>{x.length>1&&b(x.filter(H=>H.id!==G))},ee=(G,H,re)=>{b(x.map(te=>te.id===G?{...te,[H]:re}:te)),N[`${G}-${H}`]&&j({...N,[`${G}-${H}`]:""})},me=()=>{B==null||B(),u==="single"?(p(""),v(""),g("")):b([{id:Date.now().toString(),address:"",name:"",programId:""}]),j({})},ce=P?{text:"Registering...",color:"text-yellow-400",bg:"bg-yellow-500/20"}:U?{text:"Confirming Registration",color:"text-blue-400",bg:"bg-blue-500/20"}:q?{text:"Registration Successful",color:"text-green-400",bg:"bg-green-500/20"}:ne?{text:"Registration Failed",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Ready to Register",color:"text-gray-400",bg:"bg-gray-500/20"};return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400",children:u==="single"?"Student Registration":"Batch Student Registration"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:u==="single"?"Register a single student to an educational program":`Register multiple students at once (max: ${c})`})]}),!d&&!J&&!q&&n.jsx("div",{className:"mt-2 md:mt-0 p-1 bg-gray-700/50 rounded-lg",children:n.jsxs("div",{className:"flex text-sm",children:[n.jsx("button",{type:"button",onClick:()=>m("single"),className:`px-3 py-1 rounded-md transition-colors ${u==="single"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-300"}`,children:"Single Student"}),n.jsx("button",{type:"button",onClick:()=>m("batch"),className:`px-3 py-1 rounded-md transition-colors ${u==="batch"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-300"}`,children:"Batch Registration"})]})})]}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${ce.bg} border border-${ce.color.replace("text-","")}/30 mb-4`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${ce.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${ce.color}`,children:ce.text})]}),n.jsxs("form",{onSubmit:F,className:"space-y-4",children:[u==="single"&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"student-address",type:"text",value:h,onChange:G=>R("address",G.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${N.address?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:J}),N.address&&n.jsx("p",{className:"text-xs text-red-400",children:N.address}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-name",className:"block text-sm font-medium text-gray-300",children:"Student Name"}),n.jsx("input",{id:"student-name",type:"text",value:f,onChange:G=>R("name",G.target.value),placeholder:"Full Name",className:`w-full px-3 py-2 bg-gray-700 border ${N.name?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:J}),N.name&&n.jsx("p",{className:"text-xs text-red-400",children:N.name}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"program-id",className:"block text-sm font-medium text-gray-300",children:"Program ID"}),r.length>0?n.jsxs("select",{id:"program-id",value:y,onChange:G=>R("programId",G.target.value),className:`w-full px-3 py-2 bg-gray-700 border ${N.programId?"border-red-500":"border-gray-600"} rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:J,children:[n.jsx("option",{value:"",children:"Select a program"}),r.map(G=>n.jsxs("option",{value:G.id,children:[G.name," (ID: ",G.id,")"]},G.id))]}):n.jsx("input",{id:"program-id",type:"number",value:y,onChange:G=>R("programId",G.target.value),placeholder:"Program ID",className:`w-full px-3 py-2 bg-gray-700 border ${N.programId?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,min:"0",disabled:J}),N.programId&&n.jsx("p",{className:"text-xs text-red-400",children:N.programId}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the ID of the program the student is enrolling in"})]})]}),u==="batch"&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Student Information"}),n.jsxs("span",{className:"text-xs text-gray-400",children:[x.length," ",x.length===1?"student":"students"]})]}),n.jsx("div",{className:"space-y-4",children:x.map((G,H)=>n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h5",{className:"text-sm font-medium text-gray-300",children:["Student #",H+1]}),n.jsx("button",{type:"button",onClick:()=>Y(G.id),className:"text-xs text-gray-400 hover:text-red-400",disabled:x.length===1||J,children:x.length>1?"Remove":""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:`address-${G.id}`,className:"block text-xs font-medium text-gray-300",children:"Wallet Address"}),n.jsx("input",{id:`address-${G.id}`,type:"text",value:G.address,onChange:re=>ee(G.id,"address",re.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${N[`${G.id}-address`]?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm`,disabled:J}),N[`${G.id}-address`]&&n.jsx("p",{className:"text-xs text-red-400",children:N[`${G.id}-address`]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:`name-${G.id}`,className:"block text-xs font-medium text-gray-300",children:"Student Name"}),n.jsx("input",{id:`name-${G.id}`,type:"text",value:G.name,onChange:re=>ee(G.id,"name",re.target.value),placeholder:"Full Name",className:`w-full px-3 py-2 bg-gray-700 border ${N[`${G.id}-name`]?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm`,disabled:J}),N[`${G.id}-name`]&&n.jsx("p",{className:"text-xs text-red-400",children:N[`${G.id}-name`]})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{htmlFor:`program-${G.id}`,className:"block text-xs font-medium text-gray-300",children:"Program ID"}),r.length>0?n.jsxs("select",{id:`program-${G.id}`,value:G.programId,onChange:re=>ee(G.id,"programId",re.target.value),className:`w-full px-3 py-2 bg-gray-700 border ${N[`${G.id}-programId`]?"border-red-500":"border-gray-600"} rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm`,disabled:J,children:[n.jsx("option",{value:"",children:"Select a program"}),r.map(re=>n.jsxs("option",{value:re.id,children:[re.name," (ID: ",re.id,")"]},re.id))]}):n.jsx("input",{id:`program-${G.id}`,type:"number",value:G.programId,onChange:re=>ee(G.id,"programId",re.target.value),placeholder:"Program ID",className:`w-full px-3 py-2 bg-gray-700 border ${N[`${G.id}-programId`]?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm`,min:"0",disabled:J}),N[`${G.id}-programId`]&&n.jsx("p",{className:"text-xs text-red-400",children:N[`${G.id}-programId`]})]})]})]},G.id))}),n.jsxs("button",{type:"button",onClick:_,className:"mt-4 w-full py-2 border border-dashed border-gray-600 rounded-md text-gray-400 hover:text-gray-300 hover:border-gray-500 transition-colors flex items-center justify-center",disabled:J||x.length>=c,children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Another Student ",x.length>=c?`(Max: ${c})`:""]})]}),ne&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:n.jsxs("p",{className:"text-sm",children:["Error registering ",u==="single"?"student":"students",":",ne.message||"Unknown error"]})}),q&&k&&n.jsxs("div",{className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-3",children:[u==="single"?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm",children:"Student registration successful!"}),n.jsxs("div",{className:"flex flex-col space-y-1 mt-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-20",children:"Name:"}),n.jsx("span",{className:"text-xs text-white",children:f})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-20",children:"Address:"}),n.jsx("span",{className:"text-xs text-white font-mono truncate",children:h})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-20",children:"Program ID:"}),n.jsx("span",{className:"text-xs text-white",children:y})]})]})]}):n.jsxs("p",{className:"text-sm",children:["Successfully registered ",x.length," students!"]}),n.jsxs("div",{className:"mt-2 flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-20",children:"TX Hash:"}),n.jsx("a",{href:`https://etherscan.io/tx/${k}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 font-mono truncate hover:underline",children:k}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(k)},className:"ml-2 p-1 bg-gray-700 hover:bg-gray-600 rounded text-gray-300",title:"Copy to clipboard",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs("button",{type:"button",onClick:me,className:"text-sm bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded-md transition-colors",children:["Register Another ",u==="single"?"Student":"Batch"]})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{type:"button",onClick:me,className:`px-4 py-2 rounded-md text-white font-medium transition-colors ${J?"bg-gray-600 cursor-not-allowed opacity-50":"bg-gray-600 hover:bg-gray-700"}`,disabled:J||q,children:"Reset Form"}),n.jsx("button",{type:"submit",className:`px-4 py-2 rounded-md text-white font-medium transition-colors ${J||q?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:J||q,children:J?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),P?"Registering...":"Confirming..."]}):q?"Registration Complete":`Register ${u==="single"?"Student":"Students"}`})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Registration Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Function: "}),n.jsx("span",{className:"text-gray-200 font-mono",children:u==="single"?"registerStudent":"batchRegisterStudents"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Transaction Type: "}),n.jsx("span",{className:"text-gray-200",children:"Non-payable"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Gas Estimate: "}),n.jsx("span",{className:"text-gray-200",children:u==="single"?"~80,000 gas":`~100,000 + 50,000 per student (${x.length} students)`})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Confirmation Time: "}),n.jsx("span",{className:"text-gray-200",children:"~15-30 seconds"})]})]}),n.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:[n.jsxs("p",{className:"mb-1",children:["Note: ",u==="single"?"The wallet address must be a valid Ethereum address starting with 0x.":"All students in the batch must have valid wallet addresses, names, and program IDs."]}),n.jsx("p",{children:u==="single"?"After registration, the student will need to make their first attendance to activate their account.":"Make sure each address is unique and has the correct format (0x followed by 40 hexadecimal characters)."})]})]})]})},qO=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",mode:"single",singleStudent:null,batchStudents:null,timestamp:null}),i=o=>{o.mode==="single"&&(r(o.singleStudent),a(o))};return{SingleStudentRegistrationComponent:(o={})=>n.jsx(Fg,{defaultMode:"single",initialSingleStudent:e,onDataChange:i,hideModeSwitcher:!0,...o}),studentData:t,registrationResult:s,isRegistering:s.status==="pending"||s.status==="confirming",isSuccess:s.status==="success",isError:s.status==="error",error:s.error,transactionHash:s.hash}},KO=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",mode:"batch",singleStudent:null,batchStudents:null,timestamp:null}),i=o=>{o.mode==="batch"&&(r(o.batchStudents),a(o))};return{BatchStudentRegistrationComponent:(o={})=>n.jsx(Fg,{defaultMode:"batch",initialBatchStudents:e,onDataChange:i,hideModeSwitcher:!0,...o}),studentsData:t,registrationResult:s,studentCount:(t==null?void 0:t.length)||0,isRegistering:s.status==="pending"||s.status==="confirming",isSuccess:s.status==="success",isError:s.status==="error",error:s.error,transactionHash:s.hash}},YO=(e="single")=>{const[t,r]=w.useState({status:"idle",mode:e,singleStudent:null,batchStudents:null,timestamp:null}),s=a=>{r(a)};return{StudentRegistrationComponent:(a={})=>n.jsx(Fg,{defaultMode:e,onDataChange:s,...a}),SingleRegistration:qO(),BatchRegistration:KO(),data:t,getCurrentMode:()=>t.mode,getStatus:()=>t.status,getRegisteredData:()=>t.mode==="single"?t.singleStudent:t.batchStudents,isProcessing:t.status==="pending"||t.status==="confirming",isSuccess:t.status==="success",isError:t.status==="error"}},Tv=({contract:e,schoolAddress:t,onStatusFetched:r})=>{const{address:s}=Ge(),[a,i]=w.useState(t||""),[o,l]=w.useState(!t),[c,d]=w.useState("");w.useEffect(()=>{t?(i(t),l(!1)):l(!0)},[t]);const u=o?a:t||s||"",{data:m,isLoading:h,isError:p,refetch:f}=Ce({...e,functionName:"isActiveSchool",args:[u],query:{enabled:!!u}});w.useEffect(()=>{m!==void 0&&u&&r&&r(m,u)},[m,u,r]);const v=N=>N?/^0x[a-fA-F0-9]{40}$/.test(N)?(d(""),!0):(d("Invalid Ethereum address format"),!1):(d("School address is required"),!1),y=N=>{i(N),d("")},g=()=>{v(a)&&f()},b=m===void 0?{text:"Unknown Status",color:"text-gray-400",bg:"bg-gray-500/20"}:m===!0?{text:"Active School",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Inactive School",color:"text-red-400",bg:"bg-red-500/20"};return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"School Status Checker"}),o&&n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:a,onChange:N=>y(N.target.value),placeholder:"School address (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${c?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`})}),n.jsx("button",{type:"button",onClick:g,className:"px-3 py-2 bg-gray-600 text-gray-200 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h||!a,children:h?n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}):"Check Status"})]}),c&&n.jsx("p",{className:"text-xs text-red-400",children:c})]}),h&&n.jsxs("div",{className:"flex items-center justify-center py-6",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Checking school status..."})]}),p&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm",children:"Error checking school status. Please try again later."})}),!h&&!p&&m!==void 0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"School Address:"}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-sm font-mono text-gray-300 truncate",children:u})})]}),n.jsxs("div",{className:`${b.bg} border border-${b.color.replace("text-","")}/30 rounded-lg p-5 flex items-center`,children:[n.jsx("div",{className:`w-10 h-10 ${b.color.replace("text-","bg-")}/20 rounded-full flex items-center justify-center mr-4`,children:m?n.jsx("svg",{className:`w-6 h-6 ${b.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:`w-6 h-6 ${b.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("div",{children:[n.jsx("h4",{className:`text-lg font-bold ${b.color}`,children:b.text}),n.jsx("p",{className:"text-sm text-gray-300",children:m?"This address is registered as an active school in the system.":"This address is not recognized as an active school."})]})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"What This Means"}),m?n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"This address has been verified as an active school in the educational system. Active schools enjoy several privileges and capabilities:"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Student Management:"})," Ability to register students and manage their educational records"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Program Participation:"})," Access to educational programs and curriculum resources"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Attendance Tracking:"})," Authority to record and verify student attendance"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Certification Authority:"})," Ability to validate student achievements and completed terms"]})]})]})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"This address is not recognized as an active school in the system. There could be several reasons for this status:"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Not Registered:"})," The address may not be registered in the system at all"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Pending Approval:"})," Registration could be pending administrative approval"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Suspended Status:"})," The school may have been suspended from the system"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Different Role:"})," The address might be registered with a different role (e.g., student or teacher)"]})]})]})]})]}),n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-md p-3",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"Next Steps"}),n.jsx("p",{className:"text-sm text-gray-300",children:m?"This address can perform all school-related functions in the system. School administrators can manage students, record attendance, and participate in educational programs.":"If you believe this address should be recognized as an active school, please contact the system administrator or initiate the school registration process through the administrative interface."})]})]}),!h&&!p&&m===void 0&&u&&n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-6 text-center",children:[n.jsx("svg",{className:"w-12 h-12 text-gray-500 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),n.jsx("p",{className:"text-gray-400 mb-3",children:"Enter a school address to check its status"}),n.jsx("p",{className:"text-xs text-gray-500",children:"You can verify if an address is registered as an active school in the educational system."})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About School Status"}),n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"In this educational system, schools are entities that provide educational services to students. Schools must be registered and active in the system to perform various administrative functions related to student management and educational program delivery."}),n.jsx("p",{className:"text-sm text-gray-400",children:"A school's status is an important indicator of whether it is authorized to register students, record attendance, mark completed terms, and participate in the broader educational ecosystem. Only addresses with active school status can perform these functions within the system."})]})]})},QO=({contract:e,hasRoleFunction:t,grantRoleFunction:r,revokeRoleFunction:s,onRoleDataFetched:a})=>{const{address:i}=Ge(),[o,l]=w.useState("overview"),[c,d]=w.useState(""),[u,m]=w.useState(""),[h,p]=w.useState(""),[f,v]=w.useState(""),[y,g]=w.useState({}),[x,b]=w.useState({}),[N,j]=w.useState(null),{data:k,isLoading:T,isError:P}=_c({contracts:[{...e,functionName:"MASTER_ADMIN_ROLE"},{...e,functionName:"DEFAULT_ADMIN_ROLE"},{...e,functionName:"ADMIN_ROLE"},{...e,functionName:"SCHOOL_ROLE"},{...e,functionName:"TEACHER_ROLE"}]}),[I,B]=w.useState(!1),U=t&&c&&I&&k?[{...t,functionName:"hasRole",args:[k[0].result,c]},{...t,functionName:"hasRole",args:[k[1].result,c]},{...t,functionName:"hasRole",args:[k[2].result,c]},{...t,functionName:"hasRole",args:[k[3].result,c]},{...t,functionName:"hasRole",args:[k[4].result,c]}]:[],{data:q,isLoading:K,refetch:ne}=_c({contracts:U,query:{enabled:t!==void 0&&c!==""&&I&&k!==void 0&&k.length===5&&!P}}),J=t&&i&&k?[{...t,functionName:"hasRole",args:[k[0].result,i]},{...t,functionName:"hasRole",args:[k[1].result,i]},{...t,functionName:"hasRole",args:[k[2].result,i]},{...t,functionName:"hasRole",args:[k[3].result,i]},{...t,functionName:"hasRole",args:[k[4].result,i]}]:[],{data:L}=_c({contracts:J,query:{enabled:t!==void 0&&i!==void 0&&k!==void 0&&k.length===5&&!P}}),{data:A,error:E,isPending:O,writeContract:F}=zt(),{isLoading:R,isSuccess:_,error:Y}=on({hash:A}),{data:ee,isPending:me,writeContract:le}=zt(),{isLoading:ce,isSuccess:G}=on({hash:ee}),H=O||R,re=me||ce,te=E||Y,$=se=>se?`${se.substring(0,10)}...${se.substring(se.length-8)}`:"N/A";w.useEffect(()=>{if(k&&k.length===5&&!P){const se={MASTER_ADMIN_ROLE:k[0].result,DEFAULT_ADMIN_ROLE:k[1].result,ADMIN_ROLE:k[2].result,SCHOOL_ROLE:k[3].result,TEACHER_ROLE:k[4].result};g({MASTER_ADMIN_ROLE:{name:"Master Administrator",description:"The highest authority role with complete system control.",capabilities:["Grant or revoke any role in the system","Perform system-wide configuration changes","Execute emergency system operations","Manage critical contract parameters","Access all administrative functions"],color:"purple",importance:5,icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},DEFAULT_ADMIN_ROLE:{name:"Default Administrator",description:"The built-in administrator role from OpenZeppelin AccessControl.",capabilities:["Grant or revoke most roles in the system","Configure system parameters","Perform administrative operations","Manage contract functionality"],color:"indigo",importance:4,icon:n.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},ADMIN_ROLE:{name:"Administrator",description:"Standard administrative role for day-to-day management.",capabilities:["Manage student registrations","Oversee program operations","Configure educational parameters","Run administrative reports","Handle operational tasks"],color:"blue",importance:3,icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},SCHOOL_ROLE:{name:"School Manager",description:"Role for school-level management and operations.",capabilities:["Manage school-specific programs","Register students in their school","Record and update attendance","Configure school parameters","Generate school reports"],color:"green",importance:2,icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},TEACHER_ROLE:{name:"Teacher",description:"Role for teachers and instructors in the system.",capabilities:["Record student attendance","Update attendance dates","View student information","Generate classroom reports","Manage day-to-day educational activities"],color:"teal",importance:1,icon:n.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),n.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]})}}),a&&a(se)}},[k,P,a]),w.useEffect(()=>{if(L&&L.length===5){const se={MASTER_ADMIN_ROLE:L[0].result,DEFAULT_ADMIN_ROLE:L[1].result,ADMIN_ROLE:L[2].result,SCHOOL_ROLE:L[3].result,TEACHER_ROLE:L[4].result};b(se)}},[L]),w.useEffect(()=>{q&&q.length===5&&B(!0)},[q]);const z=se=>se?/^0x[a-fA-F0-9]{40}$/.test(se)?(v(""),!0):(v("Invalid Ethereum address format"),!1):(v("Address is required"),!1),X=()=>{z(c)&&(B(!0),ne())},ie=()=>{var se;if(!(!r||!h||!u)&&z(u))try{const de=["MASTER_ADMIN_ROLE","DEFAULT_ADMIN_ROLE","ADMIN_ROLE","SCHOOL_ROLE","TEACHER_ROLE"].indexOf(h),je=de!==-1&&k?(se=k[de])==null?void 0:se.result:void 0;if(!je){v("Invalid role selected");return}F({...r,functionName:"grantRole",args:[je,u]})}catch(de){console.error("Error granting role:",de)}},oe=()=>{var se;if(!(!s||!h||!c)&&z(c))try{const de=["MASTER_ADMIN_ROLE","DEFAULT_ADMIN_ROLE","ADMIN_ROLE","SCHOOL_ROLE","TEACHER_ROLE"].indexOf(h),je=de!==-1&&k?(se=k[de])==null?void 0:se.result:void 0;if(!je){v("Invalid role selected");return}le({...s,functionName:"revokeRole",args:[je,c]})}catch(de){console.error("Error revoking role:",de)}},ue=se=>{j(N===se?null:se)};w.useEffect(()=>{_&&!R&&(p(""),c===u&&ne()),G&&!ce&&(p(""),ne())},[_,R,G,ce,u,c,ne]);const xe=()=>n.jsxs("div",{className:"mt-4 p-4 bg-gray-700/20 rounded-lg border border-gray-600",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Role Hierarchy"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-4 top-7 bottom-7 w-0.5 bg-gray-600"}),Object.entries(y).sort(([,se],[,de])=>de.importance-se.importance).map(([se,de])=>n.jsxs("div",{className:"relative pl-8 pb-4 last:pb-0",children:[n.jsx("div",{className:"absolute left-4 top-3.5 w-4 h-0.5 bg-gray-600"}),n.jsx("div",{className:`mb-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${de.color}-500/20 text-${de.color}-400 border border-${de.color}-500/30`,children:de.name}),n.jsx("p",{className:"text-xs text-gray-400 ml-1",children:de.description})]},se))]}),n.jsx("p",{className:"text-xs text-gray-400 mt-3 italic",children:"Higher roles typically have all capabilities of lower roles, plus additional privileges."})]}),ge=()=>n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Object.entries(y).sort(([,se],[,de])=>de.importance-se.importance).map(([se,de])=>{var M;const je=N===se,Le=["MASTER_ADMIN_ROLE","DEFAULT_ADMIN_ROLE","ADMIN_ROLE","SCHOOL_ROLE","TEACHER_ROLE"].indexOf(se),pe=Le!==-1&&k?(M=k[Le])==null?void 0:M.result:"";return n.jsxs(Z.div,{initial:{height:"auto"},animate:{height:"auto"},className:"bg-gray-700/30 border border-gray-600 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:`p-3 cursor-pointer flex items-center justify-between bg-${de.color}-500/10 hover:bg-${de.color}-500/20 transition-colors`,onClick:()=>ue(se),children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full bg-${de.color}-500/20 text-${de.color}-400 flex items-center justify-center mr-3`,children:de.icon}),n.jsxs("div",{children:[n.jsx("h4",{className:`text-sm font-medium text-${de.color}-400`,children:de.name}),n.jsx("p",{className:"text-xs text-gray-400",children:se})]})]}),n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${je?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),je&&n.jsxs("div",{className:"p-3 border-t border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:de.description}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h5",{className:"text-xs font-medium text-gray-400 mb-1",children:"Role Identifier:"}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-xs font-mono text-gray-300",children:$(pe)})})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium text-gray-400 mb-1",children:"Capabilities:"}),n.jsx("ul",{className:"text-xs text-gray-300 space-y-1",children:de.capabilities.map((S,C)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:`w-3 h-3 text-${de.color}-400 mr-1 mt-0.5`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),S]},C))})]})]})]},se)})}),ve=()=>{if(!q||q.length!==5)return null;const se=q.some(de=>de.result);return n.jsxs("div",{className:"mt-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:["Roles for Address: ",n.jsx("span",{className:"font-mono text-xs",children:c})]}),se?n.jsx("div",{className:"space-y-2",children:Object.entries(y).sort(([,de],[,je])=>je.importance-de.importance).map(([de,je])=>{var M;const Le=["MASTER_ADMIN_ROLE","DEFAULT_ADMIN_ROLE","ADMIN_ROLE","SCHOOL_ROLE","TEACHER_ROLE"].indexOf(de),pe=Le!==-1&&((M=q[Le])==null?void 0:M.result);return n.jsx("div",{className:`p-3 rounded-md border ${pe?`border-${je.color}-500/30 bg-${je.color}-500/10`:"border-gray-600 bg-gray-700/20"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-6 h-6 rounded-full ${pe?`bg-${je.color}-500/20 text-${je.color}-400`:"bg-gray-600/20 text-gray-400"} flex items-center justify-center mr-2`,children:pe?n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("div",{children:[n.jsx("h5",{className:`text-sm font-medium ${pe?`text-${je.color}-400`:"text-gray-400"}`,children:je.name}),n.jsx("p",{className:"text-xs text-gray-400",children:de})]})]}),s&&pe&&(x.MASTER_ADMIN_ROLE||x.DEFAULT_ADMIN_ROLE)&&n.jsx("button",{type:"button",onClick:()=>{p(de),oe()},className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-md text-xs hover:bg-red-500/30 transition-colors",disabled:re,children:re&&h===de?n.jsx("div",{className:"w-4 h-4 border-2 border-t-red-400 border-red-200/30 rounded-full animate-spin mx-auto"}):"Revoke"})]})},de)})}):n.jsxs("div",{className:"bg-gray-700/20 p-4 rounded-md text-center",children:[n.jsx("svg",{className:"w-10 h-10 text-gray-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),n.jsx("p",{className:"text-gray-400 mb-1",children:"No Roles Assigned"}),n.jsx("p",{className:"text-xs text-gray-500",children:"This address doesn't have any administrative roles in the system."}),r&&(x.MASTER_ADMIN_ROLE||x.DEFAULT_ADMIN_ROLE)&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Want to grant a role to this address?"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("select",{value:h,onChange:de=>p(de.target.value),className:"flex-grow px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select a role"}),Object.entries(y).map(([de,je])=>n.jsx("option",{value:de,children:je.name},de))]}),n.jsx("button",{type:"button",onClick:ie,className:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",disabled:H||!h,children:H?n.jsx("div",{className:"w-4 h-4 border-2 border-t-white border-white/30 rounded-full animate-spin"}):"Grant"})]})]})]})]})},ke=()=>!r||!(x.MASTER_ADMIN_ROLE||x.DEFAULT_ADMIN_ROLE)?n.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-md p-4 text-center",children:[n.jsx("svg",{className:"w-10 h-10 text-yellow-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),n.jsx("p",{className:"text-yellow-400 mb-1",children:"Access Restricted"}),n.jsx("p",{className:"text-sm text-gray-300",children:"You need administrative privileges to grant roles."})]}):n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Grant Role to Address"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"grant-address",className:"block text-xs text-gray-400 mb-1",children:"Address"}),n.jsx("input",{id:"grant-address",type:"text",value:u,onChange:se=>{m(se.target.value),v("")},placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${f?"border-red-500":"border-gray-600"} rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:H}),f&&n.jsx("p",{className:"text-xs text-red-400 mt-1",children:f})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"grant-role",className:"block text-xs text-gray-400 mb-1",children:"Role to Grant"}),n.jsxs("select",{id:"grant-role",value:h,onChange:se=>p(se.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:H,children:[n.jsx("option",{value:"",children:"Select a role"}),Object.entries(y).map(([se,de])=>n.jsx("option",{value:se,children:de.name},se))]})]}),h&&n.jsx("div",{className:`p-2 rounded-md bg-${y[h].color}-500/10 border border-${y[h].color}-500/30`,children:n.jsxs("p",{className:"text-xs text-gray-300",children:[n.jsx("span",{className:`text-${y[h].color}-400 font-medium`,children:y[h].name}),": ",y[h].description]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:ie,className:`px-4 py-2 rounded-md text-white font-medium ${H||!h||!u?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:H||!h||!u,children:H?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Granting Role..."]}):"Grant Role"})}),_&&!R&&n.jsxs("div",{className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-3 mt-2",children:[n.jsx("p",{className:"text-sm",children:"Role successfully granted!"}),n.jsxs("div",{className:"mt-1 flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 mr-2",children:"Transaction Hash:"}),n.jsx("a",{href:`https://etherscan.io/tx/${A}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 font-mono truncate hover:underline",children:A})]})]}),te&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mt-2",children:n.jsxs("p",{className:"text-sm",children:["Error granting role: ",te.message||"Unknown error"]})})]})]});return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2 md:mb-0",children:"Educational Role Management"}),i&&t&&L&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(y).filter(([se])=>x[se]).map(([se,de])=>n.jsxs("div",{className:`px-2.5 py-1 rounded-full text-xs font-medium bg-${de.color}-500/20 text-${de.color}-400 border border-${de.color}-500/30 flex items-center`,children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${de.color}-400 mr-1.5`}),de.name]},se)),!Object.values(x).some(Boolean)&&n.jsx("div",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-gray-700 text-gray-400 border border-gray-600",children:"No Administrative Roles"})]})]}),n.jsxs("div",{className:"flex border-b border-gray-700 mb-4",children:[n.jsx("button",{className:`px-4 py-2 text-sm font-medium ${o==="overview"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>l("overview"),children:"Role Overview"}),n.jsx("button",{className:`px-4 py-2 text-sm font-medium ${o==="lookup"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>l("lookup"),children:"Role Lookup"}),n.jsx("button",{className:`px-4 py-2 text-sm font-medium ${o==="grant"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>l("grant"),children:"Grant Role"})]}),T&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading role information..."})]}),P&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm",children:"Error loading role information. Please try again later."})}),!T&&!P&&n.jsxs("div",{children:[o==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Role System Overview"}),n.jsx("p",{className:"text-sm text-gray-300",children:"This educational system uses role-based access control to manage permissions and responsibilities. Different roles have different capabilities within the system, arranged in a hierarchical structure from highest authority (Master Administrator) to specialized roles (Teacher)."}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex items-center text-purple-400 mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),n.jsx("h5",{className:"text-sm font-medium",children:"Role-Based Access"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Each role has specific permissions and capabilities within the system, determining what actions a user can perform."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex items-center text-blue-400 mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),n.jsx("h5",{className:"text-sm font-medium",children:"Hierarchical Structure"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Roles follow a hierarchy where higher roles typically have all the capabilities of lower roles plus additional privileges."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex items-center text-green-400 mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),n.jsx("h5",{className:"text-sm font-medium",children:"Administrative Control"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Higher-level administrators can grant or revoke roles, providing governance and access control throughout the system."})]})]})]}),xe(),ge()]}),o==="lookup"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Role Lookup"}),n.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Check which roles are assigned to a specific address in the educational system."}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:c,onChange:se=>{d(se.target.value),v(""),B(!1)},placeholder:"Address to check (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${f?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:K})}),n.jsx("button",{type:"button",onClick:X,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:K||!c,children:K?n.jsx("div",{className:"w-5 h-5 border-2 border-t-white border-white/30 rounded-full animate-spin"}):"Check Roles"})]}),f&&n.jsx("p",{className:"text-xs text-red-400 mt-1",children:f})]}),K&&n.jsxs("div",{className:"flex items-center justify-center py-4",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Checking roles..."})]}),!K&&I&&ve()]}),o==="grant"&&n.jsxs("div",{className:"space-y-4",children:[ke(),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About Role Management"}),n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Granting roles is an administrative function that gives specific capabilities to addresses within the educational system. Different roles have different levels of access and responsibility."}),n.jsx("p",{className:"text-sm text-gray-400",children:"Only addresses with appropriate administrative roles (Master Admin or Default Admin) can grant roles to others. Carefully consider which roles to grant to which addresses, as each role provides specific permissions within the system."})]})]})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Educational Guide: Role-Based Access Control"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"This system implements role-based access control (RBAC) using the OpenZeppelin AccessControl contract. RBAC is a method of restricting system access to authorized users based on their assigned roles within the organization."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-blue-400 mb-1",children:"How Roles Work in Blockchain"}),n.jsx("p",{className:"text-xs text-gray-400",children:"In blockchain-based educational systems, roles are represented by unique identifiers (bytes32 values) that are associated with Ethereum addresses. When an address attempts to perform an action, the smart contract checks if that address has the required role before allowing the action to proceed."})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-green-400 mb-1",children:"Benefits of Role-Based Access"}),n.jsx("p",{className:"text-xs text-gray-400",children:"RBAC provides numerous benefits: it simplifies administration by grouping permissions, enhances security by limiting access based on responsibilities, and facilitates compliance by clearly defining who can perform which actions within the system."})]})]})]})]})},Ou=({defaultMode:e="activate-school",initialSchoolAddress:t,initialStudentAddress:r,onSchoolActivated:s,onStudentDeactivated:a,onStudentTransferred:i,onDataChange:o,contract:l=pl,hideRoleChecker:c=!1,showAllTabs:d=!0})=>{const{address:u}=Ge(),[m,h]=w.useState(e==="activate-school"?"activate":e==="deactivate-student"?"deactivate":"transfer"),[p,f]=w.useState(t||""),[v,y]=w.useState(void 0),[g,x]=w.useState(null),[b,N]=w.useState(r||""),[j]=w.useState(""),[k,T]=w.useState(void 0),[P,I]=w.useState(""),[B,U]=w.useState(null),[q,K]=w.useState(r||""),[ne,J]=w.useState(""),[L,A]=w.useState(""),[E,O]=w.useState(null),[F,R]=w.useState(null),[_,Y]=w.useState(0),[ee,me]=w.useState(null),[le,ce]=w.useState(c),[G,H]=w.useState(c),[re,te]=w.useState(c),[$,z]=w.useState(""),[X,ie]=w.useState(!1),[oe,ue]=w.useState(!1),[xe,ge]=w.useState(""),[ve,ke]=w.useState(""),[,se]=w.useState("initial"),[de,je]=w.useState({status:"idle",hash:void 0,error:null,timestamp:null}),{writeContractAsync:Le,isPending:pe,isSuccess:M,isError:S,error:C,data:D,reset:W}=zt(),V={address:p,isActive:v,activationTime:g},ae={address:b,isActive:k,currentSchoolAddress:j,deactivationReason:P,deactivationTime:B},we={studentAddress:q,currentSchoolAddress:ne,newSchoolAddress:L,isStudentVerified:E,isNewSchoolActive:F,verificationStep:_,lastUpdated:ee},Ue=w.useCallback(()=>({activeOperation:m==="activate"?"activate-school":m==="deactivate"?"deactivate-student":"transfer-student",schoolData:p?{...V}:null,studentData:b?{...ae}:null,transferData:q&&ne&&L?{...we}:null,operationResult:{...de},permissions:{hasTeacherRole:le,hasAdminRole:G,roleCheckComplete:re}}),[m,V,p,ae,b,we,q,ne,L,de,le,G,re]);w.useEffect(()=>{if(o){const Se=Ue();o(Se)}},[Ue,o]);const Ie=(Se,ha)=>Se?/^0x[a-fA-F0-9]{40}$/.test(Se)?(z(""),!0):(z(`Invalid Ethereum address format for ${ha}`),!1):(z(`${ha} address is required`),!1);w.useEffect(()=>{M&&D&&(je({status:"success",hash:D,error:null,timestamp:new Date}),se("completed"),m==="activate"?(x(new Date),y(!0),ge("School activated successfully! The school can now manage students and participate in educational programs."),s&&s(!0,p)):m==="deactivate"?(U(new Date),T(!1),ke("Student deactivated successfully! The student is no longer active in the educational system."),a&&a(!0,b)):m==="transfer"&&(me(new Date),i&&i(!0,q,L)))},[M,D,m,p,b,q,L,s,a,i]),w.useEffect(()=>{if(S&&C){const Se=(C==null?void 0:C.message)||"Unknown error occurred";je({status:"error",hash:void 0,error:Se,timestamp:new Date}),se("initial"),m==="activate"?(ge(`Error activating school: ${Se}`),s&&s(!1,p)):m==="deactivate"?(ke(`Error deactivating student: ${Se}`),a&&a(!1,b)):m==="transfer"&&(me(new Date),i&&i(!1,q,L))}},[S,C,m,p,b,q,L,s,a,i]);const Ne=()=>{z(""),se("initial"),W==null||W(),m==="activate"?(t||f(""),ie(!1),ge(""),y(void 0),x(null)):m==="deactivate"?(r||N(""),ue(!1),ke(""),I(""),U(null),T(void 0)):m==="transfer"&&(r||K(""),J(""),A(""),O(null),R(null),Y(0),me(null)),je({status:"idle",hash:void 0,error:null,timestamp:null})},Pe=Se=>{h(Se),Ne()},k3=Se=>{y(Se),ie(!Se)},T3=(Se,ha)=>{m==="deactivate"&&ha===b?(T(Se),ue(Se)):m==="transfer"&&ha===q&&(O(Se),_===1&&Y(2))},E3=async()=>{if(Ie(p,"School"))try{se("processing"),je({status:"pending",hash:void 0,error:null,timestamp:new Date});const Se=await Le({abi:l.abi,address:l.address,functionName:"activateSchool",args:[p]});je({status:"pending",hash:Se,error:null,timestamp:new Date}),ge("School activation transaction submitted. It may take a moment to process.")}catch(Se){console.error("Error activating school:",Se),je({status:"error",hash:void 0,error:(Se==null?void 0:Se.message)||"Unknown error",timestamp:new Date}),se("initial"),ge("Error submitting activation transaction. Please try again.")}},P3=async()=>{if(Ie(b,"Student"))try{se("processing"),je({status:"pending",hash:void 0,error:null,timestamp:new Date});const Se=await Le({abi:l.abi,address:l.address,functionName:"deactivateStudent",args:[b]});je({status:"pending",hash:Se,error:null,timestamp:new Date}),ke("Student deactivation transaction submitted. It may take a moment to process.")}catch(Se){console.error("Error deactivating student:",Se),je({status:"error",hash:void 0,error:(Se==null?void 0:Se.message)||"Unknown error",timestamp:new Date}),se("initial"),ke("Error submitting deactivation transaction. Please try again.")}},A3=Se=>{Se.preventDefault(),!(!Ie(q,"Student")||!Ie(ne,"Current School")||!Ie(L,"New School"))&&(Y(1),me(new Date))},M3=async()=>{if(!(!E||!F))try{se("processing"),je({status:"pending",hash:void 0,error:null,timestamp:new Date});const Se=await Le({abi:l.abi,address:l.address,functionName:"transferStudent",args:[q,L]});je({status:"pending",hash:Se,error:null,timestamp:new Date})}catch(Se){console.error("Error transferring student:",Se),je({status:"error",hash:void 0,error:(Se==null?void 0:Se.message)||"Unknown error",timestamp:new Date}),se("initial")}},R3=()=>E===null?{text:"Not Verified",color:"text-gray-400",bg:"bg-gray-500/20"}:E?{text:"Verified",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Verified",color:"text-red-400",bg:"bg-red-500/20"},L3=()=>F===null?{text:"Unknown Status",color:"text-gray-400",bg:"bg-gray-500/20"}:F?{text:"Active School",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Inactive School",color:"text-red-400",bg:"bg-red-500/20"},Fl=E&&F&&_===3&&!pe,Ii=R3(),_i=L3();return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Management System"}),n.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Manage schools, students, and transfers on the blockchain."}),d&&n.jsxs("div",{className:"flex flex-wrap mb-6 border-b border-gray-700",children:[n.jsx("button",{onClick:()=>Pe("activate"),className:`py-2 px-4 text-sm font-medium transition-colors ${m==="activate"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Activate School"}),n.jsx("button",{onClick:()=>Pe("deactivate"),className:`py-2 px-4 text-sm font-medium transition-colors ${m==="deactivate"?"text-red-400 border-b-2 border-red-400":"text-gray-400 hover:text-gray-300"}`,children:"Deactivate Student"}),n.jsx("button",{onClick:()=>Pe("transfer"),className:`py-2 px-4 text-sm font-medium transition-colors ${m==="transfer"?"text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:"Transfer Student"})]}),u&&n.jsx("div",{className:"mb-4 bg-gray-700/30 p-3 rounded-md",children:n.jsxs("p",{className:"text-xs text-gray-400",children:["Connected as: ",n.jsx("span",{className:"text-blue-400 font-mono",children:u})]})}),!c&&n.jsx("div",{className:"hidden",children:n.jsx(QO,{contract:l,hasRoleFunction:l,onRoleDataFetched:()=>{ce(!0),H(!0),te(!0)}})}),m==="activate"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"School Activation Portal"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Activate a school to grant it permissions for managing students and educational programs."})}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsx("div",{className:"flex space-x-2",children:n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:p,onChange:Se=>{f(Se.target.value),z(""),ie(!1),W==null||W()},placeholder:"School address (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${$?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`})})}),$&&n.jsx("p",{className:"text-xs text-red-400",children:$})]}),p&&Ie(p,"School")&&v!==void 0&&n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:`flex items-center p-3 rounded-md ${v?"bg-green-900/20 border border-green-700/30":"bg-yellow-900/20 border border-yellow-700/30"}`,children:[v?n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("span",{className:`text-sm ${v?"text-green-300":"text-yellow-300"}`,children:v?"This address is an active school in the system":"This address is not currently active as a school"})]})}),p&&Ie(p,"School")&&n.jsx("div",{className:v!==void 0?"hidden":"mb-6",children:n.jsx(Tv,{contract:l,schoolAddress:p,onStatusFetched:k3})}),X&&n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-lg font-medium text-blue-400 mb-3",children:"Activate School"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-4",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"You are about to activate the following address as a school in the system:"}),n.jsx("div",{className:"bg-gray-800/50 rounded-md p-3 font-mono text-sm text-white break-all mb-3",children:p}),n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Activating a school grants this address the following capabilities:"}),n.jsxs("ul",{className:"space-y-2 mb-3",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Register and manage student accounts"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Record student attendance and progress"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Participate in educational programs"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Issue credentials and certifications"})]})]}),n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-md p-3 text-sm text-yellow-200",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("span",{children:"This action will grant significant permissions to the address. Please ensure this is a legitimate school administration address before proceeding."})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>ie(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:pe,children:"Cancel"}),n.jsx("button",{type:"button",onClick:E3,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:pe,children:pe?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Activating..."]}):"Activate School"})]})]})]}),de.status==="success"&&m==="activate"&&n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-green-900/20 border border-green-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-green-400",children:"Activation Successful"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:xe}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-700/30",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"The school is now ready to register students and participate in educational programs. To begin managing students, navigate to the School Management Dashboard."}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Activate Another School"})})]})]})]})}),de.status==="error"&&m==="activate"&&n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-red-900/20 border border-red-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-red-400",children:"Activation Failed"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:xe}),n.jsx("div",{className:"mt-3 pt-3 border-t border-red-700/30",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Try Again"})})]})]})}),v&&!X&&de.status!=="success"&&de.status!=="error"&&n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-blue-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-blue-400",children:"School Already Active"}),n.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["The address ",n.jsx("span",{className:"font-mono bg-gray-800/70 px-1 rounded",children:p})," is already registered as an active school in the system."]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"This school can already register students and participate in educational programs. If you need to manage this school, you can visit the School Management Dashboard."}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Check Another School"})})]})]})]})}),!v&&!X&&de.status!=="success"&&de.status!=="error"&&n.jsxs("div",{className:"mt-6 bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"About School Activation"}),n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"School activation is the process of granting an Ethereum address the permissions and capabilities needed to function as a school within the educational system. This is typically performed by system administrators."}),n.jsx("p",{className:"text-sm text-gray-300",children:"To activate a school, you'll need to:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-300 mt-2 pl-2",children:[n.jsx("li",{children:"Enter the Ethereum address of the school to be activated"}),n.jsx("li",{children:"Verify the current status of the address (active/inactive)"}),n.jsx("li",{children:"If the address is not already active, proceed with activation"}),n.jsx("li",{children:"Confirm the activation transaction using your connected wallet"})]})]})]})}),m==="deactivate"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-red-400 mb-3",children:"Student Deactivation Portal"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Deactivate a student to remove them from active participation in educational programs."})}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Student Address"}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:b,onChange:Se=>{N(Se.target.value),z(""),ue(!1),W==null||W()},placeholder:"Student address (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${$?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent`})})}),$&&n.jsx("p",{className:"text-xs text-red-400",children:$})]}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Test Student Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>N("0x742d35Cc6634C0532925a3b844Bc454e4438f44e"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test Student 1"}),n.jsx("button",{type:"button",onClick:()=>N("0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test Student 2"})]})]}),b&&Ie(b,"Student")&&n.jsx("div",{className:"mb-6",children:n.jsx(dO,{contract:l,studentAddress:b,onVerificationResult:T3})}),oe&&n.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-red-900/20 border border-red-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-lg font-medium text-red-400 mb-3",children:"Deactivate Student"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-4",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"You are about to deactivate the following student in the educational system:"}),n.jsx("div",{className:"bg-gray-800/50 rounded-md p-3 font-mono text-sm text-white break-all mb-3",children:b}),n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Deactivating a student will have the following effects:"}),n.jsxs("ul",{className:"space-y-2 mb-3",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Remove the student from active class rosters"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Prevent the student from earning new credentials"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Halt attendance tracking for this student"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"End participation in current programs and activities"})]})]}),n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Reason for Deactivation"}),n.jsx("textarea",{value:P,onChange:Se=>I(Se.target.value),placeholder:"Please provide a reason for deactivating this student (for record-keeping purposes)",rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Note: This reason is stored in your administrative records but is not written to the blockchain."})]}),n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-md p-3 text-sm text-red-200 mt-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("span",{children:"This action will immediately remove student privileges from this address. The student's academic record will remain intact, but they will no longer be active in the system."})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>ue(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:pe,children:"Cancel"}),n.jsx("button",{type:"button",onClick:P3,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",disabled:pe,children:pe?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deactivating..."]}):"Deactivate Student"})]})]})]}),de.status==="success"&&m==="deactivate"&&n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-green-900/20 border border-green-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-green-400",children:"Deactivation Successful"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:ve}),B&&n.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Completed ",Zt(B,{addSuffix:!0})]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-700/30",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"The student has been deactivated and can no longer participate in the educational system. Their academic record remains intact for reference."}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Deactivate Another Student"})})]})]})]})}),de.status==="error"&&m==="deactivate"&&n.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-red-900/20 border border-red-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-red-400",children:"Deactivation Failed"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:ve}),n.jsx("div",{className:"mt-3 pt-3 border-t border-red-700/30",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Try Again"})})]})]})})]})}),m==="transfer"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-green-400 mb-3",children:"Student Transfer System"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Transfer a student from one school to another while maintaining their academic records."})}),n.jsx("form",{onSubmit:A3,className:"space-y-4 mb-4",children:n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"student-address",type:"text",value:q,onChange:Se=>{K(Se.target.value),z(""),Y(0),O(null),W==null||W()},placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${$&&!q?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"current-school-address",className:"block text-sm font-medium text-gray-300",children:"Current School Address"}),n.jsx("input",{id:"current-school-address",type:"text",value:ne,onChange:Se=>{J(Se.target.value),z(""),Y(0),O(null),W==null||W()},placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${$&&!ne?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the address of the student's current school"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"new-school-address",className:"block text-sm font-medium text-gray-300",children:"New School Address"}),n.jsx("input",{id:"new-school-address",type:"text",value:L,onChange:Se=>{A(Se.target.value),z(""),Y(0),R(null),W==null||W()},placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${$&&!L?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the address of the school to transfer to"})]}),$&&n.jsx("div",{className:"text-xs text-red-400 bg-red-400/10 p-2 rounded border border-red-400/30",children:$}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Test Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{K("0x742d35Cc6634C0532925a3b844Bc454e4438f44e"),J("0xdD2FD4581271e230360230F9337D5c0430Bf44C0"),A("0x5FbDB2315678afecb367f032d93F642f64180aa3"),z(""),Y(0),O(null),R(null),W==null||W()},className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Load Test Data"}),n.jsx("button",{type:"button",onClick:Ne,className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Reset"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",disabled:_>0,children:_>0?"Verification in progress...":"Verify Eligibility"})})]})}),_>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Verification Status"}),n.jsxs("div",{className:"bg-gray-700/30 border border-gray-600 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300",children:"Student Enrollment Check"}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${Ii.bg} border border-${Ii.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${Ii.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-xs font-medium ${Ii.color}`,children:Ii.text})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Student Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:q})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Current School Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:ne})]})]}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:E===null?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Verifying student enrollment..."})]}):E?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm text-green-400",children:"Verified: Student is enrolled at the specified school"})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-red-400",children:"Not verified: Student is not enrolled at the specified school"})]})})]}),_===2&&n.jsx("div",{className:"hidden",children:n.jsx(Tv,{contract:l,schoolAddress:L,onStatusFetched:Se=>{R(Se),_===2&&Y(3)}})}),_>=2&&n.jsxs("div",{className:"bg-gray-700/30 border border-gray-600 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300",children:"New School Status Check"}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${_i.bg} border border-${_i.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${_i.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-xs font-medium ${_i.color}`,children:_i.text})]})]}),n.jsxs("div",{className:"space-y-1 mb-4",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Target School Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:L})]}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:F===null?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Checking school status..."})]}):F?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm text-green-400",children:"Verified: School is active in the system"})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-red-400",children:"Not verified: School is not active in the system"})]})})]}),_===3&&n.jsxs("div",{className:`${Fl?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"} border rounded-lg p-4`,children:[n.jsx("h5",{className:`text-sm font-medium ${Fl?"text-green-400":"text-red-400"} mb-2`,children:"Transfer Eligibility Status"}),n.jsxs("ul",{className:"space-y-2 mb-4",children:[n.jsxs("li",{className:"flex items-start",children:[E?n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Student Verification:"})," Student ",E?"is":"is not"," enrolled at current school"]})]}),n.jsxs("li",{className:"flex items-start",children:[F?n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"New School Status:"})," New school ",F?"is":"is not"," active in the system"]})]})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3",children:Fl?n.jsx("p",{className:"text-sm text-green-400",children:"Student is eligible for transfer to the new school"}):n.jsx("p",{className:"text-sm text-red-400",children:"Student is not eligible for transfer. Please ensure the student is enrolled at the current school and the new school is active."})}),Fl&&n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{type:"button",onClick:M3,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:pe,children:pe?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Transfer..."]}):"Initiate Transfer"})})]}),de.status==="success"&&m==="transfer"&&n.jsx("div",{className:"bg-green-500/10 border-green-500/30 border rounded-lg p-4 mt-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-green-400",children:"Transfer Successful"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Student has been successfully transferred to the new school."}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Transfer Another Student"})})]})]})}),de.status==="error"&&m==="transfer"&&n.jsx("div",{className:"bg-red-500/10 border-red-500/30 border rounded-lg p-4 mt-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-red-400",children:"Transfer Failed"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:de.error?de.error.message:"An error occurred during the transfer process."}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Try Again"})})]})]})}),ee&&n.jsxs("div",{className:"text-xs text-gray-400 text-right mt-2",children:["Last updated ",Zt(ee,{addSuffix:!0})]})]})]})})]})},XO=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",timestamp:null}),i=o=>{r(o.schoolData),a(o.operationResult)};return{SchoolActivationComponent:(o={})=>n.jsx(Ou,{defaultMode:"activate-school",initialSchoolAddress:e,onDataChange:i,showAllTabs:!1,...o}),schoolData:t,operationResult:s,isActive:(t==null?void 0:t.isActive)||!1,isLoading:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",error:s.error}},ZO=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",timestamp:null}),i=o=>{r(o.studentData),a(o.operationResult)};return{StudentDeactivationComponent:(o={})=>n.jsx(Ou,{defaultMode:"deactivate-student",initialStudentAddress:e,onDataChange:i,showAllTabs:!1,...o}),studentData:t,operationResult:s,isActive:(t==null?void 0:t.isActive)||!1,deactivationReason:(t==null?void 0:t.deactivationReason)||"",isLoading:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",error:s.error}},JO=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",timestamp:null}),i=o=>{r(o.transferData),a(o.operationResult)};return{StudentTransferComponent:(o={})=>n.jsx(Ou,{defaultMode:"transfer-student",initialStudentAddress:e,onDataChange:i,showAllTabs:!1,...o}),transferData:t,operationResult:s,isVerified:(t==null?void 0:t.isStudentVerified)||!1,isNewSchoolActive:(t==null?void 0:t.isNewSchoolActive)||!1,verificationStep:(t==null?void 0:t.verificationStep)||0,isLoading:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",error:s.error}},eD=()=>{const[e,t]=w.useState(null),r=s=>{t(s)};return{StudentManagementComponent:(s={})=>n.jsx(Ou,{onDataChange:r,showAllTabs:!0,...s}),SchoolActivation:XO(),StudentDeactivation:ZO(),StudentTransfer:JO(),data:e,getCurrentOperation:()=>(e==null?void 0:e.activeOperation)||"activate-school",hasPermission:s=>s==="teacher"?(e==null?void 0:e.permissions.hasTeacherRole)||!1:s==="admin"&&(e==null?void 0:e.permissions.hasAdminRole)||!1}},tD=({withdrawContract:e=ns,feeContract:t=ns,roleContract:r=ns,pauseContract:s=ns,onFinancialActionComplete:a,initialFinancialData:i})=>{const{address:o}=Ge(),[l,c]=w.useState("withdraw"),[d,u]=w.useState((i==null?void 0:i.programId)||1),[m,h]=w.useState((i==null?void 0:i.registrationFee)||0),[p,f]=w.useState((i==null?void 0:i.termFee)||0),[v,y]=w.useState((i==null?void 0:i.graduationFee)||0),[g,x]=w.useState((i==null?void 0:i.lateFeePercentage)||0),[b,N]=w.useState((i==null?void 0:i.contractBalance)||BigInt(0)),[j,k]=w.useState((i==null?void 0:i.canWithdraw)||!1),[T,P]=w.useState((i==null?void 0:i.canManageFees)||!1),[I,B]=w.useState((i==null?void 0:i.hasAdminRole)||null),[U,q]=w.useState((i==null?void 0:i.isSystemPaused)||null),[K,ne]=w.useState((i==null?void 0:i.lastChecked)||null),[J,L]=w.useState((i==null?void 0:i.errorMessage)||""),[A,E]=w.useState((i==null?void 0:i.validationError)||""),{data:O,isLoading:F,isError:R}=Ce({...r,functionName:"ADMIN_ROLE"}),{data:_,isLoading:Y,isError:ee,refetch:me}=Ce({...s,functionName:"paused"}),{data:le,isLoading:ce,isError:G,refetch:H}=Ce({...r,functionName:"hasRole",args:O&&o?[O,o]:void 0,query:{enabled:!!O&&!!o}}),{data:re,isLoading:te,isError:$,refetch:z}=Ce({...e,functionName:"getBalance",query:{enabled:!0}}),{data:X,error:ie,isPending:oe,writeContract:ue}=zt(),{isLoading:xe,isSuccess:ge,error:ve}=on({hash:X}),{data:ke,error:se,isPending:de,writeContract:je}=zt(),{isLoading:Le,isSuccess:pe,error:M}=on({hash:ke}),S=F||Y||ce||te,C=oe||xe||de||Le,W={status:ge||pe?"success":ie||se?"error":xe||Le?"confirming":oe||de?"pending":S?"checking":"idle"},V=Ne=>isNaN(Ne)||Ne<=0?(E("Program ID must be a positive number"),!1):(E(""),!0),ae=()=>{const Ne=[{value:m,name:"Registration fee"},{value:p,name:"Term fee"},{value:v,name:"Graduation fee"}];for(const Pe of Ne)if(isNaN(Pe.value)||Pe.value<0)return E(`${Pe.name} must be a non-negative number`),!1;return isNaN(g)||g<0||g>100?(E("Late fee percentage must be between 0 and 100"),!1):(E(""),!0)},we=()=>{if(!j){L(le?_?"System is paused. Cannot withdraw funds at this time":"Unable to withdraw funds due to system constraints":"You do not have the ADMIN_ROLE required to withdraw funds");return}if(!b||b<=BigInt(0)){L("No balance available to withdraw");return}try{L(""),ue({...e,functionName:"withdrawBalance",args:[]})}catch(Ne){console.error("Error withdrawing balance:",Ne),L("Error initiating withdrawal")}},Ue=Ne=>{if(Ne.preventDefault(),!(!V(d)||!ae())){if(!T){E(le?_?"System is paused. Cannot set program fees at this time":"Unable to set program fees due to system constraints":"You do not have the ADMIN_ROLE required to set program fees");return}try{je({...t,functionName:"setProgramFees",args:[BigInt(d),BigInt(m),BigInt(p),BigInt(v),BigInt(g)]})}catch(Pe){console.error("Error setting program fees:",Pe),E("Error initiating fee update")}}};w.useEffect(()=>{if(!S){const Ne=!!le,Pe=!!_;B(Ne),q(Pe),k(Ne&&!Pe),P(Ne&&!Pe),ne(new Date),re&&N(re),L(R||ee||G||$?"Error connecting to blockchain. Please check your connection and try again.":"")}},[le,_,re,S,R,ee,G,$]),w.useEffect(()=>{(ge||pe)&&!C&&(a&&(ge&&X&&a("withdrawal",X),pe&&ke&&a("fee-update",ke)),H(),me(),z(),h(0),f(0),y(0),x(0))},[ge,pe,C,X,ke,a,H,me,z]),w.useEffect(()=>{ve?L(`Transaction error: ${ve.message}`):M&&E(`Transaction error: ${M.message}`)},[ve,M]);const Ie=()=>K?Zt(K,{addSuffix:!0}):"Never checked";return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900 text-white p-6 rounded-xl shadow-2xl border border-gray-800",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-blue-600",children:"Financial Management Dashboard"}),n.jsx("div",{className:"mb-4 text-center",children:n.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${W.status==="success"?"bg-green-500/20 text-green-400":W.status==="error"?"bg-red-500/20 text-red-400":W.status==="pending"||W.status==="confirming"?"bg-yellow-500/20 text-yellow-400":W.status==="checking"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:["Status: ",W.status.charAt(0).toUpperCase()+W.status.slice(1)]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Current Contract Balance"}),n.jsx("div",{className:"text-2xl font-bold text-green-400",children:b?`${Mt(b)} ETH`:"0 ETH"})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"System Status"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${I?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:`text-sm ${I?"text-green-400":"text-red-400"}`,children:I?"Admin Access: Granted":"Admin Access: Denied"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${U?"bg-red-500":"bg-green-500"}`}),n.jsx("span",{className:`text-sm ${U?"text-red-400":"text-green-400"}`,children:U?"System: Paused":"System: Active"})]})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex border-b border-gray-700",children:[n.jsx("button",{onClick:()=>c("withdraw"),className:`px-4 py-2 text-sm font-medium 
              text-gray-300 hover:text-white hover:bg-gray-800 
              border-b-2 ${l==="withdraw"?"border-amber-500 text-white":"border-transparent"} 
              focus:outline-none transition-colors`,children:"Withdraw Balance"}),n.jsx("button",{onClick:()=>c("fees"),className:`px-4 py-2 text-sm font-medium 
              text-gray-300 hover:text-white hover:bg-gray-800 
              border-b-2 ${l==="fees"?"border-purple-500 text-white":"border-transparent"} 
              focus:outline-none transition-colors`,children:"Manage Program Fees"})]})}),l==="withdraw"&&n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold text-amber-400 mb-4",children:"Contract Balance Withdrawal"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Current Withdrawable Balance"}),n.jsx("div",{className:"text-2xl font-bold text-green-400 mb-4",children:b?`${Mt(b)} ETH`:"0 ETH"}),J&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:J})]}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsx("button",{onClick:we,disabled:C||!j||!b||b<=BigInt(0),className:`w-full py-3 rounded-md font-medium transition-colors ${C||!j||!b||b<=BigInt(0)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:C?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Withdrawal..."]}):"Withdraw All Funds"}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Requires admin role and active system status"})]})]})]}),l==="fees"&&n.jsxs("form",{onSubmit:Ue,className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:"Program Fee Configuration"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"programId",className:"block text-sm font-medium text-gray-300 mb-2",children:"Program ID"}),n.jsx("input",{id:"programId",type:"number",min:"1",value:d,onChange:Ne=>{const Pe=parseInt(Ne.target.value);u(Pe),V(Pe)},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&(!d||d<=0)?"border-red-500":"border-gray-600"}`,disabled:C||!T})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"registrationFee",className:"block text-sm font-medium text-gray-300 mb-2",children:"Registration Fee (wei)"}),n.jsx("input",{id:"registrationFee",type:"number",min:"0",value:m,onChange:Ne=>{h(parseFloat(Ne.target.value)),ae()},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&m<0?"border-red-500":"border-gray-600"}`,disabled:C||!T})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"termFee",className:"block text-sm font-medium text-gray-300 mb-2",children:"Term Fee (wei)"}),n.jsx("input",{id:"termFee",type:"number",min:"0",value:p,onChange:Ne=>{f(parseFloat(Ne.target.value)),ae()},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&p<0?"border-red-500":"border-gray-600"}`,disabled:C||!T})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"graduationFee",className:"block text-sm font-medium text-gray-300 mb-2",children:"Graduation Fee (wei)"}),n.jsx("input",{id:"graduationFee",type:"number",min:"0",value:v,onChange:Ne=>{y(parseFloat(Ne.target.value)),ae()},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&v<0?"border-red-500":"border-gray-600"}`,disabled:C||!T})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lateFeePercentage",className:"block text-sm font-medium text-gray-300 mb-2",children:"Late Fee Percentage (0-100%)"}),n.jsx("input",{id:"lateFeePercentage",type:"number",min:"0",max:"100",value:g,onChange:Ne=>{x(parseFloat(Ne.target.value)),ae()},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&(g<0||g>100)?"border-red-500":"border-gray-600"}`,disabled:C||!T})]})}),A&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:A}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:C||!T,className:`px-6 py-3 rounded-md font-medium transition-colors ${C||!T?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:C?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating Fees..."]}):"Set Program Fees"})})]}),(X||ke)&&n.jsxs("div",{className:"mt-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Recent Transaction"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Transaction Hash"}),n.jsx("p",{className:"text-xs text-blue-300 break-all",children:X||ke})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Transaction Status"}),n.jsx("div",{className:`text-sm font-medium ${ge||pe?"text-green-400":C?"text-yellow-400":"text-red-400"}`,children:ge||pe?"Transaction Confirmed":C?"Processing...":"Transaction Failed"})]})]})]}),(R||ee||G||$)&&n.jsxs("div",{className:"mt-6 bg-red-500/10 rounded-lg p-4 border border-red-500/30",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("h3",{className:"text-sm font-medium text-red-400",children:"Connection Error"})]}),n.jsx("p",{className:"mt-2 text-xs text-red-300",children:"There was an error connecting to the blockchain network. Please check your connection and try again."})]}),n.jsxs("div",{className:"mt-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"System Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Last Checked"}),n.jsx("p",{className:"text-sm text-blue-300",children:Ie()})]}),n.jsx("div",{children:n.jsx("button",{onClick:()=>{H(),me(),z(),ne(new Date)},className:"w-full py-2 px-4 bg-gray-700 hover:bg-gray-600 rounded-md text-sm text-white transition-colors",children:"Refresh System Status"})})]})]})]})},nD=e=>e?`${e.slice(0,6)}...${e.slice(-4)}`:"",rD=e=>e?new Date(e*1e3).toLocaleString():"N/A",sD=e=>{if(!e)return{days:0,hours:0,minutes:0};const t=Math.floor(Date.now()/1e3),r=Math.max(0,e-t),s=Math.floor(r/(60*60*24)),a=Math.floor(r%(60*60*24)/(60*60)),i=Math.floor(r%(60*60)/60);return{days:s,hours:a,minutes:i}},aD=({contract:e,onDetailsChange:t,onRefresh:r,defaultAddress:s="",autoFetch:a=!1,hideProgressBar:i=!1})=>{const o=e||F_,[l,c]=w.useState(s),[d,u]=w.useState(null),[m,h]=w.useState(!1),[p,f]=w.useState(""),[v,y]=w.useState(!1),[g,x]=w.useState(null),{isError:b,isLoading:N,refetch:j}=Ce({...o,functionName:"getOrganizationDetails",args:[l],enabled:!1});w.useEffect(()=>{s&&c(s)},[s]);const k=d?d.isActive?"Active":d.isInGracePeriod?"Grace Period":"Inactive":"",T=d?sD(d.subscriptionEnd):{days:0,hours:0,minutes:0},I=d?(()=>{if(!d||!d.subscriptionDuration)return 0;const q=Math.floor(Date.now()/1e3),K=Math.max(0,q-(d.subscriptionEnd-d.subscriptionDuration));return Math.min(100,K/d.subscriptionDuration*100)})():0;w.useEffect(()=>{if(t){const q={address:l,details:d,subscriptionStatus:k,timeRemaining:T,progress:I,lastFetched:g,isLoading:N,isError:b,errorMessage:p.includes("Error")||p.includes("invalid")?p:null};t(q)}},[l,d,k,T,I,g,N,b,p,t]);const B=async()=>{if(!l){f("Please enter an organization address"),y(!0);return}try{const q=await j();if(q.data){const K=q.data;u({contractAddress:K[0],isActive:K[1],subscriptionEnd:Number(K[2]),subscriptionDuration:Number(K[3]),isInGracePeriod:K[4]}),x(new Date),f("Organization details fetched successfully"),h(!0),r&&r()}else f("No organization details found or invalid address"),u(null),h(!1)}catch(q){console.error("Error fetching organization details:",q),f("Error fetching organization details"),u(null),h(!1)}y(!0)};w.useEffect(()=>{if(v){const q=setTimeout(()=>{y(!1)},5e3);return()=>clearTimeout(q)}},[v]),w.useEffect(()=>{a&&l&&!g&&B()},[a,l,g]);const U=q=>{q&&q!==l?(c(q),setTimeout(()=>{B()},100)):B()};return w.useEffect(()=>(typeof window<"u"&&(window.__organizationDetailsRefresh=U),()=>{typeof window<"u"&&delete window.__organizationDetailsRefresh}),[l]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Organization Details"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"orgAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Organization Address"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("input",{id:"orgAddress",type:"text",value:l,onChange:q=>c(q.target.value),placeholder:"0x...",className:"bg-gray-800 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-purple-500 block w-full p-2.5"}),n.jsx(Z.button,{onClick:B,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:N,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:N?"Loading...":"Fetch"})]})]}),v&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md ${p.includes("Error")||p.includes("invalid")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:p})}),N&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading organization details..."})]}),b&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error fetching organization details"})]})}),m&&d&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Organization Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsxs("div",{className:"font-mono text-gray-200 break-all",children:[n.jsx("span",{className:"block md:hidden",children:nD(d.contractAddress)}),n.jsx("span",{className:"hidden md:block",children:d.contractAddress})]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Subscription Status"}),n.jsx("div",{className:`font-semibold ${d.isActive?"text-green-400":d.isInGracePeriod?"text-yellow-400":"text-red-400"}`,children:k})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Subscription End"}),n.jsx("div",{className:"text-gray-200",children:rD(d.subscriptionEnd)})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Subscription Duration"}),n.jsxs("div",{className:"text-gray-200",children:[Math.floor(d.subscriptionDuration/86400)," days"]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Time Remaining"}),n.jsxs("div",{className:"text-gray-200",children:[T.days," days, ",T.hours," hours, ",T.minutes," minutes"]})]})]}),d.isActive&&!i&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Subscription Progress"}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:d.subscriptionDuration>0&&n.jsx("div",{className:`h-4 rounded-full ${d.isInGracePeriod?"bg-gradient-to-r from-yellow-500 to-red-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`,style:{width:`${Math.min(100,100-(d.subscriptionEnd-Math.floor(Date.now()/1e3))/d.subscriptionDuration*100)}%`}})})]}),g&&n.jsx("div",{className:"mt-4 bg-gray-700/20 rounded-md p-2.5",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-end",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",g.toLocaleString()]})})]})]})})]})},iD=(e,t=!1)=>{const[r,s]=w.useState(null),a=i=>{s(i)};return{OrganizationDetailsComponent:()=>n.jsx(aD,{defaultAddress:e,onDetailsChange:a,autoFetch:t}),data:r,refreshDetails:i=>{typeof window<"u"&&window.__organizationDetailsRefresh&&window.__organizationDetailsRefresh(i)}}},oD=({balanceContract:e,schoolAddress:t,onBalanceChange:r,onRefresh:s,hideCustomInput:a=!1})=>{const i=e||ns,{address:o}=Ge(),[l,c]=w.useState(t||o),[d,u]=w.useState(""),[m,h]=w.useState(!t&&!o&&!a),[p,f]=w.useState(""),[v,y]=w.useState(null);w.useEffect(()=>{t?(c(t),h(!1)):o?(c(o),h(!1)):a||h(!0)},[t,o,a]);const{data:g,isLoading:x,isError:b,refetch:N}=Ce({...i,functionName:"schoolBalance",args:l?[l]:void 0,query:{enabled:!!l}}),j=g?Mt(g):"0",k=g?g>BigInt(0):!1;w.useEffect(()=>{r&&r({address:l,balance:{raw:g,formatted:j,hasFunds:k},lastChecked:v,isLoading:x,isError:b})},[l,g,j,k,v,x,b,r]);const T=ne=>{u(ne.target.value),f("")},P=ne=>ne?/^0x[a-fA-F0-9]{40}$/.test(ne)?(f(""),!0):(f("Invalid Ethereum address format"),!1):(f("School address is required"),!1),I=()=>{P(d)&&(c(d),y(new Date))},B=()=>v?Zt(v,{addSuffix:!0}):"Never checked",U=()=>{N(),y(new Date),s&&s()},q=()=>{h(!m),m?o&&c(o):(c(void 0),u(""))},K=ne=>{ne&&ne!==l?(c(ne),setTimeout(()=>{N(),y(new Date)},100)):(N(),y(new Date))};return w.useEffect(()=>(typeof window<"u"&&(window.__schoolBalanceRefresh=K),()=>{typeof window<"u"&&delete window.__schoolBalanceRefresh}),[l]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-teal-400 mb-3",children:"School Balance Viewer"}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"School Address"}),!t&&!a&&n.jsx("button",{onClick:q,className:"text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500",children:m?"Use Connected Address":"Enter Custom Address"})]}),m?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:d,onChange:T,placeholder:"0x...",className:`flex-1 px-3 py-2 bg-gray-700 border ${p?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent`}),n.jsx("button",{onClick:I,className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 rounded-md text-white font-medium focus:outline-none focus:ring-2 focus:ring-teal-500",children:"Check"})]}),p&&n.jsx("div",{className:"text-xs text-red-400",children:p})]}):n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Current Address:"}),n.jsx("div",{className:"font-mono text-sm text-white break-all",children:l||"No address selected"})]})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"School Balance"}),x&&n.jsx("div",{className:"flex items-center justify-center py-6",children:n.jsx("div",{className:"w-6 h-6 border-2 border-t-teal-400 border-teal-200/30 rounded-full animate-spin"})}),b&&!x&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 w-full",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Balance Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to fetch school balance. Please try again later."})]})]})}),!x&&!b&&l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold text-teal-400 mb-2",children:[j," ETH"]}),n.jsx("div",{className:"w-full flex justify-center mb-2",children:n.jsx("div",{className:`py-1 px-3 rounded-full text-xs font-medium ${k?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:k?"Funds Available":"No Funds Available"})}),n.jsx("p",{className:"text-xs text-gray-400 text-center",children:"This is the current balance allocated to the school address in the system"}),n.jsxs("button",{onClick:U,className:"mt-4 flex items-center text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Balance"]})]})]})}),v&&!x&&!b&&l&&n.jsx("div",{className:"bg-gray-700/20 rounded-md p-3",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",B()]})}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About School Balance"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"This component allows you to view the balance allocated to a school address in the system. This balance represents funds that have been assigned to the school but may not be directly accessible in the wallet."}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mb-3",children:[n.jsx("h5",{className:"text-xs font-medium text-teal-400 mb-1",children:"Understanding School Balance"}),n.jsx("p",{className:"text-xs text-gray-400",children:"The school balance tracked by the contract may differ from the actual Ethereum balance of the address. It represents an internal accounting balance that might be associated with payments, allocations, or other financial operations within the educational system."})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Administrators and school officials can use this information for financial planning, auditing, and reconciliation purposes. The balance is updated whenever relevant financial transactions occur within the system."})]})]})},lD=e=>{const[t,r]=w.useState(null),s=a=>{r(a)};return{BalanceComponent:()=>n.jsx(oD,{schoolAddress:e,onBalanceChange:s,hideCustomInput:!1}),data:t,refreshBalance:a=>{typeof window<"u"&&window.__schoolBalanceRefresh&&window.__schoolBalanceRefresh(a)}}},cD=({adminContract:e,onCheckComplete:t,onRoleDataChange:r,onRefresh:s,defaultAddress:a,hideForm:i=!1})=>{const o=e||_d,{address:l}=Ge(),[c,d]=w.useState(a||""),[u,m]=w.useState(null),[h,p]=w.useState(!1),[f,v]=w.useState(""),[y,g]=w.useState(!0),[x,b]=w.useState(!1),[N,j]=w.useState([]);w.useEffect(()=>{a?d(a):l&&c===""&&d(l)},[l,c,a]),w.useEffect(()=>{const J=/^0x[a-fA-F0-9]{40}$/.test(c);p(J),g(!!(l&&c===l))},[c,l]);const{data:k,isLoading:T,isError:P,refetch:I,error:B}=Ce({...o,functionName:"hasAdminRole",args:h?[c]:void 0,query:{enabled:h}});w.useEffect(()=>{if(r){const J={address:c,hasAdminRole:k!==void 0?k:null,lastChecked:u,isLoading:T,isError:P,errorMessage:B?B.message:null,checkHistory:N};r(J)}},[c,k,u,T,P,B,N,r]);const U=()=>u?Zt(u,{addSuffix:!0}):"Never checked",q=()=>{if(!h){v("Please enter a valid Ethereum address");return}v(""),I().then(J=>{const L=new Date;if(m(L),J.data!==void 0){const A=[{address:c,hasRole:J.data,timestamp:L},...N].slice(0,5);j(A),t&&t(J.data,c),s&&s()}}).catch(J=>{console.error("Error checking role:",J),v("Error checking admin role: "+J.message)})},K=J=>{d(J)},ne=J=>{J&&J!==c?(d(J),setTimeout(()=>{q()},100)):q()};return w.useEffect(()=>(typeof window<"u"&&(window.__adminRoleCheck=ne),()=>{typeof window<"u"&&delete window.__adminRoleCheck}),[c]),w.useEffect(()=>{a&&h&&!u&&q()},[a,h,u]),n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"Admin Role Checker"}),!i&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"accountToCheck",className:"block text-sm font-medium text-gray-300 mb-1",children:"Account Address"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"accountToCheck",type:"text",value:c,onChange:J=>d(J.target.value),placeholder:"0x...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),l&&n.jsx("button",{onClick:()=>d(l),className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-xs text-gray-300 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500",title:"Use my connected wallet address",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the Ethereum address to check for admin role privileges"})]}),f&&n.jsx("div",{className:"w-full bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:f}),n.jsx("button",{onClick:q,disabled:!h||T,className:`w-full px-4 py-3 rounded-md text-white font-medium flex items-center justify-center mb-4 ${!h||T?"bg-gray-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500"}`,children:T?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking Admin Role..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Check Admin Role"]})}),h&&n.jsx("div",{className:"w-full text-center",children:n.jsx("p",{className:"text-xs text-gray-400",children:y?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}),"Checking your connected wallet address"]}):"Checking external wallet address"})})]}),h&&k!==void 0&&!P&&n.jsxs("div",{className:`w-full rounded-lg p-4 flex items-center justify-between ${k?"bg-green-900/20 border border-green-700/30":"bg-red-900/20 border border-red-700/30"}`,children:[n.jsx("div",{className:"flex items-center",children:k?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-green-400",children:"Admin Role Granted"}),n.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:y?"Your connected wallet has admin privileges":`${c.substring(0,6)}...${c.substring(c.length-4)} has admin privileges`})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-red-400",children:"No Admin Role"}),n.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:y?"Your connected wallet does not have admin privileges":`${c.substring(0,6)}...${c.substring(c.length-4)} does not have admin privileges`})]})]})}),n.jsx("div",{children:n.jsxs("p",{className:"text-xs text-gray-400",children:["Last checked ",U(),y&&n.jsxs("span",{className:"ml-1 inline-flex items-center text-amber-400",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1v-3a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-2xs",children:"Your wallet"})]})]})})]}),P&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Role Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:B?B.message:"An error occurred while checking the admin role. Please try again."})]})]})}),N.length>0&&!i&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Recent Checks"}),n.jsxs("button",{onClick:()=>b(!x),className:"text-xs text-amber-400 hover:text-amber-300 flex items-center focus:outline-none",children:[x?"Hide History":"Show History",n.jsx("svg",{className:`ml-1 w-4 h-4 transition-transform ${x?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),x&&n.jsx("div",{className:"bg-gray-700/20 rounded-lg p-2 mt-2",children:n.jsx("ul",{className:"divide-y divide-gray-700",children:N.map((J,L)=>n.jsx("li",{className:"py-2 first:pt-0 last:pb-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${J.hasRole?"bg-green-500":"bg-red-500"} mr-2`}),n.jsxs("button",{onClick:()=>K(J.address),className:"text-blue-400 hover:text-blue-300 font-mono text-xs hover:underline",children:[J.address.substring(0,10),"...",J.address.substring(J.address.length-8)]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`text-xs ${J.hasRole?"text-green-400":"text-red-400"} mr-3`,children:J.hasRole?"Admin":"Not Admin"}),n.jsx("span",{className:"text-xs text-gray-400",children:Zt(J.timestamp,{addSuffix:!0})})]})]})},L))})})]}),!i&&n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About Admin Role Checks"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"The Admin Role Checker allows you to verify if a specific Ethereum address has been granted admin privileges in the system."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Admin Privileges"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Addresses with admin privileges can perform sensitive operations such as updating fee structures, pausing contracts, and managing system configurations."})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Security Considerations"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Admin roles should be granted with caution and only to trusted entities. Regular audits of admin privileges help maintain system security."})]})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"This role check verifies permissions against the blockchain's current state. If an address recently gained or lost admin privileges, those changes will be reflected in the check results."})]})]})},dD=e=>{const[t,r]=w.useState(null),s=a=>{r(a)};return{RoleCheckerComponent:()=>n.jsx(cD,{defaultAddress:e,onRoleDataChange:s,hideForm:!1}),data:t,checkRole:a=>{typeof window<"u"&&window.__adminRoleCheck&&window.__adminRoleCheck(a)}}},nm=e=>e?`${e.slice(0,6)}...${e.slice(-4)}`:"",uD=({contract:e,onAddressesChange:t,onRefresh:r,autoFetch:s=!1,hideVerifyLinks:a=!1})=>{const i=e||__,[o,l]=w.useState(""),[c,d]=w.useState(""),[u,m]=w.useState(""),[h,p]=w.useState(!1),[f,v]=w.useState(""),[y,g]=w.useState(!1),[x,b]=w.useState(!1),[N,j]=w.useState(null),k=Ce({address:i.address,abi:i.abi,functionName:"studentProfile",query:{enabled:!0}}),T=Ce({address:i.address,abi:i.abi,functionName:"tuitionSystem",query:{enabled:!0}}),P=Ce({address:i.address,abi:i.abi,functionName:"revenueSystem",query:{enabled:!0}});w.useEffect(()=>{if(t){const q=k.isError||T.isError||P.isError;t({studentProfile:o,tuitionSystem:c,revenueSystem:u,lastFetched:N,isLoading:h,hasError:q,statusMessage:f})}},[o,c,u,N,h,f,k.isError,T.isError,P.isError,t]);const I=async()=>{p(!0);try{const[q,K,ne]=await Promise.all([k.refetch(),T.refetch(),P.refetch()]);q.data&&l(String(q.data)),K.data&&d(String(K.data)),ne.data&&m(String(ne.data)),j(new Date),v("System addresses fetched successfully"),b(!0),r&&r()}catch(q){console.error("Error fetching system addresses:",q),v("Error fetching system addresses"),b(!1)}finally{p(!1),g(!0)}};w.useEffect(()=>{if(y){const q=setTimeout(()=>{g(!1)},5e3);return()=>clearTimeout(q)}},[y]),w.useEffect(()=>{s&&!N&&I()},[s,N]);const B=()=>{I()};w.useEffect(()=>(typeof window<"u"&&(window.__systemAddressesRefresh=B),()=>{typeof window<"u"&&delete window.__systemAddressesRefresh}),[]);const U=k.isError||T.isError||P.isError;return n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"System Addresses"}),n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx(Z.button,{onClick:I,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:h,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:h?"Loading...":"Fetch System Addresses"})}),y&&n.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md ${f.includes("Error")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:f})}),h&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading system addresses..."})]}),U&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error fetching one or more system addresses"})]})}),x&&n.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Connected Systems"}),n.jsxs("div",{className:"mb-4 bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center mr-3",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),n.jsx("h4",{className:"text-lg font-medium text-white",children:"Student Profile System"})]}),n.jsxs("div",{className:"pl-11",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"font-mono text-gray-200 break-all",children:[n.jsx("span",{className:"block md:hidden",children:o?nm(o):"Not fetched"}),n.jsx("span",{className:"hidden md:block",children:o||"Not fetched"})]}),o&&n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(o),v("Student Profile address copied to clipboard!"),g(!0)},className:"ml-2 p-1 rounded-md hover:bg-gray-700 text-gray-400 hover:text-gray-200 transition-colors duration-200",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Manages student information and academic records"})]})]}),n.jsxs("div",{className:"mb-4 bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center mr-3",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})}),n.jsx("h4",{className:"text-lg font-medium text-white",children:"Tuition System"})]}),n.jsxs("div",{className:"pl-11",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"font-mono text-gray-200 break-all",children:[n.jsx("span",{className:"block md:hidden",children:c?nm(c):"Not fetched"}),n.jsx("span",{className:"hidden md:block",children:c||"Not fetched"})]}),c&&n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),v("Tuition System address copied to clipboard!"),g(!0)},className:"ml-2 p-1 rounded-md hover:bg-gray-700 text-gray-400 hover:text-gray-200 transition-colors duration-200",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Handles student tuition payments and fee structures"})]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center mr-3",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),n.jsx("h4",{className:"text-lg font-medium text-white",children:"Revenue System"})]}),n.jsxs("div",{className:"pl-11",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"font-mono text-gray-200 break-all",children:[n.jsx("span",{className:"block md:hidden",children:u?nm(u):"Not fetched"}),n.jsx("span",{className:"hidden md:block",children:u||"Not fetched"})]}),u&&n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),v("Revenue System address copied to clipboard!"),g(!0)},className:"ml-2 p-1 rounded-md hover:bg-gray-700 text-gray-400 hover:text-gray-200 transition-colors duration-200",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Manages institutional revenue and financial operations"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"System Interaction Flow"}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"w-full max-w-xs flex justify-between items-center",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center border border-blue-500/30",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),n.jsx("div",{className:"h-1 flex-grow bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"}),n.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center border border-purple-500/30",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-400",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})})]}),n.jsx("div",{className:"h-10 w-1 bg-gradient-to-b from-purple-500 to-indigo-500 my-2"}),n.jsx("div",{className:"w-16 h-16 bg-indigo-500/20 rounded-full flex items-center justify-center border border-indigo-500/30",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-indigo-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-4",children:[n.jsx("div",{className:"text-center",children:"Student Profile"}),n.jsx("div",{className:"text-center",children:"Tuition System"}),n.jsx("div",{className:"text-center",children:"Revenue System"})]})]})}),!a&&n.jsxs(Z.div,{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[o&&n.jsxs("a",{href:`https://etherscan.io/address/${o}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition-colors duration-300 shadow-md flex items-center justify-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"})}),"Verify Student Profile"]}),c&&n.jsxs("a",{href:`https://etherscan.io/address/${c}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition-colors duration-300 shadow-md flex items-center justify-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"})}),"Verify Tuition System"]}),u&&n.jsxs("a",{href:`https://etherscan.io/address/${u}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition-colors duration-300 shadow-md flex items-center justify-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"})}),"Verify Revenue System"]})]})]})})]})},Ev=()=>{var U,q,K,ne,J,L,A,E,O,F,R,_,Y,ee,me,le,ce,G;const[e,t]=w.useState(!0),[r,s]=w.useState(null),[a,i]=w.useState("overview"),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[u,m]=w.useState("create"),{address:h,isConnected:p}=Ge(),{data:f,refreshDetails:v}=iD("",!0),{data:y,refreshBalance:g}=lD(),{data:x}=BO(),{data:b,checkRole:N}=dD(),{ProgramManagementComponent:j}=UO(),{StudentRegistrationComponent:k}=YO(),{StudentManagementComponent:T}=eD(),P=w.useCallback(async H=>{if(!(!H||c)){d(!0);try{await N(H)}finally{d(!1)}}},[N,c]);w.useEffect(()=>{b&&b.hasAdminRole!==null&&l(b.hasAdminRole)},[b]),w.useEffect(()=>{const H=setTimeout(()=>{t(!1),s(new Date)},1500);return()=>clearTimeout(H)},[]),w.useEffect(()=>{p&&h&&!o&&!c&&P(h)},[p,h,o,P,c]);const I=()=>{t(!0),v(),g(),p&&h&&!c&&P(h),setTimeout(()=>{t(!1),s(new Date)},1500)},B=()=>{if(!r)return"";const re=new Date().getTime()-r.getTime(),te=Math.floor(re/6e4);if(te<1)return"Just now";if(te===1)return"1 minute ago";if(te<60)return`${te} minutes ago`;const $=Math.floor(te/60);return $===1?"1 hour ago":`${$} hours ago`};return n.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[n.jsx("header",{className:"bg-gradient-to-r from-blue-800 to-purple-900 py-3 sm:py-4 md:py-6 shadow-xl",children:n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-6",children:[n.jsx("div",{className:"mb-3 sm:mb-4 md:mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-4",children:[n.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white",children:"School Administrator Dashboard"}),n.jsxs("div",{className:"flex items-center gap-2",children:[o&&n.jsx("button",{onClick:I,disabled:c||e,className:`p-1.5 rounded-full ${e||c?"bg-gray-700 text-gray-500":"bg-green-800/30 text-green-500 hover:bg-green-800/50"} transition-colors`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 sm:h-5 sm:w-5 ${e?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-400",children:["Last Updated: ",new Date(r||0).toLocaleTimeString()]})]})]})}),p?n.jsx("div",{className:"text-xs sm:text-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"bg-green-900/30 text-green-500 px-2 py-1 rounded-full text-xs",children:"Connected"}),n.jsx("span",{className:"text-xs text-gray-400",children:h?`${h.slice(0,6)}...${h.slice(-4)}`:"Unknown"})]})}):n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3 sm:p-4 md:p-6 text-center",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-300 mb-2 sm:mb-3",children:"Please connect your wallet to verify admin access."}),n.jsx("div",{className:"bg-blue-500/20 text-blue-400 inline-block px-3 py-1.5 sm:px-4 sm:py-2 rounded-md",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-xs sm:text-sm",children:"Connect Wallet"})]})})]})]})}),n.jsxs("main",{className:"container mx-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4 md:py-8",children:[n.jsxs("div",{className:"flex mb-4 sm:mb-6 md:mb-8 border-b border-gray-700 overflow-x-auto pb-2 hide-scrollbar",children:[n.jsx("button",{onClick:()=>i("overview"),className:`px-2 sm:px-3 md:px-4 py-2 mr-1 sm:mr-2 whitespace-nowrap text-xs sm:text-sm ${a==="overview"?"bg-blue-500/20 text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Overview"}),n.jsx("button",{onClick:()=>i("programs"),className:`px-2 sm:px-3 md:px-4 py-2 mr-1 sm:mr-2 whitespace-nowrap text-xs sm:text-sm ${a==="programs"?"bg-green-500/20 text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:"Program Management"}),n.jsx("button",{onClick:()=>i("students"),className:`px-2 sm:px-3 md:px-4 py-2 mr-1 sm:mr-2 whitespace-nowrap text-xs sm:text-sm ${a==="students"?"bg-purple-500/20 text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-gray-300"}`,children:"Student Management"}),n.jsx("button",{onClick:()=>i("finances"),className:`px-2 sm:px-3 md:px-4 py-2 mr-1 sm:mr-2 whitespace-nowrap text-xs sm:text-sm ${a==="finances"?"bg-yellow-500/20 text-yellow-400 border-b-2 border-yellow-400":"text-gray-400 hover:text-gray-300"}`,children:"Financial Management"}),n.jsx("button",{onClick:()=>i("system"),className:`px-2 sm:px-3 md:px-4 py-2 whitespace-nowrap text-xs sm:text-sm ${a==="system"?"bg-red-500/20 text-red-400 border-b-2 border-red-400":"text-gray-400 hover:text-gray-300"}`,children:"System"})]}),n.jsxs("div",{className:"tab-content",children:[a==="overview"&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Dashboard Overview"}),n.jsxs("div",{className:"flex items-center",children:[r&&n.jsxs("span",{className:"text-xs text-gray-400 mr-3 hidden md:inline-flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Last updated: ",B()]}),n.jsx("button",{onClick:I,disabled:e,className:"flex items-center space-x-1 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 text-sm px-3 py-1.5 rounded transition-colors disabled:opacity-50",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-blue-400 border-r-blue-400 border-b-blue-400 border-l-transparent rounded-full animate-spin mr-1"}),n.jsx("span",{children:"Refreshing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),n.jsx("span",{children:"Refresh"})]})})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 mb-6 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-400",children:"Organization Status"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:f?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Subscription Status"}),n.jsx("div",{className:`font-semibold ${f.subscriptionStatus==="Active"?"text-green-400":f.subscriptionStatus==="Grace Period"?"text-yellow-400":"text-red-400"}`,children:f.subscriptionStatus})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Time Remaining"}),n.jsxs("div",{className:"text-white",children:[f.timeRemaining.days," days, ",f.timeRemaining.hours," hours"]})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsx("div",{className:"font-mono text-xs text-gray-300 truncate",children:f.address||"Not available"})]})]}):n.jsx("div",{className:"col-span-3 bg-gray-700/30 rounded-lg p-6 border border-gray-600 flex justify-center",children:e?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-r-blue-400 border-b-blue-400 border-l-transparent rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-400",children:"Loading organization data..."})]}):n.jsx("p",{className:"text-gray-400",children:"Organization data not available"})})}),f&&f.subscriptionStatus==="Active"&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Subscription Progress"}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-purple-500",style:{width:`${f.progress}%`}})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:e?Array(4).fill(0).map((H,re)=>n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg flex flex-col items-center justify-center h-24",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Loading data..."})]},re)):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Active Programs"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-blue-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:f!=null&&f.details?f.details.isActive?"5":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Total Students"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-purple-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:f!=null&&f.details?f.details.isActive?"24":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Pending Registrations"}),n.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"})]}),n.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:f!=null&&f.details?f.details.isActive?"3":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"This Month's Revenue"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-green-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-green-400",children:y!=null&&y.balance?`${Number(y.balance.formatted).toFixed(2)} ETH`:"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:y!=null&&y.lastChecked?`Last updated: ${new Date(y.lastChecked).toLocaleTimeString()}`:"Not yet fetched"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-teal-400",children:"School Balance"}),y?n.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[n.jsxs("div",{className:"text-3xl font-bold text-teal-400 mb-3",children:[y.balance.formatted," ETH"]}),n.jsx("div",{className:"w-full flex justify-center mb-4",children:n.jsx("div",{className:`py-1 px-3 rounded-full text-xs font-medium ${y.balance.hasFunds?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:y.balance.hasFunds?"Funds Available":"No Funds Available"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"This is the current balance allocated to your school in the system"}),y.lastChecked&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last checked: ",new Date(y.lastChecked).toLocaleString()]})]})]}):n.jsx("div",{className:"flex justify-center items-center py-8",children:e?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-teal-400 border-r-teal-400 border-b-teal-400 border-l-transparent rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-400",children:"Loading balance data..."})]}):n.jsx("button",{onClick:()=>g(),className:"bg-teal-500/20 hover:bg-teal-500/30 text-teal-400 px-4 py-2 rounded-md transition-colors",children:"Check School Balance"})})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-400",children:"Attendance Rate"}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[n.jsx("div",{className:"relative w-32 h-32 mb-4",children:n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[n.jsx("circle",{className:"text-gray-700",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),n.jsx("circle",{className:"text-purple-500",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-(f!=null&&f.details?87:0)/100)}`,strokeLinecap:"round",transform:"rotate(-90 50 50)"}),n.jsxs("text",{x:"50",y:"50",className:"text-2xl",dominantBaseline:"middle",textAnchor:"middle",fill:"white",children:[f!=null&&f.details?"87":"0","%"]})]})}),n.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Average attendance rate across all programs"})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-400",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[n.jsxs("button",{onClick:()=>i("programs"),className:"bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),n.jsx("span",{className:"text-sm",children:"Create Program"})]}),n.jsxs("button",{onClick:()=>i("students"),className:"bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),n.jsx("span",{className:"text-sm",children:"Register Student"})]}),n.jsxs("button",{onClick:()=>i("finances"),className:"bg-green-500/10 hover:bg-green-500/20 text-green-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm",children:"Manage Fees"})]}),n.jsxs("button",{onClick:()=>i("students"),className:"bg-yellow-500/10 hover:bg-yellow-500/20 text-yellow-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm",children:"Take Attendance"})]}),n.jsxs("button",{onClick:()=>i("finances"),className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("span",{className:"text-sm",children:"Withdraw Funds"})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-400",children:"Administrator Access"}),p?n.jsxs("div",{children:[n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Connected Address:"}),n.jsx("span",{className:"text-sm font-mono text-gray-300",children:h?`${h.slice(0,6)}...${h.slice(-4)}`:"Unknown"})]})}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Admin Status:"}),c?n.jsx("span",{className:"bg-gray-600/50 text-gray-400 px-2 py-1 rounded-full text-xs",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 border-2 border-t-gray-400 border-r-gray-400 border-b-gray-400 border-l-transparent rounded-full animate-spin mr-1"}),"Checking..."]})}):o===null?n.jsx("span",{className:"bg-gray-600/50 text-gray-400 px-2 py-1 rounded-full text-xs",children:"Not Checked"}):o?n.jsx("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs",children:"Admin Access"}):n.jsx("span",{className:"bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded-full text-xs",children:"Limited Access"})]})})]}):n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-6 text-center",children:[n.jsx("p",{className:"text-gray-300 mb-3",children:"Please connect your wallet to verify admin access."}),n.jsx("div",{className:"bg-blue-500/20 text-blue-400 inline-block px-4 py-2 rounded-md",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Connect Wallet"]})})]})]})]}),a==="programs"&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent",children:"Program Management"})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-400",children:"Programs Overview"}),n.jsx("div",{className:"space-y-4",children:e?n.jsxs("div",{className:"flex justify-center items-center h-32",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-green-400 border-green-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-400",children:"Loading program data..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Total Programs:"}),n.jsx("span",{className:"text-white font-semibold",children:f!=null&&f.details?f.details.isActive?"5":"0":"N/A"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Active Programs:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-white font-semibold mr-2",children:f!=null&&f.details?f.details.isActive?"3":"0":"N/A"}),n.jsx(kv,{isActive:!0})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Inactive Programs:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-white font-semibold mr-2",children:f!=null&&f.details?f.details.isActive?"2":"0":"N/A"}),n.jsx(kv,{isActive:!1})]})]}),n.jsxs("div",{className:"pt-3 border-t border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Average Enrollment"}),n.jsx($O,{enrollmentPercentage:f!=null&&f.details&&f.details.isActive?75:0}),n.jsx("div",{className:"text-xs text-gray-500 text-right mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]})]})})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-400",children:"Quick Program Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>{m("create"),i("programs")},disabled:e||!((U=f==null?void 0:f.details)!=null&&U.isActive),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${(q=f==null?void 0:f.details)!=null&&q.isActive?"bg-green-500/20 hover:bg-green-500/30 text-green-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[e?n.jsx("div",{className:"w-5 h-5 border-2 border-t-green-400 border-green-200/30 rounded-full animate-spin mr-2"}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Program"]}),n.jsxs("button",{onClick:()=>{m("view"),i("programs")},disabled:e||!((K=f==null?void 0:f.details)!=null&&K.isActive),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${(ne=f==null?void 0:f.details)!=null&&ne.isActive?"bg-blue-500/20 hover:bg-blue-500/30 text-blue-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 2a1 1 0 000 2h2a1 1 0 100-2H8z"}),n.jsx("path",{d:"M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z"})]}),"View Program Data"]}),n.jsxs("button",{onClick:()=>{m("update"),i("programs")},disabled:e||!((J=f==null?void 0:f.details)!=null&&J.isActive),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${(L=f==null?void 0:f.details)!=null&&L.isActive?"bg-purple-500/20 hover:bg-purple-500/30 text-purple-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Update Program Details"]})]})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg lg:col-span-2",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-400",children:"Program Management Console"}),e?n.jsxs("div",{className:"flex items-center justify-center py-10",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-green-400 border-green-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-300",children:"Loading program management..."})]}):(A=f==null?void 0:f.details)!=null&&A.isActive?n.jsx(j,{defaultMode:u,hideRoleChecker:!0,onDataChange:H=>{console.log("Program data updated:",H),H.status.isSuccess&&I()}}):n.jsx("div",{className:"bg-red-900/20 text-red-400 p-4 rounded-md",children:n.jsx("p",{children:"Organization is not active. Please activate your organization to manage programs."})})]})})})]})]}),a==="students"&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-500 bg-clip-text text-transparent",children:"Student Management"})}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e?Array(4).fill(0).map((H,re)=>n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg flex flex-col items-center justify-center h-24",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Loading data..."})]},re)):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",onClick:()=>g(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Total Students"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-purple-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:f!=null&&f.details?f.details.isActive?"24":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",onClick:()=>g(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Active Students"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-green-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-green-400",children:f!=null&&f.details?f.details.isActive?"22":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",onClick:()=>g(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Inactive Students"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-red-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-red-400",children:f!=null&&f.details?f.details.isActive?"2":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",onClick:()=>g(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Recent Registrations"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-blue-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:f!=null&&f.details?f.details.isActive?"4":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-400",children:"Student Registration"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Register new students to the system. You can add students individually or in batch."})}),n.jsx(k,{defaultMode:"single",availablePrograms:[{id:1,name:"Computer Science"},{id:2,name:"Data Science"},{id:3,name:"Blockchain Development"},{id:4,name:"Web3 Fundamentals"},{id:5,name:"Smart Contract Engineering"}],hideModeSwitcher:!1,maxBatchSize:20})]})}),n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-400",children:"Student Administration"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Manage existing students. Activate schools, deactivate students, or transfer students between schools."})}),n.jsx(T,{defaultMode:"activate-school",hideRoleChecker:!0,showAllTabs:!0})]})})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-purple-400",children:"Recent Students"}),n.jsxs("button",{className:"text-sm bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 px-3 py-1 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 10-1.414 1.414L13.586 15H11a1 1 0 100 2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"View All"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-700/30",children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Address"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Program"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-700",children:[{id:1,name:"Alice Johnson",address:"0x1234...5678",program:"Computer Science",isActive:!0},{id:2,name:"Bob Smith",address:"0x8765...4321",program:"Data Science",isActive:!0},{id:3,name:"Charlie Brown",address:"0xabcd...efgh",program:"Blockchain Development",isActive:!1},{id:4,name:"Diana Prince",address:"0x9876...5432",program:"Smart Contract Engineering",isActive:!0},{id:5,name:"Ethan Hunt",address:"0xijkl...mnop",program:"Web3 Fundamentals",isActive:!0}].map(H=>n.jsxs("tr",{className:"hover:bg-gray-700/20",children:[n.jsx("td",{className:"px-4 py-2 text-sm text-white",children:H.name}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-300 font-mono",children:H.address}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-300",children:H.program}),n.jsx("td",{className:"px-4 py-2 text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${H.isActive?"bg-green-900/20 text-green-400":"bg-red-900/20 text-red-400"}`,children:H.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-4 py-2 text-sm",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-1 text-blue-400 hover:text-blue-300",title:"View",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),n.jsx("button",{className:"p-1 text-yellow-400 hover:text-yellow-300",title:"Edit",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),n.jsx("button",{className:"p-1 text-purple-400 hover:text-purple-300",title:"Transfer",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"})})})]})})]},H.id))})]})})]})]}),a==="finances"&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-400 to-amber-500 bg-clip-text text-transparent",children:"Financial Management"})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Financial Overview"}),n.jsxs("div",{className:"space-y-4",children:[y?n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"School Balance"}),n.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[y.balance.formatted," ETH"]}),n.jsx("div",{className:"mt-2",children:n.jsx("div",{className:`inline-block py-1 px-2 rounded-full text-xs ${y.balance.hasFunds?"bg-green-900/20 text-green-400":"bg-red-900/20 text-red-400"}`,children:y.balance.hasFunds?"Funds Available":"No Funds Available"})})]}):n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600 flex justify-center",children:n.jsx("button",{onClick:()=>g(),className:"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 px-3 py-1.5 rounded transition-colors",children:"Check Balance"})}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Revenue This Month"}),x!=null&&x.revenueTracking?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-lg font-semibold text-green-400",children:x.revenueTracking.totalRevenue.formatted||(y!=null&&y.balance?`${Number(y.balance.formatted).toFixed(2)} ETH`:"0 ETH")}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:x.revenueTracking.lastWithdrawalTime.timeAgo||"No withdrawals yet"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-lg font-semibold text-green-400",children:y!=null&&y.balance?`${Number(y.balance.formatted).toFixed(2)} ETH`:"0 ETH"}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Last updated: ",y!=null&&y.lastChecked?new Date(y.lastChecked).toLocaleTimeString():"N/A"]})]})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Pending Transactions"}),e?n.jsxs("div",{className:"flex items-center justify-center py-2",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Loading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-lg font-semibold text-blue-400",children:(E=f==null?void 0:f.details)!=null&&E.isActive?"2":"0"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:(O=f==null?void 0:f.details)!=null&&O.isActive?`Total value: ${((F=x==null?void 0:x.programRevenue)==null?void 0:F.formatted)||(y!=null&&y.balance.raw?`${(Number(y.balance.formatted)*.3).toFixed(2)} ETH`:"0 ETH")}`:"No pending transactions"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>y!=null&&y.balance.hasFunds?g():null,disabled:e||!(y!=null&&y.balance.hasFunds),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${y!=null&&y.balance.hasFunds?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"})}),e?"Loading...":`Withdraw Funds${y!=null&&y.balance?` (${y.balance.formatted} ETH)`:""}`]}),n.jsxs("button",{onClick:()=>x?I():null,disabled:e,className:`w-full bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 py-2 px-4 rounded-md transition-colors flex items-center justify-center ${e?"opacity-50":""}`,children:[e?n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-14a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Transaction History"]}),n.jsxs("button",{onClick:()=>{var H;return(H=f==null?void 0:f.details)!=null&&H.isActive?I():null},disabled:e||!((R=f==null?void 0:f.details)!=null&&R.isActive),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${(_=f==null?void 0:f.details)!=null&&_.isActive?"bg-green-500/20 hover:bg-green-500/30 text-green-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v6a1 1 0 102 0V8z",clipRule:"evenodd"})}),e?"Loading...":"Financial Reports"]})]})]})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg mb-6",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Fee Management"}),n.jsx(tD,{onFinancialActionComplete:(H,re)=>{console.log(`${H} completed with hash: ${re}`),g()}})]})}),n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"School Finance Manager"}),n.jsx(GO,{defaultTab:"fees",hideEducationalInfo:!0,onFeeUpdateComplete:H=>{console.log(`Fee update completed with hash: ${H}`),g()},onWithdrawComplete:(H,re)=>{console.log(`Withdrawal of ${re} completed with hash: ${H}`),g()}})]})})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Financial Dashboard"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:e?Array(3).fill(0).map((H,re)=>n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg flex flex-col items-center justify-center h-24",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Loading data..."})]},re)):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Total Revenue"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-green-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-green-400",children:((Y=x==null?void 0:x.revenueTracking)==null?void 0:Y.totalRevenue.formatted)||(y!=null&&y.balance?`${Number(y.balance.formatted).toFixed(2)} ETH`:"0 ETH")}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(ee=x==null?void 0:x.lastChecked)!=null&&ee.revenueTracking?`Last updated: ${new Date(x.lastChecked.revenueTracking).toLocaleTimeString()}`:y!=null&&y.lastChecked?`Last checked: ${new Date(y.lastChecked).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Platform Share"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-blue-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:((me=x==null?void 0:x.revenueTracking)==null?void 0:me.platformShare.formatted)||(y!=null&&y.balance?`${(Number(y.balance.formatted)*.2).toFixed(2)} ETH`:"0 ETH")}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(le=x==null?void 0:x.lastChecked)!=null&&le.revenueTracking?`Last updated: ${new Date(x.lastChecked.revenueTracking).toLocaleTimeString()}`:y!=null&&y.lastChecked?"Platform fee: 20%":"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"School Share"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-purple-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:((ce=x==null?void 0:x.revenueTracking)==null?void 0:ce.schoolShare.formatted)||(y!=null&&y.balance?`${(Number(y.balance.formatted)*.8).toFixed(2)} ETH`:"0 ETH")}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(G=x==null?void 0:x.lastChecked)!=null&&G.revenueTracking?`Last updated: ${new Date(x.lastChecked.revenueTracking).toLocaleTimeString()}`:y!=null&&y.lastChecked?"School share: 80%":"Not yet fetched"})]})]})}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"View your financial data, manage fees, and monitor your institution's revenue."})}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{onClick:()=>console.log("Refresh financial data"),className:"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 px-4 py-2 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Load Financial Data"]})})]})]}),a==="system"&&n.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"flex justify-between items-center mb-3 sm:mb-4 md:mb-6",children:n.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-red-400 to-pink-500 bg-clip-text text-transparent",children:"System Configuration"})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 md:gap-6 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4 md:p-5 shadow-lg",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4 text-red-400",children:"Organization Details"}),f&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Subscription Status"}),n.jsx("p",{className:"text-white",children:f.subscriptionStatus||"Not available"})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Contract Address"}),n.jsx("p",{className:"text-white font-mono text-sm",children:f.address||"Not available"})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4 md:p-5 shadow-lg",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4 text-red-400",children:"System Addresses"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3",children:n.jsx(uD,{})})]})]})]})]})]})]})},mD=()=>{const e=Ll(),{refreshUser:t}=ms.useOCAuth(),[r,s]=w.useState(!1),a=async()=>{try{console.log("Login successful, refreshing user data..."),s(!0),await t(),await new Promise(c=>setTimeout(c,800)),e("/")}catch(c){console.error("Error refreshing user data:",c),e("/")}finally{s(!1)}},i=c=>{console.error("Authentication error:",c),e("/")},o=()=>n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mb-4"}),n.jsx("p",{className:"text-xl text-gray-300",children:r?"Finalizing your login...":"Processing your login..."}),n.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:r?"We are preparing your home page":"Validating your credentials"})]})}),l=()=>{var d;const{authState:c}=ms.useOCAuth();return n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900",children:n.jsxs("div",{className:"text-center p-8 bg-gray-800 rounded-lg shadow-xl",children:[n.jsx("p",{className:"text-xl text-red-500 mb-4",children:"Login Error"}),n.jsx("p",{className:"text-gray-300",children:((d=c.error)==null?void 0:d.message)||"An unknown error occurred"}),n.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Return to Home"})]})})};return n.jsx(ms.LoginCallBack,{errorCallback:i,successCallback:a,customErrorComponent:l,customLoadingComponent:o})},hD=({children:e})=>{const{isAuthenticated:t,isLoading:r}=ms.useOCAuth();return r?n.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?n.jsx(n.Fragment,{children:e}):n.jsx(uI,{to:"/",replace:!0})};function pD(){return n.jsxs(hI,{children:[n.jsx(zr,{path:"/",element:n.jsx(JI,{})}),n.jsx(zr,{path:"/countdown",element:n.jsx(t_,{})}),n.jsx(zr,{path:"/dashboard",element:n.jsx(yO,{})}),n.jsx(zr,{path:"/teachers",element:n.jsx(DO,{})}),n.jsx(zr,{path:"/school-admin",element:n.jsx(Ev,{})}),n.jsx(zr,{path:"/redirect",element:n.jsx(mD,{})}),n.jsx(zr,{path:"/dashboard",element:n.jsx(hD,{children:n.jsx(Ev,{})})})]})}globalThis.Buffer=Xv.Buffer;const fD=new k5;fm.createRoot(document.getElementById("root")).render(n.jsx(Q3.StrictMode,{children:n.jsx(Q8,{config:JN,children:n.jsx(M5,{client:fD,children:n.jsx(FI,{children:n.jsxs(CA,{sandboxMode:!0,children:[" ",n.jsx(pD,{})]})})})})}));export{fe as B,D8 as E,yo as H,jn as I,ki as _,bD as a,ND as b,I3 as c,Xk as d,Xv as e,pf as f,$v as g,_n as h,Be as i,hE as j,Pw as k,Tj as l,hi as m,Iw as n,fs as o,Nw as p,jD as q,xd as r,kD as s,ou as t,Sl as u,CD as v,SD as w};
