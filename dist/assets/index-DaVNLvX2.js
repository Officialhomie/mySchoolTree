const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D4pbqa2a.js","assets/hooks.module-C-K7Ztl2.js","assets/index-YmX3ek_x.js","assets/events-D_ivcwGD.js","assets/browser-BunH59DK.js","assets/metamask-sdk-SDv8HZZI.js","assets/index.es-JnSmZCvn.js"])))=>i.map(i=>d[i]);
var Ug=e=>{throw TypeError(e)};var zu=(e,t,r)=>t.has(e)||Ug("Cannot "+r);var Q=(e,t,r)=>(zu(e,t,"read from private field"),r?r.call(e):t.get(e)),Te=(e,t,r)=>t.has(e)?Ug("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,s)=>(zu(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Re=(e,t,r)=>(zu(e,t,"access private method"),r);var Bl=(e,t,r,s)=>({set _(a){ye(e,t,a,r)},get _(){return Q(e,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var V3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ID(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var Kv={exports:{}},Vd={},Yv={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),W3=Symbol.for("react.portal"),H3=Symbol.for("react.fragment"),G3=Symbol.for("react.strict_mode"),q3=Symbol.for("react.profiler"),K3=Symbol.for("react.provider"),Y3=Symbol.for("react.context"),Q3=Symbol.for("react.forward_ref"),X3=Symbol.for("react.suspense"),Z3=Symbol.for("react.memo"),J3=Symbol.for("react.lazy"),Vg=Symbol.iterator;function e5(e){return e===null||typeof e!="object"?null:(e=Vg&&e[Vg]||e["@@iterator"],typeof e=="function"?e:null)}var Qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xv=Object.assign,Zv={};function ki(e,t,r){this.props=e,this.context=t,this.refs=Zv,this.updater=r||Qv}ki.prototype.isReactComponent={};ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jv(){}Jv.prototype=ki.prototype;function mp(e,t,r){this.props=e,this.context=t,this.refs=Zv,this.updater=r||Qv}var hp=mp.prototype=new Jv;hp.constructor=mp;Xv(hp,ki.prototype);hp.isPureReactComponent=!0;var Wg=Array.isArray,e1=Object.prototype.hasOwnProperty,pp={current:null},t1={key:!0,ref:!0,__self:!0,__source:!0};function n1(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)e1.call(t,s)&&!t1.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Nl,type:e,key:i,ref:o,props:a,_owner:pp.current}}function t5(e,t){return{$$typeof:Nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nl}function n5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hg=/\/+/g;function Uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?n5(""+e.key):t.toString(36)}function jc(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nl:case W3:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Uu(o,0):s,Wg(a)?(r="",e!=null&&(r=e.replace(Hg,"$&/")+"/"),jc(a,t,r,"",function(d){return d})):a!=null&&(fp(a)&&(a=t5(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Hg,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Wg(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Uu(i,l);o+=jc(i,t,r,c,a)}else if(c=e5(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Uu(i,l++),o+=jc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(e,t,r){if(e==null)return e;var s=[],a=0;return jc(e,s,"","",function(i){return t.call(r,i,a++)}),s}function r5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},Nc={transition:null},s5={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:pp};function r1(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:zl,forEach:function(e,t,r){zl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!fp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=ki;Fe.Fragment=H3;Fe.Profiler=q3;Fe.PureComponent=mp;Fe.StrictMode=G3;Fe.Suspense=X3;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s5;Fe.act=r1;Fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Xv({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=pp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)e1.call(t,c)&&!t1.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Nl,type:e.type,key:a,ref:i,props:s,_owner:o}};Fe.createContext=function(e){return e={$$typeof:Y3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K3,_context:e},e.Consumer=e};Fe.createElement=n1;Fe.createFactory=function(e){var t=n1.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:Q3,render:e}};Fe.isValidElement=fp;Fe.lazy=function(e){return{$$typeof:J3,_payload:{_status:-1,_result:e},_init:r5}};Fe.memo=function(e,t){return{$$typeof:Z3,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=t}};Fe.unstable_act=r1;Fe.useCallback=function(e,t){return Ut.current.useCallback(e,t)};Fe.useContext=function(e){return Ut.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return Ut.current.useEffect(e,t)};Fe.useId=function(){return Ut.current.useId()};Fe.useImperativeHandle=function(e,t,r){return Ut.current.useImperativeHandle(e,t,r)};Fe.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return Ut.current.useMemo(e,t)};Fe.useReducer=function(e,t,r){return Ut.current.useReducer(e,t,r)};Fe.useRef=function(e){return Ut.current.useRef(e)};Fe.useState=function(e){return Ut.current.useState(e)};Fe.useSyncExternalStore=function(e,t,r){return Ut.current.useSyncExternalStore(e,t,r)};Fe.useTransition=function(){return Ut.current.useTransition()};Fe.version="18.3.1";Yv.exports=Fe;var w=Yv.exports;const a5=qv(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5=w,o5=Symbol.for("react.element"),l5=Symbol.for("react.fragment"),c5=Object.prototype.hasOwnProperty,d5=i5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u5={key:!0,ref:!0,__self:!0,__source:!0};function s1(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)c5.call(t,s)&&!u5.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:o5,type:e,key:i,ref:o,props:a,_owner:d5.current}}Vd.Fragment=l5;Vd.jsx=s1;Vd.jsxs=s1;Kv.exports=Vd;var n=Kv.exports,a1={},Wd={};Wd.byteLength=p5;Wd.toByteArray=g5;Wd.fromByteArray=b5;var Yn=[],mn=[],m5=typeof Uint8Array<"u"?Uint8Array:Array,Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ya=0,h5=Vu.length;ya<h5;++ya)Yn[ya]=Vu[ya],mn[Vu.charCodeAt(ya)]=ya;mn[45]=62;mn[95]=63;function i1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var s=r===t?0:4-r%4;return[r,s]}function p5(e){var t=i1(e),r=t[0],s=t[1];return(r+s)*3/4-s}function f5(e,t,r){return(t+r)*3/4-r}function g5(e){var t,r=i1(e),s=r[0],a=r[1],i=new m5(f5(e,s,a)),o=0,l=a>0?s-4:s,c;for(c=0;c<l;c+=4)t=mn[e.charCodeAt(c)]<<18|mn[e.charCodeAt(c+1)]<<12|mn[e.charCodeAt(c+2)]<<6|mn[e.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return a===2&&(t=mn[e.charCodeAt(c)]<<2|mn[e.charCodeAt(c+1)]>>4,i[o++]=t&255),a===1&&(t=mn[e.charCodeAt(c)]<<10|mn[e.charCodeAt(c+1)]<<4|mn[e.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function x5(e){return Yn[e>>18&63]+Yn[e>>12&63]+Yn[e>>6&63]+Yn[e&63]}function y5(e,t,r){for(var s,a=[],i=t;i<r;i+=3)s=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),a.push(x5(s));return a.join("")}function b5(e){for(var t,r=e.length,s=r%3,a=[],i=16383,o=0,l=r-s;o<l;o+=i)a.push(y5(e,o,o+i>l?l:o+i));return s===1?(t=e[r-1],a.push(Yn[t>>2]+Yn[t<<4&63]+"==")):s===2&&(t=(e[r-2]<<8)+e[r-1],a.push(Yn[t>>10]+Yn[t>>4&63]+Yn[t<<2&63]+"=")),a.join("")}var gp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */gp.read=function(e,t,r,s,a){var i,o,l=a*8-s-1,c=(1<<l)-1,d=c>>1,u=-7,m=r?a-1:0,h=r?-1:1,p=e[t+m];for(m+=h,i=p&(1<<-u)-1,p>>=-u,u+=l;u>0;i=i*256+e[t+m],m+=h,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=s;u>0;o=o*256+e[t+m],m+=h,u-=8);if(i===0)i=1-d;else{if(i===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,s),i=i-d}return(p?-1:1)*o*Math.pow(2,i-s)};gp.write=function(e,t,r,s,a,i){var o,l,c,d=i*8-a-1,u=(1<<d)-1,m=u>>1,h=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:i-1,f=s?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+m>=1?t+=h/c:t+=h*Math.pow(2,1-m),t*c>=2&&(o++,c/=2),o+m>=u?(l=0,o=u):o+m>=1?(l=(t*c-1)*Math.pow(2,a),o=o+m):(l=t*Math.pow(2,m-1)*Math.pow(2,a),o=0));a>=8;e[r+p]=l&255,p+=f,l/=256,a-=8);for(o=o<<a|l,d+=a;d>0;e[r+p]=o&255,p+=f,o/=256,d-=8);e[r+p-f]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Wd,r=gp,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=i(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const M=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(M,S),M.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(M){if(M>a)throw new RangeError('The value "'+M+'" is invalid for option "size"');const S=new Uint8Array(M);return Object.setPrototypeOf(S,l.prototype),S}function l(M,S,k){if(typeof M=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(M)}return c(M,S,k)}l.poolSize=8192;function c(M,S,k){if(typeof M=="string")return h(M,S);if(ArrayBuffer.isView(M))return f(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(se(M,ArrayBuffer)||M&&se(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(M,SharedArrayBuffer)||M&&se(M.buffer,SharedArrayBuffer)))return v(M,S,k);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=M.valueOf&&M.valueOf();if(B!=null&&B!==M)return l.from(B,S,k);const G=y(M);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return l.from(M[Symbol.toPrimitive]("string"),S,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}l.from=function(M,S,k){return c(M,S,k)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function u(M,S,k){return d(M),M<=0?o(M):S!==void 0?typeof k=="string"?o(M).fill(S,k):o(M).fill(S):o(M)}l.alloc=function(M,S,k){return u(M,S,k)};function m(M){return d(M),o(M<0?0:g(M)|0)}l.allocUnsafe=function(M){return m(M)},l.allocUnsafeSlow=function(M){return m(M)};function h(M,S){if((typeof S!="string"||S==="")&&(S="utf8"),!l.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const k=b(M,S)|0;let B=o(k);const G=B.write(M,S);return G!==k&&(B=B.slice(0,G)),B}function p(M){const S=M.length<0?0:g(M.length)|0,k=o(S);for(let B=0;B<S;B+=1)k[B]=M[B]&255;return k}function f(M){if(se(M,Uint8Array)){const S=new Uint8Array(M);return v(S.buffer,S.byteOffset,S.byteLength)}return p(M)}function v(M,S,k){if(S<0||M.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<S+(k||0))throw new RangeError('"length" is outside of buffer bounds');let B;return S===void 0&&k===void 0?B=new Uint8Array(M):k===void 0?B=new Uint8Array(M,S):B=new Uint8Array(M,S,k),Object.setPrototypeOf(B,l.prototype),B}function y(M){if(l.isBuffer(M)){const S=g(M.length)|0,k=o(S);return k.length===0||M.copy(k,0,0,S),k}if(M.length!==void 0)return typeof M.length!="number"||de(M.length)?o(0):p(M);if(M.type==="Buffer"&&Array.isArray(M.data))return p(M.data)}function g(M){if(M>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return M|0}function x(M){return+M!=M&&(M=0),l.alloc(+M)}l.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==l.prototype},l.compare=function(S,k){if(se(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),se(k,Uint8Array)&&(k=l.from(k,k.offset,k.byteLength)),!l.isBuffer(S)||!l.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===k)return 0;let B=S.length,G=k.length;for(let V=0,ae=Math.min(B,G);V<ae;++V)if(S[V]!==k[V]){B=S[V],G=k[V];break}return B<G?-1:G<B?1:0},l.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(S,k){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return l.alloc(0);let B;if(k===void 0)for(k=0,B=0;B<S.length;++B)k+=S[B].length;const G=l.allocUnsafe(k);let V=0;for(B=0;B<S.length;++B){let ae=S[B];if(se(ae,Uint8Array))V+ae.length>G.length?(l.isBuffer(ae)||(ae=l.from(ae)),ae.copy(G,V)):Uint8Array.prototype.set.call(G,ae,V);else if(l.isBuffer(ae))ae.copy(G,V);else throw new TypeError('"list" argument must be an Array of Buffers');V+=ae.length}return G};function b(M,S){if(l.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||se(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const k=M.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&k===0)return 0;let G=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return ue(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return ve(M).length;default:if(G)return B?-1:ue(M).length;S=(""+S).toLowerCase(),G=!0}}l.byteLength=b;function N(M,S,k){let B=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,S>>>=0,k<=S))return"";for(M||(M="utf8");;)switch(M){case"hex":return $(this,S,k);case"utf8":case"utf-8":return Z(this,S,k);case"ascii":return A(this,S,k);case"latin1":case"binary":return T(this,S,k);case"base64":return H(this,S,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,S,k);default:if(B)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),B=!0}}l.prototype._isBuffer=!0;function j(M,S,k){const B=M[S];M[S]=M[k],M[k]=B}l.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<S;k+=2)j(this,k,k+1);return this},l.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<S;k+=4)j(this,k,k+3),j(this,k+1,k+2);return this},l.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<S;k+=8)j(this,k,k+7),j(this,k+1,k+6),j(this,k+2,k+5),j(this,k+3,k+4);return this},l.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?Z(this,0,S):N.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(S){if(!l.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:l.compare(this,S)===0},l.prototype.inspect=function(){let S="";const k=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(S+=" ... "),"<Buffer "+S+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(S,k,B,G,V){if(se(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),!l.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(k===void 0&&(k=0),B===void 0&&(B=S?S.length:0),G===void 0&&(G=0),V===void 0&&(V=this.length),k<0||B>S.length||G<0||V>this.length)throw new RangeError("out of range index");if(G>=V&&k>=B)return 0;if(G>=V)return-1;if(k>=B)return 1;if(k>>>=0,B>>>=0,G>>>=0,V>>>=0,this===S)return 0;let ae=V-G,we=B-k;const Ue=Math.min(ae,we),Ie=this.slice(G,V),Ne=S.slice(k,B);for(let Pe=0;Pe<Ue;++Pe)if(Ie[Pe]!==Ne[Pe]){ae=Ie[Pe],we=Ne[Pe];break}return ae<we?-1:we<ae?1:0};function C(M,S,k,B,G){if(M.length===0)return-1;if(typeof k=="string"?(B=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,de(k)&&(k=G?0:M.length-1),k<0&&(k=M.length+k),k>=M.length){if(G)return-1;k=M.length-1}else if(k<0)if(G)k=0;else return-1;if(typeof S=="string"&&(S=l.from(S,B)),l.isBuffer(S))return S.length===0?-1:E(M,S,k,B,G);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(M,S,k):Uint8Array.prototype.lastIndexOf.call(M,S,k):E(M,[S],k,B,G);throw new TypeError("val must be string, number or Buffer")}function E(M,S,k,B,G){let V=1,ae=M.length,we=S.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(M.length<2||S.length<2)return-1;V=2,ae/=2,we/=2,k/=2}function Ue(Ne,Pe){return V===1?Ne[Pe]:Ne.readUInt16BE(Pe*V)}let Ie;if(G){let Ne=-1;for(Ie=k;Ie<ae;Ie++)if(Ue(M,Ie)===Ue(S,Ne===-1?0:Ie-Ne)){if(Ne===-1&&(Ne=Ie),Ie-Ne+1===we)return Ne*V}else Ne!==-1&&(Ie-=Ie-Ne),Ne=-1}else for(k+we>ae&&(k=ae-we),Ie=k;Ie>=0;Ie--){let Ne=!0;for(let Pe=0;Pe<we;Pe++)if(Ue(M,Ie+Pe)!==Ue(S,Pe)){Ne=!1;break}if(Ne)return Ie}return-1}l.prototype.includes=function(S,k,B){return this.indexOf(S,k,B)!==-1},l.prototype.indexOf=function(S,k,B){return C(this,S,k,B,!0)},l.prototype.lastIndexOf=function(S,k,B){return C(this,S,k,B,!1)};function P(M,S,k,B){k=Number(k)||0;const G=M.length-k;B?(B=Number(B),B>G&&(B=G)):B=G;const V=S.length;B>V/2&&(B=V/2);let ae;for(ae=0;ae<B;++ae){const we=parseInt(S.substr(ae*2,2),16);if(de(we))return ae;M[k+ae]=we}return ae}function L(M,S,k,B){return Ce(ue(S,M.length-k),M,k,B)}function _(M,S,k,B){return Ce(xe(S),M,k,B)}function O(M,S,k,B){return Ce(ve(S),M,k,B)}function W(M,S,k,B){return Ce(ge(S,M.length-k),M,k,B)}l.prototype.write=function(S,k,B,G){if(k===void 0)G="utf8",B=this.length,k=0;else if(B===void 0&&typeof k=="string")G=k,B=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(B)?(B=B>>>0,G===void 0&&(G="utf8")):(G=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const V=this.length-k;if((B===void 0||B>V)&&(B=V),S.length>0&&(B<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");let ae=!1;for(;;)switch(G){case"hex":return P(this,S,k,B);case"utf8":case"utf-8":return L(this,S,k,B);case"ascii":case"latin1":case"binary":return _(this,S,k,B);case"base64":return O(this,S,k,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,S,k,B);default:if(ae)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ae=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(M,S,k){return S===0&&k===M.length?t.fromByteArray(M):t.fromByteArray(M.slice(S,k))}function Z(M,S,k){k=Math.min(M.length,k);const B=[];let G=S;for(;G<k;){const V=M[G];let ae=null,we=V>239?4:V>223?3:V>191?2:1;if(G+we<=k){let Ue,Ie,Ne,Pe;switch(we){case 1:V<128&&(ae=V);break;case 2:Ue=M[G+1],(Ue&192)===128&&(Pe=(V&31)<<6|Ue&63,Pe>127&&(ae=Pe));break;case 3:Ue=M[G+1],Ie=M[G+2],(Ue&192)===128&&(Ie&192)===128&&(Pe=(V&15)<<12|(Ue&63)<<6|Ie&63,Pe>2047&&(Pe<55296||Pe>57343)&&(ae=Pe));break;case 4:Ue=M[G+1],Ie=M[G+2],Ne=M[G+3],(Ue&192)===128&&(Ie&192)===128&&(Ne&192)===128&&(Pe=(V&15)<<18|(Ue&63)<<12|(Ie&63)<<6|Ne&63,Pe>65535&&Pe<1114112&&(ae=Pe))}}ae===null?(ae=65533,we=1):ae>65535&&(ae-=65536,B.push(ae>>>10&1023|55296),ae=56320|ae&1023),B.push(ae),G+=we}return I(B)}const ee=4096;function I(M){const S=M.length;if(S<=ee)return String.fromCharCode.apply(String,M);let k="",B=0;for(;B<S;)k+=String.fromCharCode.apply(String,M.slice(B,B+=ee));return k}function A(M,S,k){let B="";k=Math.min(M.length,k);for(let G=S;G<k;++G)B+=String.fromCharCode(M[G]&127);return B}function T(M,S,k){let B="";k=Math.min(M.length,k);for(let G=S;G<k;++G)B+=String.fromCharCode(M[G]);return B}function $(M,S,k){const B=M.length;(!S||S<0)&&(S=0),(!k||k<0||k>B)&&(k=B);let G="";for(let V=S;V<k;++V)G+=je[M[V]];return G}function D(M,S,k){const B=M.slice(S,k);let G="";for(let V=0;V<B.length-1;V+=2)G+=String.fromCharCode(B[V]+B[V+1]*256);return G}l.prototype.slice=function(S,k){const B=this.length;S=~~S,k=k===void 0?B:~~k,S<0?(S+=B,S<0&&(S=0)):S>B&&(S=B),k<0?(k+=B,k<0&&(k=0)):k>B&&(k=B),k<S&&(k=S);const G=this.subarray(S,k);return Object.setPrototypeOf(G,l.prototype),G};function R(M,S,k){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+S>k)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(S,k,B){S=S>>>0,k=k>>>0,B||R(S,k,this.length);let G=this[S],V=1,ae=0;for(;++ae<k&&(V*=256);)G+=this[S+ae]*V;return G},l.prototype.readUintBE=l.prototype.readUIntBE=function(S,k,B){S=S>>>0,k=k>>>0,B||R(S,k,this.length);let G=this[S+--k],V=1;for(;k>0&&(V*=256);)G+=this[S+--k]*V;return G},l.prototype.readUint8=l.prototype.readUInt8=function(S,k){return S=S>>>0,k||R(S,1,this.length),this[S]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(S,k){return S=S>>>0,k||R(S,2,this.length),this[S]|this[S+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(S,k){return S=S>>>0,k||R(S,2,this.length),this[S]<<8|this[S+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(S,k){return S=S>>>0,k||R(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(S,k){return S=S>>>0,k||R(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},l.prototype.readBigUInt64LE=Le(function(S){S=S>>>0,U(S,"offset");const k=this[S],B=this[S+7];(k===void 0||B===void 0)&&J(S,this.length-8);const G=k+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,V=this[++S]+this[++S]*2**8+this[++S]*2**16+B*2**24;return BigInt(G)+(BigInt(V)<<BigInt(32))}),l.prototype.readBigUInt64BE=Le(function(S){S=S>>>0,U(S,"offset");const k=this[S],B=this[S+7];(k===void 0||B===void 0)&&J(S,this.length-8);const G=k*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],V=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+B;return(BigInt(G)<<BigInt(32))+BigInt(V)}),l.prototype.readIntLE=function(S,k,B){S=S>>>0,k=k>>>0,B||R(S,k,this.length);let G=this[S],V=1,ae=0;for(;++ae<k&&(V*=256);)G+=this[S+ae]*V;return V*=128,G>=V&&(G-=Math.pow(2,8*k)),G},l.prototype.readIntBE=function(S,k,B){S=S>>>0,k=k>>>0,B||R(S,k,this.length);let G=k,V=1,ae=this[S+--G];for(;G>0&&(V*=256);)ae+=this[S+--G]*V;return V*=128,ae>=V&&(ae-=Math.pow(2,8*k)),ae},l.prototype.readInt8=function(S,k){return S=S>>>0,k||R(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},l.prototype.readInt16LE=function(S,k){S=S>>>0,k||R(S,2,this.length);const B=this[S]|this[S+1]<<8;return B&32768?B|4294901760:B},l.prototype.readInt16BE=function(S,k){S=S>>>0,k||R(S,2,this.length);const B=this[S+1]|this[S]<<8;return B&32768?B|4294901760:B},l.prototype.readInt32LE=function(S,k){return S=S>>>0,k||R(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},l.prototype.readInt32BE=function(S,k){return S=S>>>0,k||R(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},l.prototype.readBigInt64LE=Le(function(S){S=S>>>0,U(S,"offset");const k=this[S],B=this[S+7];(k===void 0||B===void 0)&&J(S,this.length-8);const G=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(B<<24);return(BigInt(G)<<BigInt(32))+BigInt(k+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),l.prototype.readBigInt64BE=Le(function(S){S=S>>>0,U(S,"offset");const k=this[S],B=this[S+7];(k===void 0||B===void 0)&&J(S,this.length-8);const G=(k<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(G)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+B)}),l.prototype.readFloatLE=function(S,k){return S=S>>>0,k||R(S,4,this.length),r.read(this,S,!0,23,4)},l.prototype.readFloatBE=function(S,k){return S=S>>>0,k||R(S,4,this.length),r.read(this,S,!1,23,4)},l.prototype.readDoubleLE=function(S,k){return S=S>>>0,k||R(S,8,this.length),r.read(this,S,!0,52,8)},l.prototype.readDoubleBE=function(S,k){return S=S>>>0,k||R(S,8,this.length),r.read(this,S,!1,52,8)};function F(M,S,k,B,G,V){if(!l.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>G||S<V)throw new RangeError('"value" argument is out of bounds');if(k+B>M.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(S,k,B,G){if(S=+S,k=k>>>0,B=B>>>0,!G){const we=Math.pow(2,8*B)-1;F(this,S,k,B,we,0)}let V=1,ae=0;for(this[k]=S&255;++ae<B&&(V*=256);)this[k+ae]=S/V&255;return k+B},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(S,k,B,G){if(S=+S,k=k>>>0,B=B>>>0,!G){const we=Math.pow(2,8*B)-1;F(this,S,k,B,we,0)}let V=B-1,ae=1;for(this[k+V]=S&255;--V>=0&&(ae*=256);)this[k+V]=S/ae&255;return k+B},l.prototype.writeUint8=l.prototype.writeUInt8=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,1,255,0),this[k]=S&255,k+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,2,65535,0),this[k]=S&255,this[k+1]=S>>>8,k+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,2,65535,0),this[k]=S>>>8,this[k+1]=S&255,k+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,4,4294967295,0),this[k+3]=S>>>24,this[k+2]=S>>>16,this[k+1]=S>>>8,this[k]=S&255,k+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,4,4294967295,0),this[k]=S>>>24,this[k+1]=S>>>16,this[k+2]=S>>>8,this[k+3]=S&255,k+4};function Y(M,S,k,B,G){z(S,B,G,M,k,7);let V=Number(S&BigInt(4294967295));M[k++]=V,V=V>>8,M[k++]=V,V=V>>8,M[k++]=V,V=V>>8,M[k++]=V;let ae=Number(S>>BigInt(32)&BigInt(4294967295));return M[k++]=ae,ae=ae>>8,M[k++]=ae,ae=ae>>8,M[k++]=ae,ae=ae>>8,M[k++]=ae,k}function te(M,S,k,B,G){z(S,B,G,M,k,7);let V=Number(S&BigInt(4294967295));M[k+7]=V,V=V>>8,M[k+6]=V,V=V>>8,M[k+5]=V,V=V>>8,M[k+4]=V;let ae=Number(S>>BigInt(32)&BigInt(4294967295));return M[k+3]=ae,ae=ae>>8,M[k+2]=ae,ae=ae>>8,M[k+1]=ae,ae=ae>>8,M[k]=ae,k+8}l.prototype.writeBigUInt64LE=Le(function(S,k=0){return Y(this,S,k,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Le(function(S,k=0){return te(this,S,k,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(S,k,B,G){if(S=+S,k=k>>>0,!G){const Ue=Math.pow(2,8*B-1);F(this,S,k,B,Ue-1,-Ue)}let V=0,ae=1,we=0;for(this[k]=S&255;++V<B&&(ae*=256);)S<0&&we===0&&this[k+V-1]!==0&&(we=1),this[k+V]=(S/ae>>0)-we&255;return k+B},l.prototype.writeIntBE=function(S,k,B,G){if(S=+S,k=k>>>0,!G){const Ue=Math.pow(2,8*B-1);F(this,S,k,B,Ue-1,-Ue)}let V=B-1,ae=1,we=0;for(this[k+V]=S&255;--V>=0&&(ae*=256);)S<0&&we===0&&this[k+V+1]!==0&&(we=1),this[k+V]=(S/ae>>0)-we&255;return k+B},l.prototype.writeInt8=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,1,127,-128),S<0&&(S=255+S+1),this[k]=S&255,k+1},l.prototype.writeInt16LE=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,2,32767,-32768),this[k]=S&255,this[k+1]=S>>>8,k+2},l.prototype.writeInt16BE=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,2,32767,-32768),this[k]=S>>>8,this[k+1]=S&255,k+2},l.prototype.writeInt32LE=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,4,2147483647,-2147483648),this[k]=S&255,this[k+1]=S>>>8,this[k+2]=S>>>16,this[k+3]=S>>>24,k+4},l.prototype.writeInt32BE=function(S,k,B){return S=+S,k=k>>>0,B||F(this,S,k,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[k]=S>>>24,this[k+1]=S>>>16,this[k+2]=S>>>8,this[k+3]=S&255,k+4},l.prototype.writeBigInt64LE=Le(function(S,k=0){return Y(this,S,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Le(function(S,k=0){return te(this,S,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(M,S,k,B,G,V){if(k+B>M.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function le(M,S,k,B,G){return S=+S,k=k>>>0,G||me(M,S,k,4),r.write(M,S,k,B,23,4),k+4}l.prototype.writeFloatLE=function(S,k,B){return le(this,S,k,!0,B)},l.prototype.writeFloatBE=function(S,k,B){return le(this,S,k,!1,B)};function ce(M,S,k,B,G){return S=+S,k=k>>>0,G||me(M,S,k,8),r.write(M,S,k,B,52,8),k+8}l.prototype.writeDoubleLE=function(S,k,B){return ce(this,S,k,!0,B)},l.prototype.writeDoubleBE=function(S,k,B){return ce(this,S,k,!1,B)},l.prototype.copy=function(S,k,B,G){if(!l.isBuffer(S))throw new TypeError("argument should be a Buffer");if(B||(B=0),!G&&G!==0&&(G=this.length),k>=S.length&&(k=S.length),k||(k=0),G>0&&G<B&&(G=B),G===B||S.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),S.length-k<G-B&&(G=S.length-k+B);const V=G-B;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,B,G):Uint8Array.prototype.set.call(S,this.subarray(B,G),k),V},l.prototype.fill=function(S,k,B,G){if(typeof S=="string"){if(typeof k=="string"?(G=k,k=0,B=this.length):typeof B=="string"&&(G=B,B=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!l.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(S.length===1){const ae=S.charCodeAt(0);(G==="utf8"&&ae<128||G==="latin1")&&(S=ae)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(k<0||this.length<k||this.length<B)throw new RangeError("Out of range index");if(B<=k)return this;k=k>>>0,B=B===void 0?this.length:B>>>0,S||(S=0);let V;if(typeof S=="number")for(V=k;V<B;++V)this[V]=S;else{const ae=l.isBuffer(S)?S:l.from(S,G),we=ae.length;if(we===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(V=0;V<B-k;++V)this[V+k]=ae[V%we]}return this};const K={};function q(M,S,k){K[M]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(G){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:G,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(M,S){return`The "${M}" argument must be of type number. Received type ${typeof S}`},TypeError),q("ERR_OUT_OF_RANGE",function(M,S,k){let B=`The value of "${M}" is out of range.`,G=k;return Number.isInteger(k)&&Math.abs(k)>2**32?G=re(String(k)):typeof k=="bigint"&&(G=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(G=re(G)),G+="n"),B+=` It must be ${S}. Received ${G}`,B},RangeError);function re(M){let S="",k=M.length;const B=M[0]==="-"?1:0;for(;k>=B+4;k-=3)S=`_${M.slice(k-3,k)}${S}`;return`${M.slice(0,k)}${S}`}function ne(M,S,k){U(S,"offset"),(M[S]===void 0||M[S+k]===void 0)&&J(S,M.length-(k+1))}function z(M,S,k,B,G,V){if(M>k||M<S){const ae=typeof S=="bigint"?"n":"";let we;throw S===0||S===BigInt(0)?we=`>= 0${ae} and < 2${ae} ** ${(V+1)*8}${ae}`:we=`>= -(2${ae} ** ${(V+1)*8-1}${ae}) and < 2 ** ${(V+1)*8-1}${ae}`,new K.ERR_OUT_OF_RANGE("value",we,M)}ne(B,G,V)}function U(M,S){if(typeof M!="number")throw new K.ERR_INVALID_ARG_TYPE(S,"number",M)}function J(M,S,k){throw Math.floor(M)!==M?(U(M,k),new K.ERR_OUT_OF_RANGE("offset","an integer",M)):S<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,M)}const ie=/[^+/0-9A-Za-z-_]/g;function oe(M){if(M=M.split("=")[0],M=M.trim().replace(ie,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function ue(M,S){S=S||1/0;let k;const B=M.length;let G=null;const V=[];for(let ae=0;ae<B;++ae){if(k=M.charCodeAt(ae),k>55295&&k<57344){if(!G){if(k>56319){(S-=3)>-1&&V.push(239,191,189);continue}else if(ae+1===B){(S-=3)>-1&&V.push(239,191,189);continue}G=k;continue}if(k<56320){(S-=3)>-1&&V.push(239,191,189),G=k;continue}k=(G-55296<<10|k-56320)+65536}else G&&(S-=3)>-1&&V.push(239,191,189);if(G=null,k<128){if((S-=1)<0)break;V.push(k)}else if(k<2048){if((S-=2)<0)break;V.push(k>>6|192,k&63|128)}else if(k<65536){if((S-=3)<0)break;V.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((S-=4)<0)break;V.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return V}function xe(M){const S=[];for(let k=0;k<M.length;++k)S.push(M.charCodeAt(k)&255);return S}function ge(M,S){let k,B,G;const V=[];for(let ae=0;ae<M.length&&!((S-=2)<0);++ae)k=M.charCodeAt(ae),B=k>>8,G=k%256,V.push(G),V.push(B);return V}function ve(M){return t.toByteArray(oe(M))}function Ce(M,S,k,B){let G;for(G=0;G<B&&!(G+k>=S.length||G>=M.length);++G)S[G+k]=M[G];return G}function se(M,S){return M instanceof S||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===S.name}function de(M){return M!==M}const je=function(){const M="0123456789abcdef",S=new Array(256);for(let k=0;k<16;++k){const B=k*16;for(let G=0;G<16;++G)S[B+G]=M[k]+M[G]}return S}();function Le(M){return typeof BigInt>"u"?pe:M}function pe(){throw new Error("BigInt not supported")}})(a1);var Ci=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},li=typeof window>"u"||"Deno"in globalThis;function pn(){}function v5(e,t){return typeof e=="function"?e(t):e}function om(e){return typeof e=="number"&&e>=0&&e!==1/0}function o1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ba(e,t){return typeof e=="function"?e(t):e}function Gg(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==xp(o,t.options))return!1}else if(!To(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function qg(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ra(t.options.mutationKey)!==ra(i))return!1}else if(!To(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function xp(e,t){return((t==null?void 0:t.queryKeyHashFn)||ra)(e)}function ra(e){return JSON.stringify(e,(t,r)=>lm(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function To(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!To(e[r],t[r])):!1}function yp(e,t){if(e===t)return e;const r=Kg(e)&&Kg(t);if(r||lm(e)&&lm(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=yp(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Hc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Kg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lm(e){if(!Yg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Yg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yg(e){return Object.prototype.toString.call(e)==="[object Object]"}function w5(e){return new Promise(t=>{setTimeout(t,e)})}function cm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?yp(e,t):t}function j5(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function N5(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var l1=Symbol(),c1=(e,t)=>!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===l1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn,Gs,qr,Ya,Ov,S5=(Ov=class extends Ci{constructor(){super();Te(this,Gs);Te(this,qr);Te(this,Ya);ye(this,Ya,t=>{if(!li&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Q(this,qr)||this.setEventListener(Q(this,Ya))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,qr))==null||t.call(this),ye(this,qr,void 0))}setEventListener(t){var r;ye(this,Ya,t),(r=Q(this,qr))==null||r.call(this),ye(this,qr,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Q(this,Gs)!==t&&(ye(this,Gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Q(this,Gs)=="boolean"?Q(this,Gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gs=new WeakMap,qr=new WeakMap,Ya=new WeakMap,Ov),bp=new S5,Qa,Kr,Xa,Dv,k5=(Dv=class extends Ci{constructor(){super();Te(this,Qa,!0);Te(this,Kr);Te(this,Xa);ye(this,Xa,t=>{if(!li&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){Q(this,Kr)||this.setEventListener(Q(this,Xa))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Kr))==null||t.call(this),ye(this,Kr,void 0))}setEventListener(t){var r;ye(this,Xa,t),(r=Q(this,Kr))==null||r.call(this),ye(this,Kr,t(this.setOnline.bind(this)))}setOnline(t){Q(this,Qa)!==t&&(ye(this,Qa,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Q(this,Qa)}},Qa=new WeakMap,Kr=new WeakMap,Xa=new WeakMap,Dv),Gc=new k5;function C5(e){return Math.min(1e3*2**e,3e4)}function d1(e){return(e??"online")==="online"?Gc.isOnline():!0}var u1=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Wu(e){return e instanceof u1}function m1(e){let t=!1,r=0,s=!1,a,i,o;const l=new Promise((g,x)=>{i=g,o=x}),c=g=>{var x;s||(f(new u1(g)),(x=e.abort)==null||x.call(e))},d=()=>{t=!0},u=()=>{t=!1},m=()=>bp.isFocused()&&(e.networkMode==="always"||Gc.isOnline())&&e.canRun(),h=()=>d1(e.networkMode)&&e.canRun(),p=g=>{var x;s||(s=!0,(x=e.onSuccess)==null||x.call(e,g),a==null||a(),i(g))},f=g=>{var x;s||(s=!0,(x=e.onError)==null||x.call(e,g),a==null||a(),o(g))},v=()=>new Promise(g=>{var x;a=b=>{(s||m())&&g(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;a=void 0,s||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(s)return;let g;const x=r===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(p).catch(b=>{var P;if(s)return;const N=e.retry??(li?0:3),j=e.retryDelay??C5,C=typeof j=="function"?j(r,b):j,E=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,b);if(t||!E){f(b);return}r++,(P=e.onFail)==null||P.call(e,r,b),w5(C).then(()=>m()?void 0:v()).then(()=>{t?f(b):y()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:d,continueRetry:u,canStart:h,start:()=>(h()?y():v().then(y),l)}}function T5(){let e=[],t=0,r=h=>{h()},s=h=>{h()},a=h=>setTimeout(h,0);const i=h=>{a=h},o=h=>{let p;t++;try{p=h()}finally{t--,t||d()}return p},l=h=>{t?e.push(h):a(()=>{r(h)})},c=h=>(...p)=>{l(()=>{h(...p)})},d=()=>{const h=e;e=[],h.length&&a(()=>{s(()=>{h.forEach(p=>{r(p)})})})};return{batch:o,batchCalls:c,schedule:l,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{s=h},setScheduler:i}}var ht=T5(),qs,$v,h1=($v=class{constructor(){Te(this,qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),om(this.gcTime)&&ye(this,qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(li?1/0:5*60*1e3))}clearGcTimeout(){Q(this,qs)&&(clearTimeout(Q(this,qs)),ye(this,qs,void 0))}},qs=new WeakMap,$v),Za,Ja,hn,Et,bl,Ks,En,ir,Bv,E5=(Bv=class extends h1{constructor(t){super();Te(this,En);Te(this,Za);Te(this,Ja);Te(this,hn);Te(this,Et);Te(this,bl);Te(this,Ks);ye(this,Ks,!1),ye(this,bl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,hn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Za,t.state||P5(this.options)),this.state=Q(this,Za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Et))==null?void 0:t.promise}setOptions(t){this.options={...Q(this,bl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,hn).remove(this)}setData(t,r){const s=cm(this.state.data,t,this.options);return Re(this,En,ir).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Re(this,En,ir).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=Q(this,Et))==null?void 0:s.promise;return(a=Q(this,Et))==null||a.cancel(t),r?r.then(pn).catch(pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Za))}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!o1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Et))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Q(this,Et))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,hn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Q(this,Et)&&(Q(this,Ks)?Q(this,Et).cancel({revert:!0}):Q(this,Et).cancelRetry()),this.scheduleGc()),Q(this,hn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Re(this,En,ir).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Et))return Q(this,Et).continueRetry(),Q(this,Et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ye(this,Ks,!0),s.signal)})},i=()=>{const m=c1(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),ye(this,Ks,!1),this.options.persister?this.options.persister(m,h,this):m(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ye(this,Ja,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Re(this,En,ir).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=m=>{var h,p,f,v;Wu(m)&&m.silent||Re(this,En,ir).call(this,{type:"error",error:m}),Wu(m)||((p=(h=Q(this,hn).config).onError)==null||p.call(h,m,this),(v=(f=Q(this,hn).config).onSettled)==null||v.call(f,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ye(this,Et,m1({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var h,p,f,v;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(m),(p=(h=Q(this,hn).config).onSuccess)==null||p.call(h,m,this),(v=(f=Q(this,hn).config).onSettled)==null||v.call(f,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(m,h)=>{Re(this,En,ir).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Re(this,En,ir).call(this,{type:"pause"})},onContinue:()=>{Re(this,En,ir).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Q(this,Et).start()}},Za=new WeakMap,Ja=new WeakMap,hn=new WeakMap,Et=new WeakMap,bl=new WeakMap,Ks=new WeakMap,En=new WeakSet,ir=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...p1(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Wu(a)&&a.revert&&Q(this,Ja)?{...Q(this,Ja),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),ht.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Q(this,hn).notify({query:this,type:"updated",action:t})})},Bv);function p1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function P5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hn,zv,A5=(zv=class extends Ci{constructor(t={}){super();Te(this,Hn);this.config=t,ye(this,Hn,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??xp(a,r);let o=this.get(i);return o||(o=new E5({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Q(this,Hn).has(t.queryHash)||(Q(this,Hn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Q(this,Hn).get(t.queryHash);r&&(t.destroy(),r===t&&Q(this,Hn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Hn).get(t)}getAll(){return[...Q(this,Hn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Gg(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>Gg(t,s)):r}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hn=new WeakMap,zv),Gn,It,Ys,qn,zr,Uv,M5=(Uv=class extends h1{constructor(t){super();Te(this,qn);Te(this,Gn);Te(this,It);Te(this,Ys);this.mutationId=t.mutationId,ye(this,It,t.mutationCache),ye(this,Gn,[]),this.state=t.state||f1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,Gn).includes(t)||(Q(this,Gn).push(t),this.clearGcTimeout(),Q(this,It).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Gn,Q(this,Gn).filter(r=>r!==t)),this.scheduleGc(),Q(this,It).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,Gn).length||(this.state.status==="pending"?this.scheduleGc():Q(this,It).remove(this))}continue(){var t;return((t=Q(this,Ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,m,h,p,f,v,y,g,x,b,N,j,C,E;ye(this,Ys,m1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,L)=>{Re(this,qn,zr).call(this,{type:"failed",failureCount:P,error:L})},onPause:()=>{Re(this,qn,zr).call(this,{type:"pause"})},onContinue:()=>{Re(this,qn,zr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,It).canRun(this)}));const r=this.state.status==="pending",s=!Q(this,Ys).canStart();try{if(!r){Re(this,qn,zr).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=Q(this,It).config).onMutate)==null?void 0:i.call(a,t,this));const L=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));L!==this.state.context&&Re(this,qn,zr).call(this,{type:"pending",context:L,variables:t,isPaused:s})}const P=await Q(this,Ys).start();return await((d=(c=Q(this,It).config).onSuccess)==null?void 0:d.call(c,P,t,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,P,t,this.state.context)),await((p=(h=Q(this,It).config).onSettled)==null?void 0:p.call(h,P,null,this.state.variables,this.state.context,this)),await((v=(f=this.options).onSettled)==null?void 0:v.call(f,P,null,t,this.state.context)),Re(this,qn,zr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(y=Q(this,It).config).onError)==null?void 0:g.call(y,P,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,P,t,this.state.context)),await((j=(N=Q(this,It).config).onSettled)==null?void 0:j.call(N,void 0,P,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,P,t,this.state.context)),P}finally{Re(this,qn,zr).call(this,{type:"error",error:P})}}finally{Q(this,It).runNext(this)}}},Gn=new WeakMap,It=new WeakMap,Ys=new WeakMap,qn=new WeakSet,zr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ht.batch(()=>{Q(this,Gn).forEach(s=>{s.onMutationUpdate(t)}),Q(this,It).notify({mutation:this,type:"updated",action:t})})},Uv);function f1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var en,vl,Vv,R5=(Vv=class extends Ci{constructor(t={}){super();Te(this,en);Te(this,vl);this.config=t,ye(this,en,new Map),ye(this,vl,Date.now())}build(t,r,s){const a=new M5({mutationCache:this,mutationId:++Bl(this,vl)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=Ul(t),s=Q(this,en).get(r)??[];s.push(t),Q(this,en).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=Ul(t);if(Q(this,en).has(r)){const a=(s=Q(this,en).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?Q(this,en).delete(r):Q(this,en).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=Q(this,en).get(Ul(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=Q(this,en).get(Ul(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Q(this,en).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>qg(r,s))}findAll(t={}){return this.getAll().filter(r=>qg(t,r))}notify(t){ht.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ht.batch(()=>Promise.all(t.map(r=>r.continue().catch(pn))))}},en=new WeakMap,vl=new WeakMap,Vv);function Ul(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function L5(e){return{onFetch:(t,r)=>{const s=async()=>{var f,v,y,g,x;const a=t.options,i=(y=(v=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:v.fetchMore)==null?void 0:y.direction,o=((g=t.state.data)==null?void 0:g.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[],c={pages:[],pageParams:[]};let d=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},m=c1(t.options,t.fetchOptions),h=async(b,N,j)=>{if(d)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};u(C);const E=await m(C),{maxPages:P}=t.options,L=j?N5:j5;return{pages:L(b.pages,E,P),pageParams:L(b.pageParams,N,P)}};let p;if(i&&o.length){const b=i==="backward",N=b?I5:Qg,j={pages:o,pageParams:l},C=N(a,j);p=await h(j,C,b)}else{p=await h(c,l[0]??a.initialPageParam);const b=e??o.length;for(let N=1;N<b;N++){const j=Qg(a,p);p=await h(p,j)}}return p};t.options.persister?t.fetchFn=()=>{var a,i;return(i=(a=t.options).persister)==null?void 0:i.call(a,s,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=s}}}function Qg(e,{pages:t,pageParams:r}){const s=t.length-1;return e.getNextPageParam(t[s],t,r[s],r)}function I5(e,{pages:t,pageParams:r}){var s;return(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r)}var at,Yr,Qr,ei,ti,Xr,ni,ri,Wv,_5=(Wv=class{constructor(e={}){Te(this,at);Te(this,Yr);Te(this,Qr);Te(this,ei);Te(this,ti);Te(this,Xr);Te(this,ni);Te(this,ri);ye(this,at,e.queryCache||new A5),ye(this,Yr,e.mutationCache||new R5),ye(this,Qr,e.defaultOptions||{}),ye(this,ei,new Map),ye(this,ti,new Map),ye(this,Xr,0)}mount(){Bl(this,Xr)._++,Q(this,Xr)===1&&(ye(this,ni,bp.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,at).onFocus())})),ye(this,ri,Gc.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,at).onOnline())})))}unmount(){var e,t;Bl(this,Xr)._--,Q(this,Xr)===0&&((e=Q(this,ni))==null||e.call(this),ye(this,ni,void 0),(t=Q(this,ri))==null||t.call(this),ye(this,ri,void 0))}isFetching(e){return Q(this,at).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Yr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,at).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=Q(this,at).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Ba(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Q(this,at).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=Q(this,at).get(s.queryHash),i=a==null?void 0:a.state.data,o=v5(t,i);if(o!==void 0)return Q(this,at).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ht.batch(()=>Q(this,at).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Q(this,at).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Q(this,at);ht.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Q(this,at),s={type:"active",...e};return ht.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=ht.batch(()=>Q(this,at).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(pn).catch(pn)}invalidateQueries(e={},t={}){return ht.batch(()=>{if(Q(this,at).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=ht.batch(()=>Q(this,at).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(pn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(pn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Q(this,at).build(this,t);return r.isStaleByTime(Ba(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pn).catch(pn)}fetchInfiniteQuery(e){return e.behavior=L5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pn).catch(pn)}resumePausedMutations(){return Gc.isOnline()?Q(this,Yr).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,at)}getMutationCache(){return Q(this,Yr)}getDefaultOptions(){return Q(this,Qr)}setDefaultOptions(e){ye(this,Qr,e)}setQueryDefaults(e,t){Q(this,ei).set(ra(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,ei).values()];let r={};return t.forEach(s=>{To(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){Q(this,ti).set(ra(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,ti).values()];let r={};return t.forEach(s=>{To(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,Qr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===l1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,Qr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,at).clear(),Q(this,Yr).clear()}},at=new WeakMap,Yr=new WeakMap,Qr=new WeakMap,ei=new WeakMap,ti=new WeakMap,Xr=new WeakMap,ni=new WeakMap,ri=new WeakMap,Wv),Wt,Ve,wl,_t,Qs,si,Kn,jl,ai,ii,Xs,Zs,Zr,oi,ze,ao,dm,um,mm,hm,pm,fm,gm,g1,Hv,F5=(Hv=class extends Ci{constructor(t,r){super();Te(this,ze);Te(this,Wt);Te(this,Ve);Te(this,wl);Te(this,_t);Te(this,Qs);Te(this,si);Te(this,Kn);Te(this,jl);Te(this,ai);Te(this,ii);Te(this,Xs);Te(this,Zs);Te(this,Zr);Te(this,oi,new Set);this.options=r,ye(this,Wt,t),ye(this,Kn,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,Ve).addObserver(this),Xg(Q(this,Ve),this.options)?Re(this,ze,ao).call(this):this.updateResult(),Re(this,ze,hm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xm(Q(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xm(Q(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Re(this,ze,pm).call(this),Re(this,ze,fm).call(this),Q(this,Ve).removeObserver(this)}setOptions(t,r){const s=this.options,a=Q(this,Ve);if(this.options=Q(this,Wt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");Re(this,ze,gm).call(this),Q(this,Ve).setOptions(this.options),s._defaulted&&!Hc(this.options,s)&&Q(this,Wt).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,Ve),observer:this});const i=this.hasListeners();i&&Zg(Q(this,Ve),a,this.options,s)&&Re(this,ze,ao).call(this),this.updateResult(r),i&&(Q(this,Ve)!==a||this.options.enabled!==s.enabled||Ba(this.options.staleTime,Q(this,Ve))!==Ba(s.staleTime,Q(this,Ve)))&&Re(this,ze,dm).call(this);const o=Re(this,ze,um).call(this);i&&(Q(this,Ve)!==a||this.options.enabled!==s.enabled||o!==Q(this,Zr))&&Re(this,ze,mm).call(this,o)}getOptimisticResult(t){const r=Q(this,Wt).getQueryCache().build(Q(this,Wt),t),s=this.createResult(r,t);return D5(this,s)&&(ye(this,_t,s),ye(this,si,this.options),ye(this,Qs,Q(this,Ve).state)),s}getCurrentResult(){return Q(this,_t)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){Q(this,oi).add(t)}getCurrentQuery(){return Q(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Q(this,Wt).defaultQueryOptions(t),s=Q(this,Wt).getQueryCache().build(Q(this,Wt),r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Re(this,ze,ao).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,_t)))}createResult(t,r){var E;const s=Q(this,Ve),a=this.options,i=Q(this,_t),o=Q(this,Qs),l=Q(this,si),d=t!==s?t.state:Q(this,wl),{state:u}=t;let m={...u},h=!1,p;if(r._optimisticResults){const P=this.hasListeners(),L=!P&&Xg(t,r),_=P&&Zg(t,s,r,a);(L||_)&&(m={...m,...p1(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:f,errorUpdatedAt:v,status:y}=m;if(r.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&r.select===Q(this,jl))p=Q(this,ai);else try{ye(this,jl,r.select),p=r.select(m.data),p=cm(i==null?void 0:i.data,p,r),ye(this,ai,p),ye(this,Kn,null)}catch(P){ye(this,Kn,P)}else p=m.data;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let P;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))P=i.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((E=Q(this,ii))==null?void 0:E.state.data,Q(this,ii)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),ye(this,Kn,null)}catch(L){ye(this,Kn,L)}P!==void 0&&(y="success",p=cm(i==null?void 0:i.data,P,r),h=!0)}Q(this,Kn)&&(f=Q(this,Kn),p=Q(this,ai),v=Date.now(),y="error");const g=m.fetchStatus==="fetching",x=y==="pending",b=y==="error",N=x&&g,j=p!==void 0;return{status:y,fetchStatus:m.fetchStatus,isPending:x,isSuccess:y==="success",isError:b,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:m.dataUpdatedAt,error:f,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:b&&!j,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&j,isStale:vp(t,r),refetch:this.refetch}}updateResult(t){const r=Q(this,_t),s=this.createResult(Q(this,Ve),this.options);if(ye(this,Qs,Q(this,Ve).state),ye(this,si,this.options),Q(this,Qs).data!==void 0&&ye(this,ii,Q(this,Ve)),Hc(s,r))return;ye(this,_t,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Q(this,oi).size)return!0;const c=new Set(l??Q(this,oi));return this.options.throwOnError&&c.add("error"),Object.keys(Q(this,_t)).some(d=>{const u=d;return Q(this,_t)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Re(this,ze,g1).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Re(this,ze,hm).call(this)}},Wt=new WeakMap,Ve=new WeakMap,wl=new WeakMap,_t=new WeakMap,Qs=new WeakMap,si=new WeakMap,Kn=new WeakMap,jl=new WeakMap,ai=new WeakMap,ii=new WeakMap,Xs=new WeakMap,Zs=new WeakMap,Zr=new WeakMap,oi=new WeakMap,ze=new WeakSet,ao=function(t){Re(this,ze,gm).call(this);let r=Q(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(pn)),r},dm=function(){Re(this,ze,pm).call(this);const t=Ba(this.options.staleTime,Q(this,Ve));if(li||Q(this,_t).isStale||!om(t))return;const s=o1(Q(this,_t).dataUpdatedAt,t)+1;ye(this,Xs,setTimeout(()=>{Q(this,_t).isStale||this.updateResult()},s))},um=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,Ve)):this.options.refetchInterval)??!1},mm=function(t){Re(this,ze,fm).call(this),ye(this,Zr,t),!(li||this.options.enabled===!1||!om(Q(this,Zr))||Q(this,Zr)===0)&&ye(this,Zs,setInterval(()=>{(this.options.refetchIntervalInBackground||bp.isFocused())&&Re(this,ze,ao).call(this)},Q(this,Zr)))},hm=function(){Re(this,ze,dm).call(this),Re(this,ze,mm).call(this,Re(this,ze,um).call(this))},pm=function(){Q(this,Xs)&&(clearTimeout(Q(this,Xs)),ye(this,Xs,void 0))},fm=function(){Q(this,Zs)&&(clearInterval(Q(this,Zs)),ye(this,Zs,void 0))},gm=function(){const t=Q(this,Wt).getQueryCache().build(Q(this,Wt),this.options);if(t===Q(this,Ve))return;const r=Q(this,Ve);ye(this,Ve,t),ye(this,wl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},g1=function(t){ht.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Q(this,_t))}),Q(this,Wt).getQueryCache().notify({query:Q(this,Ve),type:"observerResultsUpdated"})})},Hv);function O5(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Xg(e,t){return O5(e,t)||e.state.data!==void 0&&xm(e,t,t.refetchOnMount)}function xm(e,t,r){if(t.enabled!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&vp(e,t)}return!1}function Zg(e,t,r,s){return(e!==t||s.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&vp(e,r)}function vp(e,t){return t.enabled!==!1&&e.isStaleByTime(Ba(t.staleTime,e))}function D5(e,t){return!Hc(e.getCurrentResult(),t)}var Jr,es,Ht,dr,vr,Sc,ym,Gv,$5=(Gv=class extends Ci{constructor(r,s){super();Te(this,vr);Te(this,Jr);Te(this,es);Te(this,Ht);Te(this,dr);ye(this,Jr,r),this.setOptions(s),this.bindMethods(),Re(this,vr,Sc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=Q(this,Jr).defaultMutationOptions(r),Hc(this.options,s)||Q(this,Jr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,Ht),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&ra(s.mutationKey)!==ra(this.options.mutationKey)?this.reset():((a=Q(this,Ht))==null?void 0:a.state.status)==="pending"&&Q(this,Ht).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Q(this,Ht))==null||r.removeObserver(this)}onMutationUpdate(r){Re(this,vr,Sc).call(this),Re(this,vr,ym).call(this,r)}getCurrentResult(){return Q(this,es)}reset(){var r;(r=Q(this,Ht))==null||r.removeObserver(this),ye(this,Ht,void 0),Re(this,vr,Sc).call(this),Re(this,vr,ym).call(this)}mutate(r,s){var a;return ye(this,dr,s),(a=Q(this,Ht))==null||a.removeObserver(this),ye(this,Ht,Q(this,Jr).getMutationCache().build(Q(this,Jr),this.options)),Q(this,Ht).addObserver(this),Q(this,Ht).execute(r)}},Jr=new WeakMap,es=new WeakMap,Ht=new WeakMap,dr=new WeakMap,vr=new WeakSet,Sc=function(){var s;const r=((s=Q(this,Ht))==null?void 0:s.state)??f1();ye(this,es,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ym=function(r){ht.batch(()=>{var s,a,i,o,l,c,d,u;if(Q(this,dr)&&this.hasListeners()){const m=Q(this,es).variables,h=Q(this,es).context;(r==null?void 0:r.type)==="success"?((a=(s=Q(this,dr)).onSuccess)==null||a.call(s,r.data,m,h),(o=(i=Q(this,dr)).onSettled)==null||o.call(i,r.data,null,m,h)):(r==null?void 0:r.type)==="error"&&((c=(l=Q(this,dr)).onError)==null||c.call(l,r.error,m,h),(u=(d=Q(this,dr)).onSettled)==null||u.call(d,void 0,r.error,m,h))}this.listeners.forEach(m=>{m(Q(this,es))})})},Gv),x1=w.createContext(void 0),y1=e=>{const t=w.useContext(x1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},B5=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(x1.Provider,{value:e,children:t})),b1=w.createContext(!1),z5=()=>w.useContext(b1);b1.Provider;function U5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var V5=w.createContext(U5()),W5=()=>w.useContext(V5);function v1(e,t){return typeof e=="function"?e(...t):!!e}function H5(){}var G5=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},q5=e=>{w.useEffect(()=>{e.clearReset()},[e])},K5=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&v1(r,[e.error,s]),Y5=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Q5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,X5=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Z5(e,t,r){const s=y1(),a=z5(),i=W5(),o=s.defaultQueryOptions(e);o._optimisticResults=a?"isRestoring":"optimistic",Y5(o),G5(o,i),q5(i);const[l]=w.useState(()=>new t(s,o)),c=l.getOptimisticResult(o);if(w.useSyncExternalStore(w.useCallback(d=>{const u=a?()=>{}:l.subscribe(ht.batchCalls(d));return l.updateResult(),u},[l,a]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),w.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),Q5(o,c))throw X5(o,l,i);if(K5({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw c.error;return o.notifyOnChangeProps?c:l.trackResult(c)}function J5(e,t){return Z5(e,F5)}function Hd(e,t){const r=y1(),[s]=w.useState(()=>new $5(r,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const a=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(ht.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=w.useCallback((o,l)=>{s.mutate(o,l).catch(H5)},[s]);if(a.error&&v1(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var bm={},w1={exports:{}},ln={},j1={exports:{}},N1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,$){var D=T.length;T.push($);e:for(;0<D;){var R=D-1>>>1,F=T[R];if(0<a(F,$))T[R]=$,T[D]=F,D=R;else break e}}function r(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var $=T[0],D=T.pop();if(D!==$){T[0]=D;e:for(var R=0,F=T.length,Y=F>>>1;R<Y;){var te=2*(R+1)-1,me=T[te],le=te+1,ce=T[le];if(0>a(me,D))le<F&&0>a(ce,me)?(T[R]=ce,T[le]=D,R=le):(T[R]=me,T[te]=D,R=te);else if(le<F&&0>a(ce,D))T[R]=ce,T[le]=D,R=le;else break e}}return $}function a(T,$){var D=T.sortIndex-$.sortIndex;return D!==0?D:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var $=r(d);$!==null;){if($.callback===null)s(d);else if($.startTime<=T)s(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(d)}}function N(T){if(v=!1,b(T),!f)if(r(c)!==null)f=!0,I(j);else{var $=r(d);$!==null&&A(N,$.startTime-T)}}function j(T,$){f=!1,v&&(v=!1,g(P),P=-1),p=!0;var D=h;try{for(b($),m=r(c);m!==null&&(!(m.expirationTime>$)||T&&!O());){var R=m.callback;if(typeof R=="function"){m.callback=null,h=m.priorityLevel;var F=R(m.expirationTime<=$);$=e.unstable_now(),typeof F=="function"?m.callback=F:m===r(c)&&s(c),b($)}else s(c);m=r(c)}if(m!==null)var Y=!0;else{var te=r(d);te!==null&&A(N,te.startTime-$),Y=!1}return Y}finally{m=null,h=D,p=!1}}var C=!1,E=null,P=-1,L=5,_=-1;function O(){return!(e.unstable_now()-_<L)}function W(){if(E!==null){var T=e.unstable_now();_=T;var $=!0;try{$=E(!0,T)}finally{$?H():(C=!1,E=null)}}else C=!1}var H;if(typeof x=="function")H=function(){x(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=W,H=function(){ee.postMessage(null)}}else H=function(){y(W,0)};function I(T){E=T,C||(C=!0,H())}function A(T,$){P=y(function(){T(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,I(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var D=h;h=$;try{return T()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=h;h=T;try{return $()}finally{h=D}},e.unstable_scheduleCallback=function(T,$,D){var R=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?R+D:R):D=R,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=D+F,T={id:u++,callback:$,priorityLevel:T,startTime:D,expirationTime:F,sortIndex:-1},D>R?(T.sortIndex=D,t(d,T),r(c)===null&&T===r(d)&&(v?(g(P),P=-1):v=!0,A(N,D-R))):(T.sortIndex=F,t(c,T),f||p||(f=!0,I(j))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var $=h;return function(){var D=h;h=$;try{return T.apply(this,arguments)}finally{h=D}}}})(N1);j1.exports=N1;var eS=j1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=w,an=eS;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S1=new Set,Eo={};function ha(e,t){ci(e,t),ci(e+"Capture",t)}function ci(e,t){for(Eo[e]=t,e=0;e<t.length;e++)S1.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vm=Object.prototype.hasOwnProperty,nS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jg={},ex={};function rS(e){return vm.call(ex,e)?!0:vm.call(Jg,e)?!1:nS.test(e)?ex[e]=!0:(Jg[e]=!0,!1)}function sS(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aS(e,t,r,s){if(t===null||typeof t>"u"||sS(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var wp=/[\-:]([a-z])/g;function jp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wp,jp);kt[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wp,jp);kt[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wp,jp);kt[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Np(e,t,r,s){var a=kt.hasOwnProperty(t)?kt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aS(t,r,a,s)&&(r=null),s||a===null?rS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Pr=tS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),ja=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),wm=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),C1=Symbol.for("react.context"),kp=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),T1=Symbol.for("react.offscreen"),tx=Symbol.iterator;function Bi(e){return e===null||typeof e!="object"?null:(e=tx&&e[tx]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,Hu;function io(e){if(Hu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hu=t&&t[1]||""}return`
`+Hu+e}var Gu=!1;function qu(e,t){if(!e||Gu)return"";Gu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?io(e):""}function iS(e){switch(e.tag){case 5:return io(e.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return e=qu(e.type,!1),e;case 11:return e=qu(e.type.render,!1),e;case 1:return e=qu(e.type,!0),e;default:return""}}function Sm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Na:return"Fragment";case ja:return"Portal";case wm:return"Profiler";case Sp:return"StrictMode";case jm:return"Suspense";case Nm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C1:return(e.displayName||"Context")+".Consumer";case k1:return(e._context.displayName||"Context")+".Provider";case kp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cp:return t=e.displayName||null,t!==null?t:Sm(e.type)||"Memo";case Vr:t=e._payload,e=e._init;try{return Sm(e(t))}catch{}}return null}function oS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sm(t);case 8:return t===Sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lS(e){var t=E1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wl(e){e._valueTracker||(e._valueTracker=lS(e))}function P1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=E1(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function km(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nx(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=hs(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A1(e,t){t=t.checked,t!=null&&Np(e,"checked",t,!1)}function Cm(e,t){A1(e,t);var r=hs(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tm(e,t.type,hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tm(e,t,r){(t!=="number"||qc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oo=Array.isArray;function za(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+hs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(oo(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hs(r)}}function M1(e,t){var r=hs(t.value),s=hs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function ax(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,L1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Po(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cS=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(e){cS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ho[t]=ho[e]})});function I1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ho.hasOwnProperty(e)&&ho[e]?(""+t).trim():t+"px"}function _1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=I1(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var dS=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Am(e,t){if(t){if(dS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Mm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=null;function Tp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lm=null,Ua=null,Va=null;function ix(e){if(e=Cl(e)){if(typeof Lm!="function")throw Error(he(280));var t=e.stateNode;t&&(t=Qd(t),Lm(e.stateNode,e.type,t))}}function F1(e){Ua?Va?Va.push(e):Va=[e]:Ua=e}function O1(){if(Ua){var e=Ua,t=Va;if(Va=Ua=null,ix(e),t)for(e=0;e<t.length;e++)ix(t[e])}}function D1(e,t){return e(t)}function $1(){}var Ku=!1;function B1(e,t,r){if(Ku)return e(t,r);Ku=!0;try{return D1(e,t,r)}finally{Ku=!1,(Ua!==null||Va!==null)&&($1(),O1())}}function Ao(e,t){var r=e.stateNode;if(r===null)return null;var s=Qd(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var Im=!1;if(wr)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Im=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Im=!1}function uS(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var po=!1,Kc=null,Yc=!1,_m=null,mS={onError:function(e){po=!0,Kc=e}};function hS(e,t,r,s,a,i,o,l,c){po=!1,Kc=null,uS.apply(mS,arguments)}function pS(e,t,r,s,a,i,o,l,c){if(hS.apply(this,arguments),po){if(po){var d=Kc;po=!1,Kc=null}else throw Error(he(198));Yc||(Yc=!0,_m=d)}}function pa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function z1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ox(e){if(pa(e)!==e)throw Error(he(188))}function fS(e){var t=e.alternate;if(!t){if(t=pa(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ox(a),e;if(i===s)return ox(a),t;i=i.sibling}throw Error(he(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(he(189))}}if(r.alternate!==s)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function U1(e){return e=fS(e),e!==null?V1(e):null}function V1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=V1(e);if(t!==null)return t;e=e.sibling}return null}var W1=an.unstable_scheduleCallback,lx=an.unstable_cancelCallback,gS=an.unstable_shouldYield,xS=an.unstable_requestPaint,ct=an.unstable_now,yS=an.unstable_getCurrentPriorityLevel,Ep=an.unstable_ImmediatePriority,H1=an.unstable_UserBlockingPriority,Qc=an.unstable_NormalPriority,bS=an.unstable_LowPriority,G1=an.unstable_IdlePriority,Gd=null,Xn=null;function vS(e){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Gd,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:NS,wS=Math.log,jS=Math.LN2;function NS(e){return e>>>=0,e===0?32:31-(wS(e)/jS|0)|0}var Gl=64,ql=4194304;function lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xc(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=lo(l):(i&=o,i!==0&&(s=lo(i)))}else o=r&~a,o!==0?s=lo(o):i!==0&&(s=lo(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ln(t),a=1<<r,s|=e[r],t&=~a;return s}function SS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kS(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ln(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=SS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Fm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q1(){var e=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),e}function Yu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Sl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=r}function CS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ln(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Pp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ln(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var He=0;function K1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y1,Ap,Q1,X1,Z1,Om=!1,Kl=[],ss=null,as=null,is=null,Mo=new Map,Ro=new Map,Hr=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cx(e,t){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(t.pointerId)}}function Ui(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Cl(t),t!==null&&Ap(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ES(e,t,r,s,a){switch(t){case"focusin":return ss=Ui(ss,e,t,r,s,a),!0;case"dragenter":return as=Ui(as,e,t,r,s,a),!0;case"mouseover":return is=Ui(is,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Mo.set(i,Ui(Mo.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Ro.set(i,Ui(Ro.get(i)||null,e,t,r,s,a)),!0}return!1}function J1(e){var t=Bs(e.target);if(t!==null){var r=pa(t);if(r!==null){if(t=r.tag,t===13){if(t=z1(r),t!==null){e.blockedOn=t,Z1(e.priority,function(){Q1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Rm=s,r.target.dispatchEvent(s),Rm=null}else return t=Cl(r),t!==null&&Ap(t),e.blockedOn=r,!1;t.shift()}return!0}function dx(e,t,r){kc(e)&&r.delete(t)}function PS(){Om=!1,ss!==null&&kc(ss)&&(ss=null),as!==null&&kc(as)&&(as=null),is!==null&&kc(is)&&(is=null),Mo.forEach(dx),Ro.forEach(dx)}function Vi(e,t){e.blockedOn===t&&(e.blockedOn=null,Om||(Om=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,PS)))}function Lo(e){function t(a){return Vi(a,e)}if(0<Kl.length){Vi(Kl[0],e);for(var r=1;r<Kl.length;r++){var s=Kl[r];s.blockedOn===e&&(s.blockedOn=null)}}for(ss!==null&&Vi(ss,e),as!==null&&Vi(as,e),is!==null&&Vi(is,e),Mo.forEach(t),Ro.forEach(t),r=0;r<Hr.length;r++)s=Hr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Hr.length&&(r=Hr[0],r.blockedOn===null);)J1(r),r.blockedOn===null&&Hr.shift()}var Wa=Pr.ReactCurrentBatchConfig,Zc=!0;function AS(e,t,r,s){var a=He,i=Wa.transition;Wa.transition=null;try{He=1,Mp(e,t,r,s)}finally{He=a,Wa.transition=i}}function MS(e,t,r,s){var a=He,i=Wa.transition;Wa.transition=null;try{He=4,Mp(e,t,r,s)}finally{He=a,Wa.transition=i}}function Mp(e,t,r,s){if(Zc){var a=Dm(e,t,r,s);if(a===null)a0(e,t,s,Jc,r),cx(e,s);else if(ES(a,e,t,r,s))s.stopPropagation();else if(cx(e,s),t&4&&-1<TS.indexOf(e)){for(;a!==null;){var i=Cl(a);if(i!==null&&Y1(i),i=Dm(e,t,r,s),i===null&&a0(e,t,s,Jc,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else a0(e,t,s,null,r)}}var Jc=null;function Dm(e,t,r,s){if(Jc=null,e=Tp(s),e=Bs(e),e!==null)if(t=pa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=z1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jc=e,null}function e2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yS()){case Ep:return 1;case H1:return 4;case Qc:case bS:return 16;case G1:return 536870912;default:return 16}default:return 16}}var ts=null,Rp=null,Cc=null;function t2(){if(Cc)return Cc;var e,t=Rp,r=t.length,s,a="value"in ts?ts.value:ts.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Cc=a.slice(e,1<s?1-s:void 0)}function Tc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function ux(){return!1}function cn(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yl:ux,this.isPropagationStopped=ux,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=cn(Ti),kl=st({},Ti,{view:0,detail:0}),RS=cn(kl),Qu,Xu,Wi,qd=st({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wi&&(Wi&&e.type==="mousemove"?(Qu=e.screenX-Wi.screenX,Xu=e.screenY-Wi.screenY):Xu=Qu=0,Wi=e),Qu)},movementY:function(e){return"movementY"in e?e.movementY:Xu}}),mx=cn(qd),LS=st({},qd,{dataTransfer:0}),IS=cn(LS),_S=st({},kl,{relatedTarget:0}),Zu=cn(_S),FS=st({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),OS=cn(FS),DS=st({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$S=cn(DS),BS=st({},Ti,{data:0}),hx=cn(BS),zS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},US={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VS[e])?!!t[e]:!1}function Ip(){return WS}var HS=st({},kl,{key:function(e){if(e.key){var t=zS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?US[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(e){return e.type==="keypress"?Tc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GS=cn(HS),qS=st({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),px=cn(qS),KS=st({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),YS=cn(KS),QS=st({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),XS=cn(QS),ZS=st({},qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JS=cn(ZS),e6=[9,13,27,32],_p=wr&&"CompositionEvent"in window,fo=null;wr&&"documentMode"in document&&(fo=document.documentMode);var t6=wr&&"TextEvent"in window&&!fo,n2=wr&&(!_p||fo&&8<fo&&11>=fo),fx=" ",gx=!1;function r2(e,t){switch(e){case"keyup":return e6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function n6(e,t){switch(e){case"compositionend":return s2(t);case"keypress":return t.which!==32?null:(gx=!0,fx);case"textInput":return e=t.data,e===fx&&gx?null:e;default:return null}}function r6(e,t){if(Sa)return e==="compositionend"||!_p&&r2(e,t)?(e=t2(),Cc=Rp=ts=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return n2&&t.locale!=="ko"?null:t.data;default:return null}}var s6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s6[e.type]:t==="textarea"}function a2(e,t,r,s){F1(s),t=ed(t,"onChange"),0<t.length&&(r=new Lp("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var go=null,Io=null;function a6(e){g2(e,0)}function Kd(e){var t=Ta(e);if(P1(t))return e}function i6(e,t){if(e==="change")return t}var i2=!1;if(wr){var Ju;if(wr){var e0="oninput"in document;if(!e0){var yx=document.createElement("div");yx.setAttribute("oninput","return;"),e0=typeof yx.oninput=="function"}Ju=e0}else Ju=!1;i2=Ju&&(!document.documentMode||9<document.documentMode)}function bx(){go&&(go.detachEvent("onpropertychange",o2),Io=go=null)}function o2(e){if(e.propertyName==="value"&&Kd(Io)){var t=[];a2(t,Io,e,Tp(e)),B1(a6,t)}}function o6(e,t,r){e==="focusin"?(bx(),go=t,Io=r,go.attachEvent("onpropertychange",o2)):e==="focusout"&&bx()}function l6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kd(Io)}function c6(e,t){if(e==="click")return Kd(t)}function d6(e,t){if(e==="input"||e==="change")return Kd(t)}function u6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:u6;function _o(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!vm.call(t,a)||!Fn(e[a],t[a]))return!1}return!0}function vx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wx(e,t){var r=vx(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vx(r)}}function l2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?l2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function c2(){for(var e=window,t=qc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qc(e.document)}return t}function Fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function m6(e){var t=c2(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&l2(r.ownerDocument.documentElement,r)){if(s!==null&&Fp(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=wx(r,i);var o=wx(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var h6=wr&&"documentMode"in document&&11>=document.documentMode,ka=null,$m=null,xo=null,Bm=!1;function jx(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bm||ka==null||ka!==qc(s)||(s=ka,"selectionStart"in s&&Fp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xo&&_o(xo,s)||(xo=s,s=ed($m,"onSelect"),0<s.length&&(t=new Lp("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=ka)))}function Ql(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ca={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},t0={},d2={};wr&&(d2=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Yd(e){if(t0[e])return t0[e];if(!Ca[e])return e;var t=Ca[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in d2)return t0[e]=t[r];return e}var u2=Yd("animationend"),m2=Yd("animationiteration"),h2=Yd("animationstart"),p2=Yd("transitionend"),f2=new Map,Nx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(e,t){f2.set(e,t),ha(t,[e])}for(var n0=0;n0<Nx.length;n0++){var r0=Nx[n0],p6=r0.toLowerCase(),f6=r0[0].toUpperCase()+r0.slice(1);Ss(p6,"on"+f6)}Ss(u2,"onAnimationEnd");Ss(m2,"onAnimationIteration");Ss(h2,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(p2,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g6=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Sx(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,pS(s,t,void 0,e),e.currentTarget=null}function g2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Sx(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Sx(a,l,d),i=c}}}if(Yc)throw e=_m,Yc=!1,_m=null,e}function Qe(e,t){var r=t[Hm];r===void 0&&(r=t[Hm]=new Set);var s=e+"__bubble";r.has(s)||(x2(t,e,2,!1),r.add(s))}function s0(e,t,r){var s=0;t&&(s|=4),x2(r,e,s,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Xl]){e[Xl]=!0,S1.forEach(function(r){r!=="selectionchange"&&(g6.has(r)||s0(r,!1,e),s0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,s0("selectionchange",!1,t))}}function x2(e,t,r,s){switch(e2(t)){case 1:var a=AS;break;case 4:a=MS;break;default:a=Mp}r=a.bind(null,t,r,e),a=void 0,!Im||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function a0(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Bs(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}B1(function(){var d=i,u=Tp(r),m=[];e:{var h=f2.get(e);if(h!==void 0){var p=Lp,f=e;switch(e){case"keypress":if(Tc(r)===0)break e;case"keydown":case"keyup":p=GS;break;case"focusin":f="focus",p=Zu;break;case"focusout":f="blur",p=Zu;break;case"beforeblur":case"afterblur":p=Zu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YS;break;case u2:case m2:case h2:p=OS;break;case p2:p=XS;break;case"scroll":p=RS;break;case"wheel":p=JS;break;case"copy":case"cut":case"paste":p=$S;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=px}var v=(t&4)!==0,y=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var x=d,b;x!==null;){b=x;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,g!==null&&(N=Ao(x,g),N!=null&&v.push(Oo(x,N,b)))),y)break;x=x.return}0<v.length&&(h=new p(h,f,null,r,u),m.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Rm&&(f=r.relatedTarget||r.fromElement)&&(Bs(f)||f[jr]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=r.relatedTarget||r.toElement,p=d,f=f?Bs(f):null,f!==null&&(y=pa(f),f!==y||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=d),p!==f)){if(v=mx,N="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=px,N="onPointerLeave",g="onPointerEnter",x="pointer"),y=p==null?h:Ta(p),b=f==null?h:Ta(f),h=new v(N,x+"leave",p,r,u),h.target=y,h.relatedTarget=b,N=null,Bs(u)===d&&(v=new v(g,x+"enter",f,r,u),v.target=b,v.relatedTarget=y,N=v),y=N,p&&f)t:{for(v=p,g=f,x=0,b=v;b;b=ba(b))x++;for(b=0,N=g;N;N=ba(N))b++;for(;0<x-b;)v=ba(v),x--;for(;0<b-x;)g=ba(g),b--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=ba(v),g=ba(g)}v=null}else v=null;p!==null&&kx(m,h,p,v,!1),f!==null&&y!==null&&kx(m,y,f,v,!0)}}e:{if(h=d?Ta(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=i6;else if(xx(h))if(i2)j=d6;else{j=l6;var C=o6}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=c6);if(j&&(j=j(e,d))){a2(m,j,r,u);break e}C&&C(e,h,d),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Tm(h,"number",h.value)}switch(C=d?Ta(d):window,e){case"focusin":(xx(C)||C.contentEditable==="true")&&(ka=C,$m=d,xo=null);break;case"focusout":xo=$m=ka=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,jx(m,r,u);break;case"selectionchange":if(h6)break;case"keydown":case"keyup":jx(m,r,u)}var E;if(_p)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Sa?r2(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(n2&&r.locale!=="ko"&&(Sa||P!=="onCompositionStart"?P==="onCompositionEnd"&&Sa&&(E=t2()):(ts=u,Rp="value"in ts?ts.value:ts.textContent,Sa=!0)),C=ed(d,P),0<C.length&&(P=new hx(P,e,null,r,u),m.push({event:P,listeners:C}),E?P.data=E:(E=s2(r),E!==null&&(P.data=E)))),(E=t6?n6(e,r):r6(e,r))&&(d=ed(d,"onBeforeInput"),0<d.length&&(u=new hx("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=E))}g2(m,t)})}function Oo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ed(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ao(e,r),i!=null&&s.unshift(Oo(e,i,a)),i=Ao(e,t),i!=null&&s.push(Oo(e,i,a))),e=e.return}return s}function ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kx(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Ao(r,i),c!=null&&o.unshift(Oo(r,c,l))):a||(c=Ao(r,i),c!=null&&o.push(Oo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var x6=/\r\n?/g,y6=/\u0000|\uFFFD/g;function Cx(e){return(typeof e=="string"?e:""+e).replace(x6,`
`).replace(y6,"")}function Zl(e,t,r){if(t=Cx(t),Cx(e)!==t&&r)throw Error(he(425))}function td(){}var zm=null,Um=null;function Vm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,b6=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,v6=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(e){return Tx.resolve(null).then(e).catch(w6)}:Wm;function w6(e){setTimeout(function(){throw e})}function i0(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Lo(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Lo(t)}function os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ex(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Ei,Do="__reactProps$"+Ei,jr="__reactContainer$"+Ei,Hm="__reactEvents$"+Ei,j6="__reactListeners$"+Ei,N6="__reactHandles$"+Ei;function Bs(e){var t=e[Qn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jr]||r[Qn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ex(e);e!==null;){if(r=e[Qn])return r;e=Ex(e)}return t}e=r,r=e.parentNode}return null}function Cl(e){return e=e[Qn]||e[jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ta(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Qd(e){return e[Do]||null}var Gm=[],Ea=-1;function ks(e){return{current:e}}function Xe(e){0>Ea||(e.current=Gm[Ea],Gm[Ea]=null,Ea--)}function qe(e,t){Ea++,Gm[Ea]=e.current,e.current=t}var ps={},Lt=ks(ps),Kt=ks(!1),sa=ps;function di(e,t){var r=e.type.contextTypes;if(!r)return ps;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Yt(e){return e=e.childContextTypes,e!=null}function nd(){Xe(Kt),Xe(Lt)}function Px(e,t,r){if(Lt.current!==ps)throw Error(he(168));qe(Lt,t),qe(Kt,r)}function y2(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(he(108,oS(e)||"Unknown",a));return st({},r,s)}function rd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ps,sa=Lt.current,qe(Lt,e),qe(Kt,Kt.current),!0}function Ax(e,t,r){var s=e.stateNode;if(!s)throw Error(he(169));r?(e=y2(e,t,sa),s.__reactInternalMemoizedMergedChildContext=e,Xe(Kt),Xe(Lt),qe(Lt,e)):Xe(Kt),qe(Kt,r)}var lr=null,Xd=!1,o0=!1;function b2(e){lr===null?lr=[e]:lr.push(e)}function S6(e){Xd=!0,b2(e)}function Cs(){if(!o0&&lr!==null){o0=!0;var e=0,t=He;try{var r=lr;for(He=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}lr=null,Xd=!1}catch(a){throw lr!==null&&(lr=lr.slice(e+1)),W1(Ep,Cs),a}finally{He=t,o0=!1}}return null}var Pa=[],Aa=0,sd=null,ad=0,fn=[],gn=0,aa=null,ur=1,mr="";function _s(e,t){Pa[Aa++]=ad,Pa[Aa++]=sd,sd=e,ad=t}function v2(e,t,r){fn[gn++]=ur,fn[gn++]=mr,fn[gn++]=aa,aa=e;var s=ur;e=mr;var a=32-Ln(s)-1;s&=~(1<<a),r+=1;var i=32-Ln(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,ur=1<<32-Ln(t)+a|r<<a|s,mr=i+e}else ur=1<<i|r<<a|s,mr=e}function Op(e){e.return!==null&&(_s(e,1),v2(e,1,0))}function Dp(e){for(;e===sd;)sd=Pa[--Aa],Pa[Aa]=null,ad=Pa[--Aa],Pa[Aa]=null;for(;e===aa;)aa=fn[--gn],fn[gn]=null,mr=fn[--gn],fn[gn]=null,ur=fn[--gn],fn[gn]=null}var rn=null,nn=null,Je=!1,An=null;function w2(e,t){var r=xn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rn=e,nn=os(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rn=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=aa!==null?{id:ur,overflow:mr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rn=e,nn=null,!0):!1;default:return!1}}function qm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Km(e){if(Je){var t=nn;if(t){var r=t;if(!Mx(e,t)){if(qm(e))throw Error(he(418));t=os(r.nextSibling);var s=rn;t&&Mx(e,t)?w2(s,r):(e.flags=e.flags&-4097|2,Je=!1,rn=e)}}else{if(qm(e))throw Error(he(418));e.flags=e.flags&-4097|2,Je=!1,rn=e}}}function Rx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function Jl(e){if(e!==rn)return!1;if(!Je)return Rx(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vm(e.type,e.memoizedProps)),t&&(t=nn)){if(qm(e))throw j2(),Error(he(418));for(;t;)w2(e,t),t=os(t.nextSibling)}if(Rx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nn=os(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=rn?os(e.stateNode.nextSibling):null;return!0}function j2(){for(var e=nn;e;)e=os(e.nextSibling)}function ui(){nn=rn=null,Je=!1}function $p(e){An===null?An=[e]:An.push(e)}var k6=Pr.ReactCurrentBatchConfig;function Hi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var s=r.stateNode}if(!s)throw Error(he(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function ec(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lx(e){var t=e._init;return t(e._payload)}function N2(e){function t(g,x){if(e){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=us(g,x),g.index=0,g.sibling=null,g}function i(g,x,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,b,N){return x===null||x.tag!==6?(x=p0(b,g.mode,N),x.return=g,x):(x=a(x,b),x.return=g,x)}function c(g,x,b,N){var j=b.type;return j===Na?u(g,x,b.props.children,N,b.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vr&&Lx(j)===x.type)?(N=a(x,b.props),N.ref=Hi(g,x,b),N.return=g,N):(N=Ic(b.type,b.key,b.props,null,g.mode,N),N.ref=Hi(g,x,b),N.return=g,N)}function d(g,x,b,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=f0(b,g.mode,N),x.return=g,x):(x=a(x,b.children||[]),x.return=g,x)}function u(g,x,b,N,j){return x===null||x.tag!==7?(x=ea(b,g.mode,N,j),x.return=g,x):(x=a(x,b),x.return=g,x)}function m(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=p0(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vl:return b=Ic(x.type,x.key,x.props,null,g.mode,b),b.ref=Hi(g,null,x),b.return=g,b;case ja:return x=f0(x,g.mode,b),x.return=g,x;case Vr:var N=x._init;return m(g,N(x._payload),b)}if(oo(x)||Bi(x))return x=ea(x,g.mode,b,null),x.return=g,x;ec(g,x)}return null}function h(g,x,b,N){var j=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(g,x,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vl:return b.key===j?c(g,x,b,N):null;case ja:return b.key===j?d(g,x,b,N):null;case Vr:return j=b._init,h(g,x,j(b._payload),N)}if(oo(b)||Bi(b))return j!==null?null:u(g,x,b,N,null);ec(g,b)}return null}function p(g,x,b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(b)||null,l(x,g,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vl:return g=g.get(N.key===null?b:N.key)||null,c(x,g,N,j);case ja:return g=g.get(N.key===null?b:N.key)||null,d(x,g,N,j);case Vr:var C=N._init;return p(g,x,b,C(N._payload),j)}if(oo(N)||Bi(N))return g=g.get(b)||null,u(x,g,N,j,null);ec(x,N)}return null}function f(g,x,b,N){for(var j=null,C=null,E=x,P=x=0,L=null;E!==null&&P<b.length;P++){E.index>P?(L=E,E=null):L=E.sibling;var _=h(g,E,b[P],N);if(_===null){E===null&&(E=L);break}e&&E&&_.alternate===null&&t(g,E),x=i(_,x,P),C===null?j=_:C.sibling=_,C=_,E=L}if(P===b.length)return r(g,E),Je&&_s(g,P),j;if(E===null){for(;P<b.length;P++)E=m(g,b[P],N),E!==null&&(x=i(E,x,P),C===null?j=E:C.sibling=E,C=E);return Je&&_s(g,P),j}for(E=s(g,E);P<b.length;P++)L=p(E,g,P,b[P],N),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?P:L.key),x=i(L,x,P),C===null?j=L:C.sibling=L,C=L);return e&&E.forEach(function(O){return t(g,O)}),Je&&_s(g,P),j}function v(g,x,b,N){var j=Bi(b);if(typeof j!="function")throw Error(he(150));if(b=j.call(b),b==null)throw Error(he(151));for(var C=j=null,E=x,P=x=0,L=null,_=b.next();E!==null&&!_.done;P++,_=b.next()){E.index>P?(L=E,E=null):L=E.sibling;var O=h(g,E,_.value,N);if(O===null){E===null&&(E=L);break}e&&E&&O.alternate===null&&t(g,E),x=i(O,x,P),C===null?j=O:C.sibling=O,C=O,E=L}if(_.done)return r(g,E),Je&&_s(g,P),j;if(E===null){for(;!_.done;P++,_=b.next())_=m(g,_.value,N),_!==null&&(x=i(_,x,P),C===null?j=_:C.sibling=_,C=_);return Je&&_s(g,P),j}for(E=s(g,E);!_.done;P++,_=b.next())_=p(E,g,P,_.value,N),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?P:_.key),x=i(_,x,P),C===null?j=_:C.sibling=_,C=_);return e&&E.forEach(function(W){return t(g,W)}),Je&&_s(g,P),j}function y(g,x,b,N){if(typeof b=="object"&&b!==null&&b.type===Na&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vl:e:{for(var j=b.key,C=x;C!==null;){if(C.key===j){if(j=b.type,j===Na){if(C.tag===7){r(g,C.sibling),x=a(C,b.props.children),x.return=g,g=x;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vr&&Lx(j)===C.type){r(g,C.sibling),x=a(C,b.props),x.ref=Hi(g,C,b),x.return=g,g=x;break e}r(g,C);break}else t(g,C);C=C.sibling}b.type===Na?(x=ea(b.props.children,g.mode,N,b.key),x.return=g,g=x):(N=Ic(b.type,b.key,b.props,null,g.mode,N),N.ref=Hi(g,x,b),N.return=g,g=N)}return o(g);case ja:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(g,x.sibling),x=a(x,b.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=f0(b,g.mode,N),x.return=g,g=x}return o(g);case Vr:return C=b._init,y(g,x,C(b._payload),N)}if(oo(b))return f(g,x,b,N);if(Bi(b))return v(g,x,b,N);ec(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,b),x.return=g,g=x):(r(g,x),x=p0(b,g.mode,N),x.return=g,g=x),o(g)):r(g,x)}return y}var mi=N2(!0),S2=N2(!1),id=ks(null),od=null,Ma=null,Bp=null;function zp(){Bp=Ma=od=null}function Up(e){var t=id.current;Xe(id),e._currentValue=t}function Ym(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Ha(e,t){od=e,Bp=Ma=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(Bp!==e)if(e={context:e,memoizedValue:t,next:null},Ma===null){if(od===null)throw Error(he(308));Ma=e,od.dependencies={lanes:0,firstContext:e}}else Ma=Ma.next=e;return t}var zs=null;function Vp(e){zs===null?zs=[e]:zs.push(e)}function k2(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Vp(t)):(r.next=a.next,a.next=r),t.interleaved=r,Nr(e,s)}function Nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wr=!1;function Wp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ls(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Oe&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Nr(e,r)}return a=s.interleaved,a===null?(t.next=t,Vp(s)):(t.next=a.next,a.next=t),s.interleaved=t,Nr(e,r)}function Ec(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Pp(e,r)}}function Ix(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ld(e,t,r,s){var a=e.updateQueue;Wr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,v=l;switch(h=t,p=r,v.tag){case 1:if(f=v.payload,typeof f=="function"){m=f.call(p,m,h);break e}m=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,h=typeof f=="function"?f.call(p,m,h):f,h==null)break e;m=st({},m,h);break e;case 2:Wr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);oa|=o,e.lanes=o,e.memoizedState=m}}function _x(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(he(191,a));a.call(s)}}}var Tl={},Zn=ks(Tl),$o=ks(Tl),Bo=ks(Tl);function Us(e){if(e===Tl)throw Error(he(174));return e}function Hp(e,t){switch(qe(Bo,t),qe($o,e),qe(Zn,Tl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pm(t,e)}Xe(Zn),qe(Zn,t)}function hi(){Xe(Zn),Xe($o),Xe(Bo)}function T2(e){Us(Bo.current);var t=Us(Zn.current),r=Pm(t,e.type);t!==r&&(qe($o,e),qe(Zn,r))}function Gp(e){$o.current===e&&(Xe(Zn),Xe($o))}var tt=ks(0);function cd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var l0=[];function qp(){for(var e=0;e<l0.length;e++)l0[e]._workInProgressVersionPrimary=null;l0.length=0}var Pc=Pr.ReactCurrentDispatcher,c0=Pr.ReactCurrentBatchConfig,ia=0,rt=null,mt=null,gt=null,dd=!1,yo=!1,zo=0,C6=0;function Ct(){throw Error(he(321))}function Kp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fn(e[r],t[r]))return!1;return!0}function Yp(e,t,r,s,a,i){if(ia=i,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pc.current=e===null||e.memoizedState===null?A6:M6,e=r(s,a),yo){i=0;do{if(yo=!1,zo=0,25<=i)throw Error(he(301));i+=1,gt=mt=null,t.updateQueue=null,Pc.current=R6,e=r(s,a)}while(yo)}if(Pc.current=ud,t=mt!==null&&mt.next!==null,ia=0,gt=mt=rt=null,dd=!1,t)throw Error(he(300));return e}function Qp(){var e=zo!==0;return zo=0,e}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?rt.memoizedState=gt=e:gt=gt.next=e,gt}function wn(){if(mt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=gt===null?rt.memoizedState:gt.next;if(t!==null)gt=t,mt=e;else{if(e===null)throw Error(he(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},gt===null?rt.memoizedState=gt=e:gt=gt.next=e}return gt}function Uo(e,t){return typeof t=="function"?t(e):t}function d0(e){var t=wn(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var s=mt,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ia&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,rt.lanes|=u,oa|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Fn(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,rt.lanes|=i,oa|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function u0(e){var t=wn(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Fn(i,t.memoizedState)||(qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function E2(){}function P2(e,t){var r=rt,s=wn(),a=t(),i=!Fn(s.memoizedState,a);if(i&&(s.memoizedState=a,qt=!0),s=s.queue,Xp(R2.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,Vo(9,M2.bind(null,r,s,a,t),void 0,null),yt===null)throw Error(he(349));ia&30||A2(r,t,a)}return a}function A2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function M2(e,t,r,s){t.value=r,t.getSnapshot=s,L2(t)&&I2(e)}function R2(e,t,r){return r(function(){L2(t)&&I2(e)})}function L2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fn(e,r)}catch{return!0}}function I2(e){var t=Nr(e,1);t!==null&&In(t,e,1,-1)}function Fx(e){var t=Wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=P6.bind(null,rt,e),[t.memoizedState,e]}function Vo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function _2(){return wn().memoizedState}function Ac(e,t,r,s){var a=Wn();rt.flags|=e,a.memoizedState=Vo(1|t,r,void 0,s===void 0?null:s)}function Zd(e,t,r,s){var a=wn();s=s===void 0?null:s;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,s!==null&&Kp(s,o.deps)){a.memoizedState=Vo(t,r,i,s);return}}rt.flags|=e,a.memoizedState=Vo(1|t,r,i,s)}function Ox(e,t){return Ac(8390656,8,e,t)}function Xp(e,t){return Zd(2048,8,e,t)}function F2(e,t){return Zd(4,2,e,t)}function O2(e,t){return Zd(4,4,e,t)}function D2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $2(e,t,r){return r=r!=null?r.concat([e]):null,Zd(4,4,D2.bind(null,t,e),r)}function Zp(){}function B2(e,t){var r=wn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Kp(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function z2(e,t){var r=wn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Kp(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function U2(e,t,r){return ia&21?(Fn(r,t)||(r=q1(),rt.lanes|=r,oa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r)}function T6(e,t){var r=He;He=r!==0&&4>r?r:4,e(!0);var s=c0.transition;c0.transition={};try{e(!1),t()}finally{He=r,c0.transition=s}}function V2(){return wn().memoizedState}function E6(e,t,r){var s=ds(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},W2(e))H2(t,r);else if(r=k2(e,t,r,s),r!==null){var a=Dt();In(r,e,s,a),G2(r,t,s)}}function P6(e,t,r){var s=ds(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(W2(e))H2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Fn(l,o)){var c=t.interleaved;c===null?(a.next=a,Vp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=k2(e,t,a,s),r!==null&&(a=Dt(),In(r,e,s,a),G2(r,t,s))}}function W2(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function H2(e,t){yo=dd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function G2(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Pp(e,r)}}var ud={readContext:vn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},A6={readContext:vn,useCallback:function(e,t){return Wn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:Ox,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ac(4194308,4,D2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ac(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ac(4,2,e,t)},useMemo:function(e,t){var r=Wn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Wn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=E6.bind(null,rt,e),[s.memoizedState,e]},useRef:function(e){var t=Wn();return e={current:e},t.memoizedState=e},useState:Fx,useDebugValue:Zp,useDeferredValue:function(e){return Wn().memoizedState=e},useTransition:function(){var e=Fx(!1),t=e[0];return e=T6.bind(null,e[1]),Wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=rt,a=Wn();if(Je){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),yt===null)throw Error(he(349));ia&30||A2(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ox(R2.bind(null,s,i,e),[e]),s.flags|=2048,Vo(9,M2.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Wn(),t=yt.identifierPrefix;if(Je){var r=mr,s=ur;r=(s&~(1<<32-Ln(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=zo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=C6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M6={readContext:vn,useCallback:B2,useContext:vn,useEffect:Xp,useImperativeHandle:$2,useInsertionEffect:F2,useLayoutEffect:O2,useMemo:z2,useReducer:d0,useRef:_2,useState:function(){return d0(Uo)},useDebugValue:Zp,useDeferredValue:function(e){var t=wn();return U2(t,mt.memoizedState,e)},useTransition:function(){var e=d0(Uo)[0],t=wn().memoizedState;return[e,t]},useMutableSource:E2,useSyncExternalStore:P2,useId:V2,unstable_isNewReconciler:!1},R6={readContext:vn,useCallback:B2,useContext:vn,useEffect:Xp,useImperativeHandle:$2,useInsertionEffect:F2,useLayoutEffect:O2,useMemo:z2,useReducer:u0,useRef:_2,useState:function(){return u0(Uo)},useDebugValue:Zp,useDeferredValue:function(e){var t=wn();return mt===null?t.memoizedState=e:U2(t,mt.memoizedState,e)},useTransition:function(){var e=u0(Uo)[0],t=wn().memoizedState;return[e,t]},useMutableSource:E2,useSyncExternalStore:P2,useId:V2,unstable_isNewReconciler:!1};function Tn(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qm(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jd={isMounted:function(e){return(e=e._reactInternals)?pa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Dt(),a=ds(e),i=hr(s,a);i.payload=t,r!=null&&(i.callback=r),t=ls(e,i,a),t!==null&&(In(t,e,a,s),Ec(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Dt(),a=ds(e),i=hr(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ls(e,i,a),t!==null&&(In(t,e,a,s),Ec(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),s=ds(e),a=hr(r,s);a.tag=2,t!=null&&(a.callback=t),t=ls(e,a,s),t!==null&&(In(t,e,s,r),Ec(t,e,s))}};function Dx(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!_o(r,s)||!_o(a,i):!0}function q2(e,t,r){var s=!1,a=ps,i=t.contextType;return typeof i=="object"&&i!==null?i=vn(i):(a=Yt(t)?sa:Lt.current,s=t.contextTypes,i=(s=s!=null)?di(e,a):ps),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jd,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function $x(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Jd.enqueueReplaceState(t,t.state,null)}function Xm(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Wp(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=vn(i):(i=Yt(t)?sa:Lt.current,a.context=di(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Jd.enqueueReplaceState(a,a.state,null),ld(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function pi(e,t){try{var r="",s=t;do r+=iS(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function m0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var L6=typeof WeakMap=="function"?WeakMap:Map;function K2(e,t,r){r=hr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){hd||(hd=!0,lh=s),Zm(e,t)},r}function Y2(e,t,r){r=hr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Zm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zm(e,t),typeof s!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Bx(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new L6;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=q6.bind(null,e,t,r),t.then(e,e))}function zx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ux(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hr(-1,1),t.tag=2,ls(r,t,1))),r.lanes|=1),e)}var I6=Pr.ReactCurrentOwner,qt=!1;function Ft(e,t,r,s){t.child=e===null?S2(t,null,r,s):mi(t,e.child,r,s)}function Vx(e,t,r,s,a){r=r.render;var i=t.ref;return Ha(t,a),s=Yp(e,t,r,s,i,a),r=Qp(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sr(e,t,a)):(Je&&r&&Op(t),t.flags|=1,Ft(e,t,s,a),t.child)}function Wx(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!of(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Q2(e,t,i,s,a)):(e=Ic(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:_o,r(o,s)&&e.ref===t.ref)return Sr(e,t,a)}return t.flags|=1,e=us(i,s),e.ref=t.ref,e.return=t,t.child=e}function Q2(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(_o(i,s)&&e.ref===t.ref)if(qt=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Sr(e,t,a)}return Jm(e,t,r,s,a)}function X2(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(La,tn),tn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(La,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,qe(La,tn),tn|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,qe(La,tn),tn|=s;return Ft(e,t,a,r),t.child}function Z2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jm(e,t,r,s,a){var i=Yt(r)?sa:Lt.current;return i=di(t,i),Ha(t,a),r=Yp(e,t,r,s,i,a),s=Qp(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sr(e,t,a)):(Je&&s&&Op(t),t.flags|=1,Ft(e,t,r,a),t.child)}function Hx(e,t,r,s,a){if(Yt(r)){var i=!0;rd(t)}else i=!1;if(Ha(t,a),t.stateNode===null)Mc(e,t),q2(t,r,s),Xm(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=vn(d):(d=Yt(r)?sa:Lt.current,d=di(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&$x(t,o,s,d),Wr=!1;var h=t.memoizedState;o.state=h,ld(t,s,o,a),c=t.memoizedState,l!==s||h!==c||Kt.current||Wr?(typeof u=="function"&&(Qm(t,r,u,s),c=t.memoizedState),(l=Wr||Dx(t,r,l,s,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,C2(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Tn(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vn(c):(c=Yt(r)?sa:Lt.current,c=di(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&$x(t,o,s,c),Wr=!1,h=t.memoizedState,o.state=h,ld(t,s,o,a);var f=t.memoizedState;l!==m||h!==f||Kt.current||Wr?(typeof p=="function"&&(Qm(t,r,p,s),f=t.memoizedState),(d=Wr||Dx(t,r,d,s,h,f,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,f,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,f,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=f),o.props=s,o.state=f,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return eh(e,t,r,s,i,a)}function eh(e,t,r,s,a,i){Z2(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Ax(t,r,!1),Sr(e,t,i);s=t.stateNode,I6.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=mi(t,e.child,null,i),t.child=mi(t,null,l,i)):Ft(e,t,l,i),t.memoizedState=s.state,a&&Ax(t,r,!0),t.child}function J2(e){var t=e.stateNode;t.pendingContext?Px(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Px(e,t.context,!1),Hp(e,t.containerInfo)}function Gx(e,t,r,s,a){return ui(),$p(a),t.flags|=256,Ft(e,t,r,s),t.child}var th={dehydrated:null,treeContext:null,retryLane:0};function nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function ew(e,t,r){var s=t.pendingProps,a=tt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qe(tt,a&1),e===null)return Km(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=nu(o,s,0,null),e=ea(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=nh(r),t.memoizedState=th,e):Jp(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return _6(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=us(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=us(l,i):(i=ea(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?nh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=th,s}return i=e.child,e=i.sibling,s=us(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Jp(e,t){return t=nu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tc(e,t,r,s){return s!==null&&$p(s),mi(t,e.child,null,r),e=Jp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _6(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=m0(Error(he(422))),tc(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=nu({mode:"visible",children:s.children},a,0,null),i=ea(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&mi(t,e.child,null,o),t.child.memoizedState=nh(o),t.memoizedState=th,i);if(!(t.mode&1))return tc(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(he(419)),s=m0(i,s,void 0),tc(e,t,o,s)}if(l=(o&e.childLanes)!==0,qt||l){if(s=yt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Nr(e,a),In(s,e,a,-1))}return af(),s=m0(Error(he(421))),tc(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=K6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,nn=os(a.nextSibling),rn=t,Je=!0,An=null,e!==null&&(fn[gn++]=ur,fn[gn++]=mr,fn[gn++]=aa,ur=e.id,mr=e.overflow,aa=t),t=Jp(t,s.children),t.flags|=4096,t)}function qx(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ym(e.return,t,r)}function h0(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function tw(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Ft(e,t,s.children,r),s=tt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qx(e,r,t);else if(e.tag===19)qx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(qe(tt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&cd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),h0(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&cd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}h0(t,!0,r,null,i);break;case"together":h0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),oa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=us(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=us(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function F6(e,t,r){switch(t.tag){case 3:J2(t),ui();break;case 5:T2(t);break;case 1:Yt(t.type)&&rd(t);break;case 4:Hp(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;qe(id,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(qe(tt,tt.current&1),t.flags|=128,null):r&t.child.childLanes?ew(e,t,r):(qe(tt,tt.current&1),e=Sr(e,t,r),e!==null?e.sibling:null);qe(tt,tt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return tw(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qe(tt,tt.current),s)break;return null;case 22:case 23:return t.lanes=0,X2(e,t,r)}return Sr(e,t,r)}var nw,rh,rw,sw;nw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rh=function(){};rw=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Us(Zn.current);var i=null;switch(r){case"input":a=km(e,a),s=km(e,s),i=[];break;case"select":a=st({},a,{value:void 0}),s=st({},s,{value:void 0}),i=[];break;case"textarea":a=Em(e,a),s=Em(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=td)}Am(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Eo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};sw=function(e,t,r,s){r!==s&&(t.flags|=4)};function Gi(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function O6(e,t,r){var s=t.pendingProps;switch(Dp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Yt(t.type)&&nd(),Tt(t),null;case 3:return s=t.stateNode,hi(),Xe(Kt),Xe(Lt),qp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,An!==null&&(uh(An),An=null))),rh(e,t),Tt(t),null;case 5:Gp(t);var a=Us(Bo.current);if(r=t.type,e!==null&&t.stateNode!=null)rw(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(he(166));return Tt(t),null}if(e=Us(Zn.current),Jl(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Qn]=t,s[Do]=i,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<co.length;a++)Qe(co[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":nx(s,i),Qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",s);break;case"textarea":sx(s,i),Qe("invalid",s)}Am(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zl(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zl(s.textContent,l,e),a=["children",""+l]):Eo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",s)}switch(r){case"input":Wl(s),rx(s,i,!0);break;case"textarea":Wl(s),ax(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=td)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Qn]=t,e[Do]=s,nw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Mm(r,s),r){case"dialog":Qe("cancel",e),Qe("close",e),a=s;break;case"iframe":case"object":case"embed":Qe("load",e),a=s;break;case"video":case"audio":for(a=0;a<co.length;a++)Qe(co[a],e);a=s;break;case"source":Qe("error",e),a=s;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),a=s;break;case"details":Qe("toggle",e),a=s;break;case"input":nx(e,s),a=km(e,s),Qe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=st({},s,{value:void 0}),Qe("invalid",e);break;case"textarea":sx(e,s),a=Em(e,s),Qe("invalid",e);break;default:a=s}Am(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?_1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L1(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Po(e,c):typeof c=="number"&&Po(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",e):c!=null&&Np(e,i,c,o))}switch(r){case"input":Wl(e),rx(e,s,!1);break;case"textarea":Wl(e),ax(e);break;case"option":s.value!=null&&e.setAttribute("value",""+hs(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?za(e,!!s.multiple,i,!1):s.defaultValue!=null&&za(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=td)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)sw(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(he(166));if(r=Us(Bo.current),Us(Zn.current),Jl(t)){if(s=t.stateNode,r=t.memoizedProps,s[Qn]=t,(i=s.nodeValue!==r)&&(e=rn,e!==null))switch(e.tag){case 3:Zl(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zl(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Qn]=t,t.stateNode=s}return Tt(t),null;case 13:if(Xe(tt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&nn!==null&&t.mode&1&&!(t.flags&128))j2(),ui(),t.flags|=98560,i=!1;else if(i=Jl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Qn]=t}else ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),i=!1}else An!==null&&(uh(An),An=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?pt===0&&(pt=3):af())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return hi(),rh(e,t),e===null&&Fo(t.stateNode.containerInfo),Tt(t),null;case 10:return Up(t.type._context),Tt(t),null;case 17:return Yt(t.type)&&nd(),Tt(t),null;case 19:if(Xe(tt),i=t.memoizedState,i===null)return Tt(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Gi(i,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cd(e),o!==null){for(t.flags|=128,Gi(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(tt,tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ct()>fi&&(t.flags|=128,s=!0,Gi(i,!1),t.lanes=4194304)}else{if(!s)if(e=cd(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return Tt(t),null}else 2*ct()-i.renderingStartTime>fi&&r!==1073741824&&(t.flags|=128,s=!0,Gi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,r=tt.current,qe(tt,s?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return sf(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?tn&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function D6(e,t){switch(Dp(t),t.tag){case 1:return Yt(t.type)&&nd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hi(),Xe(Kt),Xe(Lt),qp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gp(t),null;case 13:if(Xe(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(tt),null;case 4:return hi(),null;case 10:return Up(t.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var nc=!1,At=!1,$6=typeof WeakSet=="function"?WeakSet:Set,be=null;function Ra(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ot(e,t,s)}else r.current=null}function sh(e,t,r){try{r()}catch(s){ot(e,t,s)}}var Kx=!1;function B6(e,t){if(zm=Zc,e=c2(),Fp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===s&&(c=o),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Um={focusedElem:e,selectionRange:r},Zc=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,y=f.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tn(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(N){ot(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return f=Kx,Kx=!1,f}function bo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&sh(t,r,i)}a=a.next}while(a!==s)}}function eu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ah(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function aw(e){var t=e.alternate;t!==null&&(e.alternate=null,aw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Do],delete t[Hm],delete t[j6],delete t[N6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iw(e){return e.tag===5||e.tag===3||e.tag===4}function Yx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ih(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=td));else if(s!==4&&(e=e.child,e!==null))for(ih(e,t,r),e=e.sibling;e!==null;)ih(e,t,r),e=e.sibling}function oh(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(oh(e,t,r),e=e.sibling;e!==null;)oh(e,t,r),e=e.sibling}var bt=null,Pn=!1;function _r(e,t,r){for(r=r.child;r!==null;)ow(e,t,r),r=r.sibling}function ow(e,t,r){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Gd,r)}catch{}switch(r.tag){case 5:At||Ra(r,t);case 6:var s=bt,a=Pn;bt=null,_r(e,t,r),bt=s,Pn=a,bt!==null&&(Pn?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(Pn?(e=bt,r=r.stateNode,e.nodeType===8?i0(e.parentNode,r):e.nodeType===1&&i0(e,r),Lo(e)):i0(bt,r.stateNode));break;case 4:s=bt,a=Pn,bt=r.stateNode.containerInfo,Pn=!0,_r(e,t,r),bt=s,Pn=a;break;case 0:case 11:case 14:case 15:if(!At&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sh(r,t,o),a=a.next}while(a!==s)}_r(e,t,r);break;case 1:if(!At&&(Ra(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){ot(r,t,l)}_r(e,t,r);break;case 21:_r(e,t,r);break;case 22:r.mode&1?(At=(s=At)||r.memoizedState!==null,_r(e,t,r),At=s):_r(e,t,r);break;default:_r(e,t,r)}}function Qx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $6),t.forEach(function(s){var a=Y6.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function kn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,Pn=!1;break e;case 3:bt=l.stateNode.containerInfo,Pn=!0;break e;case 4:bt=l.stateNode.containerInfo,Pn=!0;break e}l=l.return}if(bt===null)throw Error(he(160));ow(i,o,a),bt=null,Pn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ot(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lw(t,e),t=t.sibling}function lw(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kn(t,e),Bn(e),s&4){try{bo(3,e,e.return),eu(3,e)}catch(v){ot(e,e.return,v)}try{bo(5,e,e.return)}catch(v){ot(e,e.return,v)}}break;case 1:kn(t,e),Bn(e),s&512&&r!==null&&Ra(r,r.return);break;case 5:if(kn(t,e),Bn(e),s&512&&r!==null&&Ra(r,r.return),e.flags&32){var a=e.stateNode;try{Po(a,"")}catch(v){ot(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&A1(a,i),Mm(l,o);var d=Mm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?_1(a,m):u==="dangerouslySetInnerHTML"?L1(a,m):u==="children"?Po(a,m):Np(a,u,m,d)}switch(l){case"input":Cm(a,i);break;case"textarea":M1(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?za(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?za(a,!!i.multiple,i.defaultValue,!0):za(a,!!i.multiple,i.multiple?[]:"",!1))}a[Do]=i}catch(v){ot(e,e.return,v)}}break;case 6:if(kn(t,e),Bn(e),s&4){if(e.stateNode===null)throw Error(he(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){ot(e,e.return,v)}}break;case 3:if(kn(t,e),Bn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Lo(t.containerInfo)}catch(v){ot(e,e.return,v)}break;case 4:kn(t,e),Bn(e);break;case 13:kn(t,e),Bn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(nf=ct())),s&4&&Qx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(At=(d=At)||u,kn(t,e),At=d):kn(t,e),Bn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(m=be=u;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:bo(4,h,h.return);break;case 1:Ra(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){ot(s,r,v)}}break;case 5:Ra(h,h.return);break;case 22:if(h.memoizedState!==null){Zx(m);continue}}p!==null?(p.return=h,be=p):Zx(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=I1("display",o))}catch(v){ot(e,e.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){ot(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:kn(t,e),Bn(e),s&4&&Qx(e);break;case 21:break;default:kn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iw(r)){var s=r;break e}r=r.return}throw Error(he(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Po(a,""),s.flags&=-33);var i=Yx(e);oh(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Yx(e);ih(e,l,o);break;default:throw Error(he(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z6(e,t,r){be=e,cw(e)}function cw(e,t,r){for(var s=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||nc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||At;l=nc;var d=At;if(nc=o,(At=c)&&!d)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?Jx(a):c!==null?(c.return=o,be=c):Jx(a);for(;i!==null;)be=i,cw(i),i=i.sibling;be=a,nc=l,At=d}Xx(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):Xx(e)}}function Xx(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||eu(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!At)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Tn(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_x(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_x(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Lo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}At||t.flags&512&&ah(t)}catch(h){ot(t,t.return,h)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Zx(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Jx(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{eu(4,t)}catch(c){ot(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){ot(t,a,c)}}var i=t.return;try{ah(t)}catch(c){ot(t,i,c)}break;case 5:var o=t.return;try{ah(t)}catch(c){ot(t,o,c)}}}catch(c){ot(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var U6=Math.ceil,md=Pr.ReactCurrentDispatcher,ef=Pr.ReactCurrentOwner,yn=Pr.ReactCurrentBatchConfig,Oe=0,yt=null,ut=null,St=0,tn=0,La=ks(0),pt=0,Wo=null,oa=0,tu=0,tf=0,vo=null,Gt=null,nf=0,fi=1/0,or=null,hd=!1,lh=null,cs=null,rc=!1,ns=null,pd=0,wo=0,ch=null,Rc=-1,Lc=0;function Dt(){return Oe&6?ct():Rc!==-1?Rc:Rc=ct()}function ds(e){return e.mode&1?Oe&2&&St!==0?St&-St:k6.transition!==null?(Lc===0&&(Lc=q1()),Lc):(e=He,e!==0||(e=window.event,e=e===void 0?16:e2(e.type)),e):1}function In(e,t,r,s){if(50<wo)throw wo=0,ch=null,Error(he(185));Sl(e,r,s),(!(Oe&2)||e!==yt)&&(e===yt&&(!(Oe&2)&&(tu|=r),pt===4&&Gr(e,St)),Qt(e,s),r===1&&Oe===0&&!(t.mode&1)&&(fi=ct()+500,Xd&&Cs()))}function Qt(e,t){var r=e.callbackNode;kS(e,t);var s=Xc(e,e===yt?St:0);if(s===0)r!==null&&lx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&lx(r),t===1)e.tag===0?S6(ey.bind(null,e)):b2(ey.bind(null,e)),v6(function(){!(Oe&6)&&Cs()}),r=null;else{switch(K1(s)){case 1:r=Ep;break;case 4:r=H1;break;case 16:r=Qc;break;case 536870912:r=G1;break;default:r=Qc}r=xw(r,dw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dw(e,t){if(Rc=-1,Lc=0,Oe&6)throw Error(he(327));var r=e.callbackNode;if(Ga()&&e.callbackNode!==r)return null;var s=Xc(e,e===yt?St:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=fd(e,s);else{t=s;var a=Oe;Oe|=2;var i=mw();(yt!==e||St!==t)&&(or=null,fi=ct()+500,Js(e,t));do try{H6();break}catch(l){uw(e,l)}while(!0);zp(),md.current=i,Oe=a,ut!==null?t=0:(yt=null,St=0,t=pt)}if(t!==0){if(t===2&&(a=Fm(e),a!==0&&(s=a,t=dh(e,a))),t===1)throw r=Wo,Js(e,0),Gr(e,s),Qt(e,ct()),r;if(t===6)Gr(e,s);else{if(a=e.current.alternate,!(s&30)&&!V6(a)&&(t=fd(e,s),t===2&&(i=Fm(e),i!==0&&(s=i,t=dh(e,i))),t===1))throw r=Wo,Js(e,0),Gr(e,s),Qt(e,ct()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(he(345));case 2:Fs(e,Gt,or);break;case 3:if(Gr(e,s),(s&130023424)===s&&(t=nf+500-ct(),10<t)){if(Xc(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Dt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wm(Fs.bind(null,e,Gt,or),t);break}Fs(e,Gt,or);break;case 4:if(Gr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Ln(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=ct()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*U6(s/1960))-s,10<s){e.timeoutHandle=Wm(Fs.bind(null,e,Gt,or),s);break}Fs(e,Gt,or);break;case 5:Fs(e,Gt,or);break;default:throw Error(he(329))}}}return Qt(e,ct()),e.callbackNode===r?dw.bind(null,e):null}function dh(e,t){var r=vo;return e.current.memoizedState.isDehydrated&&(Js(e,t).flags|=256),e=fd(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&uh(t)),e}function uh(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function V6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Fn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(e,t){for(t&=~tf,t&=~tu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ln(t),s=1<<r;e[r]=-1,t&=~s}}function ey(e){if(Oe&6)throw Error(he(327));Ga();var t=Xc(e,0);if(!(t&1))return Qt(e,ct()),null;var r=fd(e,t);if(e.tag!==0&&r===2){var s=Fm(e);s!==0&&(t=s,r=dh(e,s))}if(r===1)throw r=Wo,Js(e,0),Gr(e,t),Qt(e,ct()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e,Gt,or),Qt(e,ct()),null}function rf(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(fi=ct()+500,Xd&&Cs())}}function la(e){ns!==null&&ns.tag===0&&!(Oe&6)&&Ga();var t=Oe;Oe|=1;var r=yn.transition,s=He;try{if(yn.transition=null,He=1,e)return e()}finally{He=s,yn.transition=r,Oe=t,!(Oe&6)&&Cs()}}function sf(){tn=La.current,Xe(La)}function Js(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,b6(r)),ut!==null)for(r=ut.return;r!==null;){var s=r;switch(Dp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&nd();break;case 3:hi(),Xe(Kt),Xe(Lt),qp();break;case 5:Gp(s);break;case 4:hi();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:Up(s.type._context);break;case 22:case 23:sf()}r=r.return}if(yt=e,ut=e=us(e.current,null),St=tn=t,pt=0,Wo=null,tf=tu=oa=0,Gt=vo=null,zs!==null){for(t=0;t<zs.length;t++)if(r=zs[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}zs=null}return e}function uw(e,t){do{var r=ut;try{if(zp(),Pc.current=ud,dd){for(var s=rt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}dd=!1}if(ia=0,gt=mt=rt=null,yo=!1,zo=0,ef.current=null,r===null||r.return===null){pt=1,Wo=t,ut=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=St,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=zx(o);if(p!==null){p.flags&=-257,Ux(p,o,l,i,t),p.mode&1&&Bx(i,d,t),t=p,c=d;var f=t.updateQueue;if(f===null){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}else{if(!(t&1)){Bx(i,d,t),af();break e}c=Error(he(426))}}else if(Je&&l.mode&1){var y=zx(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Ux(y,o,l,i,t),$p(pi(c,l));break e}}i=c=pi(c,l),pt!==4&&(pt=2),vo===null?vo=[i]:vo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=K2(i,c,t);Ix(i,g);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(cs===null||!cs.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Y2(i,l,t);Ix(i,N);break e}}i=i.return}while(i!==null)}pw(r)}catch(j){t=j,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function mw(){var e=md.current;return md.current=ud,e===null?ud:e}function af(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(oa&268435455)&&!(tu&268435455)||Gr(yt,St)}function fd(e,t){var r=Oe;Oe|=2;var s=mw();(yt!==e||St!==t)&&(or=null,Js(e,t));do try{W6();break}catch(a){uw(e,a)}while(!0);if(zp(),Oe=r,md.current=s,ut!==null)throw Error(he(261));return yt=null,St=0,pt}function W6(){for(;ut!==null;)hw(ut)}function H6(){for(;ut!==null&&!gS();)hw(ut)}function hw(e){var t=gw(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?pw(e):ut=t,ef.current=null}function pw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=D6(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ut=null;return}}else if(r=O6(r,t,tn),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);pt===0&&(pt=5)}function Fs(e,t,r){var s=He,a=yn.transition;try{yn.transition=null,He=1,G6(e,t,r,s)}finally{yn.transition=a,He=s}return null}function G6(e,t,r,s){do Ga();while(ns!==null);if(Oe&6)throw Error(he(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(CS(e,i),e===yt&&(ut=yt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rc||(rc=!0,xw(Qc,function(){return Ga(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=yn.transition,yn.transition=null;var o=He;He=1;var l=Oe;Oe|=4,ef.current=null,B6(e,r),lw(r,e),m6(Um),Zc=!!zm,Um=zm=null,e.current=r,z6(r),xS(),Oe=l,He=o,yn.transition=i}else e.current=r;if(rc&&(rc=!1,ns=e,pd=a),i=e.pendingLanes,i===0&&(cs=null),vS(r.stateNode),Qt(e,ct()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(hd)throw hd=!1,e=lh,lh=null,e;return pd&1&&e.tag!==0&&Ga(),i=e.pendingLanes,i&1?e===ch?wo++:(wo=0,ch=e):wo=0,Cs(),null}function Ga(){if(ns!==null){var e=K1(pd),t=yn.transition,r=He;try{if(yn.transition=null,He=16>e?16:e,ns===null)var s=!1;else{if(e=ns,ns=null,pd=0,Oe&6)throw Error(he(331));var a=Oe;for(Oe|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:bo(8,u,i)}var m=u.child;if(m!==null)m.return=u,be=m;else for(;be!==null;){u=be;var h=u.sibling,p=u.return;if(aw(u),u===d){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var f=i.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,be=g;break e}be=i.return}}var x=e.current;for(be=x;be!==null;){o=be;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,be=b;else e:for(o=x;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eu(9,l)}}catch(j){ot(l,l.return,j)}if(l===o){be=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,be=N;break e}be=l.return}}if(Oe=a,Cs(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Gd,e)}catch{}s=!0}return s}finally{He=r,yn.transition=t}}return!1}function ty(e,t,r){t=pi(r,t),t=K2(e,t,1),e=ls(e,t,1),t=Dt(),e!==null&&(Sl(e,1,t),Qt(e,t))}function ot(e,t,r){if(e.tag===3)ty(e,e,r);else for(;t!==null;){if(t.tag===3){ty(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(cs===null||!cs.has(s))){e=pi(r,e),e=Y2(t,e,1),t=ls(t,e,1),e=Dt(),t!==null&&(Sl(t,1,e),Qt(t,e));break}}t=t.return}}function q6(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,yt===e&&(St&r)===r&&(pt===4||pt===3&&(St&130023424)===St&&500>ct()-nf?Js(e,0):tf|=r),Qt(e,t)}function fw(e,t){t===0&&(e.mode&1?(t=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):t=1);var r=Dt();e=Nr(e,t),e!==null&&(Sl(e,t,r),Qt(e,r))}function K6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fw(e,r)}function Y6(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(he(314))}s!==null&&s.delete(t),fw(e,r)}var gw;gw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kt.current)qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qt=!1,F6(e,t,r);qt=!!(e.flags&131072)}else qt=!1,Je&&t.flags&1048576&&v2(t,ad,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Mc(e,t),e=t.pendingProps;var a=di(t,Lt.current);Ha(t,r),a=Yp(null,t,s,e,a,r);var i=Qp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(s)?(i=!0,rd(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Wp(t),a.updater=Jd,t.stateNode=a,a._reactInternals=t,Xm(t,s,e,r),t=eh(null,t,s,!0,i,r)):(t.tag=0,Je&&i&&Op(t),Ft(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Mc(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=X6(s),e=Tn(s,e),a){case 0:t=Jm(null,t,s,e,r);break e;case 1:t=Hx(null,t,s,e,r);break e;case 11:t=Vx(null,t,s,e,r);break e;case 14:t=Wx(null,t,s,Tn(s.type,e),r);break e}throw Error(he(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Tn(s,a),Jm(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Tn(s,a),Hx(e,t,s,a,r);case 3:e:{if(J2(t),e===null)throw Error(he(387));s=t.pendingProps,i=t.memoizedState,a=i.element,C2(e,t),ld(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=pi(Error(he(423)),t),t=Gx(e,t,s,r,a);break e}else if(s!==a){a=pi(Error(he(424)),t),t=Gx(e,t,s,r,a);break e}else for(nn=os(t.stateNode.containerInfo.firstChild),rn=t,Je=!0,An=null,r=S2(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ui(),s===a){t=Sr(e,t,r);break e}Ft(e,t,s,r)}t=t.child}return t;case 5:return T2(t),e===null&&Km(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Vm(s,a)?o=null:i!==null&&Vm(s,i)&&(t.flags|=32),Z2(e,t),Ft(e,t,o,r),t.child;case 6:return e===null&&Km(t),null;case 13:return ew(e,t,r);case 4:return Hp(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=mi(t,null,s,r):Ft(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Tn(s,a),Vx(e,t,s,a,r);case 7:return Ft(e,t,t.pendingProps,r),t.child;case 8:return Ft(e,t,t.pendingProps.children,r),t.child;case 12:return Ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,qe(id,s._currentValue),s._currentValue=o,i!==null)if(Fn(i.value,o)){if(i.children===a.children&&!Kt.current){t=Sr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=hr(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ym(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(he(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ym(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ft(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Ha(t,r),a=vn(a),s=s(a),t.flags|=1,Ft(e,t,s,r),t.child;case 14:return s=t.type,a=Tn(s,t.pendingProps),a=Tn(s.type,a),Wx(e,t,s,a,r);case 15:return Q2(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Tn(s,a),Mc(e,t),t.tag=1,Yt(s)?(e=!0,rd(t)):e=!1,Ha(t,r),q2(t,s,a),Xm(t,s,a,r),eh(null,t,s,!0,e,r);case 19:return tw(e,t,r);case 22:return X2(e,t,r)}throw Error(he(156,t.tag))};function xw(e,t){return W1(e,t)}function Q6(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,r,s){return new Q6(e,t,r,s)}function of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X6(e){if(typeof e=="function")return of(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kp)return 11;if(e===Cp)return 14}return 2}function us(e,t){var r=e.alternate;return r===null?(r=xn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ic(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")of(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Na:return ea(r.children,a,i,t);case Sp:o=8,a|=8;break;case wm:return e=xn(12,r,t,a|2),e.elementType=wm,e.lanes=i,e;case jm:return e=xn(13,r,t,a),e.elementType=jm,e.lanes=i,e;case Nm:return e=xn(19,r,t,a),e.elementType=Nm,e.lanes=i,e;case T1:return nu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k1:o=10;break e;case C1:o=9;break e;case kp:o=11;break e;case Cp:o=14;break e;case Vr:o=16,s=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=xn(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function ea(e,t,r,s){return e=xn(7,e,s,t),e.lanes=r,e}function nu(e,t,r,s){return e=xn(22,e,s,t),e.elementType=T1,e.lanes=r,e.stateNode={isHidden:!1},e}function p0(e,t,r){return e=xn(6,e,null,t),e.lanes=r,e}function f0(e,t,r){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Z6(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function lf(e,t,r,s,a,i,o,l,c){return e=new Z6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wp(i),e}function J6(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function yw(e){if(!e)return ps;e=e._reactInternals;e:{if(pa(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(Yt(r))return y2(e,r,t)}return t}function bw(e,t,r,s,a,i,o,l,c){return e=lf(r,s,!0,e,a,i,o,l,c),e.context=yw(null),r=e.current,s=Dt(),a=ds(r),i=hr(s,a),i.callback=t??null,ls(r,i,a),e.current.lanes=a,Sl(e,a,s),Qt(e,s),e}function ru(e,t,r,s){var a=t.current,i=Dt(),o=ds(a);return r=yw(r),t.context===null?t.context=r:t.pendingContext=r,t=hr(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ls(a,t,o),e!==null&&(In(e,a,o,i),Ec(e,a,o)),o}function gd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ny(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cf(e,t){ny(e,t),(e=e.alternate)&&ny(e,t)}function ek(){return null}var vw=typeof reportError=="function"?reportError:function(e){console.error(e)};function df(e){this._internalRoot=e}su.prototype.render=df.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));ru(e,t,null,null)};su.prototype.unmount=df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;la(function(){ru(null,e,null,null)}),t[jr]=null}};function su(e){this._internalRoot=e}su.prototype.unstable_scheduleHydration=function(e){if(e){var t=X1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hr.length&&t!==0&&t<Hr[r].priority;r++);Hr.splice(r,0,e),r===0&&J1(e)}};function uf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ry(){}function tk(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=gd(o);i.call(d)}}var o=bw(t,s,e,0,null,!1,!1,"",ry);return e._reactRootContainer=o,e[jr]=o.current,Fo(e.nodeType===8?e.parentNode:e),la(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=gd(c);l.call(d)}}var c=lf(e,0,!1,null,null,!1,!1,"",ry);return e._reactRootContainer=c,e[jr]=c.current,Fo(e.nodeType===8?e.parentNode:e),la(function(){ru(t,c,r,s)}),c}function iu(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=gd(o);l.call(c)}}ru(t,o,e,a)}else o=tk(r,t,e,a,s);return gd(o)}Y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lo(t.pendingLanes);r!==0&&(Pp(t,r|1),Qt(t,ct()),!(Oe&6)&&(fi=ct()+500,Cs()))}break;case 13:la(function(){var s=Nr(e,1);if(s!==null){var a=Dt();In(s,e,1,a)}}),cf(e,1)}};Ap=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var r=Dt();In(t,e,134217728,r)}cf(e,134217728)}};Q1=function(e){if(e.tag===13){var t=ds(e),r=Nr(e,t);if(r!==null){var s=Dt();In(r,e,t,s)}cf(e,t)}};X1=function(){return He};Z1=function(e,t){var r=He;try{return He=e,t()}finally{He=r}};Lm=function(e,t,r){switch(t){case"input":if(Cm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Qd(s);if(!a)throw Error(he(90));P1(s),Cm(s,a)}}}break;case"textarea":M1(e,r);break;case"select":t=r.value,t!=null&&za(e,!!r.multiple,t,!1)}};D1=rf;$1=la;var nk={usingClientEntryPoint:!1,Events:[Cl,Ta,Qd,F1,O1,rf]},qi={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rk={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=U1(e),e===null?null:e.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Gd=sc.inject(rk),Xn=sc}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk;ln.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uf(t))throw Error(he(200));return J6(e,t,null,r)};ln.createRoot=function(e,t){if(!uf(e))throw Error(he(299));var r=!1,s="",a=vw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=lf(e,1,!1,null,null,r,!1,s,a),e[jr]=t.current,Fo(e.nodeType===8?e.parentNode:e),new df(t)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=U1(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return la(e)};ln.hydrate=function(e,t,r){if(!au(t))throw Error(he(200));return iu(null,e,t,!0,r)};ln.hydrateRoot=function(e,t,r){if(!uf(e))throw Error(he(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=vw;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=bw(t,null,e,1,r??null,a,!1,i,o),e[jr]=t.current,Fo(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new su(t)};ln.render=function(e,t,r){if(!au(t))throw Error(he(200));return iu(null,e,t,!1,r)};ln.unmountComponentAtNode=function(e){if(!au(e))throw Error(he(40));return e._reactRootContainer?(la(function(){iu(null,null,e,!1,function(){e._reactRootContainer=null,e[jr]=null})}),!0):!1};ln.unstable_batchedUpdates=rf;ln.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!au(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return iu(e,t,r,!1,s)};ln.version="18.3.1-next-f1338f8080-20240426";function ww(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ww)}catch(e){console.error(e)}}ww(),w1.exports=ln;var sk=w1.exports,sy=sk;bm.createRoot=sy.createRoot,bm.hydrateRoot=sy.hydrateRoot;const jw="2.24.1";let Ki={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${jw}`},fe=class mh extends Error{constructor(t,r={}){var l;const s=(()=>{var c;return r.cause instanceof mh?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),a=r.cause instanceof mh&&r.cause.docsPath||r.docsPath,i=(l=Ki.getDocsUrl)==null?void 0:l.call(Ki,{...r,docsPath:a}),o=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...s?[`Details: ${s}`]:[],...Ki.version?[`Version: ${Ki.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=a,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=jw}walk(t){return Nw(this,t)}};function Nw(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Nw(e.cause,t):t?null:e}class Sw extends fe{constructor({max:t,min:r,signed:s,size:a,value:i}){super(`Number "${i}" is not in safe ${a?`${a*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class ak extends fe{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class ik extends fe{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}class kw extends fe{constructor({offset:t,position:r,size:s}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}}class Cw extends fe{constructor({size:t,targetSize:r,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}class ay extends fe{constructor({size:t,targetSize:r,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} is expected to be ${r} ${s} long, but is ${t} ${s} long.`,{name:"InvalidBytesLengthError"})}}function Pi(e,{dir:t,size:r=32}={}){return typeof e=="string"?ms(e,{dir:t,size:r}):ok(e,{dir:t,size:r})}function ms(e,{dir:t,size:r=32}={}){if(r===null)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Cw({size:Math.ceil(s.length/2),targetSize:r,type:"hex"});return`0x${s[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function ok(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new Cw({size:e.length,targetSize:r,type:"bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const i=t==="right";s[i?a:r-a-1]=e[i?a:e.length-a-1]}return s}function fs(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function xt(e){return fs(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function gs(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,s=0;for(let a=0;a<r.length-1&&r[t==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=t==="left"?r.slice(s):r.slice(0,r.length-s),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}const lk=new TextEncoder;function mf(e,t={}){return typeof e=="number"||typeof e=="bigint"?dk(e,t):typeof e=="boolean"?ck(e,t):fs(e)?rr(e,t):Tw(e,t)}function ck(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Dn(r,{size:t.size}),Pi(r,{size:t.size})):r}const ar={zero:48,nine:57,A:65,F:70,a:97,f:102};function iy(e){if(e>=ar.zero&&e<=ar.nine)return e-ar.zero;if(e>=ar.A&&e<=ar.F)return e-(ar.A-10);if(e>=ar.a&&e<=ar.f)return e-(ar.a-10)}function rr(e,t={}){let r=e;t.size&&(Dn(r,{size:t.size}),r=Pi(r,{dir:"right",size:t.size}));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,i=new Uint8Array(a);for(let o=0,l=0;o<a;o++){const c=iy(s.charCodeAt(l++)),d=iy(s.charCodeAt(l++));if(c===void 0||d===void 0)throw new fe(`Invalid byte sequence ("${s[l-2]}${s[l-1]}" in "${s}").`);i[o]=c*16+d}return i}function dk(e,t){const r=Ae(e,t);return rr(r)}function Tw(e,t={}){const r=lk.encode(e);return typeof t.size=="number"?(Dn(r,{size:t.size}),Pi(r,{dir:"right",size:t.size})):r}function Dn(e,{size:t}){if(xt(e)>t)throw new ik({givenSize:xt(e),maxSize:t})}function Mn(e,t={}){const{signed:r}=t;t.size&&Dn(e,{size:t.size});const s=BigInt(e);if(!r)return s;const a=(e.length-2)/2,i=(1n<<BigInt(a)*8n-1n)-1n;return s<=i?s:s-BigInt(`0x${"f".padStart(a*2,"f")}`)-1n}function kr(e,t={}){return Number(Mn(e,t))}function uk(e,t={}){let r=rr(e);return t.size&&(Dn(r,{size:t.size}),r=gs(r,{dir:"right"})),new TextDecoder().decode(r)}const mk=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Me(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ae(e,t):typeof e=="string"?hf(e,t):typeof e=="boolean"?Ew(e,t):Bt(e,t)}function Ew(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(Dn(r,{size:t.size}),Pi(r,{size:t.size})):r}function Bt(e,t={}){let r="";for(let a=0;a<e.length;a++)r+=mk[e[a]];const s=`0x${r}`;return typeof t.size=="number"?(Dn(s,{size:t.size}),Pi(s,{dir:"right",size:t.size})):s}function Ae(e,t={}){const{signed:r,size:s}=t,a=BigInt(e);let i;s?r?i=(1n<<BigInt(s)*8n-1n)-1n:i=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&a>i||a<o){const c=typeof e=="bigint"?"n":"";throw new Sw({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:r,size:s,value:`${e}${c}`})}const l=`0x${(r&&a<0?(1n<<BigInt(s*8))+BigInt(a):a).toString(16)}`;return s?Pi(l,{size:s}):l}const hk=new TextEncoder;function hf(e,t={}){const r=hk.encode(e);return Bt(r,t)}function gi(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new kk(e.type);return`${e.name}(${pf(e.inputs,{includeName:t})})`}function pf(e,{includeName:t=!1}={}){return e?e.map(r=>pk(r,{includeName:t})).join(t?", ":","):""}function pk(e,{includeName:t}){return e.type.startsWith("tuple")?`(${pf(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class fk extends fe{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class oy extends fe{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class gk extends fe{constructor({data:t,params:r,size:s}){super([`Data size of ${s} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${pf(r,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=s}}class ou extends fe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class xk extends fe{constructor({expectedLength:t,givenLength:r,type:s}){super([`ABI encoding array length mismatch for type ${s}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class yk extends fe{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${xt(r)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class bk extends fe{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Pw extends fe{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class xd extends fe{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class vk extends fe{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class wk extends fe{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${gi(t.abiItem)}\`, and`,`\`${r.type}\` in \`${gi(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class jk extends fe{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class Nk extends fe{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}class Sk extends fe{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class kk extends fe{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function xi(e){return typeof e[0]=="string"?Ar(e):Ck(e)}function Ck(e){let t=0;for(const a of e)t+=a.length;const r=new Uint8Array(t);let s=0;for(const a of e)r.set(a,s),s+=a.length;return r}function Ar(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}class jn extends fe{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class lu extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}function yd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Tk(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function El(e,...t){if(!Tk(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function OD(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");yd(e.outputLen),yd(e.blockLen)}function bd(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Aw(e,t){El(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const ac=BigInt(2**32-1),ly=BigInt(32);function Ek(e,t=!1){return t?{h:Number(e&ac),l:Number(e>>ly&ac)}:{h:Number(e>>ly&ac)|0,l:Number(e&ac)|0}}function Pk(e,t=!1){let r=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:i,l:o}=Ek(e[a],t);[r[a],s[a]]=[i,o]}return[r,s]}const Ak=(e,t,r)=>e<<r|t>>>32-r,Mk=(e,t,r)=>t<<r|e>>>32-r,Rk=(e,t,r)=>t<<r-32|e>>>64-r,Lk=(e,t,r)=>e<<r-32|t>>>64-r,va=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ik(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function g0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function zn(e,t){return e<<32-t|e>>>t}const cy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _k(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function dy(e){for(let t=0;t<e.length;t++)e[t]=_k(e[t])}const Fk=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function DD(e){El(e);let t="";for(let r=0;r<e.length;r++)t+=Fk[e[r]];return t}function Ok(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function cu(e){return typeof e=="string"&&(e=Ok(e)),El(e),e}function $D(...e){let t=0;for(let s=0;s<e.length;s++){const a=e[s];El(a),t+=a.length}const r=new Uint8Array(t);for(let s=0,a=0;s<e.length;s++){const i=e[s];r.set(i,a),a+=i.length}return r}class Mw{clone(){return this._cloneInto()}}function Rw(e){const t=s=>e().update(cu(s)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Dk(e){const t=(s,a)=>e(a).update(cu(s)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=s=>e(s),t}function BD(e=32){if(va&&typeof va.getRandomValues=="function")return va.getRandomValues(new Uint8Array(e));if(va&&typeof va.randomBytes=="function")return va.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Lw=[],Iw=[],_w=[],$k=BigInt(0),Yi=BigInt(1),Bk=BigInt(2),zk=BigInt(7),Uk=BigInt(256),Vk=BigInt(113);for(let e=0,t=Yi,r=1,s=0;e<24;e++){[r,s]=[s,(2*r+3*s)%5],Lw.push(2*(5*s+r)),Iw.push((e+1)*(e+2)/2%64);let a=$k;for(let i=0;i<7;i++)t=(t<<Yi^(t>>zk)*Vk)%Uk,t&Bk&&(a^=Yi<<(Yi<<BigInt(i))-Yi);_w.push(a)}const[Wk,Hk]=Pk(_w,!0),uy=(e,t,r)=>r>32?Rk(e,t,r):Ak(e,t,r),my=(e,t,r)=>r>32?Lk(e,t,r):Mk(e,t,r);function Fw(e,t=24){const r=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,c=(o+2)%10,d=r[c],u=r[c+1],m=uy(d,u,1)^r[l],h=my(d,u,1)^r[l+1];for(let p=0;p<50;p+=10)e[o+p]^=m,e[o+p+1]^=h}let a=e[2],i=e[3];for(let o=0;o<24;o++){const l=Iw[o],c=uy(a,i,l),d=my(a,i,l),u=Lw[o];a=e[u],i=e[u+1],e[u]=c,e[u+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)r[l]=e[o+l];for(let l=0;l<10;l++)e[o+l]^=~r[(l+2)%10]&r[(l+4)%10]}e[0]^=Wk[s],e[1]^=Hk[s]}r.fill(0)}class Pl extends Mw{constructor(t,r,s,a=!1,i=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=s,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,yd(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ik(this.state)}keccak(){cy||dy(this.state32),Fw(this.state32,this.rounds),cy||dy(this.state32),this.posOut=0,this.pos=0}update(t){bd(this);const{blockLen:r,state:s}=this;t=cu(t);const a=t.length;for(let i=0;i<a;){const o=Math.min(r-this.pos,a-i);for(let l=0;l<o;l++)s[this.pos++]^=t[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:s,blockLen:a}=this;t[s]^=r,r&128&&s===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){bd(this,!1),El(t),this.finish();const r=this.state,{blockLen:s}=this;for(let a=0,i=t.length;a<i;){this.posOut>=s&&this.keccak();const o=Math.min(s-this.posOut,i-a);t.set(r.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return yd(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Aw(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:s,outputLen:a,rounds:i,enableXOF:o}=this;return t||(t=new Pl(r,s,a,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=s,t.outputLen=a,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Ts=(e,t,r)=>Rw(()=>new Pl(t,e,r)),Gk=Ts(6,144,224/8),qk=Ts(6,136,256/8),Kk=Ts(6,104,384/8),Yk=Ts(6,72,512/8),Qk=Ts(1,144,224/8),Ow=Ts(1,136,256/8),Xk=Ts(1,104,384/8),Zk=Ts(1,72,512/8),Dw=(e,t,r)=>Dk((s={})=>new Pl(t,e,s.dkLen===void 0?r:s.dkLen,!0)),Jk=Dw(31,168,128/8),eC=Dw(31,136,256/8),zD=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Pl,keccakP:Fw,keccak_224:Qk,keccak_256:Ow,keccak_384:Xk,keccak_512:Zk,sha3_224:Gk,sha3_256:qk,sha3_384:Kk,sha3_512:Yk,shake128:Jk,shake256:eC},Symbol.toStringTag,{value:"Module"}));function du(e,t){const r=t||"hex",s=Ow(fs(e,{strict:!1})?mf(e):e);return r==="bytes"?s:Me(s)}const x0=new lu(8192);function uu(e,t){if(x0.has(`${e}.${t}`))return x0.get(`${e}.${t}`);const r=e.substring(2).toLowerCase(),s=du(Tw(r),"bytes"),a=r.split("");for(let o=0;o<40;o+=2)s[o>>1]>>4>=8&&a[o]&&(a[o]=a[o].toUpperCase()),(s[o>>1]&15)>=8&&a[o+1]&&(a[o+1]=a[o+1].toUpperCase());const i=`0x${a.join("")}`;return x0.set(`${e}.${t}`,i),i}function Nt(e,t){if(!Be(e,{strict:!1}))throw new jn({address:e});return uu(e,t)}const tC=/^0x[a-fA-F0-9]{40}$/,y0=new lu(8192);function Be(e,t){const{strict:r=!0}=t??{},s=`${e}.${r}`;if(y0.has(s))return y0.get(s);const a=tC.test(e)?e.toLowerCase()===e?!0:r?uu(e)===e:!0:!1;return y0.set(s,a),a}function Ho(e,t,r,{strict:s}={}){return fs(e,{strict:!1})?nC(e,t,r,{strict:s}):zw(e,t,r,{strict:s})}function $w(e,t){if(typeof t=="number"&&t>0&&t>xt(e)-1)throw new kw({offset:t,position:"start",size:xt(e)})}function Bw(e,t,r){if(typeof t=="number"&&typeof r=="number"&&xt(e)!==r-t)throw new kw({offset:r,position:"end",size:xt(e)})}function zw(e,t,r,{strict:s}={}){$w(e,t);const a=e.slice(t,r);return s&&Bw(a,t,r),a}function nC(e,t,r,{strict:s}={}){$w(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return s&&Bw(a,t,r),a}const rC=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Uw(e,t){if(e.length!==t.length)throw new bk({expectedLength:e.length,givenLength:t.length});const r=sC({params:e,values:t}),s=gf(r);return s.length===0?"0x":s}function sC({params:e,values:t}){const r=[];for(let s=0;s<e.length;s++)r.push(ff({param:e[s],value:t[s]}));return r}function ff({param:e,value:t}){const r=xf(e.type);if(r){const[s,a]=r;return iC(t,{length:s,param:{...e,type:a}})}if(e.type==="tuple")return uC(t,{param:e});if(e.type==="address")return aC(t);if(e.type==="bool")return lC(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const s=e.type.startsWith("int"),[,,a="256"]=rC.exec(e.type)??[];return cC(t,{signed:s,size:Number(a)})}if(e.type.startsWith("bytes"))return oC(t,{param:e});if(e.type==="string")return dC(t);throw new jk(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function gf(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:l}=e[i];o?t+=32:t+=xt(l)}const r=[],s=[];let a=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:l}=e[i];o?(r.push(Ae(t+a,{size:32})),s.push(l),a+=xt(l)):r.push(l)}return xi([...r,...s])}function aC(e){if(!Be(e))throw new jn({address:e});return{dynamic:!1,encoded:ms(e.toLowerCase())}}function iC(e,{length:t,param:r}){const s=t===null;if(!Array.isArray(e))throw new Sk(e);if(!s&&e.length!==t)throw new xk({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let a=!1;const i=[];for(let o=0;o<e.length;o++){const l=ff({param:r,value:e[o]});l.dynamic&&(a=!0),i.push(l)}if(s||a){const o=gf(i);if(s){const l=Ae(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?xi([l,o]):l}}if(a)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:xi(i.map(({encoded:o})=>o))}}function oC(e,{param:t}){const[,r]=t.type.split("bytes"),s=xt(e);if(!r){let a=e;return s%32!==0&&(a=ms(a,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:xi([ms(Ae(s,{size:32})),a])}}if(s!==Number.parseInt(r))throw new yk({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:ms(e,{dir:"right"})}}function lC(e){if(typeof e!="boolean")throw new fe(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ms(Ew(e))}}function cC(e,{signed:t,size:r=256}){if(typeof r=="number"){const s=2n**(BigInt(r)-(t?1n:0n))-1n,a=t?-s-1n:0n;if(e>s||e<a)throw new Sw({max:s.toString(),min:a.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:Ae(e,{size:32,signed:t})}}function dC(e){const t=hf(e),r=Math.ceil(xt(t)/32),s=[];for(let a=0;a<r;a++)s.push(ms(Ho(t,a*32,(a+1)*32),{dir:"right"}));return{dynamic:!0,encoded:xi([ms(Ae(xt(t),{size:32})),...s])}}function uC(e,{param:t}){let r=!1;const s=[];for(let a=0;a<t.components.length;a++){const i=t.components[a],o=Array.isArray(e)?a:i.name,l=ff({param:i,value:e[o]});s.push(l),l.dynamic&&(r=!0)}return{dynamic:r,encoded:r?gf(s):xi(s.map(({encoded:a})=>a))}}function xf(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const b0="/docs/contract/encodeDeployData";function Vw(e){const{abi:t,args:r,bytecode:s}=e;if(!r||r.length===0)return s;const a=t.find(o=>"type"in o&&o.type==="constructor");if(!a)throw new fk({docsPath:b0});if(!("inputs"in a))throw new oy({docsPath:b0});if(!a.inputs||a.inputs.length===0)throw new oy({docsPath:b0});const i=Uw(a.inputs,r);return Ar([s,i])}function Mr(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}class Ww extends fe{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class v0 extends fe{constructor({docsPath:t,metaMessages:r,type:s}){super(`Account type "${s}" is not supported.`,{docsPath:t,metaMessages:r,name:"AccountTypeNotSupportedError"})}}function mC(e){const t=du(`0x${e.substring(4)}`).substring(26);return uu(`0x${t}`)}const hC="modulepreload",pC=function(e){return"/"+e},hy={},Ai=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=pC(c),c in hy)return;hy[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":hC,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,p)=>{m.addEventListener("load",h),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};async function fC({hash:e,signature:t}){const r=fs(e)?e:Me(e),{secp256k1:s}=await Ai(async()=>{const{secp256k1:o}=await import("./secp256k1-Bxun8ojf.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:u,v:m,yParity:h}=t,p=Number(h??m),f=py(p);return new s.Signature(Mn(d),Mn(u)).addRecoveryBit(f)}const o=fs(t)?t:Me(t),l=kr(`0x${o.slice(130)}`),c=py(l);return s.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function py(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function gC({hash:e,signature:t}){return mC(await fC({hash:e,signature:t}))}class fy extends fe{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class xC extends fe{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class yC extends fe{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const bC={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new yC({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new xC({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new fy({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new fy({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function yf(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(bC);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function xs(e,t="hex"){const r=Hw(e),s=yf(new Uint8Array(r.length));return r.encode(s),t==="hex"?Bt(s.bytes):s.bytes}function Hw(e){return Array.isArray(e)?vC(e.map(t=>Hw(t))):wC(e)}function vC(e){const t=e.reduce((a,i)=>a+i.length,0),r=Gw(t);return{length:t<=55?1+t:1+r+t,encode(a){t<=55?a.pushByte(192+t):(a.pushByte(247+r),r===1?a.pushUint8(t):r===2?a.pushUint16(t):r===3?a.pushUint24(t):a.pushUint32(t));for(const{encode:i}of e)i(a)}}}function wC(e){const t=typeof e=="string"?rr(e):e,r=Gw(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(a){t.length===1&&t[0]<128?a.pushBytes(t):t.length<=55?(a.pushByte(128+t.length),a.pushBytes(t)):(a.pushByte(183+r),r===1?a.pushUint8(t.length):r===2?a.pushUint16(t.length):r===3?a.pushUint24(t.length):a.pushUint32(t.length),a.pushBytes(t))}}}function Gw(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new fe("Length is too large.")}function jC(e){const{chainId:t,nonce:r,to:s}=e,a=e.contractAddress??e.address,i=du(Ar(["0x05",xs([t?Ae(t):"0x",a,r?Ae(r):"0x"])]));return s==="bytes"?rr(i):i}async function qw(e){const{authorization:t,signature:r}=e;return gC({hash:jC(t),signature:r??t})}class hh extends fe{constructor({blockNumber:t,chain:r,contract:s}){super(`Chain "${r.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...t&&s.blockCreated&&s.blockCreated>t?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${s.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class NC extends fe{constructor({chain:t,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class SC extends fe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Kw extends fe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class mu extends fe{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function kC({chain:e,currentChainId:t}){if(!e)throw new SC;if(t!==e.id)throw new NC({chain:e,currentChainId:t})}const Yw={gwei:9,wei:18},CC={ether:-9,wei:9};function Qw(e,t){let r=e.toString();const s=r.startsWith("-");s&&(r=r.slice(1)),r=r.padStart(t,"0");let[a,i]=[r.slice(0,r.length-t),r.slice(r.length-t)];return i=i.replace(/(0+)$/,""),`${s?"-":""}${a||"0"}${i?`.${i}`:""}`}function Xt(e,t="wei"){return Qw(e,CC[t])}class Ia extends fe{constructor({cause:t,message:r}={}){var a;const s=(a=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:a.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ia,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ca extends fe{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Xt(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(ca,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ph extends fe{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Xt(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(ph,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class fh extends fe{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(fh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class gh extends fe{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(gh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class xh extends fe{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(xh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class yh extends fe{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(yh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class bh extends fe{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(bh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class vh extends fe{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(vh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class wh extends fe{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(wh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Go extends fe{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Xt(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${Xt(s)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Go,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class hu extends fe{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Mt(e,t="wei"){return Qw(e,Yw[t])}function Al(e){const t=Object.entries(e).map(([s,a])=>a===void 0||a===!1?null:[s,a]).filter(Boolean),r=t.reduce((s,[a])=>Math.max(s,a.length),0);return t.map(([s,a])=>`  ${`${s}:`.padEnd(r+1)}  ${a}`).join(`
`)}class TC extends fe{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class EC extends fe{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class PC extends fe{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Al(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class AC extends fe{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class MC extends fe{constructor(t,{account:r,docsPath:s,chain:a,data:i,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:m,value:h}){var f;const p=Al({chain:a&&`${a==null?void 0:a.name} (id: ${a==null?void 0:a.id})`,from:r==null?void 0:r.address,to:m,value:typeof h<"u"&&`${Mt(h)} ${((f=a==null?void 0:a.nativeCurrency)==null?void 0:f.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${Xt(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xt(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Xt(d)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Xw extends fe{constructor({blockHash:t,blockNumber:r,blockTag:s,hash:a,index:i}){let o="Transaction";s&&i!==void 0&&(o=`Transaction at block time "${s}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),r&&i!==void 0&&(o=`Transaction at block number "${r}" at index "${i}"`),a&&(o=`Transaction with hash "${a}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Zw extends fe{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class RC extends fe{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const _n=(e,t,r)=>JSON.stringify(e,(s,a)=>typeof a=="bigint"?a.toString():a,r),LC=e=>e,bf=e=>e;class jo extends fe{constructor({body:t,cause:r,details:s,headers:a,status:i,url:o}){super("HTTP request failed.",{cause:r,details:s,metaMessages:[i&&`Status: ${i}`,`URL: ${bf(o)}`,t&&`Request body: ${_n(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=a,this.status=i,this.url=o}}class vf extends fe{constructor({body:t,error:r,url:s}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${bf(s)}`,`Request body: ${_n(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class gy extends fe{constructor({body:t,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${bf(r)}`,`Request body: ${_n(t)}`],name:"TimeoutError"})}}const IC=-1;class Jt extends fe{constructor(t,{code:r,docsPath:s,metaMessages:a,name:i,shortMessage:o}){super(o,{cause:t,docsPath:s,metaMessages:a||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof vf?t.code:r??IC}}class Mi extends Jt{constructor(t,r){super(t,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class qo extends Jt{constructor(t){super(t,{code:qo.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ko extends Jt{constructor(t){super(t,{code:Ko.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Yo extends Jt{constructor(t,{method:r}={}){super(t,{code:Yo.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Qo extends Jt{constructor(t){super(t,{code:Qo.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class da extends Jt{constructor(t){super(t,{code:da.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(da,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Xo extends Jt{constructor(t){super(t,{code:Xo.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Xo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Zo extends Jt{constructor(t){super(t,{code:Zo.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Zo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Jn extends Jt{constructor(t){super(t,{code:Jn.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Jo extends Jt{constructor(t){super(t,{code:Jo.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Vs extends Jt{constructor(t,{method:r}={}){super(t,{code:Vs.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Vs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class yi extends Jt{constructor(t){super(t,{code:yi.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class el extends Jt{constructor(t){super(t,{code:el.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(el,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class De extends Mi{constructor(t){super(t,{code:De.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(De,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class tl extends Mi{constructor(t){super(t,{code:tl.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(tl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class nl extends Mi{constructor(t,{method:r}={}){super(t,{code:nl.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(nl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class rl extends Mi{constructor(t){super(t,{code:rl.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(rl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class sl extends Mi{constructor(t){super(t,{code:sl.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(sl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class $t extends Mi{constructor(t){super(t,{code:$t.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class _C extends Jt{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function wf(e,t){const r=(e.details||"").toLowerCase(),s=e instanceof fe?e.walk(a=>(a==null?void 0:a.code)===Ia.code):e;return s instanceof fe?new Ia({cause:e,message:s.details}):Ia.nodeMessage.test(r)?new Ia({cause:e,message:e.details}):ca.nodeMessage.test(r)?new ca({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ph.nodeMessage.test(r)?new ph({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):fh.nodeMessage.test(r)?new fh({cause:e,nonce:t==null?void 0:t.nonce}):gh.nodeMessage.test(r)?new gh({cause:e,nonce:t==null?void 0:t.nonce}):xh.nodeMessage.test(r)?new xh({cause:e,nonce:t==null?void 0:t.nonce}):yh.nodeMessage.test(r)?new yh({cause:e}):bh.nodeMessage.test(r)?new bh({cause:e,gas:t==null?void 0:t.gas}):vh.nodeMessage.test(r)?new vh({cause:e,gas:t==null?void 0:t.gas}):wh.nodeMessage.test(r)?new wh({cause:e}):Go.nodeMessage.test(r)?new Go({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new hu({cause:e})}function FC(e,{docsPath:t,...r}){const s=(()=>{const a=wf(e,r);return a instanceof hu?e:a})();return new MC(s,{docsPath:t,...r})}function jf(e,{format:t}){if(!t)return{};const r={};function s(i){const o=Object.keys(i);for(const l of o)l in e&&(r[l]=e[l]),i[l]&&typeof i[l]=="object"&&!Array.isArray(i[l])&&s(i[l])}const a=t(e||{});return s(a),r}function Nf(e,t){return({exclude:r,format:s})=>({exclude:r,format:a=>{const i=t(a);if(r)for(const o of r)delete i[o];return{...i,...s(a)}},type:e})}const OC={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Sf(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=DC(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(r=>Bt(r)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=Ae(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=Ae(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=Ae(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=Ae(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=Ae(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=Ae(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=OC[e.type]),typeof e.value<"u"&&(t.value=Ae(e.value)),t}function DC(e){return e.map(t=>({address:t.address,r:t.r?Ae(BigInt(t.r)):t.r,s:t.s?Ae(BigInt(t.s)):t.s,chainId:Ae(t.chainId),nonce:Ae(t.nonce),...typeof t.yParity<"u"?{yParity:Ae(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:Ae(t.v)}:{}}))}function dt(e,t,r){const s=e[t.name];if(typeof s=="function")return s;const a=e[r];return typeof a=="function"?a:i=>t(e,i)}const pu=2n**256n-1n;function fu(e){const{account:t,gasPrice:r,maxFeePerGas:s,maxPriorityFeePerGas:a,to:i}=e,o=t?Mr(t):void 0;if(o&&!Be(o.address))throw new jn({address:o.address});if(i&&!Be(i))throw new jn({address:i});if(typeof r<"u"&&(typeof s<"u"||typeof a<"u"))throw new TC;if(s&&s>pu)throw new ca({maxFeePerGas:s});if(a&&s&&a>s)throw new Go({maxFeePerGas:s,maxPriorityFeePerGas:a})}async function Jw(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return kr(t)}class $C extends fe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class kf extends fe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class BC extends fe{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Xt(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ej extends fe{constructor({blockHash:t,blockNumber:r}){let s="Block";t&&(s=`Block at hash "${t}"`),r&&(s=`Block at number "${r}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}const tj={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function gu(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?kr(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?kr(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?tj[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=UC(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const zC=Nf("transaction",gu);function UC(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function nj(e){const t=(e.transactions??[]).map(r=>typeof r=="string"?r:gu(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const VC=Nf("block",nj);async function al(e,{blockHash:t,blockNumber:r,blockTag:s,includeTransactions:a}={}){var u,m,h;const i=s??"latest",o=a??!1,l=r!==void 0?Ae(r):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[l||i,o]},{dedupe:!!l}),!c)throw new ej({blockHash:t,blockNumber:r});return(((h=(m=(u=e.chain)==null?void 0:u.formatters)==null?void 0:m.block)==null?void 0:h.format)||nj)(c)}async function rj(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function WC(e,t){var i,o;const{block:r,chain:s=e.chain,request:a}=t||{};try{const l=((i=s==null?void 0:s.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=s==null?void 0:s.fees)==null?void 0:o.defaultPriorityFee);if(typeof l=="function"){const d=r||await dt(e,al,"getBlock")({}),u=await l({block:d,client:e,request:a});if(u===null)throw new Error;return u}if(typeof l<"u")return l;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Mn(c)}catch{const[l,c]=await Promise.all([r?Promise.resolve(r):dt(e,al,"getBlock")({}),dt(e,rj,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new kf;const d=c-l.baseFeePerGas;return d<0n?0n:d}}async function xy(e,t){var h,p;const{block:r,chain:s=e.chain,request:a,type:i="eip1559"}=t||{},o=await(async()=>{var f,v;return typeof((f=s==null?void 0:s.fees)==null?void 0:f.baseFeeMultiplier)=="function"?s.fees.baseFeeMultiplier({block:r,client:e,request:a}):((v=s==null?void 0:s.fees)==null?void 0:v.baseFeeMultiplier)??1.2})();if(o<1)throw new $C;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),d=f=>f*BigInt(Math.ceil(o*c))/BigInt(c),u=r||await dt(e,al,"getBlock")({});if(typeof((p=s==null?void 0:s.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const f=await s.fees.estimateFeesPerGas({block:r,client:e,multiply:d,request:a,type:i});if(f!==null)return f}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new kf;const f=typeof(a==null?void 0:a.maxPriorityFeePerGas)=="bigint"?a.maxPriorityFeePerGas:await WC(e,{block:u,chain:s,request:a}),v=d(u.baseFeePerGas);return{maxFeePerGas:(a==null?void 0:a.maxFeePerGas)??v+f,maxPriorityFeePerGas:f}}return{gasPrice:(a==null?void 0:a.gasPrice)??d(await dt(e,rj,"getGasPrice")({}))}}class HC extends fe{constructor(t,{account:r,docsPath:s,chain:a,data:i,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:m,value:h}){var f;const p=Al({from:r==null?void 0:r.address,to:m,value:typeof h<"u"&&`${Mt(h)} ${((f=a==null?void 0:a.nativeCurrency)==null?void 0:f.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${Xt(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xt(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Xt(d)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function GC(e,{docsPath:t,...r}){const s=(()=>{const a=wf(e,r);return a instanceof hu?e:a})();return new HC(s,{docsPath:t,...r})}class qC extends fe{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class KC extends fe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function yy(e){return e.reduce((t,{slot:r,value:s})=>`${t}        ${r}: ${s}
`,"")}function YC(e){return e.reduce((t,{address:r,...s})=>{let a=`${t}    ${r}:
`;return s.nonce&&(a+=`      nonce: ${s.nonce}
`),s.balance&&(a+=`      balance: ${s.balance}
`),s.code&&(a+=`      code: ${s.code}
`),s.state&&(a+=`      state:
`,a+=yy(s.state)),s.stateDiff&&(a+=`      stateDiff:
`,a+=yy(s.stateDiff)),a},`  State Override:
`).slice(0,-1)}function by(e){if(!(!e||e.length===0))return e.reduce((t,{slot:r,value:s})=>{if(r.length!==66)throw new ay({size:r.length,targetSize:66,type:"hex"});if(s.length!==66)throw new ay({size:s.length,targetSize:66,type:"hex"});return t[r]=s,t},{})}function QC(e){const{balance:t,nonce:r,state:s,stateDiff:a,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=Ae(t)),r!==void 0&&(o.nonce=Ae(r)),s!==void 0&&(o.state=by(s)),a!==void 0){if(o.state)throw new KC;o.stateDiff=by(a)}return o}function sj(e){if(!e)return;const t={};for(const{address:r,...s}of e){if(!Be(r,{strict:!1}))throw new jn({address:r});if(t[r])throw new qC({address:r});t[r]=QC(s)}return t}async function XC(e,{address:t,blockNumber:r,blockTag:s="latest"}){const a=r?Ae(r):void 0,i=await e.request({method:"eth_getBalance",params:[t,a||s]});return BigInt(i)}async function ZC(e,t){var a,i,o;const{account:r=e.account}=t,s=r?Mr(r):void 0;try{let Z=function(I){const{block:A,request:T,rpcStateOverride:$}=I;return e.request({method:"eth_estimateGas",params:$?[T,A??"latest",$]:A?[T,A]:[T]})};const{accessList:l,authorizationList:c,blobs:d,blobVersionedHashes:u,blockNumber:m,blockTag:h,data:p,gas:f,gasPrice:v,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:x,nonce:b,value:N,stateOverride:j,...C}=await hj(e,{...t,parameters:(s==null?void 0:s.type)==="local"?void 0:["blobVersionedHashes"]}),P=(m?Ae(m):void 0)||h,L=sj(j),_=await(async()=>{if(C.to)return C.to;if(c&&c.length>0)return await qw({authorization:c[0]}).catch(()=>{throw new fe("`to` is required. Could not infer from `authorizationList`")})})();fu(t);const O=(o=(i=(a=e.chain)==null?void 0:a.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,H=(O||Sf)({...jf(C,{format:O}),from:s==null?void 0:s.address,accessList:l,authorizationList:c,blobs:d,blobVersionedHashes:u,data:p,gas:f,gasPrice:v,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:x,nonce:b,to:_,value:N});let ee=BigInt(await Z({block:P,request:H,rpcStateOverride:L}));if(c){const I=await XC(e,{address:H.from}),A=await Promise.all(c.map(async T=>{const{address:$}=T,D=await Z({block:P,request:{authorizationList:void 0,data:p,from:s==null?void 0:s.address,to:$,value:Ae(I)},rpcStateOverride:L}).catch(()=>100000n);return 2n*BigInt(D)}));ee+=A.reduce((T,$)=>T+$,0n)}return ee}catch(l){throw GC(l,{...t,account:s,chain:e.chain})}}async function JC(e,{address:t,blockTag:r="latest",blockNumber:s}){const a=await e.request({method:"eth_getTransactionCount",params:[t,s?Ae(s):r]},{dedupe:!!s});return kr(a)}function Cf(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(i=>rr(i)):e.blobs,a=[];for(const i of s)a.push(Uint8Array.from(t.blobToKzgCommitment(i)));return r==="bytes"?a:a.map(i=>Bt(i))}function Tf(e){const{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>rr(o)):e.blobs,a=typeof e.commitments[0]=="string"?e.commitments.map(o=>rr(o)):e.commitments,i=[];for(let o=0;o<s.length;o++){const l=s[o],c=a[o];i.push(Uint8Array.from(t.computeBlobKzgProof(l,c)))}return r==="bytes"?i:i.map(o=>Bt(o))}function eT(e,t,r,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,s);const a=BigInt(32),i=BigInt(4294967295),o=Number(r>>a&i),l=Number(r&i),c=s?4:0,d=s?0:4;e.setUint32(t+c,o,s),e.setUint32(t+d,l,s)}function tT(e,t,r){return e&t^~e&r}function nT(e,t,r){return e&t^e&r^t&r}class rT extends Mw{constructor(t,r,s,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=s,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=g0(this.buffer)}update(t){bd(this);const{view:r,buffer:s,blockLen:a}=this;t=cu(t);const i=t.length;for(let o=0;o<i;){const l=Math.min(a-this.pos,i-o);if(l===a){const c=g0(t);for(;a<=i-o;o+=a)this.process(c,o);continue}s.set(t.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){bd(this),Aw(t,this),this.finished=!0;const{buffer:r,view:s,blockLen:a,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>a-o&&(this.process(s,0),o=0);for(let m=o;m<a;m++)r[m]=0;eT(s,a-8,BigInt(this.length*8),i),this.process(s,0);const l=g0(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,u=this.get();if(d>u.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)l.setUint32(4*m,u[m],i)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const s=t.slice(0,r);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:s,length:a,finished:i,destroyed:o,pos:l}=this;return t.length=a,t.pos=l,t.finished=i,t.destroyed=o,a%r&&t.buffer.set(s),t}}const sT=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Or=new Uint32Array(64);class aT extends rT{constructor(){super(64,32,8,!1),this.A=Fr[0]|0,this.B=Fr[1]|0,this.C=Fr[2]|0,this.D=Fr[3]|0,this.E=Fr[4]|0,this.F=Fr[5]|0,this.G=Fr[6]|0,this.H=Fr[7]|0}get(){const{A:t,B:r,C:s,D:a,E:i,F:o,G:l,H:c}=this;return[t,r,s,a,i,o,l,c]}set(t,r,s,a,i,o,l,c){this.A=t|0,this.B=r|0,this.C=s|0,this.D=a|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=c|0}process(t,r){for(let m=0;m<16;m++,r+=4)Or[m]=t.getUint32(r,!1);for(let m=16;m<64;m++){const h=Or[m-15],p=Or[m-2],f=zn(h,7)^zn(h,18)^h>>>3,v=zn(p,17)^zn(p,19)^p>>>10;Or[m]=v+Or[m-7]+f+Or[m-16]|0}let{A:s,B:a,C:i,D:o,E:l,F:c,G:d,H:u}=this;for(let m=0;m<64;m++){const h=zn(l,6)^zn(l,11)^zn(l,25),p=u+h+tT(l,c,d)+sT[m]+Or[m]|0,v=(zn(s,2)^zn(s,13)^zn(s,22))+nT(s,a,i)|0;u=d,d=c,c=l,l=o+p|0,o=i,i=a,a=s,s=p+v|0}s=s+this.A|0,a=a+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,c=c+this.F|0,d=d+this.G|0,u=u+this.H|0,this.set(s,a,i,o,l,c,d,u)}roundClean(){Or.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const iT=Rw(()=>new aT);function oT(e,t){return iT(fs(e,{strict:!1})?mf(e):e)}function lT(e){const{commitment:t,version:r=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),a=oT(t);return a.set([r],0),s==="bytes"?a:Bt(a)}function aj(e){const{commitments:t,version:r}=e,s=e.to??(typeof t[0]=="string"?"hex":"bytes"),a=[];for(const i of t)a.push(lT({commitment:i,to:s,version:r}));return a}const vy=6,ij=32,Ef=4096,oj=ij*Ef,wy=oj*vy-1-1*Ef*vy,lj=1;class cT extends fe{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class cj extends fe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class dT extends fe{constructor({hash:t,size:r}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class uT extends fe{constructor({hash:t,version:r}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${lj}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function mT(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),r=typeof e.data=="string"?rr(e.data):e.data,s=xt(r);if(!s)throw new cj;if(s>wy)throw new cT({maxSize:wy,size:s});const a=[];let i=!0,o=0;for(;i;){const l=yf(new Uint8Array(oj));let c=0;for(;c<Ef;){const d=r.slice(o,o+(ij-1));if(l.pushByte(0),l.pushBytes(d),d.length<31){l.pushByte(128),i=!1;break}c++,o+=31}a.push(l)}return t==="bytes"?a.map(l=>l.bytes):a.map(l=>Bt(l.bytes))}function dj(e){const{data:t,kzg:r,to:s}=e,a=e.blobs??mT({data:t,to:s}),i=e.commitments??Cf({blobs:a,kzg:r,to:s}),o=e.proofs??Tf({blobs:a,commitments:i,kzg:r,to:s}),l=[];for(let c=0;c<a.length;c++)l.push({blob:a[c],commitment:i[c],proof:o[c]});return l}function uj(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new PC({transaction:e})}const mj=["blobVersionedHashes","chainId","fees","gas","nonce","type"],jy=new Map;async function hj(e,t){const{account:r=e.account,blobs:s,chain:a,gas:i,kzg:o,nonce:l,nonceManager:c,parameters:d=mj,type:u}=t,m=r&&Mr(r),h={...t,...m?{from:m==null?void 0:m.address}:{}};let p;async function f(){return p||(p=await dt(e,al,"getBlock")({blockTag:"latest"}),p)}let v;async function y(){return v||(a?a.id:typeof t.chainId<"u"?t.chainId:(v=await dt(e,Jw,"getChainId")({}),v))}if(d.includes("nonce")&&typeof l>"u"&&m)if(c){const g=await y();h.nonce=await c.consume({address:m.address,chainId:g,client:e})}else h.nonce=await dt(e,JC,"getTransactionCount")({address:m.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&s&&o){const g=Cf({blobs:s,kzg:o});if(d.includes("blobVersionedHashes")){const x=aj({commitments:g,to:"hex"});h.blobVersionedHashes=x}if(d.includes("sidecars")){const x=Tf({blobs:s,commitments:g,kzg:o}),b=dj({blobs:s,commitments:g,proofs:x,to:"hex"});h.sidecars=b}}if(d.includes("chainId")&&(h.chainId=await y()),(d.includes("fees")||d.includes("type"))&&typeof u>"u")try{h.type=uj(h)}catch{let g=jy.get(e.uid);if(typeof g>"u"){const x=await f();g=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",jy.set(e.uid,g)}h.type=g?"eip1559":"legacy"}if(d.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const g=await f(),{maxFeePerGas:x,maxPriorityFeePerGas:b}=await xy(e,{block:g,chain:a,request:h});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<b)throw new BC({maxPriorityFeePerGas:b});h.maxPriorityFeePerGas=b,h.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new kf;if(typeof t.gasPrice>"u"){const g=await f(),{gasPrice:x}=await xy(e,{block:g,chain:a,request:h,type:"legacy"});h.gasPrice=x}}return d.includes("gas")&&typeof i>"u"&&(h.gas=await dt(e,ZC,"estimateGas")({...h,account:m&&{address:m.address,type:"json-rpc"}})),fu(h),delete h.parameters,h}async function hT(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const w0=new lu(128);async function pT(e,t){var g,x,b,N;const{account:r=e.account,chain:s=e.chain,accessList:a,authorizationList:i,blobs:o,data:l,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:p,value:f,...v}=t;if(typeof r>"u")throw new Ww({docsPath:"/docs/actions/wallet/sendTransaction"});const y=r?Mr(r):null;try{fu(t);const j=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await qw({authorization:i[0]}).catch(()=>{throw new fe("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let C;s!==null&&(C=await dt(e,Jw,"getChainId")({}),kC({currentChainId:C,chain:s}));const E=(b=(x=(g=e.chain)==null?void 0:g.formatters)==null?void 0:x.transactionRequest)==null?void 0:b.format,L=(E||Sf)({...jf(v,{format:E}),accessList:a,authorizationList:i,blobs:o,chainId:C,data:l,from:y==null?void 0:y.address,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:p,to:j,value:f}),_=w0.get(e.uid),O=_?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:O,params:[L]},{retryCount:0})}catch(W){if(_===!1)throw W;const H=W;if(H.name==="InvalidInputRpcError"||H.name==="InvalidParamsRpcError"||H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(Z=>(w0.set(e.uid,!0),Z)).catch(Z=>{const ee=Z;throw ee.name==="MethodNotFoundRpcError"||ee.name==="MethodNotSupportedRpcError"?(w0.set(e.uid,!1),H):ee});throw H}}if((y==null?void 0:y.type)==="local"){const C=await dt(e,hj,"prepareTransactionRequest")({account:y,accessList:a,authorizationList:i,blobs:o,chain:s,data:l,gas:c,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:p,nonceManager:y.nonceManager,parameters:[...mj,"sidecars"],value:f,...v,to:j}),E=(N=s==null?void 0:s.serializers)==null?void 0:N.transaction,P=await y.signTransaction(C,{serializer:E});return await dt(e,hT,"sendRawTransaction")({serializedTransaction:P})}throw(y==null?void 0:y.type)==="smart"?new v0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new v0({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(j){throw j instanceof v0?j:FC(j,{...t,account:y,chain:t.chain||void 0})}}const jh=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}];function fT(e,t={}){typeof t.size<"u"&&Dn(e,{size:t.size});const r=Bt(e,t);return Mn(r,t)}function gT(e,t={}){let r=e;if(typeof t.size<"u"&&(Dn(r,{size:t.size}),r=gs(r)),r.length>1||r[0]>1)throw new ak(r);return!!r[0]}function pr(e,t={}){typeof t.size<"u"&&Dn(e,{size:t.size});const r=Bt(e,t);return kr(r,t)}function xT(e,t={}){let r=e;return typeof t.size<"u"&&(Dn(r,{size:t.size}),r=gs(r,{dir:"right"})),new TextDecoder().decode(r)}function pj(e,t){const r=typeof t=="string"?rr(t):t,s=yf(r);if(xt(r)===0&&e.length>0)throw new ou;if(xt(t)&&xt(t)<32)throw new gk({data:typeof t=="string"?t:Bt(t),params:e,size:xt(t)});let a=0;const i=[];for(let o=0;o<e.length;++o){const l=e[o];s.setPosition(a);const[c,d]=qa(s,l,{staticPosition:0});a+=d,i.push(c)}return i}function qa(e,t,{staticPosition:r}){const s=xf(t.type);if(s){const[a,i]=s;return bT(e,{...t,type:i},{length:a,staticPosition:r})}if(t.type==="tuple")return NT(e,t,{staticPosition:r});if(t.type==="address")return yT(e);if(t.type==="bool")return vT(e);if(t.type.startsWith("bytes"))return wT(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return jT(e,t);if(t.type==="string")return ST(e,{staticPosition:r});throw new Nk(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Ny=32,Nh=32;function yT(e){const t=e.readBytes(32);return[uu(Bt(zw(t,-20))),32]}function bT(e,t,{length:r,staticPosition:s}){if(!r){const o=pr(e.readBytes(Nh)),l=s+o,c=l+Ny;e.setPosition(l);const d=pr(e.readBytes(Ny)),u=il(t);let m=0;const h=[];for(let p=0;p<d;++p){e.setPosition(c+(u?p*32:m));const[f,v]=qa(e,t,{staticPosition:c});m+=v,h.push(f)}return e.setPosition(s+32),[h,32]}if(il(t)){const o=pr(e.readBytes(Nh)),l=s+o,c=[];for(let d=0;d<r;++d){e.setPosition(l+d*32);const[u]=qa(e,t,{staticPosition:l});c.push(u)}return e.setPosition(s+32),[c,32]}let a=0;const i=[];for(let o=0;o<r;++o){const[l,c]=qa(e,t,{staticPosition:s+a});a+=c,i.push(l)}return[i,a]}function vT(e){return[gT(e.readBytes(32),{size:32}),32]}function wT(e,t,{staticPosition:r}){const[s,a]=t.type.split("bytes");if(!a){const o=pr(e.readBytes(32));e.setPosition(r+o);const l=pr(e.readBytes(32));if(l===0)return e.setPosition(r+32),["0x",32];const c=e.readBytes(l);return e.setPosition(r+32),[Bt(c),32]}return[Bt(e.readBytes(Number.parseInt(a),32)),32]}function jT(e,t){const r=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256"),a=e.readBytes(32);return[s>48?fT(a,{signed:r}):pr(a,{signed:r}),32]}function NT(e,t,{staticPosition:r}){const s=t.components.length===0||t.components.some(({name:o})=>!o),a=s?[]:{};let i=0;if(il(t)){const o=pr(e.readBytes(Nh)),l=r+o;for(let c=0;c<t.components.length;++c){const d=t.components[c];e.setPosition(l+i);const[u,m]=qa(e,d,{staticPosition:l});i+=m,a[s?c:d==null?void 0:d.name]=u}return e.setPosition(r+32),[a,32]}for(let o=0;o<t.components.length;++o){const l=t.components[o],[c,d]=qa(e,l,{staticPosition:r});a[s?o:l==null?void 0:l.name]=c,i+=d}return[a,i]}function ST(e,{staticPosition:t}){const r=pr(e.readBytes(32)),s=t+r;e.setPosition(s);const a=pr(e.readBytes(32));if(a===0)return e.setPosition(t+32),["",32];const i=e.readBytes(a,32),o=xT(gs(i));return e.setPosition(t+32),[o,32]}function il(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(il);const r=xf(e.type);return!!(r&&il({...e,type:r[1]}))}const kT=e=>du(mf(e));function CT(e){return kT(e)}const TT="1.0.8";let Nn=class Sh extends Error{constructor(t,r={}){var o;const s=r.cause instanceof Sh?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,a=r.cause instanceof Sh&&r.cause.docsPath||r.docsPath,i=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...a?[`Docs: https://abitype.dev${a}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${TT}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=s,this.docsPath=a,this.metaMessages=r.metaMessages,this.shortMessage=t}};function Rr(e,t){const r=e.exec(t);return r==null?void 0:r.groups}const fj=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,gj=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xj=/^\(.+?\).*?$/,Sy=/^tuple(?<array>(\[(\d*)\])*)$/;function kh(e){let t=e.type;if(Sy.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let a=0;a<r;a++){const i=e.components[a];t+=kh(i),a<r-1&&(t+=", ")}const s=Rr(Sy,e.type);return t+=`)${(s==null?void 0:s.array)??""}`,kh({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Qi(e){let t="";const r=e.length;for(let s=0;s<r;s++){const a=e[s];t+=kh(a),s!==r-1&&(t+=", ")}return t}function ET(e){var t;return e.type==="function"?`function ${e.name}(${Qi(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Qi(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Qi(e.inputs)})`:e.type==="error"?`error ${e.name}(${Qi(e.inputs)})`:e.type==="constructor"?`constructor(${Qi(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const yj=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function PT(e){return yj.test(e)}function AT(e){return Rr(yj,e)}const bj=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function MT(e){return bj.test(e)}function RT(e){return Rr(bj,e)}const vj=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function LT(e){return vj.test(e)}function IT(e){return Rr(vj,e)}const wj=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function jj(e){return wj.test(e)}function _T(e){return Rr(wj,e)}const Nj=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function FT(e){return Nj.test(e)}function OT(e){return Rr(Nj,e)}const Sj=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function DT(e){return Sj.test(e)}function $T(e){return Rr(Sj,e)}const BT=/^receive\(\) external payable$/;function zT(e){return BT.test(e)}const UT=new Set(["indexed"]),Ch=new Set(["calldata","memory","storage"]);class VT extends Nn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class WT extends Nn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class HT extends Nn{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class GT extends Nn{constructor({param:t,name:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class qT extends Nn{constructor({param:t,type:r,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class KT extends Nn{constructor({param:t,type:r,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class YT extends Nn{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ri extends Nn{constructor({signature:t,type:r}){super(`Invalid ${r} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class QT extends Nn{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class XT extends Nn{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ZT extends Nn{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class JT extends Nn{constructor({current:t,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function e8(e,t,r){let s="";if(r)for(const a of Object.entries(r)){if(!a)continue;let i="";for(const o of a[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;s+=`(${a[0]}{${i}})`}return t?`${t}:${e}${s}`:e}const j0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function t8(e,t={}){if(LT(e))return n8(e,t);if(MT(e))return r8(e,t);if(PT(e))return s8(e,t);if(FT(e))return a8(e,t);if(DT(e))return i8(e);if(zT(e))return{type:"receive",stateMutability:"payable"};throw new QT({signature:e})}function n8(e,t={}){const r=IT(e);if(!r)throw new Ri({signature:e,type:"function"});const s=Rn(r.parameters),a=[],i=s.length;for(let l=0;l<i;l++)a.push(ua(s[l],{modifiers:Ch,structs:t,type:"function"}));const o=[];if(r.returns){const l=Rn(r.returns),c=l.length;for(let d=0;d<c;d++)o.push(ua(l[d],{modifiers:Ch,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:a,outputs:o}}function r8(e,t={}){const r=RT(e);if(!r)throw new Ri({signature:e,type:"event"});const s=Rn(r.parameters),a=[],i=s.length;for(let o=0;o<i;o++)a.push(ua(s[o],{modifiers:UT,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:a}}function s8(e,t={}){const r=AT(e);if(!r)throw new Ri({signature:e,type:"error"});const s=Rn(r.parameters),a=[],i=s.length;for(let o=0;o<i;o++)a.push(ua(s[o],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:a}}function a8(e,t={}){const r=OT(e);if(!r)throw new Ri({signature:e,type:"constructor"});const s=Rn(r.parameters),a=[],i=s.length;for(let o=0;o<i;o++)a.push(ua(s[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:a}}function i8(e){const t=$T(e);if(!t)throw new Ri({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const o8=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,l8=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,c8=/^u?int$/;function ua(e,t){var m,h;const r=e8(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(j0.has(r))return j0.get(r);const s=xj.test(e),a=Rr(s?l8:o8,e);if(!a)throw new HT({param:e});if(a.name&&u8(a.name))throw new GT({param:e,name:a.name});const i=a.name?{name:a.name}:{},o=a.modifier==="indexed"?{indexed:!0}:{},l=(t==null?void 0:t.structs)??{};let c,d={};if(s){c="tuple";const p=Rn(a.type),f=[],v=p.length;for(let y=0;y<v;y++)f.push(ua(p[y],{structs:l}));d={components:f}}else if(a.type in l)c="tuple",d={components:l[a.type]};else if(c8.test(a.type))c=`${a.type}256`;else if(c=a.type,(t==null?void 0:t.type)!=="struct"&&!kj(c))throw new WT({type:c});if(a.modifier){if(!((h=(m=t==null?void 0:t.modifiers)==null?void 0:m.has)!=null&&h.call(m,a.modifier)))throw new qT({param:e,type:t==null?void 0:t.type,modifier:a.modifier});if(Ch.has(a.modifier)&&!m8(c,!!a.array))throw new KT({param:e,type:t==null?void 0:t.type,modifier:a.modifier})}const u={type:`${c}${a.array??""}`,...i,...o,...d};return j0.set(r,u),u}function Rn(e,t=[],r="",s=0){const a=e.trim().length;for(let i=0;i<a;i++){const o=e[i],l=e.slice(i+1);switch(o){case",":return s===0?Rn(l,[...t,r.trim()]):Rn(l,t,`${r}${o}`,s);case"(":return Rn(l,t,`${r}${o}`,s+1);case")":return Rn(l,t,`${r}${o}`,s-1);default:return Rn(l,t,`${r}${o}`,s)}}if(r==="")return t;if(s!==0)throw new JT({current:r,depth:s});return t.push(r.trim()),t}function kj(e){return e==="address"||e==="bool"||e==="function"||e==="string"||fj.test(e)||gj.test(e)}const d8=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function u8(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||fj.test(e)||gj.test(e)||d8.test(e)}function m8(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function h8(e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];if(!jj(l))continue;const c=_T(l);if(!c)throw new Ri({signature:l,type:"struct"});const d=c.properties.split(";"),u=[],m=d.length;for(let h=0;h<m;h++){const f=d[h].trim();if(!f)continue;const v=ua(f,{type:"struct"});u.push(v)}if(!u.length)throw new XT({signature:l});t[c.name]=u}const s={},a=Object.entries(t),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];s[l]=Cj(c,t)}return s}const p8=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Cj(e,t,r=new Set){const s=[],a=e.length;for(let i=0;i<a;i++){const o=e[i];if(xj.test(o.type))s.push(o);else{const c=Rr(p8,o.type);if(!(c!=null&&c.type))throw new YT({abiParameter:o});const{array:d,type:u}=c;if(u in t){if(r.has(u))throw new ZT({type:u});s.push({...o,type:`tuple${d??""}`,components:Cj(t[u]??[],t,new Set([...r,u]))})}else if(kj(u))s.push(o);else throw new VT({type:u})}}return s}function Tj(e){const t=h8(e),r=[],s=e.length;for(let a=0;a<s;a++){const i=e[a];jj(i)||r.push(t8(i,t))}return r}function f8(e){let t=!0,r="",s=0,a="",i=!1;for(let o=0;o<e.length;o++){const l=e[o];if(["(",")",","].includes(l)&&(t=!0),l==="("&&s++,l===")"&&s--,!!t){if(s===0){if(l===" "&&["event","function",""].includes(a))a="";else if(a+=l,l===")"){i=!0;break}continue}if(l===" "){e[o-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}a+=l,r+=l}}if(!i)throw new fe("Unable to normalize signature.");return a}const g8=e=>{const t=typeof e=="string"?e:ET(e);return f8(t)};function Ej(e){return CT(g8(e))}const x8=Ej,Pf=e=>Ho(Ej(e),0,4);function Af(e){const{abi:t,args:r=[],name:s}=e,a=fs(s,{strict:!1}),i=t.filter(l=>a?l.type==="function"?Pf(l)===s:l.type==="event"?x8(l)===s:!1:"name"in l&&l.name===s);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const l of i){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return l;continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,u)=>{const m="inputs"in l&&l.inputs[u];return m?Th(d,m):!1})){if(o&&"inputs"in o&&o.inputs){const d=Pj(l.inputs,o.inputs,r);if(d)throw new wk({abiItem:l,type:d[0]},{abiItem:o,type:d[1]})}o=l}}return o||i[0]}function Th(e,t){const r=typeof e,s=t.type;switch(s){case"address":return Be(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((a,i)=>Th(Object.values(e)[i],a)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(a=>Th(a,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Pj(e,t,r){for(const s in e){const a=e[s],i=t[s];if(a.type==="tuple"&&i.type==="tuple"&&"components"in a&&"components"in i)return Pj(a.components,i.components,r[s]);const o=[a.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Be(r[s],{strict:!1}):o.includes("address")&&o.includes("bytes")?Be(r[s],{strict:!1}):!1)return o}}const N0="/docs/contract/decodeFunctionResult";function Mf(e){const{abi:t,args:r,functionName:s,data:a}=e;let i=t[0];if(s){const l=Af({abi:t,args:r,name:s});if(!l)throw new xd(s,{docsPath:N0});i=l}if(i.type!=="function")throw new xd(void 0,{docsPath:N0});if(!i.outputs)throw new vk(i.name,{docsPath:N0});const o=pj(i.outputs,a);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const ky="/docs/contract/encodeFunctionData";function y8(e){const{abi:t,args:r,functionName:s}=e;let a=t[0];if(s){const i=Af({abi:t,args:r,name:s});if(!i)throw new xd(s,{docsPath:ky});a=i}if(a.type!=="function")throw new xd(void 0,{docsPath:ky});return{abi:[a],functionName:Pf(gi(a))}}function xu(e){const{args:t}=e,{abi:r,functionName:s}=(()=>{var l;return e.abi.length===1&&((l=e.functionName)!=null&&l.startsWith("0x"))?e:y8(e)})(),a=r[0],i=s,o="inputs"in a&&a.inputs?Uw(a.inputs,t??[]):void 0;return Ar([i,o??"0x"])}function Aj({blockNumber:e,chain:t,contract:r}){var a;const s=(a=t==null?void 0:t.contracts)==null?void 0:a[r];if(!s)throw new hh({chain:t,contract:{name:r}});if(e&&s.blockCreated&&s.blockCreated>e)throw new hh({blockNumber:e,chain:t,contract:{name:r,blockCreated:s.blockCreated}});return s.address}const b8={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},v8={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},w8={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function j8(e){const{abi:t,data:r}=e,s=Ho(r,0,4);if(s==="0x")throw new ou;const i=[...t||[],v8,w8].find(o=>o.type==="error"&&s===Pf(gi(o)));if(!i)throw new Pw(s,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?pj(i.inputs,Ho(r,4)):void 0,errorName:i.name}}function Mj({abiItem:e,args:t,includeFunctionName:r=!0,includeName:s=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((a,i)=>`${s&&a.name?`${a.name}: `:""}${typeof t[i]=="object"?_n(t[i]):t[i]}`).join(", ")})`}class N8 extends fe{constructor(t,{account:r,docsPath:s,chain:a,data:i,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:u,to:m,value:h,stateOverride:p}){var y;const f=r?Mr(r):void 0;let v=Al({from:f==null?void 0:f.address,to:m,value:typeof h<"u"&&`${Mt(h)} ${((y=a==null?void 0:a.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof l<"u"&&`${Xt(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xt(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Xt(d)} gwei`,nonce:u});p&&(v+=`
${YC(p)}`),super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Rj extends fe{constructor(t,{abi:r,args:s,contractAddress:a,docsPath:i,functionName:o,sender:l}){const c=Af({abi:r,args:s,name:o}),d=c?Mj({abiItem:c,args:s,includeFunctionName:!1,includeName:!1}):void 0,u=c?gi(c,{includeName:!0}):void 0,m=Al({address:a&&LC(a),function:u,args:d&&d!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:l});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],m&&"Contract Call:",m].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=s,this.cause=t,this.contractAddress=a,this.functionName=o,this.sender=l}}class S8 extends fe{constructor({abi:t,data:r,functionName:s,message:a}){let i,o,l,c;if(r&&r!=="0x")try{o=j8({abi:t,data:r});const{abiItem:u,errorName:m,args:h}=o;if(m==="Error")c=h[0];else if(m==="Panic"){const[p]=h;c=b8[p]}else{const p=u?gi(u,{includeName:!0}):void 0,f=u&&h?Mj({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;l=[p?`Error: ${p}`:"",f&&f!=="()"?`       ${[...Array((m==null?void 0:m.length)??0).keys()].map(()=>" ").join("")}${f}`:""]}}catch(u){i=u}else a&&(c=a);let d;i instanceof Pw&&(d=i.signature,l=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(c&&c!=="execution reverted"||d?[`The contract function "${s}" reverted with the following ${d?"signature":"reason"}:`,c||d].join(`
`):`The contract function "${s}" reverted.`,{cause:i,metaMessages:l,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=c,this.signature=d}}class k8 extends fe{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class C8 extends fe{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Rf extends fe{constructor({data:t,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const T8=3;function vd(e,{abi:t,address:r,args:s,docsPath:a,functionName:i,sender:o}){const l=e instanceof Rf?e:e instanceof fe?e.walk(f=>"data"in f)||e.walk():{},{code:c,data:d,details:u,message:m,shortMessage:h}=l,p=e instanceof ou?new k8({functionName:i}):[T8,da.code].includes(c)&&(d||u||m||h)?new S8({abi:t,data:typeof d=="object"?d.data:d,functionName:i,message:l instanceof vf?u:h??m}):e;return new Rj(p,{abi:t,args:s,contractAddress:r,docsPath:a,functionName:i,sender:o})}const E8="0x82ad56cb",P8="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",A8="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function M8(e,{docsPath:t,...r}){const s=(()=>{const a=wf(e,r);return a instanceof hu?e:a})();return new N8(s,{docsPath:t,...r})}function Lj(){let e=()=>{},t=()=>{};return{promise:new Promise((s,a)=>{e=s,t=a}),resolve:e,reject:t}}const S0=new Map;function Ij({fn:e,id:t,shouldSplitBatch:r,wait:s=0,sort:a}){const i=async()=>{const u=c();o();const m=u.map(({args:h})=>h);m.length!==0&&e(m).then(h=>{a&&Array.isArray(h)&&h.sort(a);for(let p=0;p<u.length;p++){const{resolve:f}=u[p];f==null||f([h[p],h])}}).catch(h=>{for(let p=0;p<u.length;p++){const{reject:f}=u[p];f==null||f(h)}})},o=()=>S0.delete(t),l=()=>c().map(({args:u})=>u),c=()=>S0.get(t)||[],d=u=>S0.set(t,[...c(),u]);return{flush:o,async schedule(u){const{promise:m,resolve:h,reject:p}=Lj();return(r==null?void 0:r([...l(),u]))&&i(),c().length>0?(d({args:u,resolve:h,reject:p}),m):(d({args:u,resolve:h,reject:p}),setTimeout(i,s),m)}}}async function _j(e,t){var O,W,H,Z;const{account:r=e.account,batch:s=!!((O=e.batch)!=null&&O.multicall),blockNumber:a,blockTag:i="latest",accessList:o,blobs:l,code:c,data:d,factory:u,factoryData:m,gas:h,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:v,maxPriorityFeePerGas:y,nonce:g,to:x,value:b,stateOverride:N,...j}=t,C=r?Mr(r):void 0;if(c&&(u||m))throw new fe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&x)throw new fe("Cannot provide both `code` & `to` as parameters.");const E=c&&d,P=u&&m&&x&&d,L=E||P,_=E?I8({code:c,data:d}):P?_8({data:d,factory:u,factoryData:m,to:x}):d;try{fu(t);const I=(a?Ae(a):void 0)||i,A=sj(N),T=(Z=(H=(W=e.chain)==null?void 0:W.formatters)==null?void 0:H.transactionRequest)==null?void 0:Z.format,D=(T||Sf)({...jf(j,{format:T}),from:C==null?void 0:C.address,accessList:o,blobs:l,data:_,gas:h,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:v,maxPriorityFeePerGas:y,nonce:g,to:L?void 0:x,value:b});if(s&&R8({request:D})&&!A)try{return await L8(e,{...D,blockNumber:a,blockTag:i})}catch(F){if(!(F instanceof Kw)&&!(F instanceof hh))throw F}const R=await e.request({method:"eth_call",params:A?[D,I,A]:[D,I]});return R==="0x"?{data:void 0}:{data:R}}catch(ee){const I=F8(ee),{offchainLookup:A,offchainLookupSignature:T}=await Ai(async()=>{const{offchainLookup:$,offchainLookupSignature:D}=await import("./ccip-D4_rrW5c.js");return{offchainLookup:$,offchainLookupSignature:D}},[]);if(e.ccipRead!==!1&&(I==null?void 0:I.slice(0,10))===T&&x)return{data:await A(e,{data:I,to:x})};throw L&&(I==null?void 0:I.slice(0,10))==="0x101bb98d"?new C8({factory:u}):M8(ee,{...t,account:C,chain:e.chain})}}function R8({request:e}){const{data:t,to:r,...s}=e;return!(!t||t.startsWith(E8)||!r||Object.values(s).filter(a=>typeof a<"u").length>0)}async function L8(e,t){var v;const{batchSize:r=1024,wait:s=0}=typeof((v=e.batch)==null?void 0:v.multicall)=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:i="latest",data:o,multicallAddress:l,to:c}=t;let d=l;if(!d){if(!e.chain)throw new Kw;d=Aj({blockNumber:a,chain:e.chain,contract:"multicall3"})}const m=(a?Ae(a):void 0)||i,{schedule:h}=Ij({id:`${e.uid}.${m}`,wait:s,shouldSplitBatch(y){return y.reduce((x,{data:b})=>x+(b.length-2),0)>r*2},fn:async y=>{const g=y.map(N=>({allowFailure:!0,callData:N.data,target:N.to})),x=xu({abi:jh,args:[g],functionName:"aggregate3"}),b=await e.request({method:"eth_call",params:[{data:x,to:d},m]});return Mf({abi:jh,args:[g],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:p,success:f}]=await h({data:o,to:c});if(!f)throw new Rf({data:p});return p==="0x"?{data:void 0}:{data:p}}function I8(e){const{code:t,data:r}=e;return Vw({abi:Tj(["constructor(bytes, bytes)"]),bytecode:P8,args:[t,r]})}function _8(e){const{data:t,factory:r,factoryData:s,to:a}=e;return Vw({abi:Tj(["constructor(address, bytes, address, bytes)"]),bytecode:A8,args:[a,t,r,s]})}function F8(e){var r;if(!(e instanceof fe))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(r=t.data)==null?void 0:r.data:t.data}async function Fj(e,t){const{abi:r,address:s,args:a,functionName:i,...o}=t,l=xu({abi:r,args:a,functionName:i});try{const{data:c}=await dt(e,_j,"call")({...o,data:l,to:s});return Mf({abi:r,args:a,functionName:i,data:c||"0x"})}catch(c){throw vd(c,{abi:r,address:s,args:a,docsPath:"/docs/contract/readContract",functionName:i})}}const O8=new Map,D8=new Map;function $8(e){const t=(a,i)=>({clear:()=>i.delete(a),get:()=>i.get(a),set:o=>i.set(a,o)}),r=t(e,O8),s=t(e,D8);return{clear:()=>{r.clear(),s.clear()},promise:r,response:s}}async function B8(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){const s=$8(t),a=s.response.get();if(a&&r>0&&new Date().getTime()-a.created.getTime()<r)return a.data;let i=s.promise.get();i||(i=e(),s.promise.set(i));try{const o=await i;return s.response.set({created:new Date,data:o}),o}finally{s.promise.clear()}}const z8=e=>`blockNumber.${e}`;async function U8(e,{cacheTime:t=e.cacheTime}={}){const r=await B8(()=>e.request({method:"eth_blockNumber"}),{cacheKey:z8(e.uid),cacheTime:t});return BigInt(r)}function V8(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function Oj(e,{blockHash:t,blockNumber:r,blockTag:s,hash:a,index:i}){var u,m,h;const o=s||"latest",l=r!==void 0?Ae(r):void 0;let c=null;if(a?c=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,Ae(i)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||o,Ae(i)]},{dedupe:!!l}),!c)throw new Xw({blockHash:t,blockNumber:r,blockTag:o,hash:a,index:i});return(((h=(m=(u=e.chain)==null?void 0:u.formatters)==null?void 0:m.transaction)==null?void 0:h.format)||gu)(c)}const W8={"0x0":"reverted","0x1":"success"};function Dj(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>V8(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?kr(e.transactionIndex):null,status:e.status?W8[e.status]:null,type:e.type?tj[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const H8=Nf("transactionReceipt",Dj);async function Cy(e,{hash:t}){var a,i,o;const r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new Zw({hash:t});return(((o=(i=(a=e.chain)==null?void 0:a.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||Dj)(r)}async function G8(e,t){var y;const{allowFailure:r=!0,batchSize:s,blockNumber:a,blockTag:i,multicallAddress:o,stateOverride:l}=t,c=t.contracts,d=s??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let u=o;if(!u){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");u=Aj({blockNumber:a,chain:e.chain,contract:"multicall3"})}const m=[[]];let h=0,p=0;for(let g=0;g<c.length;g++){const{abi:x,address:b,args:N,functionName:j}=c[g];try{const C=xu({abi:x,args:N,functionName:j});p+=(C.length-2)/2,d>0&&p>d&&m[h].length>0&&(h++,p=(C.length-2)/2,m[h]=[]),m[h]=[...m[h],{allowFailure:!0,callData:C,target:b}]}catch(C){const E=vd(C,{abi:x,address:b,args:N,docsPath:"/docs/contract/multicall",functionName:j});if(!r)throw E;m[h]=[...m[h],{allowFailure:!0,callData:"0x",target:b}]}}const f=await Promise.allSettled(m.map(g=>dt(e,Fj,"readContract")({abi:jh,address:u,args:[g],blockNumber:a,blockTag:i,functionName:"aggregate3",stateOverride:l}))),v=[];for(let g=0;g<f.length;g++){const x=f[g];if(x.status==="rejected"){if(!r)throw x.reason;for(let N=0;N<m[g].length;N++)v.push({status:"failure",error:x.reason,result:void 0});continue}const b=x.value;for(let N=0;N<b.length;N++){const{returnData:j,success:C}=b[N],{callData:E}=m[g][N],{abi:P,address:L,functionName:_,args:O}=c[v.length];try{if(E==="0x")throw new ou;if(!C)throw new Rf({data:j});const W=Mf({abi:P,args:O,data:j,functionName:_});v.push(r?{result:W,status:"success"}:W)}catch(W){const H=vd(W,{abi:P,address:L,args:O,docsPath:"/docs/contract/multicall",functionName:_});if(!r)throw H;v.push({error:H,result:void 0,status:"failure"})}}}if(v.length!==c.length)throw new fe("multicall results mismatch");return v}const ic=new lu(8192);function q8(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(ic.get(r))return ic.get(r);const s=e().finally(()=>ic.delete(r));return ic.set(r,s),s}async function Eh(e){return new Promise(t=>setTimeout(t,e))}function bi(e,{delay:t=100,retryCount:r=2,shouldRetry:s=()=>!0}={}){return new Promise((a,i)=>{const o=async({count:l=0}={})=>{const c=async({error:d})=>{const u=typeof t=="function"?t({count:l,error:d}):t;u&&await Eh(u),o({count:l+1})};try{const d=await e();a(d)}catch(d){if(l<r&&await s({count:l,error:d}))return c({error:d});i(d)}};o()})}function K8(e,t={}){return async(r,s={})=>{var m;const{dedupe:a=!1,methods:i,retryDelay:o=150,retryCount:l=3,uid:c}={...t,...s},{method:d}=r;if((m=i==null?void 0:i.exclude)!=null&&m.includes(d))throw new Vs(new Error("method not supported"),{method:d});if(i!=null&&i.include&&!i.include.includes(d))throw new Vs(new Error("method not supported"),{method:d});const u=a?hf(`${c}.${_n(r)}`):void 0;return q8(()=>bi(async()=>{try{return await e(r)}catch(h){const p=h;switch(p.code){case qo.code:throw new qo(p);case Ko.code:throw new Ko(p);case Yo.code:throw new Yo(p,{method:r.method});case Qo.code:throw new Qo(p);case da.code:throw new da(p);case Xo.code:throw new Xo(p);case Zo.code:throw new Zo(p);case Jn.code:throw new Jn(p);case Jo.code:throw new Jo(p);case Vs.code:throw new Vs(p,{method:r.method});case yi.code:throw new yi(p);case el.code:throw new el(p);case De.code:throw new De(p);case tl.code:throw new tl(p);case nl.code:throw new nl(p);case rl.code:throw new rl(p);case sl.code:throw new sl(p);case $t.code:throw new $t(p);case 5e3:throw new De(p);default:throw h instanceof fe?h:new _C(p)}}},{delay:({count:h,error:p})=>{var f;if(p&&p instanceof jo){const v=(f=p==null?void 0:p.headers)==null?void 0:f.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<h)*o},retryCount:l,shouldRetry:({error:h})=>Y8(h)}),{enabled:a,id:u})}}function Y8(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===yi.code||e.code===da.code:e instanceof jo&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function fa(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Lf(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:s}){return new Promise((a,i)=>{(async()=>{let o;try{const l=new AbortController;r>0&&(o=setTimeout(()=>{s?l.abort():i(t)},r)),a(await e({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&i(t),i(l)}finally{clearTimeout(o)}})()})}function Q8(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ty=Q8();function X8(e,t={}){return{async request(r){var m;const{body:s,onRequest:a=t.onRequest,onResponse:i=t.onResponse,timeout:o=t.timeout??1e4}=r,l={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:d,signal:u}=l;try{const h=await Lf(async({signal:f})=>{const v={...l,body:Array.isArray(s)?_n(s.map(b=>({jsonrpc:"2.0",id:b.id??Ty.take(),...b}))):_n({jsonrpc:"2.0",id:s.id??Ty.take(),...s}),headers:{"Content-Type":"application/json",...c},method:d||"POST",signal:u||(o>0?f:null)},y=new Request(e,v),g=await(a==null?void 0:a(y,v))??{...v,url:e};return await fetch(g.url??e,g)},{errorInstance:new gy({body:s,url:e}),timeout:o,signal:!0});i&&await i(h);let p;if((m=h.headers.get("Content-Type"))!=null&&m.startsWith("application/json"))p=await h.json();else{p=await h.text();try{p=JSON.parse(p||"{}")}catch(f){if(h.ok)throw f;p={error:p}}}if(!h.ok)throw new jo({body:s,details:_n(p.error)||h.statusText,headers:h.headers,status:h.status,url:e});return p}catch(h){throw h instanceof jo||h instanceof gy?h:new jo({body:s,cause:h,url:e})}}}}function Z8(e){const{authorizationList:t}=e;if(t)for(const r of t){const{chainId:s}=r,a=r.address;if(!Be(a))throw new jn({address:a});if(s<0)throw new mu({chainId:s})}If(e)}function J8(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new cj;for(const r of t){const s=xt(r),a=kr(Ho(r,0,1));if(s!==32)throw new dT({hash:r,size:s});if(a!==lj)throw new uT({hash:r,version:a})}}If(e)}function If(e){const{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new mu({chainId:t});if(a&&!Be(a))throw new jn({address:a});if(s&&s>pu)throw new ca({maxFeePerGas:s});if(r&&s&&r>s)throw new Go({maxFeePerGas:s,maxPriorityFeePerGas:r})}function eE(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:a,to:i}=e;if(t<=0)throw new mu({chainId:t});if(i&&!Be(i))throw new jn({address:i});if(r||a)throw new fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>pu)throw new ca({maxFeePerGas:s})}function tE(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:a,to:i}=e;if(i&&!Be(i))throw new jn({address:i});if(typeof t<"u"&&t<=0)throw new mu({chainId:t});if(r||a)throw new fe("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>pu)throw new ca({maxFeePerGas:s})}function yu(e){if(!e||e.length===0)return[];const t=[];for(let r=0;r<e.length;r++){const{address:s,storageKeys:a}=e[r];for(let i=0;i<a.length;i++)if(a[i].length-2!==64)throw new AC({storageKey:a[i]});if(!Be(s,{strict:!1}))throw new jn({address:s});t.push([s,a])}return t}function nE(e,t){const r=uj(e);return r==="eip1559"?aE(e,t):r==="eip2930"?iE(e,t):r==="eip4844"?sE(e,t):r==="eip7702"?rE(e,t):oE(e,t)}function rE(e,t){const{authorizationList:r,chainId:s,gas:a,nonce:i,to:o,value:l,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:u,data:m}=e;Z8(e);const h=yu(u),p=lE(r);return Ar(["0x04",xs([Me(s),i?Me(i):"0x",d?Me(d):"0x",c?Me(c):"0x",a?Me(a):"0x",o??"0x",l?Me(l):"0x",m??"0x",h,p,...Ml(e,t)])])}function sE(e,t){const{chainId:r,gas:s,nonce:a,to:i,value:o,maxFeePerBlobGas:l,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:u,data:m}=e;J8(e);let h=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof p>"u")){const b=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(C=>Bt(C)),N=e.kzg,j=Cf({blobs:b,kzg:N});if(typeof h>"u"&&(h=aj({commitments:j})),typeof p>"u"){const C=Tf({blobs:b,commitments:j,kzg:N});p=dj({blobs:b,commitments:j,proofs:C})}}const f=yu(u),v=[Me(r),a?Me(a):"0x",d?Me(d):"0x",c?Me(c):"0x",s?Me(s):"0x",i??"0x",o?Me(o):"0x",m??"0x",f,l?Me(l):"0x",h??[],...Ml(e,t)],y=[],g=[],x=[];if(p)for(let b=0;b<p.length;b++){const{blob:N,commitment:j,proof:C}=p[b];y.push(N),g.push(j),x.push(C)}return Ar(["0x03",xs(p?[v,y,g,x]:v)])}function aE(e,t){const{chainId:r,gas:s,nonce:a,to:i,value:o,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:d,data:u}=e;If(e);const m=yu(d),h=[Me(r),a?Me(a):"0x",c?Me(c):"0x",l?Me(l):"0x",s?Me(s):"0x",i??"0x",o?Me(o):"0x",u??"0x",m,...Ml(e,t)];return Ar(["0x02",xs(h)])}function iE(e,t){const{chainId:r,gas:s,data:a,nonce:i,to:o,value:l,accessList:c,gasPrice:d}=e;eE(e);const u=yu(c),m=[Me(r),i?Me(i):"0x",d?Me(d):"0x",s?Me(s):"0x",o??"0x",l?Me(l):"0x",a??"0x",u,...Ml(e,t)];return Ar(["0x01",xs(m)])}function oE(e,t){const{chainId:r=0,gas:s,data:a,nonce:i,to:o,value:l,gasPrice:c}=e;tE(e);let d=[i?Me(i):"0x",c?Me(c):"0x",s?Me(s):"0x",o??"0x",l?Me(l):"0x",a??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+t.v-27n);const p=27n+(t.v===27n?0n:1n);if(t.v!==p)throw new EC({v:t.v});return p})(),m=gs(t.r),h=gs(t.s);d=[...d,Me(u),m==="0x00"?"0x":m,h==="0x00"?"0x":h]}else r>0&&(d=[...d,Me(r),"0x","0x"]);return xs(d)}function Ml(e,t){const r=t??e,{v:s,yParity:a}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof s>"u"&&typeof a>"u")return[];const i=gs(r.r),o=gs(r.s);return[typeof a=="number"?a?Me(1):"0x":s===0n?"0x":s===1n?Me(1):s===27n?"0x":Me(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function lE(e){if(!e||e.length===0)return[];const t=[];for(const r of e){const{chainId:s,nonce:a,...i}=r,o=r.address;t.push([s?Me(s):"0x",o,a?Me(a):"0x",...Ml({},i)])}return t}class cE extends fe{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function dE(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new cE({value:e});let[r,s="0"]=e.split(".");const a=r.startsWith("-");if(a&&(r=r.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(r=`${BigInt(r)+1n}`),s="";else if(s.length>t){const[i,o,l]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],c=Math.round(+`${o}.${l}`);c>9?s=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):s=`${i}${c}`,s.length>t&&(s=s.slice(1),r=`${BigInt(r)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${a?"-":""}${r}${s}`)}function wd(e,t="wei"){return dE(e,Yw[t])}const k0=new Map,Ey=new Map;let uE=0;function Ph(e,t,r){const s=++uE,a=()=>k0.get(e)||[],i=()=>{const u=a();k0.set(e,u.filter(m=>m.id!==s))},o=()=>{const u=a();if(!u.some(h=>h.id===s))return;const m=Ey.get(e);u.length===1&&m&&m(),i()},l=a();if(k0.set(e,[...l,{id:s,fns:t}]),l&&l.length>0)return o;const c={};for(const u in t)c[u]=(...m)=>{var p,f;const h=a();if(h.length!==0)for(const v of h)(f=(p=v.fns)[u])==null||f.call(p,...m)};const d=r(c);return typeof d=="function"&&Ey.set(e,d),o}function mE(e,{emitOnBegin:t,initialWaitTime:r,interval:s}){let a=!0;const i=()=>a=!1;return(async()=>{let l;t&&(l=await e({unpoll:i}));const c=await(r==null?void 0:r(l))??s;await Eh(c);const d=async()=>{a&&(await e({unpoll:i}),await Eh(s),d())};d()})(),i}function hE(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:s,onError:a,poll:i,pollingInterval:o=e.pollingInterval}){const l=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return l?(()=>{const m=_n(["watchBlockNumber",e.uid,t,r,o]);return Ph(m,{onBlockNumber:s,onError:a},h=>mE(async()=>{var p;try{const f=await dt(e,U8,"getBlockNumber")({cacheTime:0});if(c){if(f===c)return;if(f-c>1&&r)for(let v=c+1n;v<f;v++)h.onBlockNumber(v,c),c=v}(!c||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){(p=h.onError)==null||p.call(h,f)}},{emitOnBegin:t,interval:o}))})():(()=>{const m=_n(["watchBlockNumber",e.uid,t,r]);return Ph(m,{onBlockNumber:s,onError:a},h=>{let p=!0,f=()=>p=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(x=>x.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:y}=await v.subscribe({params:["newHeads"],onData(g){var b;if(!p)return;const x=Mn((b=g.result)==null?void 0:b.number);h.onBlockNumber(x,c),c=x},onError(g){var x;(x=h.onError)==null||x.call(h,g)}});f=y,p||f()}catch(v){a==null||a(v)}})(),()=>f()})})()}async function pE(e,{confirmations:t=1,hash:r,onReplaced:s,pollingInterval:a=e.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:l=18e4}){const c=_n(["waitForTransactionReceipt",e.uid,r]);let d,u,m,h=!1;const{promise:p,resolve:f,reject:v}=Lj(),y=l?setTimeout(()=>v(new RC({hash:r})),l):void 0,g=Ph(c,{onReplaced:s,resolve:f,reject:v},x=>{const b=dt(e,hE,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(N){const j=E=>{clearTimeout(y),b(),E(),g()};let C=N;if(!h)try{if(m){if(t>1&&(!m.blockNumber||C-m.blockNumber+1n<t))return;j(()=>x.resolve(m));return}if(d||(h=!0,await bi(async()=>{d=await dt(e,Oj,"getTransaction")({hash:r}),d.blockNumber&&(C=d.blockNumber)},{delay:o,retryCount:i}),h=!1),m=await dt(e,Cy,"getTransactionReceipt")({hash:r}),t>1&&(!m.blockNumber||C-m.blockNumber+1n<t))return;j(()=>x.resolve(m))}catch(E){if(E instanceof Xw||E instanceof Zw){if(!d){h=!1;return}try{u=d,h=!0;const P=await bi(()=>dt(e,al,"getBlock")({blockNumber:C,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:O})=>O instanceof ej});h=!1;const L=P.transactions.find(({from:O,nonce:W})=>O===u.from&&W===u.nonce);if(!L||(m=await dt(e,Cy,"getTransactionReceipt")({hash:L.hash}),t>1&&(!m.blockNumber||C-m.blockNumber+1n<t)))return;let _="replaced";L.to===u.to&&L.value===u.value&&L.input===u.input?_="repriced":L.from===L.to&&L.value===0n&&(_="cancelled"),j(()=>{var O;(O=x.onReplaced)==null||O.call(x,{reason:_,replacedTransaction:u,transaction:L,transactionReceipt:m}),x.resolve(m)})}catch(P){j(()=>x.reject(P))}}else j(()=>x.reject(E))}}})});return p}async function fE(e,t){const{abi:r,account:s=e.account,address:a,args:i,dataSuffix:o,functionName:l,...c}=t;if(typeof s>"u")throw new Ww({docsPath:"/docs/contract/writeContract"});const d=s?Mr(s):null,u=xu({abi:r,args:i,functionName:l});try{return await dt(e,pT,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:a,account:d,...c})}catch(m){throw vd(m,{abi:r,address:a,args:i,docsPath:"/docs/contract/writeContract",functionName:l,sender:d==null?void 0:d.address})}}function Ka(e,t,r){const s=e[t.name];if(typeof s=="function")return s;const a=e[r];return typeof a=="function"?a:i=>t(e,i)}const _c="2.16.7",gE=()=>`@wagmi/core@${_c}`;var $j=function(e,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(e):s?s.value:t.get(e)},jd,Bj;let Lr=class Ah extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return gE()}constructor(t,r={}){var i;super(),jd.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const s=r.cause instanceof Ah?r.cause.details:(i=r.cause)!=null&&i.message?r.cause.message:r.details,a=r.cause instanceof Ah&&r.cause.docsPath||r.docsPath;this.message=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...a?[`Docs: ${this.docsBaseUrl}${a}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...s?[`Details: ${s}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=s,this.docsPath=a,this.metaMessages=r.metaMessages,this.shortMessage=t}walk(t){return $j(this,jd,"m",Bj).call(this,this,t)}};jd=new WeakSet,Bj=function e(t,r){return r!=null&&r(t)?t:t.cause?$j(this,jd,"m",e).call(this,t.cause,r):t};class ys extends Lr{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class xE extends Lr{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class yE extends Lr{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class bE extends Lr{constructor({address:t,connector:r}){super(`Account "${t}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class vE extends Lr{constructor({connectionChainId:t,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class wE extends Lr{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function jE(e,t){var s;let r;if(typeof t.connector=="function"?r=e._internal.connectors.setup(t.connector):r=t.connector,r.uid===e.state.current)throw new xE;try{e.setState(c=>({...c,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:a,...i}=t,o=await r.connect(i),l=o.accounts;return r.emitter.off("connect",e._internal.events.connect),r.emitter.on("change",e._internal.events.change),r.emitter.on("disconnect",e._internal.events.disconnect),await((s=e.storage)==null?void 0:s.setItem("recentConnectorId",r.id)),e.setState(c=>({...c,connections:new Map(c.connections).set(r.uid,{accounts:l,chainId:o.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:l,chainId:o.chainId}}catch(a){throw e.setState(i=>({...i,status:i.current?"connected":"disconnected"})),a}}const Mh=256;let oc=Mh,lc;function zj(e=11){if(!lc||oc+e>Mh*2){lc="",oc=0;for(let t=0;t<Mh;t++)lc+=(256+Math.random()*256|0).toString(16).substring(1)}return lc.substring(oc,oc+++e)}function Uj(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:s,key:a="base",name:i="Base Client",pollingInterval:o=4e3,type:l="base"}=e,c=e.chain,d=e.account?Mr(e.account):void 0,{config:u,request:m,value:h}=e.transport({chain:c,pollingInterval:o}),p={...u,...h},f={account:d,batch:t,cacheTime:r,ccipRead:s,chain:c,key:a,name:i,pollingInterval:o,request:m,transport:p,type:l,uid:zj()};function v(y){return g=>{const x=g(y);for(const N in f)delete x[N];const b={...y,...x};return Object.assign(b,{extend:v(b)})}}return Object.assign(f,{extend:v(f)})}function Vj({key:e,methods:t,name:r,request:s,retryCount:a=3,retryDelay:i=150,timeout:o,type:l},c){const d=zj();return{config:{key:e,methods:t,name:r,request:s,retryCount:a,retryDelay:i,timeout:o,type:l},request:K8(s,{methods:t,retryCount:a,retryDelay:i,uid:d}),value:c}}function NE(e,t={}){const{key:r="custom",methods:s,name:a="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>Vj({key:r,methods:s,name:a,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}class SE extends fe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Dr(e,t={}){const{batch:r,fetchOptions:s,key:a="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:d,raw:u}=t;return({chain:m,retryCount:h,timeout:p})=>{const{batchSize:f=1e3,wait:v=0}=typeof r=="object"?r:{},y=t.retryCount??h,g=p??t.timeout??1e4,x=m==null?void 0:m.rpcUrls.default.http[0];if(!x)throw new SE;const b=X8(x,{fetchOptions:s,onRequest:l,onResponse:c,timeout:g});return Vj({key:a,methods:i,name:o,async request({method:N,params:j}){const C={method:N,params:j},{schedule:E}=Ij({id:x,wait:v,shouldSplitBatch(O){return O.length>f},fn:O=>b.request({body:O}),sort:(O,W)=>O.id-W.id}),P=async O=>r?E(O):[await b.request({body:O})],[{error:L,result:_}]=await P(C);if(u)return{error:L,result:_};if(L)throw new vf({body:C,error:L,url:x});return _},retryCount:y,retryDelay:d,timeout:g,type:"http"},{fetchOptions:s,url:x})}}async function kE(e,t={}){let r;if(t.connector){const{connector:d}=t;if(e.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new wE({connector:d});const[u,m]=await Promise.all([d.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),d.getChainId()]);r={accounts:u,chainId:m,connector:d}}else r=e.state.connections.get(e.state.current);if(!r)throw new yE;const s=t.chainId??r.chainId,a=await r.connector.getChainId();if(a!==r.chainId)throw new vE({connectionChainId:r.chainId,connectorChainId:a});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const o=Mr(t.account??r.accounts[0]);if(o&&(o.address=Nt(o.address)),t.account&&!r.accounts.some(d=>d.toLowerCase()===o.address.toLowerCase()))throw new bE({address:o.address,connector:i});const l=e.chains.find(d=>d.id===s),c=await r.connector.getProvider({chainId:s});return Uj({account:o,chain:l,name:"Connector Client",transport:d=>NE(c)({...d,retryCount:0})})}async function CE(e,t={}){var a,i;let r;if(t.connector)r=t.connector;else{const{connections:o,current:l}=e.state,c=o.get(l);r=c==null?void 0:c.connector}const s=e.state.connections;r&&(await r.disconnect(),r.emitter.off("change",e._internal.events.change),r.emitter.off("disconnect",e._internal.events.disconnect),r.emitter.on("connect",e._internal.events.connect),s.delete(r.uid)),e.setState(o=>{if(s.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const l=s.values().next().value;return{...o,connections:new Map(s),current:l.connector.uid}});{const o=e.state.current;if(!o)return;const l=(a=e.state.connections.get(o))==null?void 0:a.connector;if(!l)return;await((i=e.storage)==null?void 0:i.setItem("recentConnectorId",l.id))}}function Wj(e){const t=e.state.current,r=e.state.connections.get(t),s=r==null?void 0:r.accounts,a=s==null?void 0:s[0],i=e.chains.find(l=>l.id===(r==null?void 0:r.chainId)),o=e.state.status;switch(o){case"connected":return{address:a,addresses:s,chain:i,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:a,addresses:s,chain:i,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!a,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:a,addresses:s,chain:i,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function TE(e,t){const{allowFailure:r=!0,chainId:s,contracts:a,...i}=t,o=e.getClient({chainId:s});return Ka(o,G8,"multicall")({allowFailure:r,contracts:a,...i})}function Hj(e,t){const{chainId:r,...s}=t,a=e.getClient({chainId:r});return Ka(a,Fj,"readContract")(s)}async function EE(e,t){var l;const{allowFailure:r=!0,blockNumber:s,blockTag:a,...i}=t,o=t.contracts;try{const c={};for(const[h,p]of o.entries()){const f=p.chainId??e.state.chainId;c[f]||(c[f]=[]),(l=c[f])==null||l.push({contract:p,index:h})}const d=()=>Object.entries(c).map(([h,p])=>TE(e,{...i,allowFailure:r,blockNumber:s,blockTag:a,chainId:Number.parseInt(h),contracts:p.map(({contract:f})=>f)})),u=(await Promise.all(d())).flat(),m=Object.values(c).flatMap(h=>h.map(({index:p})=>p));return u.reduce((h,p,f)=>(h&&(h[m[f]]=p),h),[])}catch(c){if(c instanceof Rj)throw c;const d=()=>o.map(u=>Hj(e,{...u,blockNumber:s,blockTag:a}));return r?(await Promise.allSettled(d())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(d())}}function Py(e){return e.state.chainId}function bs(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let r,s;if(Array.isArray(e)&&Array.isArray(t)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!bs(e[s],t[s]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const a=Object.keys(e);if(r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(i&&!bs(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}let C0=[];function Ay(e){const t=e.chains;return bs(C0,t)?C0:(C0=t,t)}let cc=[];function Rh(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||bs(cc,t)?cc:(cc=t,t)}let T0=[];function My(e){const t=e.connectors;return bs(T0,t)?T0:(T0=t,t)}let E0=!1;async function PE(e,t={}){var d,u;if(E0)return[];E0=!0,e.setState(m=>({...m,status:m.current?"reconnecting":"connecting"}));const r=[];if((d=t.connectors)!=null&&d.length)for(const m of t.connectors){let h;typeof m=="function"?h=e._internal.connectors.setup(m):h=m,r.push(h)}else r.push(...e.connectors);let s;try{s=await((u=e.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const a={};for(const[,m]of e.state.connections)a[m.connector.id]=1;s&&(a[s]=0);const i=Object.keys(a).length>0?[...r].sort((m,h)=>(a[m.id]??10)-(a[h.id]??10)):r;let o=!1;const l=[],c=[];for(const m of i){const h=await m.getProvider().catch(()=>{});if(!h||c.some(v=>v===h)||!await m.isAuthorized())continue;const f=await m.connect({isReconnecting:!0}).catch(()=>null);f&&(m.emitter.off("connect",e._internal.events.connect),m.emitter.on("change",e._internal.events.change),m.emitter.on("disconnect",e._internal.events.disconnect),e.setState(v=>{const y=new Map(o?v.connections:new Map).set(m.uid,{accounts:f.accounts,chainId:f.chainId,connector:m});return{...v,current:o?v.current:m.uid,connections:y}}),l.push({accounts:f.accounts,chainId:f.chainId,connector:m}),c.push(h),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(m=>({...m,status:"connected"})):e.setState(m=>({...m,connections:new Map,current:null,status:"disconnected"}))),E0=!1,l}class cr extends Lr{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class AE extends Lr{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function ME(e,t){var o;const{addEthereumChainParameter:r,chainId:s}=t,a=e.state.connections.get(((o=t.connector)==null?void 0:o.uid)??e.state.current);if(a){const l=a.connector;if(!l.switchChain)throw new AE({connector:l});return await l.switchChain({addEthereumChainParameter:r,chainId:s})}const i=e.chains.find(l=>l.id===s);if(!i)throw new ys;return e.setState(l=>({...l,chainId:s})),i}function RE(e,t){const{onChange:r}=t;return e.subscribe(()=>Wj(e),r,{equalityFn(s,a){const{connector:i,...o}=s,{connector:l,...c}=a;return bs(o,c)&&(i==null?void 0:i.id)===(l==null?void 0:l.id)&&(i==null?void 0:i.uid)===(l==null?void 0:l.uid)}})}function LE(e,t){const{onChange:r}=t;return e.subscribe(s=>s.chainId,r)}function IE(e,t){const{onChange:r}=t;return e.subscribe(()=>Rh(e),r,{equalityFn:bs})}function _E(e,t){const{onChange:r}=t;return e._internal.connectors.subscribe((s,a)=>{r(Object.values(s),a)})}async function FE(e,t){const{chainId:r,timeout:s=0,...a}=t,i=e.getClient({chainId:r}),l=await Ka(i,pE,"waitForTransactionReceipt")({...a,timeout:s});if(l.status==="reverted"){const d=await Ka(i,Oj,"getTransaction")({hash:l.transactionHash}),m=await Ka(i,_j,"call")({...d,data:d.input,gasPrice:d.type!=="eip1559"?d.gasPrice:void 0,maxFeePerGas:d.type==="eip1559"?d.maxFeePerGas:void 0,maxPriorityFeePerGas:d.type==="eip1559"?d.maxPriorityFeePerGas:void 0}),h=m!=null&&m.data?uk(`0x${m.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...l,chainId:i.chain.id}}async function OE(e,t){const{account:r,chainId:s,connector:a,...i}=t;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=e.getClient({chainId:s}):o=await kE(e,{account:r??void 0,chainId:s,connector:a}),await Ka(o,fE,"writeContract")({...i,...r?{account:r}:{},chain:s?{id:s}:null})}bu.type="injected";function bu(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:r}=e;function s(){const c=e.target;if(typeof c=="function"){const d=c();if(d)return d}return typeof c=="object"?c:typeof c=="string"?{...DE[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(d){return d==null?void 0:d.ethereum}}}let a,i,o,l;return c=>({get icon(){return s().icon},get id(){return s().id},get name(){return s().name},get supportsSimulation(){return!0},type:bu.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&e.target&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),a||(a=this.onAccountsChanged.bind(this),d.on("accountsChanged",a)))},async connect({chainId:d,isReconnecting:u}={}){var p,f,v,y,g,x;const m=await this.getProvider();if(!m)throw new cr;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(y=(v=(f=(p=(await m.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:f[0])==null?void 0:v.value)==null?void 0:y.map(N=>Nt(N)),h.length>0&&(h=await this.getAccounts())}catch(b){const N=b;if(N.code===De.code)throw new De(N);if(N.code===Jn.code)throw N}try{!(h!=null&&h.length)&&!u&&(h=(await m.request({method:"eth_requestAccounts"})).map(j=>Nt(j))),o&&(m.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),m.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),m.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),m.on("disconnect",l));let b=await this.getChainId();if(d&&b!==d){const N=await this.switchChain({chainId:d}).catch(j=>{if(j.code===De.code)throw j;return{id:b}});b=(N==null?void 0:N.id)??b}return t&&await((g=c.storage)==null?void 0:g.removeItem(`${this.id}.disconnected`)),e.target||await((x=c.storage)==null?void 0:x.setItem("injected.connected",!0)),{accounts:h,chainId:b}}catch(b){const N=b;throw N.code===De.code?new De(N):N.code===Jn.code?new Jn(N):N}},async disconnect(){var u,m;const d=await this.getProvider();if(!d)throw new cr;i&&(d.removeListener("chainChanged",i),i=void 0),l&&(d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d.on("connect",o));try{await Lf(()=>d.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),e.target||await((m=c.storage)==null?void 0:m.removeItem("injected.connected"))},async getAccounts(){const d=await this.getProvider();if(!d)throw new cr;return(await d.request({method:"eth_accounts"})).map(m=>Nt(m))},async getChainId(){const d=await this.getProvider();if(!d)throw new cr;const u=await d.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let d;const u=s();return typeof u.provider=="function"?d=u.provider(window):typeof u.provider=="string"?d=Fc(window,u.provider):d=u.provider,d&&!d.removeListener&&("off"in d&&typeof d.off=="function"?d.removeListener=d.off:d.removeListener=()=>{}),d},async isAuthorized(){var d,u;try{if(t&&await((d=c.storage)==null?void 0:d.getItem(`${this.id}.disconnected`))||!e.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const f=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",f),!!await this.getProvider()),v=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(g=>window.addEventListener("ethereum#initialized",()=>g(f()),{once:!0}))]:[],new Promise(g=>setTimeout(()=>g(f()),v))]))return!0}throw new cr}return!!(await bi(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:u}){var f,v,y,g;const m=await this.getProvider();if(!m)throw new cr;const h=c.chains.find(x=>x.id===u);if(!h)throw new $t(new ys);const p=new Promise(x=>{const b=N=>{"chainId"in N&&N.chainId===u&&(c.emitter.off("change",b),x())};c.emitter.on("change",b)});try{return await Promise.all([m.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),p]),h}catch(x){const b=x;if(b.code===4902||((v=(f=b==null?void 0:b.data)==null?void 0:f.originalError)==null?void 0:v.code)===4902)try{const{default:N,...j}=h.blockExplorers??{};let C;d!=null&&d.blockExplorerUrls?C=d.blockExplorerUrls:N&&(C=[N.url,...Object.values(j).map(L=>L.url)]);let E;(y=d==null?void 0:d.rpcUrls)!=null&&y.length?E=d.rpcUrls:E=[((g=h.rpcUrls.default)==null?void 0:g.http[0])??""];const P={blockExplorerUrls:C,chainId:Ae(u),chainName:(d==null?void 0:d.chainName)??h.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??h.nativeCurrency,rpcUrls:E};return await Promise.all([m.request({method:"wallet_addEthereumChain",params:[P]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new De(new Error("User rejected switch after adding network."))}),p]),h}catch(N){throw new De(N)}throw b.code===De.code?new De(b):new $t(b)}},async onAccountsChanged(d){var u;if(d.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const m=(await this.getChainId()).toString();this.onConnect({chainId:m}),t&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:d.map(m=>Nt(m))})},onChainChanged(d){const u=Number(d);c.emitter.emit("change",{chainId:u})},async onConnect(d){const u=await this.getAccounts();if(u.length===0)return;const m=Number(d.chainId);c.emitter.emit("connect",{accounts:u,chainId:m});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),h.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),h.on("disconnect",l)))},async onDisconnect(d){const u=await this.getProvider();d&&d.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),l&&(u.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const DE={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:Fc(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Fc(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const s of r)if(t[s])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,r;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(r=e.phantom)==null?void 0:r.ethereum:Fc(e,"isPhantom")}}};function Fc(e,t){function r(a){return typeof t=="function"?t(a):typeof t=="string"?a[t]:!0}const s=e.ethereum;if(s!=null&&s.providers)return s.providers.find(a=>r(a));if(s&&r(s))return s}function $E(e){if(typeof window>"u")return;const t=r=>e(r.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function BE(){const e=new Set;let t=[];const r=()=>$E(a=>{t.some(({info:i})=>i.uuid===a.info.uuid)||(t=[...t,a],e.forEach(i=>i(t,{added:[a]})))});let s=r();return{_listeners(){return e},clear(){e.forEach(a=>a([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),s==null||s()},findProvider({rdns:a}){return t.find(i=>i.info.rdns===a)},getProviders(){return t},reset(){this.clear(),s==null||s(),s=r()},subscribe(a,{emitImmediately:i}={}){return e.add(a),i&&a(t,{added:t}),()=>e.delete(a)}}}const zE=e=>(t,r,s)=>{const a=s.subscribe;return s.subscribe=(o,l,c)=>{let d=o;if(l){const u=(c==null?void 0:c.equalityFn)||Object.is;let m=o(s.getState());d=h=>{const p=o(h);if(!u(m,p)){const f=m;l(m=p,f)}},c!=null&&c.fireImmediately&&l(m,m)}return a(d)},e(t,r,s)},UE=zE;function VE(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const Lh=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return Lh(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Lh(s)(r)}}}},WE=(e,t)=>(r,s,a)=>{let i={storage:VE(()=>localStorage),partialize:v=>v,version:0,merge:(v,y)=>({...y,...v}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},s,a);const u=()=>{const v=i.partialize({...s()});return d.setItem(i.name,{state:v,version:i.version})},m=a.setState;a.setState=(v,y)=>{m(v,y),u()};const h=e((...v)=>{r(...v),u()},s,a);a.getInitialState=()=>h;let p;const f=()=>{var v,y;if(!d)return;o=!1,l.forEach(x=>{var b;return x((b=s())!=null?b:h)});const g=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(v=s())!=null?v:h))||void 0;return Lh(d.getItem.bind(d))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return[!0,i.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[N,j]=x;if(p=i.merge(j,(b=s())!=null?b:h),r(p,!0),N)return u()}).then(()=>{g==null||g(p,void 0),p=s(),o=!0,c.forEach(x=>x(p))}).catch(x=>{g==null||g(void 0,x)})};return a.persist={setOptions:v=>{i={...i,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},i.skipHydration||f(),p||h},HE=WE,Ry=e=>{let t;const r=new Set,s=(d,u)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(p=>p(t,h))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(s,a,l);return l},P0=e=>e?Ry(e):Ry;var Gj={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,m||c,h),f=r?r+d:d;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],p]:c._events[f].push(p):(c._events[f]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,p=m.length,f=new Array(p);h<p;h++)f[h]=m[h].fn;return f},l.prototype.listenerCount=function(d){var u=r?r+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,p,f){var v=r?r+d:d;if(!this._events[v])return!1;var y=this._events[v],g=arguments.length,x,b;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,m),!0;case 4:return y.fn.call(y.context,u,m,h),!0;case 5:return y.fn.call(y.context,u,m,h,p),!0;case 6:return y.fn.call(y.context,u,m,h,p,f),!0}for(b=1,x=new Array(g-1);b<g;b++)x[b-1]=arguments[b];y.fn.apply(y.context,x)}else{var N=y.length,j;for(b=0;b<N;b++)switch(y[b].once&&this.removeListener(d,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,m);break;case 4:y[b].fn.call(y[b].context,u,m,h);break;default:if(!x)for(j=1,x=new Array(g-1);j<g;j++)x[j-1]=arguments[j];y[b].fn.apply(y[b].context,x)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var f=this._events[p];if(f.fn)f.fn===u&&(!h||f.once)&&(!m||f.context===m)&&o(this,p);else{for(var v=0,y=[],g=f.length;v<g;v++)(f[v].fn!==u||h&&!f[v].once||m&&f[v].context!==m)&&y.push(f[v]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Gj);var GE=Gj.exports;const qE=qv(GE);class KE{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new qE})}on(t,r){this._emitter.on(t,r)}once(t,r){this._emitter.once(t,r)}off(t,r){this._emitter.off(t,r)}emit(t,...r){const s=r[0];this._emitter.emit(t,{uid:this.uid,...s})}listenerCount(t){return this._emitter.listenerCount(t)}}function YE(e){return new KE(e)}function QE(e,t){return JSON.parse(e,(r,s)=>{let a=s;return(a==null?void 0:a.__type)==="bigint"&&(a=BigInt(a.value)),(a==null?void 0:a.__type)==="Map"&&(a=new Map(a.value)),(t==null?void 0:t(r,a))??a})}function Ly(e,t){return e.slice(0,t).join(".")||"."}function Iy(e,t){const{length:r}=e;for(let s=0;s<r;++s)if(e[s]===t)return s+1;return 0}function XE(e,t){const r=typeof e=="function",s=typeof t=="function",a=[],i=[];return function(l,c){if(typeof c=="object")if(a.length){const d=Iy(a,this);d===0?a[a.length]=this:(a.splice(d),i.splice(d)),i[i.length]=l;const u=Iy(a,c);if(u!==0)return s?t.call(this,l,c,Ly(i,u)):`[ref=${Ly(i,u)}]`}else a[0]=c,i[0]=l;return r?e.call(this,l,c):c}}function ZE(e,t,r,s){return JSON.stringify(e,XE((a,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(t==null?void 0:t(a,o))??o},s),r??void 0)}function JE(e){const{deserialize:t=QE,key:r="wagmi",serialize:s=ZE,storage:a=qj}=e;function i(o){return o instanceof Promise?o.then(l=>l).catch(()=>null):o}return{...a,key:r,async getItem(o,l){const c=a.getItem(`${r}.${o}`),d=await i(c);return d?t(d)??null:l??null},async setItem(o,l){const c=`${r}.${o}`;l===null?await i(a.removeItem(c)):await i(a.setItem(c,s(l)))},async removeItem(o){await i(a.removeItem(`${r}.${o}`))}}}const qj={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function eP(){const e=typeof window<"u"&&window.localStorage?window.localStorage:qj;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,r){try{e.setItem(t,r)}catch{}}}}const Ih=256;let dc=Ih,uc;function tP(e=11){if(!uc||dc+e>Ih*2){uc="",dc=0;for(let t=0;t<Ih;t++)uc+=(256+Math.random()*256|0).toString(16).substring(1)}return uc.substring(dc,dc+++e)}function nP(e){const{multiInjectedProviderDiscovery:t=!0,storage:r=JE({storage:eP()}),syncConnectedChain:s=!0,ssr:a=!1,...i}=e,o=typeof window<"u"&&t?BE():void 0,l=P0(()=>i.chains),c=P0(()=>{const j=[],C=new Set;for(const E of i.connectors??[]){const P=d(E);if(j.push(P),!a&&P.rdns){const L=typeof P.rdns=="string"?[P.rdns]:P.rdns;for(const _ of L)C.add(_)}}if(!a&&o){const E=o.getProviders();for(const P of E)C.has(P.info.rdns)||j.push(d(u(P)))}return j});function d(j){var P;const C=YE(tP()),E={...j({emitter:C,chains:l.getState(),storage:r,transports:i.transports}),emitter:C,uid:C.uid};return C.on("connect",b),(P=E.setup)==null||P.call(E),E}function u(j){const{info:C}=j,E=j.provider;return bu({target:{...C,id:C.rdns,provider:E}})}const m=new Map;function h(j={}){const C=j.chainId??y.getState().chainId,E=l.getState().find(L=>L.id===C);if(j.chainId&&!E)throw new ys;{const L=m.get(y.getState().chainId);if(L&&!E)return L;if(!E)throw new ys}{const L=m.get(C);if(L)return L}let P;if(i.client)P=i.client({chain:E});else{const L=E.id,_=l.getState().map(H=>H.id),O={},W=Object.entries(i);for(const[H,Z]of W)if(!(H==="chains"||H==="client"||H==="connectors"||H==="transports"))if(typeof Z=="object")if(L in Z)O[H]=Z[L];else{if(_.some(I=>I in Z))continue;O[H]=Z}else O[H]=Z;P=Uj({...O,chain:E,batch:O.batch??{multicall:!0},transport:H=>i.transports[L]({...H,connectors:c})})}return m.set(C,P),P}function p(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let f;const v="0.0.0-canary-";_c.startsWith(v)?f=Number.parseInt(_c.replace(v,"")):f=Number.parseInt(_c.split(".")[0]??"0");const y=P0(UE(r?HE(p,{migrate(j,C){if(C===f)return j;const E=p(),P=g(j,E.chainId);return{...E,chainId:P}},name:"store",partialize(j){return{connections:{__type:"Map",value:Array.from(j.connections.entries()).map(([C,E])=>{const{id:P,name:L,type:_,uid:O}=E.connector;return[C,{...E,connector:{id:P,name:L,type:_,uid:O}}]})},chainId:j.chainId,current:j.current}},merge(j,C){typeof j=="object"&&j&&"status"in j&&delete j.status;const E=g(j,C.chainId);return{...C,...j,chainId:E}},skipHydration:a,storage:r,version:f}):p));y.setState(p());function g(j,C){return j&&typeof j=="object"&&"chainId"in j&&typeof j.chainId=="number"&&l.getState().some(E=>E.id===j.chainId)?j.chainId:C}s&&y.subscribe(({connections:j,current:C})=>{var E;return C?(E=j.get(C))==null?void 0:E.chainId:void 0},j=>{if(l.getState().some(E=>E.id===j))return y.setState(E=>({...E,chainId:j??E.chainId}))}),o==null||o.subscribe(j=>{const C=new Set,E=new Set;for(const L of c.getState())if(C.add(L.id),L.rdns){const _=typeof L.rdns=="string"?[L.rdns]:L.rdns;for(const O of _)E.add(O)}const P=[];for(const L of j){if(E.has(L.info.rdns))continue;const _=d(u(L));C.has(_.id)||P.push(_)}r&&!y.persist.hasHydrated()||c.setState(L=>[...L,...P],!0)});function x(j){y.setState(C=>{const E=C.connections.get(j.uid);return E?{...C,connections:new Map(C.connections).set(j.uid,{accounts:j.accounts??E.accounts,chainId:j.chainId??E.chainId,connector:E.connector})}:C})}function b(j){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(C=>{const E=c.getState().find(P=>P.uid===j.uid);return E?(E.emitter.listenerCount("connect")&&E.emitter.off("connect",x),E.emitter.listenerCount("change")||E.emitter.on("change",x),E.emitter.listenerCount("disconnect")||E.emitter.on("disconnect",N),{...C,connections:new Map(C.connections).set(j.uid,{accounts:j.accounts,chainId:j.chainId,connector:E}),current:j.uid,status:"connected"}):C})}function N(j){y.setState(C=>{const E=C.connections.get(j.uid);if(E){const L=E.connector;L.emitter.listenerCount("change")&&E.connector.emitter.off("change",x),L.emitter.listenerCount("disconnect")&&E.connector.emitter.off("disconnect",N),L.emitter.listenerCount("connect")||E.connector.emitter.on("connect",b)}if(C.connections.delete(j.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const P=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:P.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:r,getClient:h,get state(){return y.getState()},setState(j){let C;typeof j=="function"?C=j(y.getState()):C=j;const E=p();typeof C!="object"&&(C=E),Object.keys(E).some(L=>!(L in C))&&(C=E),y.setState(C,!0)},subscribe(j,C,E){return y.subscribe(j,C,E?{...E,fireImmediately:E.emitImmediately}:void 0)},_internal:{mipd:o,store:y,ssr:!!a,syncConnectedChain:s,transports:i.transports,chains:{setState(j){const C=typeof j=="function"?j(l.getState()):j;if(C.length!==0)return l.setState(C,!0)},subscribe(j){return l.subscribe(j)}},connectors:{providerDetailToConnector:u,setup:d,setState(j){return c.setState(typeof j=="function"?j(c.getState()):j,!0)},subscribe(j){return c.subscribe(j)}},events:{change:x,connect:b,disconnect:N}}}}function rP(e,t){const{initialState:r,reconnectOnMount:s}=t;return r&&!e._internal.store.persist.hasHydrated()&&e.setState({...r,chainId:e.chains.some(a=>a.id===r.chainId)?r.chainId:e.chains[0].id,connections:s?r.connections:new Map,status:s?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(a=>{var c;const i=new Set;for(const d of a??[])if(d.rdns){const u=Array.isArray(d.rdns)?d.rdns:[d.rdns];for(const m of u)i.add(m)}const o=[],l=((c=e._internal.mipd)==null?void 0:c.getProviders())??[];for(const d of l){if(i.has(d.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(d),m=e._internal.connectors.setup(u);o.push(m)}return[...a,...o]})),s?PE(e):e.storage&&e.setState(a=>({...a,connections:new Map}))}}}function Kj(e){var i,o,l;const{chain:t}=e,r=t.rpcUrls.default.http[0];if(!e.transports)return[r];const s=(o=(i=e.transports)==null?void 0:i[t.id])==null?void 0:o.call(i,{chain:t});return(((l=s==null?void 0:s.value)==null?void 0:l.transports)||[s]).map(({value:c})=>(c==null?void 0:c.url)||r)}function sP(e){const{children:t,config:r,initialState:s,reconnectOnMount:a=!0}=e,{onMount:i}=rP(r,{initialState:s,reconnectOnMount:a});r._internal.ssr||i();const o=w.useRef(!0);return w.useEffect(()=>{if(o.current&&r._internal.ssr)return i(),()=>{o.current=!1}},[]),t}const Yj=w.createContext(void 0);function aP(e){const{children:t,config:r}=e,s={value:r};return w.createElement(sP,e,w.createElement(Yj.Provider,s,t))}const iP="2.14.15",oP=()=>`wagmi@${iP}`;class lP extends Lr{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return oP()}}class cP extends lP{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Sn(e={}){const t=e.config??w.useContext(Yj);if(!t)throw new cP;return t}function dP(e,t){const{onChange:r}=t;return e._internal.chains.subscribe((s,a)=>{r(s,a)})}var Qj={exports:{}},Xj={},Zj={exports:{}},Jj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=w;function uP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mP=typeof Object.is=="function"?Object.is:uP,hP=vi.useState,pP=vi.useEffect,fP=vi.useLayoutEffect,gP=vi.useDebugValue;function xP(e,t){var r=t(),s=hP({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return fP(function(){a.value=r,a.getSnapshot=t,A0(a)&&i({inst:a})},[e,r,t]),pP(function(){return A0(a)&&i({inst:a}),e(function(){A0(a)&&i({inst:a})})},[e]),gP(r),r}function A0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mP(e,r)}catch{return!0}}function yP(e,t){return t()}var bP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yP:xP;Jj.useSyncExternalStore=vi.useSyncExternalStore!==void 0?vi.useSyncExternalStore:bP;Zj.exports=Jj;var vP=Zj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=w,wP=vP;function jP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NP=typeof Object.is=="function"?Object.is:jP,SP=wP.useSyncExternalStore,kP=vu.useRef,CP=vu.useEffect,TP=vu.useMemo,EP=vu.useDebugValue;Xj.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=kP(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=TP(function(){function c(p){if(!d){if(d=!0,u=p,p=s(p),a!==void 0&&o.hasValue){var f=o.value;if(a(f,p))return m=f}return m=p}if(f=m,NP(u,p))return f;var v=s(p);return a!==void 0&&a(f,v)?(u=p,f):(u=p,m=v)}var d=!1,u,m,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,s,a]);var l=SP(e,i[0],i[1]);return CP(function(){o.hasValue=!0,o.value=l},[l]),EP(l),l};Qj.exports=Xj;var PP=Qj.exports;const M0=e=>typeof e=="object"&&!Array.isArray(e);function AP(e,t,r=t,s=bs){const a=w.useRef([]),i=PP.useSyncExternalStoreWithSelector(e,t,r,o=>o,(o,l)=>{if(M0(o)&&M0(l)&&a.current.length){for(const c of a.current)if(!s(o[c],l[c]))return!1;return!0}return s(o,l)});return w.useMemo(()=>{if(M0(i)){const o={...i};let l={};for(const[c,d]of Object.entries(o))l={...l,[c]:{configurable:!1,enumerable:!0,get:()=>(a.current.includes(c)||a.current.push(c),d)}};return Object.defineProperties(o,l),o}return i},[i])}function Ge(e={}){const t=Sn(e);return AP(r=>RE(t,{onChange:r}),()=>Wj(t))}function e4(e,t){return yp(e,t)}function MP(e){return JSON.stringify(e,(t,r)=>RP(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):typeof r=="bigint"?r.toString():r)}function RP(e){if(!_y(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!_y(r)||!r.hasOwnProperty("isPrototypeOf"))}function _y(e){return Object.prototype.toString.call(e)==="[object Object]"}function _f(e){const{_defaulted:t,behavior:r,gcTime:s,initialData:a,initialDataUpdatedAt:i,maxPages:o,meta:l,networkMode:c,queryFn:d,queryHash:u,queryKey:m,queryKeyHashFn:h,retry:p,retryDelay:f,structuralSharing:v,getPreviousPageParam:y,getNextPageParam:g,initialPageParam:x,_optimisticResults:b,enabled:N,notifyOnChangeProps:j,placeholderData:C,refetchInterval:E,refetchIntervalInBackground:P,refetchOnMount:L,refetchOnReconnect:_,refetchOnWindowFocus:O,retryOnMount:W,select:H,staleTime:Z,suspense:ee,throwOnError:I,config:A,connector:T,query:$,...D}=e;return D}function LP(e){return{mutationFn(t){return jE(e,t)},mutationKey:["connect"]}}function IP(e){return{mutationFn(t){return CE(e,t)},mutationKey:["disconnect"]}}function _P(e,t={}){return{async queryFn({queryKey:r}){const s=t.abi;if(!s)throw new Error("abi is required");const{functionName:a,scopeKey:i,...o}=r[1],l=(()=>{const c=r[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!a)throw new Error("functionName is required");return Hj(e,{abi:s,functionName:a,args:o.args,...l,...o})},queryKey:FP(t)}}function FP(e={}){const{abi:t,...r}=e;return["readContract",_f(r)]}function OP(e,t={}){return{async queryFn({queryKey:r}){var l;const s=[],a=r[1].contracts.length;for(let c=0;c<a;c++){const d=r[1].contracts[c],u=((l=t.contracts)==null?void 0:l[c]).abi;s.push({...d,abi:u})}const{scopeKey:i,...o}=r[1];return EE(e,{...o,contracts:s})},queryKey:DP(t)}}function DP(e={}){const t=[];for(const r of e.contracts??[]){const{abi:s,...a}=r;t.push({...a,chainId:a.chainId??e.chainId})}return["readContracts",_f({...e,contracts:t})]}function $P(e){return{mutationFn(t){return ME(e,t)},mutationKey:["switchChain"]}}function BP(e,t={}){return{async queryFn({queryKey:r}){const{hash:s,...a}=r[1];if(!s)throw new Error("hash is required");return FE(e,{...a,onReplaced:t.onReplaced,hash:s})},queryKey:zP(t)}}function zP(e={}){const{onReplaced:t,...r}=e;return["waitForTransactionReceipt",_f(r)]}function UP(e){return{mutationFn(t){return OE(e,t)},mutationKey:["writeContract"]}}function Ff(e){const t=J5({...e,queryKeyHashFn:MP});return t.queryKey=e.queryKey,t}function wu(e={}){const t=Sn(e);return w.useSyncExternalStore(r=>LE(t,{onChange:r}),()=>Py(t),()=>Py(t))}function VP(e={}){const t=Sn(e);return w.useSyncExternalStore(r=>dP(t,{onChange:r}),()=>Ay(t),()=>Ay(t))}function WP(e={}){const t=Sn(e);return w.useSyncExternalStore(r=>_E(t,{onChange:r}),()=>My(t),()=>My(t))}function HP(e={}){const{mutation:t}=e,r=Sn(e),s=LP(r),{mutate:a,mutateAsync:i,...o}=Hd({...t,...s});return w.useEffect(()=>r.subscribe(({status:l})=>l,(l,c)=>{c==="connected"&&l==="disconnected"&&o.reset()}),[r,o.reset]),{...o,connect:a,connectAsync:i,connectors:WP({config:r})}}function GP(e={}){const t=Sn(e);return w.useSyncExternalStore(r=>IE(t,{onChange:r}),()=>Rh(t),()=>Rh(t))}function qP(e={}){const{mutation:t}=e,r=Sn(e),s=IP(r),{mutate:a,mutateAsync:i,...o}=Hd({...t,...s});return{...o,connectors:GP({config:r}).map(l=>l.connector),disconnect:a,disconnectAsync:i}}function ke(e={}){const{abi:t,address:r,functionName:s,query:a={}}=e,i=e.code,o=Sn(e),l=wu({config:o}),c=_P(o,{...e,chainId:e.chainId??l}),d=!!((r||i)&&t&&s&&(a.enabled??!0));return Ff({...a,...c,enabled:d,structuralSharing:a.structuralSharing??e4})}function Oc(e={}){const{contracts:t=[],query:r={}}=e,s=Sn(e),a=wu({config:s}),i=OP(s,{...e,chainId:a}),o=w.useMemo(()=>{let l=!1;for(const c of t){const{abi:d,address:u,functionName:m}=c;if(!d||!u||!m){l=!1;break}l=!0}return!!(l&&(r.enabled??!0))},[t,r.enabled]);return Ff({...i,...r,enabled:o,structuralSharing:r.structuralSharing??e4})}function KP(e={}){const{mutation:t}=e,r=Sn(e),s=$P(r),{mutate:a,mutateAsync:i,...o}=Hd({...t,...s});return{...o,chains:VP({config:r}),switchChain:a,switchChainAsync:i}}function on(e={}){const{hash:t,query:r={}}=e,s=Sn(e),a=wu({config:s}),i=BP(s,{...e,chainId:e.chainId??a}),o=!!(t&&(r.enabled??!0));return Ff({...r,...i,enabled:o})}function zt(e={}){const{mutation:t}=e,r=Sn(e),s=UP(r),{mutate:a,mutateAsync:i,...o}=Hd({...t,...s});return{...o,writeContract:a,writeContractAsync:i}}var vs={},t4={},n4={},Cr={};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}Object.defineProperty(Cr,"__esModule",{value:!0});Cr.useOCAuth=Cr.OCContext=void 0;var r4=YP(w);function s4(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(s4=function(a){return a?r:t})(e)}function YP(e,t){if(e&&e.__esModule)return e;if(e===null||_h(e)!="object"&&typeof e!="function")return{default:e};var r=s4(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var QP=Cr.OCContext=r4.createContext(null);Cr.useOCAuth=function(){return r4.useContext(QP)};(function(e){function t(v){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},t(v)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var r=a(w),s=Cr;function a(v){return v&&v.__esModule?v:{default:v}}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return y};var v,y={},g=Object.prototype,x=g.hasOwnProperty,b=Object.defineProperty||function(ne,z,U){ne[z]=U.value},N=typeof Symbol=="function"?Symbol:{},j=N.iterator||"@@iterator",C=N.asyncIterator||"@@asyncIterator",E=N.toStringTag||"@@toStringTag";function P(ne,z,U){return Object.defineProperty(ne,z,{value:U,enumerable:!0,configurable:!0,writable:!0}),ne[z]}try{P({},"")}catch{P=function(U,J,ie){return U[J]=ie}}function L(ne,z,U,J){var ie=z&&z.prototype instanceof I?z:I,oe=Object.create(ie.prototype),ue=new q(J||[]);return b(oe,"_invoke",{value:me(ne,U,ue)}),oe}function _(ne,z,U){try{return{type:"normal",arg:ne.call(z,U)}}catch(J){return{type:"throw",arg:J}}}y.wrap=L;var O="suspendedStart",W="suspendedYield",H="executing",Z="completed",ee={};function I(){}function A(){}function T(){}var $={};P($,j,function(){return this});var D=Object.getPrototypeOf,R=D&&D(D(re([])));R&&R!==g&&x.call(R,j)&&($=R);var F=T.prototype=I.prototype=Object.create($);function Y(ne){["next","throw","return"].forEach(function(z){P(ne,z,function(U){return this._invoke(z,U)})})}function te(ne,z){function U(ie,oe,ue,xe){var ge=_(ne[ie],ne,oe);if(ge.type!=="throw"){var ve=ge.arg,Ce=ve.value;return Ce&&t(Ce)=="object"&&x.call(Ce,"__await")?z.resolve(Ce.__await).then(function(se){U("next",se,ue,xe)},function(se){U("throw",se,ue,xe)}):z.resolve(Ce).then(function(se){ve.value=se,ue(ve)},function(se){return U("throw",se,ue,xe)})}xe(ge.arg)}var J;b(this,"_invoke",{value:function(oe,ue){function xe(){return new z(function(ge,ve){U(oe,ue,ge,ve)})}return J=J?J.then(xe,xe):xe()}})}function me(ne,z,U){var J=O;return function(ie,oe){if(J===H)throw Error("Generator is already running");if(J===Z){if(ie==="throw")throw oe;return{value:v,done:!0}}for(U.method=ie,U.arg=oe;;){var ue=U.delegate;if(ue){var xe=le(ue,U);if(xe){if(xe===ee)continue;return xe}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(J===O)throw J=Z,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);J=H;var ge=_(ne,z,U);if(ge.type==="normal"){if(J=U.done?Z:W,ge.arg===ee)continue;return{value:ge.arg,done:U.done}}ge.type==="throw"&&(J=Z,U.method="throw",U.arg=ge.arg)}}}function le(ne,z){var U=z.method,J=ne.iterator[U];if(J===v)return z.delegate=null,U==="throw"&&ne.iterator.return&&(z.method="return",z.arg=v,le(ne,z),z.method==="throw")||U!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+U+"' method")),ee;var ie=_(J,ne.iterator,z.arg);if(ie.type==="throw")return z.method="throw",z.arg=ie.arg,z.delegate=null,ee;var oe=ie.arg;return oe?oe.done?(z[ne.resultName]=oe.value,z.next=ne.nextLoc,z.method!=="return"&&(z.method="next",z.arg=v),z.delegate=null,ee):oe:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,ee)}function ce(ne){var z={tryLoc:ne[0]};1 in ne&&(z.catchLoc=ne[1]),2 in ne&&(z.finallyLoc=ne[2],z.afterLoc=ne[3]),this.tryEntries.push(z)}function K(ne){var z=ne.completion||{};z.type="normal",delete z.arg,ne.completion=z}function q(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(ce,this),this.reset(!0)}function re(ne){if(ne||ne===""){var z=ne[j];if(z)return z.call(ne);if(typeof ne.next=="function")return ne;if(!isNaN(ne.length)){var U=-1,J=function ie(){for(;++U<ne.length;)if(x.call(ne,U))return ie.value=ne[U],ie.done=!1,ie;return ie.value=v,ie.done=!0,ie};return J.next=J}}throw new TypeError(t(ne)+" is not iterable")}return A.prototype=T,b(F,"constructor",{value:T,configurable:!0}),b(T,"constructor",{value:A,configurable:!0}),A.displayName=P(T,E,"GeneratorFunction"),y.isGeneratorFunction=function(ne){var z=typeof ne=="function"&&ne.constructor;return!!z&&(z===A||(z.displayName||z.name)==="GeneratorFunction")},y.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,T):(ne.__proto__=T,P(ne,E,"GeneratorFunction")),ne.prototype=Object.create(F),ne},y.awrap=function(ne){return{__await:ne}},Y(te.prototype),P(te.prototype,C,function(){return this}),y.AsyncIterator=te,y.async=function(ne,z,U,J,ie){ie===void 0&&(ie=Promise);var oe=new te(L(ne,z,U,J),ie);return y.isGeneratorFunction(z)?oe:oe.next().then(function(ue){return ue.done?ue.value:oe.next()})},Y(F),P(F,E,"Generator"),P(F,j,function(){return this}),P(F,"toString",function(){return"[object Generator]"}),y.keys=function(ne){var z=Object(ne),U=[];for(var J in z)U.push(J);return U.reverse(),function ie(){for(;U.length;){var oe=U.pop();if(oe in z)return ie.value=oe,ie.done=!1,ie}return ie.done=!0,ie}},y.values=re,q.prototype={constructor:q,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(K),!z)for(var U in this)U.charAt(0)==="t"&&x.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=v)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var U=this;function J(ve,Ce){return ue.type="throw",ue.arg=z,U.next=ve,Ce&&(U.method="next",U.arg=v),!!Ce}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var oe=this.tryEntries[ie],ue=oe.completion;if(oe.tryLoc==="root")return J("end");if(oe.tryLoc<=this.prev){var xe=x.call(oe,"catchLoc"),ge=x.call(oe,"finallyLoc");if(xe&&ge){if(this.prev<oe.catchLoc)return J(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return J(oe.finallyLoc)}else if(xe){if(this.prev<oe.catchLoc)return J(oe.catchLoc,!0)}else{if(!ge)throw Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return J(oe.finallyLoc)}}}},abrupt:function(z,U){for(var J=this.tryEntries.length-1;J>=0;--J){var ie=this.tryEntries[J];if(ie.tryLoc<=this.prev&&x.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var oe=ie;break}}oe&&(z==="break"||z==="continue")&&oe.tryLoc<=U&&U<=oe.finallyLoc&&(oe=null);var ue=oe?oe.completion:{};return ue.type=z,ue.arg=U,oe?(this.method="next",this.next=oe.finallyLoc,ee):this.complete(ue)},complete:function(z,U){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&U&&(this.next=U),ee},finish:function(z){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.finallyLoc===z)return this.complete(J.completion,J.afterLoc),K(J),ee}},catch:function(z){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.tryLoc===z){var ie=J.completion;if(ie.type==="throw"){var oe=ie.arg;K(J)}return oe}}throw Error("illegal catch attempt")},delegateYield:function(z,U,J){return this.delegate={iterator:re(z),resultName:U,nextLoc:J},this.method==="next"&&(this.arg=v),ee}},y}function o(v,y,g,x,b,N,j){try{var C=v[N](j),E=C.value}catch(P){return void g(P)}C.done?y(E):Promise.resolve(E).then(x,b)}function l(v){return function(){var y=this,g=arguments;return new Promise(function(x,b){var N=v.apply(y,g);function j(E){o(N,x,b,j,C,"next",E)}function C(E){o(N,x,b,j,C,"throw",E)}j(void 0)})}}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var c={background:"#000",color:"#fff",button:{background:"#FFF",border:"#DDDDEB",color:"#C5C5D1",colorSuccess:"#8F8FB2"}},d={background:"#fff",color:"#000",button:{background:"#141414",border:"#DDDDEB",color:"#FFFFFF",colorSuccess:"#ADADB8"}},u={background:"#fff",color:"#000",button:{background:"#F5F5F5",border:"#DDDDEB",color:"#141414",colorSuccess:"#8F8FB2"}},m={background:"#fff",color:"#000",button:{background:"#141BEB",border:"#DDDDEB",color:"#FFFFFF",colorSuccess:"#9699EB"}},h={light:c,dark:d,neutral:u,ocBlue:m},p=function(y){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{display:"flex",alignItems:"center",height:44,width:160,padding:"10px 12px",fontSize:14,border:"1px solid",borderColor:y.button.border,borderRadius:g?40:8,background:y.button.background,color:y.button.color}};function f(v){var y=v.pill,g=v.disabled,x=v.theme,b=(0,s.useOCAuth)(),N=b.ocAuth,j=h[x]||h.ocBlue,C=function(){var P=l(i().mark(function L(){return i().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,N.signInWithRedirect({state:"opencampus"});case 2:case"end":return O.stop()}},L)}));return function(){return P.apply(this,arguments)}}(),E=p(j,y);return r.default.createElement("button",{disabled:g,onClick:C,style:E},r.default.createElement("img",{alt:"logo",src:"https://static.opencampus.xyz/assets/oc_logo.svg",width:"26px",height:"25px"}),r.default.createElement("span",{style:{marginLeft:"10px"}},"Connect",r.default.createElement("strong",null,"OCID")))}})(n4);var a4={},i4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(w);function r(a){return a&&a.__esModule?a:{default:a}}/*!
 * Copyright 2024-Present Animoca Brands Corporation Ltd.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var s=function(i){var o=i.width,l=i.height;return t.default.createElement("div",{className:"oc-spinner-container",style:{width:o||80,height:l||80}},t.default.createElement("div",{className:"oc-spinner"}),t.default.createElement("img",{className:"oc-logo-img",alt:"logo",src:"https://static.opencampus.xyz/assets/oc_logo.svg",width:"70%",height:"70%"}))};e.default=s})(i4);(function(e){function t(h){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t(h)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(w),s=i(i4),a=Cr;function i(h){return h&&h.__esModule?h:{default:h}}function o(h){if(typeof WeakMap!="function")return null;var p=new WeakMap,f=new WeakMap;return(o=function(y){return y?f:p})(h)}function l(h,p){if(h&&h.__esModule)return h;if(h===null||t(h)!="object"&&typeof h!="function")return{default:h};var f=o(p);if(f&&f.has(h))return f.get(h);var v={__proto__:null},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in h)if(g!=="default"&&{}.hasOwnProperty.call(h,g)){var x=y?Object.getOwnPropertyDescriptor(h,g):null;x&&(x.get||x.set)?Object.defineProperty(v,g,x):v[g]=h[g]}return v.default=h,f&&f.set(h,v),v}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return p};var h,p={},f=Object.prototype,v=f.hasOwnProperty,y=Object.defineProperty||function(K,q,re){K[q]=re.value},g=typeof Symbol=="function"?Symbol:{},x=g.iterator||"@@iterator",b=g.asyncIterator||"@@asyncIterator",N=g.toStringTag||"@@toStringTag";function j(K,q,re){return Object.defineProperty(K,q,{value:re,enumerable:!0,configurable:!0,writable:!0}),K[q]}try{j({},"")}catch{j=function(re,ne,z){return re[ne]=z}}function C(K,q,re,ne){var z=q&&q.prototype instanceof H?q:H,U=Object.create(z.prototype),J=new le(ne||[]);return y(U,"_invoke",{value:F(K,re,J)}),U}function E(K,q,re){try{return{type:"normal",arg:K.call(q,re)}}catch(ne){return{type:"throw",arg:ne}}}p.wrap=C;var P="suspendedStart",L="suspendedYield",_="executing",O="completed",W={};function H(){}function Z(){}function ee(){}var I={};j(I,x,function(){return this});var A=Object.getPrototypeOf,T=A&&A(A(ce([])));T&&T!==f&&v.call(T,x)&&(I=T);var $=ee.prototype=H.prototype=Object.create(I);function D(K){["next","throw","return"].forEach(function(q){j(K,q,function(re){return this._invoke(q,re)})})}function R(K,q){function re(z,U,J,ie){var oe=E(K[z],K,U);if(oe.type!=="throw"){var ue=oe.arg,xe=ue.value;return xe&&t(xe)=="object"&&v.call(xe,"__await")?q.resolve(xe.__await).then(function(ge){re("next",ge,J,ie)},function(ge){re("throw",ge,J,ie)}):q.resolve(xe).then(function(ge){ue.value=ge,J(ue)},function(ge){return re("throw",ge,J,ie)})}ie(oe.arg)}var ne;y(this,"_invoke",{value:function(U,J){function ie(){return new q(function(oe,ue){re(U,J,oe,ue)})}return ne=ne?ne.then(ie,ie):ie()}})}function F(K,q,re){var ne=P;return function(z,U){if(ne===_)throw Error("Generator is already running");if(ne===O){if(z==="throw")throw U;return{value:h,done:!0}}for(re.method=z,re.arg=U;;){var J=re.delegate;if(J){var ie=Y(J,re);if(ie){if(ie===W)continue;return ie}}if(re.method==="next")re.sent=re._sent=re.arg;else if(re.method==="throw"){if(ne===P)throw ne=O,re.arg;re.dispatchException(re.arg)}else re.method==="return"&&re.abrupt("return",re.arg);ne=_;var oe=E(K,q,re);if(oe.type==="normal"){if(ne=re.done?O:L,oe.arg===W)continue;return{value:oe.arg,done:re.done}}oe.type==="throw"&&(ne=O,re.method="throw",re.arg=oe.arg)}}}function Y(K,q){var re=q.method,ne=K.iterator[re];if(ne===h)return q.delegate=null,re==="throw"&&K.iterator.return&&(q.method="return",q.arg=h,Y(K,q),q.method==="throw")||re!=="return"&&(q.method="throw",q.arg=new TypeError("The iterator does not provide a '"+re+"' method")),W;var z=E(ne,K.iterator,q.arg);if(z.type==="throw")return q.method="throw",q.arg=z.arg,q.delegate=null,W;var U=z.arg;return U?U.done?(q[K.resultName]=U.value,q.next=K.nextLoc,q.method!=="return"&&(q.method="next",q.arg=h),q.delegate=null,W):U:(q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,W)}function te(K){var q={tryLoc:K[0]};1 in K&&(q.catchLoc=K[1]),2 in K&&(q.finallyLoc=K[2],q.afterLoc=K[3]),this.tryEntries.push(q)}function me(K){var q=K.completion||{};q.type="normal",delete q.arg,K.completion=q}function le(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(te,this),this.reset(!0)}function ce(K){if(K||K===""){var q=K[x];if(q)return q.call(K);if(typeof K.next=="function")return K;if(!isNaN(K.length)){var re=-1,ne=function z(){for(;++re<K.length;)if(v.call(K,re))return z.value=K[re],z.done=!1,z;return z.value=h,z.done=!0,z};return ne.next=ne}}throw new TypeError(t(K)+" is not iterable")}return Z.prototype=ee,y($,"constructor",{value:ee,configurable:!0}),y(ee,"constructor",{value:Z,configurable:!0}),Z.displayName=j(ee,N,"GeneratorFunction"),p.isGeneratorFunction=function(K){var q=typeof K=="function"&&K.constructor;return!!q&&(q===Z||(q.displayName||q.name)==="GeneratorFunction")},p.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,ee):(K.__proto__=ee,j(K,N,"GeneratorFunction")),K.prototype=Object.create($),K},p.awrap=function(K){return{__await:K}},D(R.prototype),j(R.prototype,b,function(){return this}),p.AsyncIterator=R,p.async=function(K,q,re,ne,z){z===void 0&&(z=Promise);var U=new R(C(K,q,re,ne),z);return p.isGeneratorFunction(q)?U:U.next().then(function(J){return J.done?J.value:U.next()})},D($),j($,N,"Generator"),j($,x,function(){return this}),j($,"toString",function(){return"[object Generator]"}),p.keys=function(K){var q=Object(K),re=[];for(var ne in q)re.push(ne);return re.reverse(),function z(){for(;re.length;){var U=re.pop();if(U in q)return z.value=U,z.done=!1,z}return z.done=!0,z}},p.values=ce,le.prototype={constructor:le,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(me),!q)for(var re in this)re.charAt(0)==="t"&&v.call(this,re)&&!isNaN(+re.slice(1))&&(this[re]=h)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var re=this;function ne(ue,xe){return J.type="throw",J.arg=q,re.next=ue,xe&&(re.method="next",re.arg=h),!!xe}for(var z=this.tryEntries.length-1;z>=0;--z){var U=this.tryEntries[z],J=U.completion;if(U.tryLoc==="root")return ne("end");if(U.tryLoc<=this.prev){var ie=v.call(U,"catchLoc"),oe=v.call(U,"finallyLoc");if(ie&&oe){if(this.prev<U.catchLoc)return ne(U.catchLoc,!0);if(this.prev<U.finallyLoc)return ne(U.finallyLoc)}else if(ie){if(this.prev<U.catchLoc)return ne(U.catchLoc,!0)}else{if(!oe)throw Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return ne(U.finallyLoc)}}}},abrupt:function(q,re){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var z=this.tryEntries[ne];if(z.tryLoc<=this.prev&&v.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var U=z;break}}U&&(q==="break"||q==="continue")&&U.tryLoc<=re&&re<=U.finallyLoc&&(U=null);var J=U?U.completion:{};return J.type=q,J.arg=re,U?(this.method="next",this.next=U.finallyLoc,W):this.complete(J)},complete:function(q,re){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&re&&(this.next=re),W},finish:function(q){for(var re=this.tryEntries.length-1;re>=0;--re){var ne=this.tryEntries[re];if(ne.finallyLoc===q)return this.complete(ne.completion,ne.afterLoc),me(ne),W}},catch:function(q){for(var re=this.tryEntries.length-1;re>=0;--re){var ne=this.tryEntries[re];if(ne.tryLoc===q){var z=ne.completion;if(z.type==="throw"){var U=z.arg;me(ne)}return U}}throw Error("illegal catch attempt")},delegateYield:function(q,re,ne){return this.delegate={iterator:ce(q),resultName:re,nextLoc:ne},this.method==="next"&&(this.arg=h),W}},p}function d(h,p,f,v,y,g,x){try{var b=h[g](x),N=b.value}catch(j){return void f(j)}b.done?p(N):Promise.resolve(N).then(v,y)}function u(h){return function(){var p=this,f=arguments;return new Promise(function(v,y){var g=h.apply(p,f);function x(N){d(g,v,y,x,b,"next",N)}function b(N){d(g,v,y,x,b,"throw",N)}x(void 0)})}}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/var m=function(p){var f=p.successCallback,v=p.errorCallback,y=p.customErrorComponent,g=p.customLoadingComponent,x=(0,a.useOCAuth)(),b=x.isInitialized,N=x.ocAuth,j=x.authState,C=x.setAuthError;return(0,r.useEffect)(function(){var E=function(){var P=u(c().mark(function L(){return c().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!N){O.next=11;break}return O.prev=1,O.next=4,N.handleLoginRedirect();case 4:f(),O.next=11;break;case 7:O.prev=7,O.t0=O.catch(1),C(O.t0),v&&v();case 11:case"end":return O.stop()}},L,null,[[1,7]])}));return function(){return P.apply(this,arguments)}}();E()},[N]),b&&j.error!==void 0&&!v?y||r.default.createElement("div",null,"Error Logging in: ",j.error.message):g||r.default.createElement("div",{style:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.default.createElement(s.default,{height:100,width:100}))};e.default=m})(a4);var o4={},fr={},l4={},Of={exports:{}};function Df(){}Df.prototype={on:function(e,t,r){var s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var s=this;function a(){s.off(e,a),t.apply(r,arguments)}return a._=t,this.on(e,a,r)},emit:function(e){var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),s=0,a=r.length;for(s;s<a;s++)r[s].fn.apply(r[s].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),s=r[e],a=[];if(s&&t)for(var i=0,o=s.length;i<o;i++)s[i].fn!==t&&s[i].fn._!==t&&a.push(s[i]);return a.length?r[e]=a:delete r[e],this}};Of.exports=Df;Of.exports.TinyEmitter=Df;var XP=Of.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(XP);function r(h){return h&&h.__esModule?h:{default:h}}function s(h){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(h)}function a(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function i(h,p){for(var f=0;f<p.length;f++){var v=p[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,c(v.key),v)}}function o(h,p,f){return p&&i(h.prototype,p),Object.defineProperty(h,"prototype",{writable:!1}),h}function l(h,p,f){return(p=c(p))in h?Object.defineProperty(h,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[p]=f,h}function c(h){var p=d(h,"string");return s(p)=="symbol"?p:p+""}function d(h,p){if(s(h)!="object"||!h)return h;var f=h[Symbol.toPrimitive];if(f!==void 0){var v=f.call(h,p);if(s(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var u="authStateChange",m=function(){function h(){a(this,h),l(this,"_emmitter",void 0),l(this,"_authState",void 0),this._authState=null,this._emitter=new t.default}return o(h,[{key:"setAuthState",value:function(f,v,y,g,x){this._authState={accessToken:f,idToken:v,OCId:y,ethAddress:g,isAuthenticated:x},this._emitter.emit(u,this._authState)}},{key:"getAuthState",value:function(){return Object.assign({},this._authState)}},{key:"clear",value:function(){this._authState={isAuthenticated:!1},this._emitter.emit(u,this._authState)}},{key:"subscribe",value:function(f){this._emitter.on(u,f)}},{key:"unsubscribe",value:function(f){this._emitter.off(u,f)}}])}();e.default=m})(l4);var $f={},Bf={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.parseUrl=void 0;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */ju.parseUrl=function(){var t=window.location.search,r=new URLSearchParams(t),s={};return r.has("id_token")&&(s.id_token=r.get("id_token")),r.has("code")&&(s.code=r.get("code")),r.has("state")&&(s.state=r.get("state")),s};var Nu={},c4={},zf={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.webcrypto=er.btoa=er.atob=void 0;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */er.atob=function(t){return window.atob(t)};er.btoa=function(t){return window.btoa(t)};er.webcrypto=typeof crypto>"u"?null:crypto;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.base64ToBase64Url=u4;Es.base64UrlDecode=eA;Es.base64UrlToBase64=m4;Es.stringToBase64Url=ZP;Es.stringToBuffer=JP;var d4=er;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function u4(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function m4(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function ZP(e){var t=(0,d4.btoa)(e);return u4(t)}function JP(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function eA(e){return(0,d4.atob)(m4(e))}var Su={};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}Object.defineProperty(Su,"__esModule",{value:!0});Su.verifyToken=void 0;var Dc=Es,Fh=er;function Oh(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Oh=function(){return t};var e,t={},r=Object.prototype,s=r.hasOwnProperty,a=Object.defineProperty||function(I,A,T){I[A]=T.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(I,A,T){return Object.defineProperty(I,A,{value:T,enumerable:!0,configurable:!0,writable:!0}),I[A]}try{d({},"")}catch{d=function(T,$,D){return T[$]=D}}function u(I,A,T,$){var D=A&&A.prototype instanceof g?A:g,R=Object.create(D.prototype),F=new Z($||[]);return a(R,"_invoke",{value:_(I,T,F)}),R}function m(I,A,T){try{return{type:"normal",arg:I.call(A,T)}}catch($){return{type:"throw",arg:$}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",v="completed",y={};function g(){}function x(){}function b(){}var N={};d(N,o,function(){return this});var j=Object.getPrototypeOf,C=j&&j(j(ee([])));C&&C!==r&&s.call(C,o)&&(N=C);var E=b.prototype=g.prototype=Object.create(N);function P(I){["next","throw","return"].forEach(function(A){d(I,A,function(T){return this._invoke(A,T)})})}function L(I,A){function T(D,R,F,Y){var te=m(I[D],I,R);if(te.type!=="throw"){var me=te.arg,le=me.value;return le&&Nd(le)=="object"&&s.call(le,"__await")?A.resolve(le.__await).then(function(ce){T("next",ce,F,Y)},function(ce){T("throw",ce,F,Y)}):A.resolve(le).then(function(ce){me.value=ce,F(me)},function(ce){return T("throw",ce,F,Y)})}Y(te.arg)}var $;a(this,"_invoke",{value:function(R,F){function Y(){return new A(function(te,me){T(R,F,te,me)})}return $=$?$.then(Y,Y):Y()}})}function _(I,A,T){var $=h;return function(D,R){if($===f)throw Error("Generator is already running");if($===v){if(D==="throw")throw R;return{value:e,done:!0}}for(T.method=D,T.arg=R;;){var F=T.delegate;if(F){var Y=O(F,T);if(Y){if(Y===y)continue;return Y}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if($===h)throw $=v,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);$=f;var te=m(I,A,T);if(te.type==="normal"){if($=T.done?v:p,te.arg===y)continue;return{value:te.arg,done:T.done}}te.type==="throw"&&($=v,T.method="throw",T.arg=te.arg)}}}function O(I,A){var T=A.method,$=I.iterator[T];if($===e)return A.delegate=null,T==="throw"&&I.iterator.return&&(A.method="return",A.arg=e,O(I,A),A.method==="throw")||T!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+T+"' method")),y;var D=m($,I.iterator,A.arg);if(D.type==="throw")return A.method="throw",A.arg=D.arg,A.delegate=null,y;var R=D.arg;return R?R.done?(A[I.resultName]=R.value,A.next=I.nextLoc,A.method!=="return"&&(A.method="next",A.arg=e),A.delegate=null,y):R:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function W(I){var A={tryLoc:I[0]};1 in I&&(A.catchLoc=I[1]),2 in I&&(A.finallyLoc=I[2],A.afterLoc=I[3]),this.tryEntries.push(A)}function H(I){var A=I.completion||{};A.type="normal",delete A.arg,I.completion=A}function Z(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function ee(I){if(I||I===""){var A=I[o];if(A)return A.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var T=-1,$=function D(){for(;++T<I.length;)if(s.call(I,T))return D.value=I[T],D.done=!1,D;return D.value=e,D.done=!0,D};return $.next=$}}throw new TypeError(Nd(I)+" is not iterable")}return x.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(I){var A=typeof I=="function"&&I.constructor;return!!A&&(A===x||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,b):(I.__proto__=b,d(I,c,"GeneratorFunction")),I.prototype=Object.create(E),I},t.awrap=function(I){return{__await:I}},P(L.prototype),d(L.prototype,l,function(){return this}),t.AsyncIterator=L,t.async=function(I,A,T,$,D){D===void 0&&(D=Promise);var R=new L(u(I,A,T,$),D);return t.isGeneratorFunction(A)?R:R.next().then(function(F){return F.done?F.value:R.next()})},P(E),d(E,c,"Generator"),d(E,o,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(I){var A=Object(I),T=[];for(var $ in A)T.push($);return T.reverse(),function D(){for(;T.length;){var R=T.pop();if(R in A)return D.value=R,D.done=!1,D}return D.done=!0,D}},t.values=ee,Z.prototype={constructor:Z,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(H),!A)for(var T in this)T.charAt(0)==="t"&&s.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var T=this;function $(me,le){return F.type="throw",F.arg=A,T.next=me,le&&(T.method="next",T.arg=e),!!le}for(var D=this.tryEntries.length-1;D>=0;--D){var R=this.tryEntries[D],F=R.completion;if(R.tryLoc==="root")return $("end");if(R.tryLoc<=this.prev){var Y=s.call(R,"catchLoc"),te=s.call(R,"finallyLoc");if(Y&&te){if(this.prev<R.catchLoc)return $(R.catchLoc,!0);if(this.prev<R.finallyLoc)return $(R.finallyLoc)}else if(Y){if(this.prev<R.catchLoc)return $(R.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return $(R.finallyLoc)}}}},abrupt:function(A,T){for(var $=this.tryEntries.length-1;$>=0;--$){var D=this.tryEntries[$];if(D.tryLoc<=this.prev&&s.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var R=D;break}}R&&(A==="break"||A==="continue")&&R.tryLoc<=T&&T<=R.finallyLoc&&(R=null);var F=R?R.completion:{};return F.type=A,F.arg=T,R?(this.method="next",this.next=R.finallyLoc,y):this.complete(F)},complete:function(A,T){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&T&&(this.next=T),y},finish:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var $=this.tryEntries[T];if($.finallyLoc===A)return this.complete($.completion,$.afterLoc),H($),y}},catch:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var $=this.tryEntries[T];if($.tryLoc===A){var D=$.completion;if(D.type==="throw"){var R=D.arg;H($)}return R}}throw Error("illegal catch attempt")},delegateYield:function(A,T,$){return this.delegate={iterator:ee(A),resultName:T,nextLoc:$},this.method==="next"&&(this.arg=e),y}},t}function Fy(e,t,r,s,a,i,o){try{var l=e[i](o),c=l.value}catch(d){return void r(d)}l.done?t(c):Promise.resolve(c).then(s,a)}function tA(e){return function(){var t=this,r=arguments;return new Promise(function(s,a){var i=e.apply(t,r);function o(c){Fy(i,s,a,o,l,"next",c)}function l(c){Fy(i,s,a,o,l,"throw",c)}o(void 0)})}}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var nA=function(t){var r=(0,Fh.atob)(t);return(0,Dc.stringToBuffer)(r)};Su.verifyToken=function(){var e=tA(Oh().mark(function t(r,s){var a,i,o,l,c,d,u,m,h,p;return Oh().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return a="spki",i={name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}},o=!0,l=["verify"],c=nA(s),v.next=7,Fh.webcrypto.subtle.importKey(a,c,i,o,l);case 7:return d=v.sent,u=r.split("."),m=(0,Dc.stringToBuffer)(u[0]+"."+u[1]),h=(0,Dc.base64UrlDecode)(u[2]),p=(0,Dc.stringToBuffer)(h),v.next=14,Fh.webcrypto.subtle.verify(i,d,p,m);case 14:return v.abrupt("return",v.sent);case 15:case"end":return v.stop()}},t)}));return function(r,s){return e.apply(this,arguments)}}();(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=er;Object.keys(t).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===t[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[a]}})});var r=Es;Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===r[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return r[a]}})});var s=Su;Object.keys(s).forEach(function(a){a==="default"||a==="__esModule"||a in e&&e[a]===s[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return s[a]}})})})(zf);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MIN_VERIFIER_LENGTH=e.MAX_VERIFIER_LENGTH=e.DEFAULT_CODE_CHALLENGE_METHOD=void 0;var t=zf;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var r=e.MIN_VERIFIER_LENGTH=43,s=e.MAX_VERIFIER_LENGTH=128,a=e.DEFAULT_CODE_CHALLENGE_METHOD="S256";function i(d){return("0"+d.toString(16)).substr(-2)}function o(d){var u=new Uint8Array(Math.ceil(d/2));t.webcrypto.getRandomValues(u);var m=Array.from(u,i).join("");return m.slice(0,d)}function l(d){var u=d||"";return u.length<r&&(u=u+o(r-u.length)),encodeURIComponent(u).slice(0,s)}function c(d){var u=new TextEncoder().encode(d);return t.webcrypto.subtle.digest("SHA-256",u).then(function(m){var h=String.fromCharCode.apply(null,new Uint8Array(m)),p=(0,t.stringToBase64Url)(h);return p})}e.default={DEFAULT_CODE_CHALLENGE_METHOD:a,generateVerifier:l,computeChallenge:c}})(c4);var bn={};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}Object.defineProperty(bn,"__esModule",{value:!0});bn.InvalidParamsError=bn.InternalError=bn.AuthError=void 0;function Uf(e,t,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Vf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wf(e,t,r){return t=ll(t),rA(e,Gf()?Reflect.construct(t,r||[],ll(e).constructor):t.apply(e,r))}function rA(e,t){if(t&&(Dh(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sA(e)}function sA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ol(e,t)}function Sd(e){var t=typeof Map=="function"?new Map:void 0;return Sd=function(s){if(s===null||!iA(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(s))return t.get(s);t.set(s,a)}function a(){return aA(s,arguments,ll(this).constructor)}return a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ol(a,s)},Sd(e)}function aA(e,t,r){if(Gf())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var a=new(e.bind.apply(e,s));return r&&ol(a,r.prototype),a}function Gf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gf=function(){return!!e})()}function iA(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function ol(e,t){return ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ol(e,t)}function ll(e){return ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ll(e)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var oA=bn.InternalError=function(e){function t(){return Vf(this,t),Wf(this,t,arguments)}return Hf(t,e),Uf(t)}(Sd(Error));bn.InvalidParamsError=function(e){function t(){return Vf(this,t),Wf(this,t,arguments)}return Hf(t,e),Uf(t)}(oA);bn.AuthError=function(e){function t(){return Vf(this,t),Wf(this,t,arguments)}return Hf(t,e),Uf(t)}(Sd(Error));function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}Object.defineProperty(Nu,"__esModule",{value:!0});Nu.prepareTokenParams=void 0;var R0=cA(c4),lA=bn;function cA(e){return e&&e.__esModule?e:{default:e}}function $h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$h=function(){return t};var e,t={},r=Object.prototype,s=r.hasOwnProperty,a=Object.defineProperty||function(I,A,T){I[A]=T.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(I,A,T){return Object.defineProperty(I,A,{value:T,enumerable:!0,configurable:!0,writable:!0}),I[A]}try{d({},"")}catch{d=function(T,$,D){return T[$]=D}}function u(I,A,T,$){var D=A&&A.prototype instanceof g?A:g,R=Object.create(D.prototype),F=new Z($||[]);return a(R,"_invoke",{value:_(I,T,F)}),R}function m(I,A,T){try{return{type:"normal",arg:I.call(A,T)}}catch($){return{type:"throw",arg:$}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",v="completed",y={};function g(){}function x(){}function b(){}var N={};d(N,o,function(){return this});var j=Object.getPrototypeOf,C=j&&j(j(ee([])));C&&C!==r&&s.call(C,o)&&(N=C);var E=b.prototype=g.prototype=Object.create(N);function P(I){["next","throw","return"].forEach(function(A){d(I,A,function(T){return this._invoke(A,T)})})}function L(I,A){function T(D,R,F,Y){var te=m(I[D],I,R);if(te.type!=="throw"){var me=te.arg,le=me.value;return le&&kd(le)=="object"&&s.call(le,"__await")?A.resolve(le.__await).then(function(ce){T("next",ce,F,Y)},function(ce){T("throw",ce,F,Y)}):A.resolve(le).then(function(ce){me.value=ce,F(me)},function(ce){return T("throw",ce,F,Y)})}Y(te.arg)}var $;a(this,"_invoke",{value:function(R,F){function Y(){return new A(function(te,me){T(R,F,te,me)})}return $=$?$.then(Y,Y):Y()}})}function _(I,A,T){var $=h;return function(D,R){if($===f)throw Error("Generator is already running");if($===v){if(D==="throw")throw R;return{value:e,done:!0}}for(T.method=D,T.arg=R;;){var F=T.delegate;if(F){var Y=O(F,T);if(Y){if(Y===y)continue;return Y}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if($===h)throw $=v,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);$=f;var te=m(I,A,T);if(te.type==="normal"){if($=T.done?v:p,te.arg===y)continue;return{value:te.arg,done:T.done}}te.type==="throw"&&($=v,T.method="throw",T.arg=te.arg)}}}function O(I,A){var T=A.method,$=I.iterator[T];if($===e)return A.delegate=null,T==="throw"&&I.iterator.return&&(A.method="return",A.arg=e,O(I,A),A.method==="throw")||T!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+T+"' method")),y;var D=m($,I.iterator,A.arg);if(D.type==="throw")return A.method="throw",A.arg=D.arg,A.delegate=null,y;var R=D.arg;return R?R.done?(A[I.resultName]=R.value,A.next=I.nextLoc,A.method!=="return"&&(A.method="next",A.arg=e),A.delegate=null,y):R:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function W(I){var A={tryLoc:I[0]};1 in I&&(A.catchLoc=I[1]),2 in I&&(A.finallyLoc=I[2],A.afterLoc=I[3]),this.tryEntries.push(A)}function H(I){var A=I.completion||{};A.type="normal",delete A.arg,I.completion=A}function Z(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function ee(I){if(I||I===""){var A=I[o];if(A)return A.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var T=-1,$=function D(){for(;++T<I.length;)if(s.call(I,T))return D.value=I[T],D.done=!1,D;return D.value=e,D.done=!0,D};return $.next=$}}throw new TypeError(kd(I)+" is not iterable")}return x.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(I){var A=typeof I=="function"&&I.constructor;return!!A&&(A===x||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,b):(I.__proto__=b,d(I,c,"GeneratorFunction")),I.prototype=Object.create(E),I},t.awrap=function(I){return{__await:I}},P(L.prototype),d(L.prototype,l,function(){return this}),t.AsyncIterator=L,t.async=function(I,A,T,$,D){D===void 0&&(D=Promise);var R=new L(u(I,A,T,$),D);return t.isGeneratorFunction(A)?R:R.next().then(function(F){return F.done?F.value:R.next()})},P(E),d(E,c,"Generator"),d(E,o,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(I){var A=Object(I),T=[];for(var $ in A)T.push($);return T.reverse(),function D(){for(;T.length;){var R=T.pop();if(R in A)return D.value=R,D.done=!1,D}return D.done=!0,D}},t.values=ee,Z.prototype={constructor:Z,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(H),!A)for(var T in this)T.charAt(0)==="t"&&s.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var T=this;function $(me,le){return F.type="throw",F.arg=A,T.next=me,le&&(T.method="next",T.arg=e),!!le}for(var D=this.tryEntries.length-1;D>=0;--D){var R=this.tryEntries[D],F=R.completion;if(R.tryLoc==="root")return $("end");if(R.tryLoc<=this.prev){var Y=s.call(R,"catchLoc"),te=s.call(R,"finallyLoc");if(Y&&te){if(this.prev<R.catchLoc)return $(R.catchLoc,!0);if(this.prev<R.finallyLoc)return $(R.finallyLoc)}else if(Y){if(this.prev<R.catchLoc)return $(R.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return $(R.finallyLoc)}}}},abrupt:function(A,T){for(var $=this.tryEntries.length-1;$>=0;--$){var D=this.tryEntries[$];if(D.tryLoc<=this.prev&&s.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var R=D;break}}R&&(A==="break"||A==="continue")&&R.tryLoc<=T&&T<=R.finallyLoc&&(R=null);var F=R?R.completion:{};return F.type=A,F.arg=T,R?(this.method="next",this.next=R.finallyLoc,y):this.complete(F)},complete:function(A,T){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&T&&(this.next=T),y},finish:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var $=this.tryEntries[T];if($.finallyLoc===A)return this.complete($.completion,$.afterLoc),H($),y}},catch:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var $=this.tryEntries[T];if($.tryLoc===A){var D=$.completion;if(D.type==="throw"){var R=D.arg;H($)}return R}}throw Error("illegal catch attempt")},delegateYield:function(A,T,$){return this.delegate={iterator:ee(A),resultName:T,nextLoc:$},this.method==="next"&&(this.arg=e),y}},t}function Oy(e,t,r,s,a,i,o){try{var l=e[i](o),c=l.value}catch(d){return void r(d)}l.done?t(c):Promise.resolve(c).then(s,a)}function dA(e){return function(){var t=this,r=arguments;return new Promise(function(s,a){var i=e.apply(t,r);function o(c){Oy(i,s,a,o,l,"next",c)}function l(c){Oy(i,s,a,o,l,"throw",c)}o(void 0)})}}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/Nu.prepareTokenParams=function(){var e=dA($h().mark(function t(r){var s,a,i,o,l,c;return $h().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(s=r.clientId,a=r.redirectUri,i=r.state,a){u.next=3;break}throw new lA.InvalidParamsError(" No redirect uri params!");case 3:return o=R0.default.generateVerifier(),u.next=6,R0.default.computeChallenge(o);case 6:return l=u.sent,c={clientId:s,redirectUri:a,codeVerifier:o,codeChallenge:l,codeChallengeMethod:R0.default.DEFAULT_CODE_CHALLENGE_METHOD,scope:"openid",responseType:"code"},i!=null&&(c.state=i),u.abrupt("return",c);case 10:case"end":return u.stop()}},t)}));return function(r){return e.apply(this,arguments)}}();var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.createPkceMeta=void 0;var uA=bn;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */ku.createPkceMeta=function(t){var r=t.codeChallenge,s=t.codeVerifier,a=t.codeChallengeMethod;if(!r||!s||!a)throw new uA.InvalidParamsError("codeChallenge, codeVerifier & codeChallengeMethod are required");return{codeChallenge:r,codeVerifier:s,codeChallengeMethod:a}};var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.parseJwt=void 0;/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */Cu.parseJwt=function(t){var r=t.split(".")[1],s=r.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(window.atob(s).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a)};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ju;Object.keys(t).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===t[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[i]}})});var r=Nu;Object.keys(r).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===r[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[i]}})});var s=ku;Object.keys(s).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===s[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return s[i]}})});var a=Cu;Object.keys(a).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===a[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return a[i]}})})})(Bf);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Bf,r=zf,s=bn;function a(y){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a(y)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return g};var y,g={},x=Object.prototype,b=x.hasOwnProperty,N=Object.defineProperty||function(z,U,J){z[U]=J.value},j=typeof Symbol=="function"?Symbol:{},C=j.iterator||"@@iterator",E=j.asyncIterator||"@@asyncIterator",P=j.toStringTag||"@@toStringTag";function L(z,U,J){return Object.defineProperty(z,U,{value:J,enumerable:!0,configurable:!0,writable:!0}),z[U]}try{L({},"")}catch{L=function(J,ie,oe){return J[ie]=oe}}function _(z,U,J,ie){var oe=U&&U.prototype instanceof A?U:A,ue=Object.create(oe.prototype),xe=new re(ie||[]);return N(ue,"_invoke",{value:le(z,J,xe)}),ue}function O(z,U,J){try{return{type:"normal",arg:z.call(U,J)}}catch(ie){return{type:"throw",arg:ie}}}g.wrap=_;var W="suspendedStart",H="suspendedYield",Z="executing",ee="completed",I={};function A(){}function T(){}function $(){}var D={};L(D,C,function(){return this});var R=Object.getPrototypeOf,F=R&&R(R(ne([])));F&&F!==x&&b.call(F,C)&&(D=F);var Y=$.prototype=A.prototype=Object.create(D);function te(z){["next","throw","return"].forEach(function(U){L(z,U,function(J){return this._invoke(U,J)})})}function me(z,U){function J(oe,ue,xe,ge){var ve=O(z[oe],z,ue);if(ve.type!=="throw"){var Ce=ve.arg,se=Ce.value;return se&&a(se)=="object"&&b.call(se,"__await")?U.resolve(se.__await).then(function(de){J("next",de,xe,ge)},function(de){J("throw",de,xe,ge)}):U.resolve(se).then(function(de){Ce.value=de,xe(Ce)},function(de){return J("throw",de,xe,ge)})}ge(ve.arg)}var ie;N(this,"_invoke",{value:function(ue,xe){function ge(){return new U(function(ve,Ce){J(ue,xe,ve,Ce)})}return ie=ie?ie.then(ge,ge):ge()}})}function le(z,U,J){var ie=W;return function(oe,ue){if(ie===Z)throw Error("Generator is already running");if(ie===ee){if(oe==="throw")throw ue;return{value:y,done:!0}}for(J.method=oe,J.arg=ue;;){var xe=J.delegate;if(xe){var ge=ce(xe,J);if(ge){if(ge===I)continue;return ge}}if(J.method==="next")J.sent=J._sent=J.arg;else if(J.method==="throw"){if(ie===W)throw ie=ee,J.arg;J.dispatchException(J.arg)}else J.method==="return"&&J.abrupt("return",J.arg);ie=Z;var ve=O(z,U,J);if(ve.type==="normal"){if(ie=J.done?ee:H,ve.arg===I)continue;return{value:ve.arg,done:J.done}}ve.type==="throw"&&(ie=ee,J.method="throw",J.arg=ve.arg)}}}function ce(z,U){var J=U.method,ie=z.iterator[J];if(ie===y)return U.delegate=null,J==="throw"&&z.iterator.return&&(U.method="return",U.arg=y,ce(z,U),U.method==="throw")||J!=="return"&&(U.method="throw",U.arg=new TypeError("The iterator does not provide a '"+J+"' method")),I;var oe=O(ie,z.iterator,U.arg);if(oe.type==="throw")return U.method="throw",U.arg=oe.arg,U.delegate=null,I;var ue=oe.arg;return ue?ue.done?(U[z.resultName]=ue.value,U.next=z.nextLoc,U.method!=="return"&&(U.method="next",U.arg=y),U.delegate=null,I):ue:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,I)}function K(z){var U={tryLoc:z[0]};1 in z&&(U.catchLoc=z[1]),2 in z&&(U.finallyLoc=z[2],U.afterLoc=z[3]),this.tryEntries.push(U)}function q(z){var U=z.completion||{};U.type="normal",delete U.arg,z.completion=U}function re(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(K,this),this.reset(!0)}function ne(z){if(z||z===""){var U=z[C];if(U)return U.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var J=-1,ie=function oe(){for(;++J<z.length;)if(b.call(z,J))return oe.value=z[J],oe.done=!1,oe;return oe.value=y,oe.done=!0,oe};return ie.next=ie}}throw new TypeError(a(z)+" is not iterable")}return T.prototype=$,N(Y,"constructor",{value:$,configurable:!0}),N($,"constructor",{value:T,configurable:!0}),T.displayName=L($,P,"GeneratorFunction"),g.isGeneratorFunction=function(z){var U=typeof z=="function"&&z.constructor;return!!U&&(U===T||(U.displayName||U.name)==="GeneratorFunction")},g.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,$):(z.__proto__=$,L(z,P,"GeneratorFunction")),z.prototype=Object.create(Y),z},g.awrap=function(z){return{__await:z}},te(me.prototype),L(me.prototype,E,function(){return this}),g.AsyncIterator=me,g.async=function(z,U,J,ie,oe){oe===void 0&&(oe=Promise);var ue=new me(_(z,U,J,ie),oe);return g.isGeneratorFunction(U)?ue:ue.next().then(function(xe){return xe.done?xe.value:ue.next()})},te(Y),L(Y,P,"Generator"),L(Y,C,function(){return this}),L(Y,"toString",function(){return"[object Generator]"}),g.keys=function(z){var U=Object(z),J=[];for(var ie in U)J.push(ie);return J.reverse(),function oe(){for(;J.length;){var ue=J.pop();if(ue in U)return oe.value=ue,oe.done=!1,oe}return oe.done=!0,oe}},g.values=ne,re.prototype={constructor:re,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(q),!U)for(var J in this)J.charAt(0)==="t"&&b.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=y)},stop:function(){this.done=!0;var U=this.tryEntries[0].completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var J=this;function ie(Ce,se){return xe.type="throw",xe.arg=U,J.next=Ce,se&&(J.method="next",J.arg=y),!!se}for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ue=this.tryEntries[oe],xe=ue.completion;if(ue.tryLoc==="root")return ie("end");if(ue.tryLoc<=this.prev){var ge=b.call(ue,"catchLoc"),ve=b.call(ue,"finallyLoc");if(ge&&ve){if(this.prev<ue.catchLoc)return ie(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return ie(ue.finallyLoc)}else if(ge){if(this.prev<ue.catchLoc)return ie(ue.catchLoc,!0)}else{if(!ve)throw Error("try statement without catch or finally");if(this.prev<ue.finallyLoc)return ie(ue.finallyLoc)}}}},abrupt:function(U,J){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var oe=this.tryEntries[ie];if(oe.tryLoc<=this.prev&&b.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var ue=oe;break}}ue&&(U==="break"||U==="continue")&&ue.tryLoc<=J&&J<=ue.finallyLoc&&(ue=null);var xe=ue?ue.completion:{};return xe.type=U,xe.arg=J,ue?(this.method="next",this.next=ue.finallyLoc,I):this.complete(xe)},complete:function(U,J){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&J&&(this.next=J),I},finish:function(U){for(var J=this.tryEntries.length-1;J>=0;--J){var ie=this.tryEntries[J];if(ie.finallyLoc===U)return this.complete(ie.completion,ie.afterLoc),q(ie),I}},catch:function(U){for(var J=this.tryEntries.length-1;J>=0;--J){var ie=this.tryEntries[J];if(ie.tryLoc===U){var oe=ie.completion;if(oe.type==="throw"){var ue=oe.arg;q(ie)}return ue}}throw Error("illegal catch attempt")},delegateYield:function(U,J,ie){return this.delegate={iterator:ne(U),resultName:J,nextLoc:ie},this.method==="next"&&(this.arg=y),I}},g}function o(y,g,x,b,N,j,C){try{var E=y[j](C),P=E.value}catch(L){return void x(L)}E.done?g(P):Promise.resolve(P).then(b,N)}function l(y){return function(){var g=this,x=arguments;return new Promise(function(b,N){var j=y.apply(g,x);function C(P){o(j,b,N,C,E,"next",P)}function E(P){o(j,b,N,C,E,"throw",P)}C(void 0)})}}function c(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function d(y,g){for(var x=0;x<g.length;x++){var b=g[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,h(b.key),b)}}function u(y,g,x){return g&&d(y.prototype,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function m(y,g,x){return(g=h(g))in y?Object.defineProperty(y,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[g]=x,y}function h(y){var g=p(y,"string");return a(g)=="symbol"?g:g+""}function p(y,g){if(a(y)!="object"||!y)return y;var x=y[Symbol.toPrimitive];if(x!==void 0){var b=x.call(y,g);if(a(b)!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var f="oc-token-storage",v=function(){function y(g,x,b){c(this,y),m(this,"storageManager",void 0),m(this,"tokenExpiredAt",void 0),m(this,"tokenEndPoint",void 0),m(this,"publicKey",void 0),this.storageManager=new g(f),this.tokenEndPoint=x,this.publicKey=b}return u(y,[{key:"clear",value:function(){this.storageManager.getStorageObject().clearStorage()}},{key:"exchangeTokenFromCode",value:function(){var g=l(i().mark(function b(N,j){var C,E,P,L,_,O,W,H,Z,ee,I=arguments;return i().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return C=I.length>2&&I[2]!==void 0?I[2]:null,E={accessCode:N,codeVerifier:j},T.prev=2,T.next=5,fetch(this.tokenEndPoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});case 5:return P=T.sent,T.next=8,P.json();case 8:if(L=T.sent,_=L.access_token,O=L.id_token,!(!_||!O)){T.next=13;break}throw new s.AuthError("Fail to exchange token");case 13:return T.next=15,this.getPublicKey();case 15:return W=T.sent,T.next=18,(0,r.verifyToken)(O,W);case 18:if(H=T.sent,H){T.next=21;break}throw new s.AuthError("Unable to verify token");case 21:Z=(0,t.parseJwt)(_),ee=Object.assign({access_token:_,id_token:O,expired:Z.exp},C&&{state:C}),this.storageManager.getStorageObject().setStorage(ee),T.next=30;break;case 26:throw T.prev=26,T.t0=T.catch(2),console.log(T.t0),new s.AuthError("Token acquisition failed");case 30:case"end":return T.stop()}},b,this,[[2,26]])}));function x(b,N){return g.apply(this,arguments)}return x}()},{key:"getStateParameter",value:function(){return this.storageManager.getStorageObject().getItem("state")}},{key:"getIdToken",value:function(){return this.storageManager.getStorageObject().getItem("id_token")}},{key:"getAccessToken",value:function(){return this.storageManager.getStorageObject().getItem("access_token")}},{key:"getExpiredAt",value:function(){return this.storageManager.getStorageObject().getItem("expired")}},{key:"getPublicKey",value:function(){var g=l(i().mark(function b(){return i().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",this.publicKey);case 1:case"end":return j.stop()}},b,this)}));function x(){return g.apply(this,arguments)}return x}()},{key:"hasExpired",value:function(){var x=this.getExpiredAt();if(!x)return!0;var b=Math.round(new Date().valueOf()/1e3);return b>=x}}])}();e.default=v})($f);var qf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(u){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(u)}function r(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function s(u,m){for(var h=0;h<m.length;h++){var p=m[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,o(p.key),p)}}function a(u,m,h){return m&&s(u.prototype,m),Object.defineProperty(u,"prototype",{writable:!1}),u}function i(u,m,h){return(m=o(m))in u?Object.defineProperty(u,m,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[m]=h,u}function o(u){var m=l(u,"string");return t(m)=="symbol"?m:m+""}function l(u,m){if(t(u)!="object"||!u)return u;var h=u[Symbol.toPrimitive];if(h!==void 0){var p=h.call(u,m);if(t(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var c="oc-transaction-storage",d=function(){function u(m){r(this,u),i(this,"storageManager",void 0),this.storageManager=new m(c)}return a(u,[{key:"clear",value:function(){this.storageManager.getStorageObject().clearStorage()}},{key:"save",value:function(h){this.storageManager.getStorageObject().setStorage(h)}},{key:"getTransactionMeta",value:function(){return this.storageManager.getStorageObject().getStorage()}},{key:"hasActiveTransaction",value:function(){var h=this.storageManager.getStorageObject();return!!h.codeChallenge&&!!h.codeVerifier}}])}();e.default=d})(qf);var gr={},Tu={},h4={exports:{}};/*! js-cookie v3.0.5 | MIT */(function(e,t){(function(r,s){e.exports=s()})(V3,function(){function r(o){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var d in c)o[d]=c[d]}return o}var s={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function a(o,l){function c(u,m,h){if(!(typeof document>"u")){h=r({},l,h),typeof h.expires=="number"&&(h.expires=new Date(Date.now()+h.expires*864e5)),h.expires&&(h.expires=h.expires.toUTCString()),u=encodeURIComponent(u).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var f in h)h[f]&&(p+="; "+f,h[f]!==!0&&(p+="="+h[f].split(";")[0]));return document.cookie=u+"="+o.write(m,u)+p}}function d(u){if(!(typeof document>"u"||arguments.length&&!u)){for(var m=document.cookie?document.cookie.split("; "):[],h={},p=0;p<m.length;p++){var f=m[p].split("="),v=f.slice(1).join("=");try{var y=decodeURIComponent(f[0]);if(h[y]=o.read(v,y),u===y)break}catch{}}return u?h[u]:h}}return Object.create({set:c,get:d,remove:function(u,m){c(u,"",r({},m,{expires:-1}))},withAttributes:function(u){return a(this.converter,r({},this.attributes,u))},withConverter:function(u){return a(r({},this.converter,u),this.attributes)}},{attributes:{value:Object.freeze(l)},converter:{value:Object.freeze(o)}})}var i=a(s,{path:"/"});return i})})(h4);var mA=h4.exports;Object.defineProperty(Tu,"__esModule",{value:!0});Tu.CookieStorageProvider=void 0;var L0=hA(mA);function hA(e){return e&&e.__esModule?e:{default:e}}function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function pA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,p4(s.key),s)}}function gA(e,t,r){return t&&fA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I0(e,t,r){return(t=p4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4(e){var t=xA(e,"string");return cl(t)=="symbol"?t:t+""}function xA(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(cl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/Tu.CookieStorageProvider=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pA(this,e),I0(this,"domain",void 0),I0(this,"sameSite",void 0),I0(this,"keyPrefix",void 0),this.domain=t.domain,this.sameSite=t.sameSite,this.keyPrefix=t.cookieKeyPrefix}return gA(e,[{key:"getKey",value:function(r){return this.keyPrefix?"".concat(this.keyPrefix,"-").concat(r):r}},{key:"getItem",value:function(r){return L0.default.get(this.getKey(r))}},{key:"setItem",value:function(r,s){var a={expires:365,path:"/",domain:this.domain};return this.sameSite===!0?a.sameSite="Strict":this.sameSite===!1&&(a.sameSite="None",a.secure=!0),L0.default.set(this.getKey(r),s,a)}},{key:"removeItem",value:function(r){return L0.default.remove(this.getKey(r),{path:"/",domain:this.domain})}}])}();Object.defineProperty(gr,"__esModule",{value:!0});gr.getStorageClass=gr.LocalStorageManager=gr.BaseStorageManager=void 0;var yA=bn,bA=Tu;function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function f4(e,t,r){return t=Cd(t),vA(e,g4()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function vA(e,t){if(t&&(wi(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wA(e)}function wA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cd(e)}function x4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bh(e,t)}function Bh(e,t){return Bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Bh(e,t)}function Eu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,y4(s.key),s)}}function Pu(e,t,r){return t&&jA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Td(e,t,r){return(t=y4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y4(e){var t=NA(e,"string");return wi(t)=="symbol"?t:t+""}function NA(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(wi(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd. 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var SA=function(){function e(t,r){Eu(this,e),Td(this,"storageProvider",void 0),Td(this,"storageName",void 0),this.storageProvider=t,this.storageName=r}return Pu(e,[{key:"getItem",value:function(r){return this.getStorage()[r]}},{key:"setItem",value:function(r,s){return this.updateStorage(r,s)}},{key:"removeItem",value:function(r){return this.clearStorage(r)}},{key:"getStorage",value:function(){var r=this.storageProvider.getItem(this.storageName);r=r||"{}";try{return JSON.parse(r)}catch{throw new yA.InternalError("Unable to parse storage string: "+this.storageName)}}},{key:"setStorage",value:function(r){try{var s=r?JSON.stringify(r):"{}";this.storageProvider.setItem(this.storageName,s)}catch{throw new Error("Unable to set storage: "+this.storageName)}}},{key:"clearStorage",value:function(r){if(!r){this.storageProvider.removeItem(this.storageName);return}var s=this.getStorage();delete s[r],this.setStorage(s)}},{key:"updateStorage",value:function(r,s){var a=this.getStorage();a[r]=s,this.setStorage(a)}}])}(),b4=gr.BaseStorageManager=function(){function e(t,r){Eu(this,e),Td(this,"storageProvider",void 0),Td(this,"storageName",void 0),this.storageName=t,this.storageProvider=r}return Pu(e,[{key:"getStorageObject",value:function(){return new SA(this.storageProvider,this.storageName)}}])}(),kA=gr.LocalStorageManager=function(e){function t(r){return Eu(this,t),f4(this,t,[r,window.localStorage])}return x4(t,e),Pu(t)}(b4);gr.getStorageClass=function(t){return t.storageType==="cookie"?function(r){function s(a){return Eu(this,s),f4(this,s,[a,new bA.CookieStorageProvider(t)])}return x4(s,r),Pu(s)}(b4):kA};var v4={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.buildAuthEndpointUrl=void 0;/*!
 * Copyright 2024-Present Animoca Brands Corporation Ltd.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */Au.buildAuthEndpointUrl=function(t,r){var s=new URL(r);return s.searchParams.append("client_id",t.clientId),s.searchParams.append("origin_url",window.location.href),s.searchParams.append("redirect_uri",t.redirectUri),s.searchParams.append("response_type",t.responseType),s.searchParams.append("scope",t.scope),s.searchParams.append("code_challenge",t.codeChallenge),s.searchParams.append("code_challenge_method",t.codeChallengeMethod),t.state!==void 0&&s.searchParams.append("state",t.state),t.referralCode&&s.searchParams.append("ref",t.referralCode),s.href};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Au;Object.keys(t).forEach(function(r){r==="default"||r==="__esModule"||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})})(v4);Object.defineProperty(fr,"__esModule",{value:!0});fr.OCAuthSandbox=fr.OCAuthLive=fr.OCAuthCore=void 0;var CA=Kf(l4),w4=Kf($f),j4=Kf(qf),N4=gr,Xi=Bf,TA=v4,Dy=bn;function Kf(e){return e&&e.__esModule?e:{default:e}}function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function S4(e,t,r){return t=Ed(t),EA(e,k4()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function EA(e,t){if(t&&(ws(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PA(e)}function PA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ed(e)}function C4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zh(e,t)}function zh(e,t){return zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},zh(e,t)}function Os(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Os=function(){return t};var e,t={},r=Object.prototype,s=r.hasOwnProperty,a=Object.defineProperty||function(I,A,T){I[A]=T.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(I,A,T){return Object.defineProperty(I,A,{value:T,enumerable:!0,configurable:!0,writable:!0}),I[A]}try{d({},"")}catch{d=function(T,$,D){return T[$]=D}}function u(I,A,T,$){var D=A&&A.prototype instanceof g?A:g,R=Object.create(D.prototype),F=new Z($||[]);return a(R,"_invoke",{value:_(I,T,F)}),R}function m(I,A,T){try{return{type:"normal",arg:I.call(A,T)}}catch($){return{type:"throw",arg:$}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",v="completed",y={};function g(){}function x(){}function b(){}var N={};d(N,o,function(){return this});var j=Object.getPrototypeOf,C=j&&j(j(ee([])));C&&C!==r&&s.call(C,o)&&(N=C);var E=b.prototype=g.prototype=Object.create(N);function P(I){["next","throw","return"].forEach(function(A){d(I,A,function(T){return this._invoke(A,T)})})}function L(I,A){function T(D,R,F,Y){var te=m(I[D],I,R);if(te.type!=="throw"){var me=te.arg,le=me.value;return le&&ws(le)=="object"&&s.call(le,"__await")?A.resolve(le.__await).then(function(ce){T("next",ce,F,Y)},function(ce){T("throw",ce,F,Y)}):A.resolve(le).then(function(ce){me.value=ce,F(me)},function(ce){return T("throw",ce,F,Y)})}Y(te.arg)}var $;a(this,"_invoke",{value:function(R,F){function Y(){return new A(function(te,me){T(R,F,te,me)})}return $=$?$.then(Y,Y):Y()}})}function _(I,A,T){var $=h;return function(D,R){if($===f)throw Error("Generator is already running");if($===v){if(D==="throw")throw R;return{value:e,done:!0}}for(T.method=D,T.arg=R;;){var F=T.delegate;if(F){var Y=O(F,T);if(Y){if(Y===y)continue;return Y}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if($===h)throw $=v,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);$=f;var te=m(I,A,T);if(te.type==="normal"){if($=T.done?v:p,te.arg===y)continue;return{value:te.arg,done:T.done}}te.type==="throw"&&($=v,T.method="throw",T.arg=te.arg)}}}function O(I,A){var T=A.method,$=I.iterator[T];if($===e)return A.delegate=null,T==="throw"&&I.iterator.return&&(A.method="return",A.arg=e,O(I,A),A.method==="throw")||T!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+T+"' method")),y;var D=m($,I.iterator,A.arg);if(D.type==="throw")return A.method="throw",A.arg=D.arg,A.delegate=null,y;var R=D.arg;return R?R.done?(A[I.resultName]=R.value,A.next=I.nextLoc,A.method!=="return"&&(A.method="next",A.arg=e),A.delegate=null,y):R:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function W(I){var A={tryLoc:I[0]};1 in I&&(A.catchLoc=I[1]),2 in I&&(A.finallyLoc=I[2],A.afterLoc=I[3]),this.tryEntries.push(A)}function H(I){var A=I.completion||{};A.type="normal",delete A.arg,I.completion=A}function Z(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function ee(I){if(I||I===""){var A=I[o];if(A)return A.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var T=-1,$=function D(){for(;++T<I.length;)if(s.call(I,T))return D.value=I[T],D.done=!1,D;return D.value=e,D.done=!0,D};return $.next=$}}throw new TypeError(ws(I)+" is not iterable")}return x.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:x,configurable:!0}),x.displayName=d(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(I){var A=typeof I=="function"&&I.constructor;return!!A&&(A===x||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,b):(I.__proto__=b,d(I,c,"GeneratorFunction")),I.prototype=Object.create(E),I},t.awrap=function(I){return{__await:I}},P(L.prototype),d(L.prototype,l,function(){return this}),t.AsyncIterator=L,t.async=function(I,A,T,$,D){D===void 0&&(D=Promise);var R=new L(u(I,A,T,$),D);return t.isGeneratorFunction(A)?R:R.next().then(function(F){return F.done?F.value:R.next()})},P(E),d(E,c,"Generator"),d(E,o,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(I){var A=Object(I),T=[];for(var $ in A)T.push($);return T.reverse(),function D(){for(;T.length;){var R=T.pop();if(R in A)return D.value=R,D.done=!1,D}return D.done=!0,D}},t.values=ee,Z.prototype={constructor:Z,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(H),!A)for(var T in this)T.charAt(0)==="t"&&s.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var T=this;function $(me,le){return F.type="throw",F.arg=A,T.next=me,le&&(T.method="next",T.arg=e),!!le}for(var D=this.tryEntries.length-1;D>=0;--D){var R=this.tryEntries[D],F=R.completion;if(R.tryLoc==="root")return $("end");if(R.tryLoc<=this.prev){var Y=s.call(R,"catchLoc"),te=s.call(R,"finallyLoc");if(Y&&te){if(this.prev<R.catchLoc)return $(R.catchLoc,!0);if(this.prev<R.finallyLoc)return $(R.finallyLoc)}else if(Y){if(this.prev<R.catchLoc)return $(R.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return $(R.finallyLoc)}}}},abrupt:function(A,T){for(var $=this.tryEntries.length-1;$>=0;--$){var D=this.tryEntries[$];if(D.tryLoc<=this.prev&&s.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var R=D;break}}R&&(A==="break"||A==="continue")&&R.tryLoc<=T&&T<=R.finallyLoc&&(R=null);var F=R?R.completion:{};return F.type=A,F.arg=T,R?(this.method="next",this.next=R.finallyLoc,y):this.complete(F)},complete:function(A,T){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&T&&(this.next=T),y},finish:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var $=this.tryEntries[T];if($.finallyLoc===A)return this.complete($.completion,$.afterLoc),H($),y}},catch:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var $=this.tryEntries[T];if($.tryLoc===A){var D=$.completion;if(D.type==="throw"){var R=D.arg;H($)}return R}}throw Error("illegal catch attempt")},delegateYield:function(A,T,$){return this.delegate={iterator:ee(A),resultName:T,nextLoc:$},this.method==="next"&&(this.arg=e),y}},t}function $y(e,t,r,s,a,i,o){try{var l=e[i](o),c=l.value}catch(d){return void r(d)}l.done?t(c):Promise.resolve(c).then(s,a)}function _0(e){return function(){var t=this,r=arguments;return new Promise(function(s,a){var i=e.apply(t,r);function o(c){$y(i,s,a,o,l,"next",c)}function l(c){$y(i,s,a,o,l,"throw",c)}o(void 0)})}}function Yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,T4(s.key),s)}}function Qf(e,t,r){return t&&AA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e,t,r){return(t=T4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T4(e){var t=MA(e,"string");return ws(t)=="symbol"?t:t+""}function MA(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ws(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/var E4=fr.OCAuthCore=function(){function e(t,r,s,a,i,o,l){if(Yf(this,e),$r(this,"clientId",void 0),$r(this,"tokenManager",void 0),$r(this,"authInfoManager",void 0),$r(this,"transactionManager",void 0),$r(this,"redirectUri",void 0),$r(this,"loginEndPoint",void 0),$r(this,"logoutEndPoint",void 0),$r(this,"referralCode",void 0),!t)throw new Dy.InvalidParamsError("clientId is not defined");this.transactionManager=a,this.tokenManager=i,this.authInfoManager=new CA.default,this.loginEndPoint=r,this.logoutEndPoint=l,this.redirectUri=s,this.referralCode=o,this.clientId=t,this.syncAuthInfo()}return Qf(e,[{key:"clearStorage",value:function(){this.transactionManager.clear(),this.tokenManager.clear()}},{key:"logout",value:function(){var t=_0(Os().mark(function s(a){var i;return Os().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:this.clearStorage(),i=new URL(this.logoutEndPoint),a&&i.searchParams.append("returnTo",a),window.location.assign(i.toString());case 4:case"end":return l.stop()}},s,this)}));function r(s){return t.apply(this,arguments)}return r}()},{key:"signInWithRedirect",value:function(){var t=_0(Os().mark(function s(a){var i,o,l,c;return Os().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=Object.assign({},a),i.redirectUri=this.redirectUri,i.clientId=this.clientId,u.next=5,(0,Xi.prepareTokenParams)(i);case 5:o=u.sent,l=(0,Xi.createPkceMeta)(o),this.transactionManager.save(l),o.referralCode=this.referralCode,c=(0,TA.buildAuthEndpointUrl)(o,this.loginEndPoint),window.location.assign(c);case 11:case"end":return u.stop()}},s,this)}));function r(s){return t.apply(this,arguments)}return r}()},{key:"handleLoginRedirect",value:function(){var t=_0(Os().mark(function s(){var a,i,o;return Os().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a=(0,Xi.parseUrl)(),!a.code){c.next=13;break}if(i=this.transactionManager.getTransactionMeta(),o=i.codeVerifier,!o){c.next=12;break}return c.next=7,this.tokenManager.exchangeTokenFromCode(a.code,o,a.state);case 7:return this.transactionManager.clear(),this.syncAuthInfo(),c.abrupt("return",this.getAuthState());case 12:throw new Dy.AuthError("codeVerifier not found, cannot complete flow");case 13:return c.abrupt("return",{});case 14:case"end":return c.stop()}},s,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"isAuthenticated",value:function(){return!this.tokenManager.hasExpired()}},{key:"syncAuthInfo",value:function(){if(this.tokenManager.hasExpired())this.authInfoManager.clear();else{var r=this.getParsedIdToken(),s=r.edu_username,a=r.eth_address;this.authInfoManager.setAuthState(this.getAccessToken(),this.getIdToken(),s,a,!0)}}},{key:"getAuthState",value:function(){return this.authInfoManager.getAuthState()}},{key:"getStateParameter",value:function(){return this.tokenManager.getStateParameter()}},{key:"getIdToken",value:function(){return this.tokenManager.getIdToken()}},{key:"getAccessToken",value:function(){return this.tokenManager.getAccessToken()}},{key:"getParsedIdToken",value:function(){var r=this.tokenManager.getIdToken();return r?(0,Xi.parseJwt)(r):{}}},{key:"getParsedAccessToken",value:function(){var r=this.tokenManager.getAccessToken();return r?(0,Xi.parseJwt)(r):{}}},{key:"OCId",get:function(){var r,s=this.authInfoManager.getAuthState();return(r=s.OCId)!==null&&r!==void 0?r:null}},{key:"ethAddress",get:function(){var r,s=this.authInfoManager.getAuthState();return(r=s.ethAddress)!==null&&r!==void 0?r:null}}])}(),RA="MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEBIDHtLbgVM76SXZ4iuIjuO+ERQPnVpJzagOsZdYxFG3ZJmvfdpr/Z29SLUbdZWafrOlAVlKe1Ovf/tcH671tTw==",LA="MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE/EymMLXd/MVYPK5r2xXQj91ZVvX3OQ+QagvR2N6lCvRVjnzmOtPRTf+u5g1RliWnmuxbV3gTm0/0VuV/40Salg==";fr.OCAuthLive=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yf(this,t);var s=r.tokenEndPoint,a=r.loginEndPoint,i=r.logoutEndPoint,o=r.publicKey,l=r.redirectUri,c=r.referralCode,d=r.clientId,u=s||"https://api.login.opencampus.xyz/auth/token",m=a||"https://api.login.opencampus.xyz/auth/login",h=i||"https://api.login.opencampus.xyz/auth/logout",p=o||RA,f=(0,N4.getStorageClass)(r),v=new j4.default(f),y=new w4.default(f,u,p);return S4(this,t,[d,m,l,v,y,c,h])}return C4(t,e),Qf(t)}(E4);fr.OCAuthSandbox=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yf(this,t);var s=r.tokenEndPoint,a=r.loginEndPoint,i=r.logoutEndPoint,o=r.publicKey,l=r.redirectUri,c=r.referralCode,d=r.clientId||"sandbox",u=s||"https://api.login.sandbox.opencampus.xyz/auth/token",m=a||"https://api.login.sandbox.opencampus.xyz/auth/login",h=i||"https://api.login.sandbox.opencampus.xyz/auth/logout",p=o||LA,f=(0,N4.getStorageClass)(r),v=new j4.default(f),y=new w4.default(f,u,p);return S4(this,t,[d,m,l,v,y,c,h])}return C4(t,e),Qf(t)}(E4);(function(e){function t(f){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},t(f)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(w),s=Cr,a=fr;function i(f){if(typeof WeakMap!="function")return null;var v=new WeakMap,y=new WeakMap;return(i=function(x){return x?y:v})(f)}function o(f,v){if(f&&f.__esModule)return f;if(f===null||t(f)!="object"&&typeof f!="function")return{default:f};var y=i(v);if(y&&y.has(f))return y.get(f);var g={__proto__:null},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in f)if(b!=="default"&&{}.hasOwnProperty.call(f,b)){var N=x?Object.getOwnPropertyDescriptor(f,b):null;N&&(N.get||N.set)?Object.defineProperty(g,b,N):g[b]=f[b]}return g.default=f,y&&y.set(f,g),g}function l(f,v){return h(f)||m(f,v)||d(f,v)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(f,v){if(f){if(typeof f=="string")return u(f,v);var y={}.toString.call(f).slice(8,-1);return y==="Object"&&f.constructor&&(y=f.constructor.name),y==="Map"||y==="Set"?Array.from(f):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?u(f,v):void 0}}function u(f,v){(v==null||v>f.length)&&(v=f.length);for(var y=0,g=Array(v);y<v;y++)g[y]=f[y];return g}function m(f,v){var y=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(y!=null){var g,x,b,N,j=[],C=!0,E=!1;try{if(b=(y=y.call(f)).next,v!==0)for(;!(C=(g=b.call(y)).done)&&(j.push(g.value),j.length!==v);C=!0);}catch(P){E=!0,x=P}finally{try{if(!C&&y.return!=null&&(N=y.return(),Object(N)!==N))return}finally{if(E)throw x}}return j}}function h(f){if(Array.isArray(f))return f}/*!
* Copyright 2024-Present Animoca Brands Corporation Ltd.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/var p=function(v){var y=v.children,g=v.opts,x=v.sandboxMode,b=(0,r.useState)(),N=l(b,2),j=N[0],C=N[1],E=(0,r.useState)(),P=l(E,2),L=P[0],_=P[1],O=(0,r.useState)(),W=l(O,2),H=W[0],Z=W[1],ee=(0,r.useState)(),I=l(ee,2),A=I[0],T=I[1],$=(0,r.useState)(!1),D=l($,2),R=D[0],F=D[1],Y=(0,r.useState)(null),te=l(Y,2),me=te[0],le=te[1],ce=function(q){T(q),_(q.OCId),Z(q.ethAddress)};return(0,r.useEffect)(function(){var K=x?new a.OCAuthSandbox(g):new a.OCAuthLive(g);ce(K.getAuthState()),C(K),F(!0)},[]),(0,r.useEffect)(function(){if(j&&j.authInfoManager)return j.authInfoManager.subscribe(ce),function(){j.authInfoManager.unsubscribe(ce)}},[j]),r.default.createElement(s.OCContext.Provider,{value:{OCId:L,ethAddress:H,ocAuth:j,authState:A,authError:me,isInitialized:R,setAuthError:le}},y)};e.default=p})(o4);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={LoginButton:!0,LoginCallBack:!0,OCConnect:!0};Object.defineProperty(e,"LoginButton",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"LoginCallBack",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OCConnect",{enumerable:!0,get:function(){return a.default}});var r=o(n4),s=o(a4),a=o(o4),i=Cr;Object.keys(i).forEach(function(l){l==="default"||l==="__esModule"||Object.prototype.hasOwnProperty.call(t,l)||l in e&&e[l]===i[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return i[l]}})});function o(l){return l&&l.__esModule?l:{default:l}}})(t4);var P4={},A4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={TokenManager:!0,TransactionManager:!0};Object.defineProperty(e,"TokenManager",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"TransactionManager",{enumerable:!0,get:function(){return s.default}});var r=i($f),s=i(qf),a=gr;Object.keys(a).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(t,o)||o in e&&e[o]===a[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return a[o]}})});function i(o){return o&&o.__esModule?o:{default:o}}})(A4);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=A4;Object.keys(t).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===t[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[s]}})});var r=fr;Object.keys(r).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===r[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return r[s]}})})})(P4);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=t4;Object.keys(t).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===t[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[s]}})});var r=P4;Object.keys(r).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===r[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return r[s]}})})})(vs);function IA({children:e,sandboxMode:t=!0}){const r={clientId:"<Does_Not_Matter_For_Sandbox_mode>",redirectUri:window.location.origin+"/redirect",referralCode:"PARTNER6",storageType:"localStorage"};return n.jsx(vs.OCConnect,{opts:r,sandboxMode:t,children:e})}const Xf=w.createContext({});function Zf(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jf=typeof window<"u",M4=Jf?w.useLayoutEffect:w.useEffect,Mu=w.createContext(null),eg=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _A extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=r.offsetParent,a=s instanceof HTMLElement&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FA({children:e,isPresent:t,anchorX:r}){const s=w.useId(),a=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(eg);return w.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:m}=i.current;if(t||!a.current||!l||!c)return;const h=r==="left"?`left: ${u}`:`right: ${m}`;a.current.dataset.motionPopId=s;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${h}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),n.jsx(_A,{isPresent:t,childRef:a,sizeRef:i,children:w.cloneElement(e,{ref:a})})}const OA=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const c=Zf(DA),d=w.useId(),u=w.useCallback(h=>{c.set(h,!0);for(const p of c.values())if(!p)return;s&&s()},[c,s]),m=w.useMemo(()=>({id:d,initial:t,isPresent:r,custom:a,onExitComplete:u,register:h=>(c.set(h,!1),()=>c.delete(h))}),i?[Math.random(),u]:[r,u]);return w.useMemo(()=>{c.forEach((h,p)=>c.set(p,!1))},[r]),w.useEffect(()=>{!r&&!c.size&&s&&s()},[r]),o==="popLayout"&&(e=n.jsx(FA,{isPresent:r,anchorX:l,children:e})),n.jsx(Mu.Provider,{value:m,children:e})};function DA(){return new Map}function R4(e=!0){const t=w.useContext(Mu);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=t,i=w.useId();w.useEffect(()=>{if(e)return a(i)},[e]);const o=w.useCallback(()=>e&&s&&s(i),[i,s,e]);return!r&&s?[!1,o]:[!0]}const mc=e=>e.key||"";function By(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const ft=({children:e,custom:t,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=R4(o),u=w.useMemo(()=>By(e),[e]),m=o&&!c?[]:u.map(mc),h=w.useRef(!0),p=w.useRef(u),f=Zf(()=>new Map),[v,y]=w.useState(u),[g,x]=w.useState(u);M4(()=>{h.current=!1,p.current=u;for(let j=0;j<g.length;j++){const C=mc(g[j]);m.includes(C)?f.delete(C):f.get(C)!==!0&&f.set(C,!1)}},[g,m.length,m.join("-")]);const b=[];if(u!==v){let j=[...u];for(let C=0;C<g.length;C++){const E=g[C],P=mc(E);m.includes(P)||(j.splice(C,0,E),b.push(E))}return i==="wait"&&b.length&&(j=b),x(By(j)),y(u),null}const{forceRender:N}=w.useContext(Xf);return n.jsx(n.Fragment,{children:g.map(j=>{const C=mc(j),E=o&&!c?!1:u===g||m.includes(C),P=()=>{if(f.has(C))f.set(C,!0);else return;let L=!0;f.forEach(_=>{_||(L=!1)}),L&&(N==null||N(),x(p.current),o&&(d==null||d()),s&&s())};return n.jsx(OA,{isPresent:E,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:E?void 0:P,anchorX:l,children:j},C)})})};function tg(e,t){e.indexOf(t)===-1&&e.push(t)}function ng(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const sn=e=>e;let L4=sn;const $A={useManualTiming:!1};function rg(e){let t;return()=>(t===void 0&&(t=e()),t)}const ji=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s};class sg{constructor(){this.subscriptions=[]}add(t){return tg(this.subscriptions,t),()=>ng(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xr=e=>e*1e3,yr=e=>e/1e3;function I4(e,t){return t?e*(1e3/t):0}const BA=rg(()=>window.ScrollTimeline!==void 0);class zA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=r}attachTimeline(t,r){const s=this.animations.map(a=>{if(BA()&&a.attachTimeline)return a.attachTimeline(t);if(typeof r=="function")return r(a)});return()=>{s.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class UA extends zA{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function ag(e,t){return e?e[t]||e.default||e:void 0}const Uh=2e4;function _4(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<Uh;)t+=r,s=e.next(t);return t>=Uh?1/0:t}function ig(e){return typeof e=="function"}function zy(e,t){e.timeline=t,e.onfinish=null}const og=e=>Array.isArray(e)&&typeof e[0]=="number",VA={linearEasing:void 0};function WA(e,t){const r=rg(e);return()=>{var s;return(s=VA[t])!==null&&s!==void 0?s:r()}}const Pd=WA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),F4=(e,t,r=10)=>{let s="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)s+=e(ji(0,a-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function O4(e){return!!(typeof e=="function"&&Pd()||!e||typeof e=="string"&&(e in Vh||Pd())||og(e)||Array.isArray(e)&&e.every(O4))}const uo=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,Vh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uo([0,.65,.55,1]),circOut:uo([.55,0,1,.45]),backIn:uo([.31,.01,.66,-.59]),backOut:uo([.33,1.53,.69,.99])};function D4(e,t){if(e)return typeof e=="function"&&Pd()?F4(e,t):og(e)?uo(e):Array.isArray(e)?e.map(r=>D4(r,t)||Vh.easeOut):Vh[e]}const hc=["read","resolveKeyframes","update","preRender","render","postRender"],Uy={value:null};function HA(e,t){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){o.has(m)&&(u.schedule(m),e()),c++,m(l)}const u={schedule:(m,h=!1,p=!1)=>{const v=p&&a?r:s;return h&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{s.delete(m),o.delete(m)},process:m=>{if(l=m,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(d),t&&Uy.value&&Uy.value.frameloop[t].push(c),c=0,r.clear(),a=!1,i&&(i=!1,u.process(m))}};return u}const GA=40;function $4(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=hc.reduce((g,x)=>(g[x]=HA(i,t?x:void 0),g),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:m,postRender:h}=o,p=()=>{const g=performance.now();r=!1,a.delta=s?1e3/60:Math.max(Math.min(g-a.timestamp,GA),1),a.timestamp=g,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),m.process(a),h.process(a),a.isProcessing=!1,r&&t&&(s=!1,e(p))},f=()=>{r=!0,s=!0,a.isProcessing||e(p)};return{schedule:hc.reduce((g,x)=>{const b=o[x];return g[x]=(N,j=!1,C=!1)=>(r||f(),b.schedule(N,j,C)),g},{}),cancel:g=>{for(let x=0;x<hc.length;x++)o[hc[x]].cancel(g)},state:a,steps:o}}const{schedule:Ye,cancel:js,state:vt,steps:F0}=$4(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0),{schedule:lg}=$4(queueMicrotask,!1);let $c;function qA(){$c=void 0}const tr={now:()=>($c===void 0&&tr.set(vt.isProcessing||$A.useManualTiming?vt.timestamp:performance.now()),$c),set:e=>{$c=e,queueMicrotask(qA)}},Cn={x:!1,y:!1};function B4(){return Cn.x||Cn.y}function KA(e){return e==="x"||e==="y"?Cn[e]?null:(Cn[e]=!0,()=>{Cn[e]=!1}):Cn.x||Cn.y?null:(Cn.x=Cn.y=!0,()=>{Cn.x=Cn.y=!1})}function YA(e,t,r){var s;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const i=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function z4(e,t){const r=YA(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[r,a,()=>s.abort()]}function Vy(e){return!(e.pointerType==="touch"||B4())}function QA(e,t,r={}){const[s,a,i]=z4(e,r),o=l=>{if(!Vy(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=m=>{Vy(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const U4=(e,t)=>t?e===t?!0:U4(e,t.parentElement):!1,cg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,XA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZA(e){return XA.has(e.tagName)||e.tabIndex!==-1}const mo=new WeakSet;function Wy(e){return t=>{t.key==="Enter"&&e(t)}}function O0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const JA=(e,t)=>{const r=e.currentTarget;if(!r)return;const s=Wy(()=>{if(mo.has(r))return;O0(r,"down");const a=Wy(()=>{O0(r,"up")}),i=()=>O0(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)};function Hy(e){return cg(e)&&!B4()}function e7(e,t,r={}){const[s,a,i]=z4(e,r),o=l=>{const c=l.currentTarget;if(!Hy(l)||mo.has(c))return;mo.add(c);const d=t(c,l),u=(p,f)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!Hy(p)||!mo.has(c))&&(mo.delete(c),typeof d=="function"&&d(p,{success:f}))},m=p=>{u(p,c===window||c===document||r.useGlobalTarget||U4(c,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",h,a)};return s.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l instanceof HTMLElement&&(l.addEventListener("focus",d=>JA(d,a)),!ZA(l)&&l.tabIndex===null&&(l.tabIndex=0))}),i}const Gy=30,t7=e=>!isNaN(parseFloat(e));class n7{constructor(t,r={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const i=tr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=tr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=t7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new sg);const s=this.events[t].add(r);return t==="change"?()=>{s(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gy)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Gy);return I4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dl(e,t){return new n7(e,t)}const V4=w.createContext({strict:!1}),qy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ni={};for(const e in qy)Ni[e]={isEnabled:t=>qy[e].some(r=>!!t[r])};function r7(e){for(const t in e)Ni[t]={...Ni[t],...e[t]}}const s7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ad(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||s7.has(e)}let W4=e=>!Ad(e);function a7(e){e&&(W4=t=>t.startsWith("on")?!Ad(t):e(t))}try{a7(require("@emotion/is-prop-valid").default)}catch{}function i7(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(W4(a)||r===!0&&Ad(a)||!t&&!Ad(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function o7(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...s)=>e(...s);return new Proxy(r,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Ru=w.createContext({});function Lu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ul(e){return typeof e=="string"||Array.isArray(e)}const dg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ug=["initial",...dg];function Iu(e){return Lu(e.animate)||ug.some(t=>ul(e[t]))}function H4(e){return!!(Iu(e)||e.variants)}function l7(e,t){if(Iu(e)){const{initial:r,animate:s}=e;return{initial:r===!1||ul(r)?r:void 0,animate:ul(s)?s:void 0}}return e.inherit!==!1?t:{}}function c7(e){const{initial:t,animate:r}=l7(e,w.useContext(Ru));return w.useMemo(()=>({initial:t,animate:r}),[Ky(t),Ky(r)])}function Ky(e){return Array.isArray(e)?e.join(" "):e}const d7=Symbol.for("motionComponentSymbol");function _a(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function u7(e,t,r){return w.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):_a(r)&&(r.current=s))},[t])}const mg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),m7="framerAppearId",G4="data-"+mg(m7),q4=w.createContext({});function h7(e,t,r,s,a){var i,o;const{visualElement:l}=w.useContext(Ru),c=w.useContext(V4),d=w.useContext(Mu),u=w.useContext(eg).reducedMotion,m=w.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const h=m.current,p=w.useContext(q4);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&p7(m.current,r,a,p);const f=w.useRef(!1);w.useInsertionEffect(()=>{h&&f.current&&h.update(r,d)});const v=r[G4],y=w.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return M4(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),lg.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),y.current=!1))}),h}function p7(e,t,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:K4(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&_a(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function K4(e){if(e)return e.options.allowProjection!==!1?e.projection:K4(e.parent)}function f7({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:a}){var i,o;e&&r7(e);function l(d,u){let m;const h={...w.useContext(eg),...d,layoutId:g7(d)},{isStatic:p}=h,f=c7(d),v=s(d,p);if(!p&&Jf){x7();const y=y7(h);m=y.MeasureLayout,f.visualElement=h7(a,v,h,t,y.ProjectionNode)}return n.jsxs(Ru.Provider,{value:f,children:[m&&f.visualElement?n.jsx(m,{visualElement:f.visualElement,...h}):null,r(a,d,u7(v,f.visualElement,u),v,p,f.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const c=w.forwardRef(l);return c[d7]=a,c}function g7({layoutId:e}){const t=w.useContext(Xf).id;return t&&e!==void 0?t+"-"+e:e}function x7(e,t){w.useContext(V4).strict}function y7(e){const{drag:t,layout:r}=Ni;if(!t&&!r)return{};const s={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Y4=e=>t=>typeof t=="string"&&t.startsWith(e),hg=Y4("--"),b7=Y4("var(--"),pg=e=>b7(e)?v7.test(e.split("/*")[0].trim()):!1,v7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ml={};function w7(e){for(const t in e)ml[t]=e[t],hg(t)&&(ml[t].isCSSVariable=!0)}const Li=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ga=new Set(Li);function Q4(e,{layout:t,layoutId:r}){return ga.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ml[e]||e==="opacity")}const Rt=e=>!!(e&&e.getVelocity),X4=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Tr=(e,t,r)=>r>t?t:r<e?e:r,Ii={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hl={...Ii,transform:e=>Tr(0,1,e)},pc={...Ii,default:1},Rl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ur=Rl("deg"),nr=Rl("%"),Ee=Rl("px"),j7=Rl("vh"),N7=Rl("vw"),Yy={...nr,parse:e=>nr.parse(e)/100,transform:e=>nr.transform(e*100)},S7={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},k7={rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:pc,scaleX:pc,scaleY:pc,scaleZ:pc,skew:Ur,skewX:Ur,skewY:Ur,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:hl,originX:Yy,originY:Yy,originZ:Ee},Qy={...Ii,transform:Math.round},fg={...S7,...k7,zIndex:Qy,size:Ee,fillOpacity:hl,strokeOpacity:hl,numOctaves:Qy},C7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},T7=Li.length;function E7(e,t,r){let s="",a=!0;for(let i=0;i<T7;i++){const o=Li[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=X4(l,fg[o]);if(!c){a=!1;const u=C7[o]||o;s+=`${u}(${d}) `}r&&(t[o]=d)}}return s=s.trim(),r?s=r(t,a?"":s):a&&(s="none"),s}function gg(e,t,r){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ga.has(c)){o=!0;continue}else if(hg(c)){a[c]=d;continue}else{const u=X4(d,fg[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(t.transform||(o||r?s.transform=E7(t,e.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z4(e,t,r){for(const s in t)!Rt(t[s])&&!Q4(s,r)&&(e[s]=t[s])}function P7({transformTemplate:e},t){return w.useMemo(()=>{const r=xg();return gg(r,t,e),Object.assign({},r.vars,r.style)},[t])}function A7(e,t){const r=e.style||{},s={};return Z4(s,r,e),Object.assign(s,P7(e,t)),s}function M7(e,t){const r={},s=A7(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const R7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yg(e){return typeof e!="string"||e.includes("-")?!1:!!(R7.indexOf(e)>-1||/[A-Z]/u.test(e))}const L7={offset:"stroke-dashoffset",array:"stroke-dasharray"},I7={offset:"strokeDashoffset",array:"strokeDasharray"};function _7(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?L7:I7;e[i.offset]=Ee.transform(-s);const o=Ee.transform(t),l=Ee.transform(r);e[i.array]=`${o} ${l}`}function Xy(e,t,r){return typeof e=="string"?e:Ee.transform(t+r*e)}function F7(e,t,r){const s=Xy(t,e.x,e.width),a=Xy(r,e.y,e.height);return`${s} ${a}`}function bg(e,{attrX:t,attrY:r,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,m){if(gg(e,d,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=F7(f,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),o!==void 0&&_7(h,o,l,c,!1)}const J4=()=>({...xg(),attrs:{}}),vg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function O7(e,t,r,s){const a=w.useMemo(()=>{const i=J4();return bg(i,t,vg(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Z4(i,e.style,e),a.style={...i,...a.style}}return a}function D7(e=!1){return(r,s,a,{latestValues:i},o)=>{const c=(yg(r)?O7:M7)(s,i,o,r),d=i7(s,typeof r=="string",e),u=r!==w.Fragment?{...d,...c,ref:a}:{},{children:m}=s,h=w.useMemo(()=>Rt(m)?m.get():m,[m]);return w.createElement(r,{...u,children:h})}}function Zy(e){const t=[{},{}];return e==null||e.values.forEach((r,s)=>{t[0][s]=r.get(),t[1][s]=r.getVelocity()}),t}function wg(e,t,r,s){if(typeof t=="function"){const[a,i]=Zy(s);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Zy(s);t=t(r!==void 0?r:e.custom,a,i)}return t}const Wh=e=>Array.isArray(e),$7=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),B7=e=>Wh(e)?e[e.length-1]||0:e;function Bc(e){const t=Rt(e)?e.get():e;return $7(t)?t.toValue():t}function z7({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},s,a,i){const o={latestValues:U7(s,a,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:s,current:l,...o}),o.onUpdate=l=>r(l)),o}const eN=e=>(t,r)=>{const s=w.useContext(Ru),a=w.useContext(Mu),i=()=>z7(e,t,s,a);return r?i():Zf(i)};function U7(e,t,r,s){const a={},i=s(e,{});for(const h in i)a[h]=Bc(i[h]);let{initial:o,animate:l}=e;const c=Iu(e),d=H4(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const m=u?l:o;if(m&&typeof m!="boolean"&&!Lu(m)){const h=Array.isArray(m)?m:[m];for(let p=0;p<h.length;p++){const f=wg(e,h[p]);if(f){const{transitionEnd:v,transition:y,...g}=f;for(const x in g){let b=g[x];if(Array.isArray(b)){const N=u?b.length-1:0;b=b[N]}b!==null&&(a[x]=b)}for(const x in v)a[x]=v[x]}}}return a}function jg(e,t,r){var s;const{style:a}=e,i={};for(const o in a)(Rt(a[o])||t.style&&Rt(t.style[o])||Q4(o,e)||((s=r==null?void 0:r.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[o]=a[o]);return i}const V7={useVisualState:eN({scrapeMotionValuesFromProps:jg,createRenderState:xg})};function tN(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function nN(e,{style:t,vars:r},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const i in r)e.style.setProperty(i,r[i])}const rN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sN(e,t,r,s){nN(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(rN.has(a)?a:mg(a),t.attrs[a])}function aN(e,t,r){const s=jg(e,t,r);for(const a in e)if(Rt(e[a])||Rt(t[a])){const i=Li.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const Jy=["x","y","width","height","cx","cy","r"],W7={useVisualState:eN({scrapeMotionValuesFromProps:aN,createRenderState:J4,onUpdate:({props:e,prevProps:t,current:r,renderState:s,latestValues:a})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in a)if(ga.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<Jy.length;l++){const c=Jy[l];e[c]!==t[c]&&(o=!0)}o&&Ye.read(()=>{tN(r,s),Ye.render(()=>{bg(s,a,vg(r.tagName),e.transformTemplate),sN(r,s)})})}})};function H7(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...yg(s)?W7:V7,preloadedFeatures:e,useRender:D7(a),createVisualElement:t,Component:s};return f7(o)}}function pl(e,t,r){const s=e.getProps();return wg(s,t,r!==void 0?r:s.custom,e)}const iN=new Set(["width","height","top","left","right","bottom",...Li]);function G7(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,dl(r))}function q7(e,t){const r=pl(e,t);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=B7(i[o]);G7(e,o,l)}}function K7(e){return!!(Rt(e)&&e.add)}function Hh(e,t){const r=e.getValue("willChange");if(K7(r))return r.add(t)}function oN(e){return e.props[G4]}const lN=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Y7=1e-7,Q7=12;function X7(e,t,r,s,a){let i,o,l=0;do o=t+(r-t)/2,i=lN(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Y7&&++l<Q7);return o}function Ll(e,t,r,s){if(e===t&&r===s)return sn;const a=i=>X7(i,0,1,e,r);return i=>i===0||i===1?i:lN(a(i),t,s)}const cN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dN=e=>t=>1-e(1-t),uN=Ll(.33,1.53,.69,.99),Ng=dN(uN),mN=cN(Ng),hN=e=>(e*=2)<1?.5*Ng(e):.5*(2-Math.pow(2,-10*(e-1))),Sg=e=>1-Math.sin(Math.acos(e)),pN=dN(Sg),fN=cN(Sg),gN=e=>/^0[^.\s]+$/u.test(e);function Z7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gN(e):!0}const No=e=>Math.round(e*1e5)/1e5,kg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J7(e){return e==null}const eM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cg=(e,t)=>r=>!!(typeof r=="string"&&eM.test(r)&&r.startsWith(e)||t&&!J7(r)&&Object.prototype.hasOwnProperty.call(r,t)),xN=(e,t,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(kg);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},tM=e=>Tr(0,255,e),D0={...Ii,transform:e=>Math.round(tM(e))},Ws={test:Cg("rgb","red"),parse:xN("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+D0.transform(e)+", "+D0.transform(t)+", "+D0.transform(r)+", "+No(hl.transform(s))+")"};function nM(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Gh={test:Cg("#"),parse:nM,transform:Ws.transform},Fa={test:Cg("hsl","hue"),parse:xN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+nr.transform(No(t))+", "+nr.transform(No(r))+", "+No(hl.transform(s))+")"},Pt={test:e=>Ws.test(e)||Gh.test(e)||Fa.test(e),parse:e=>Ws.test(e)?Ws.parse(e):Fa.test(e)?Fa.parse(e):Gh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ws.transform(e):Fa.transform(e)},rM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sM(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(kg))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(rM))===null||r===void 0?void 0:r.length)||0)>0}const yN="number",bN="color",aM="var",iM="var(",eb="${}",oM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fl(e){const t=e.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(oM,c=>(Pt.test(c)?(s.color.push(i),a.push(bN),r.push(Pt.parse(c))):c.startsWith(iM)?(s.var.push(i),a.push(aM),r.push(c)):(s.number.push(i),a.push(yN),r.push(parseFloat(c))),++i,eb)).split(eb);return{values:r,split:l,indexes:s,types:a}}function vN(e){return fl(e).values}function wN(e){const{split:t,types:r}=fl(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===yN?i+=No(a[o]):l===bN?i+=Pt.transform(a[o]):i+=a[o]}return i}}const lM=e=>typeof e=="number"?0:e;function cM(e){const t=vN(e);return wN(e)(t.map(lM))}const Ns={test:sM,parse:vN,createTransformer:wN,getAnimatableNone:cM},dM=new Set(["brightness","contrast","saturate","opacity"]);function uM(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(kg)||[];if(!s)return e;const a=r.replace(s,"");let i=dM.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const mM=/\b([a-z-]*)\(.*?\)/gu,qh={...Ns,getAnimatableNone:e=>{const t=e.match(mM);return t?t.map(uM).join(" "):e}},hM={...fg,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:qh,WebkitFilter:qh},jN=e=>hM[e];function NN(e,t){let r=jN(e);return r!==qh&&(r=Ns),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const pM=new Set(["auto","none","0"]);function fM(e,t,r){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!pM.has(i)&&fl(i).values.length&&(a=e[s]),s++}if(a&&r)for(const i of t)e[i]=NN(r,a)}const Hs=e=>e*180/Math.PI,Kh=e=>{const t=Hs(Math.atan2(e[1],e[0]));return Yh(t)},gM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Kh,rotateZ:Kh,skewX:e=>Hs(Math.atan(e[1])),skewY:e=>Hs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Yh=e=>(e=e%360,e<0&&(e+=360),e),tb=Kh,nb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),rb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nb,scaleY:rb,scale:e=>(nb(e)+rb(e))/2,rotateX:e=>Yh(Hs(Math.atan2(e[6],e[5]))),rotateY:e=>Yh(Hs(Math.atan2(-e[2],e[0]))),rotateZ:tb,rotate:tb,skewX:e=>Hs(Math.atan(e[4])),skewY:e=>Hs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sb(e){return e.includes("scale")?1:0}function Qh(e,t){if(!e||e==="none")return sb(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=xM,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=gM,a=l}if(!a)return sb(t);const i=s[t],o=a[1].split(",").map(bM);return typeof i=="function"?i(o):o[i]}const yM=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Qh(r,t)};function bM(e){return parseFloat(e.trim())}const ab=e=>e===Ii||e===Ee,vM=new Set(["x","y","z"]),wM=Li.filter(e=>!vM.has(e));function jM(e){const t=[];return wM.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t}const Si={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Qh(t,"x"),y:(e,{transform:t})=>Qh(t,"y")};Si.translateX=Si.x;Si.translateY=Si.y;const ta=new Set;let Xh=!1,Zh=!1;function SN(){if(Zh){const e=Array.from(ta).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),r=new Map;t.forEach(s=>{const a=jM(s);a.length&&(r.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zh=!1,Xh=!1,ta.forEach(e=>e.complete()),ta.clear()}function kN(){ta.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zh=!0)})}function NM(){kN(),SN()}class Tg{constructor(t,r,s,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ta.add(this),Xh||(Xh=!0,Ye.read(kN),Ye.resolveKeyframes(SN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:s,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&r){const c=s.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ta.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ta.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const CN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),SM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kM(e){const t=SM.exec(e);if(!t)return[,];const[,r,s,a]=t;return[`--${r??s}`,a]}function TN(e,t,r=1){const[s,a]=kM(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return CN(o)?parseFloat(o):o}return pg(a)?TN(a,t,r+1):a}const EN=e=>t=>t.test(e),CM={test:e=>e==="auto",parse:e=>e},PN=[Ii,Ee,nr,Ur,N7,j7,CM],ib=e=>PN.find(EN(e));class AN extends Tg{constructor(t,r,s,a,i){super(t,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),pg(d))){const u=TN(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!iN.has(s)||t.length!==2)return;const[a,i]=t,o=ib(a),l=ib(i);if(o!==l)if(ab(o)&&ab(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,s=[];for(let a=0;a<t.length;a++)Z7(t[a])&&s.push(a);s.length&&fM(t,s,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Si[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:s,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=Si[s](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const ob=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ns.test(e)||e==="0")&&!e.startsWith("url("));function TM(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function EM(e,t,r,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=ob(a,t),l=ob(i,t);return!o||!l?!1:TM(e)||(r==="spring"||ig(r))&&s}const PM=e=>e!==null;function _u(e,{repeat:t,repeatType:r="loop"},s){const a=e.filter(PM),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||s===void 0?a[i]:s}const AM=40;class MN{constructor({autoplay:t=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tr.now(),this.options={autoplay:t,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>AM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&NM(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=tr.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!EM(t,s,a,i))if(o)this.options.duration=0;else{c&&c(_u(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const nt=(e,t,r)=>e+(t-e)*r;function $0(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function MM({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=$0(c,l,e+1/3),i=$0(c,l,e),o=$0(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Md(e,t){return r=>r>0?t:e}const B0=(e,t,r)=>{const s=e*e,a=r*(t*t-s)+s;return a<0?0:Math.sqrt(a)},RM=[Gh,Ws,Fa],LM=e=>RM.find(t=>t.test(e));function lb(e){const t=LM(e);if(!t)return!1;let r=t.parse(e);return t===Fa&&(r=MM(r)),r}const cb=(e,t)=>{const r=lb(e),s=lb(t);if(!r||!s)return Md(e,t);const a={...r};return i=>(a.red=B0(r.red,s.red,i),a.green=B0(r.green,s.green,i),a.blue=B0(r.blue,s.blue,i),a.alpha=nt(r.alpha,s.alpha,i),Ws.transform(a))},IM=(e,t)=>r=>t(e(r)),Il=(...e)=>e.reduce(IM),Jh=new Set(["none","hidden"]);function _M(e,t){return Jh.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function FM(e,t){return r=>nt(e,t,r)}function Eg(e){return typeof e=="number"?FM:typeof e=="string"?pg(e)?Md:Pt.test(e)?cb:$M:Array.isArray(e)?RN:typeof e=="object"?Pt.test(e)?cb:OM:Md}function RN(e,t){const r=[...e],s=r.length,a=e.map((i,o)=>Eg(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function OM(e,t){const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Eg(e[a])(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function DM(e,t){var r;const s=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;s[i]=c,a[o]++}return s}const $M=(e,t)=>{const r=Ns.createTransformer(t),s=fl(e),a=fl(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Jh.has(e)&&!a.values.length||Jh.has(t)&&!s.values.length?_M(e,t):Il(RN(DM(s,a),a.values),r):Md(e,t)};function LN(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?nt(e,t,r):Eg(e)(e,t)}const BM=5;function IN(e,t,r){const s=Math.max(t-BM,0);return I4(r-e(s),t-s)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},db=.001;function zM({duration:e=it.duration,bounce:t=it.bounce,velocity:r=it.velocity,mass:s=it.mass}){let a,i,o=1-t;o=Tr(it.minDamping,it.maxDamping,o),e=Tr(it.minDuration,it.maxDuration,yr(e)),o<1?(a=d=>{const u=d*o,m=u*e,h=u-r,p=ep(d,o),f=Math.exp(-m);return db-h/p*f},i=d=>{const m=d*o*e,h=m*r+r,p=Math.pow(o,2)*Math.pow(d,2)*e,f=Math.exp(-m),v=ep(Math.pow(d,2),o);return(-a(d)+db>0?-1:1)*((h-p)*f)/v}):(a=d=>{const u=Math.exp(-d*e),m=(d-r)*e+1;return-.001+u*m},i=d=>{const u=Math.exp(-d*e),m=(r-d)*(e*e);return u*m});const l=5/e,c=VM(a,i,l);if(e=xr(e),isNaN(c))return{stiffness:it.stiffness,damping:it.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const UM=12;function VM(e,t,r){let s=r;for(let a=1;a<UM;a++)s=s-e(s)/t(s);return s}function ep(e,t){return e*Math.sqrt(1-t*t)}const WM=["duration","bounce"],HM=["stiffness","damping","mass"];function ub(e,t){return t.some(r=>e[r]!==void 0)}function GM(e){let t={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...e};if(!ub(e,HM)&&ub(e,WM))if(e.visualDuration){const r=e.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*Tr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:it.mass,stiffness:a,damping:i}}else{const r=zM(e);t={...t,...r,mass:it.mass},t.isResolvedFromDuration=!0}return t}function _N(e=it.visualDuration,t=it.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:p}=GM({...r,velocity:-yr(r.velocity||0)}),f=h||0,v=d/(2*Math.sqrt(c*u)),y=o-i,g=yr(Math.sqrt(c/u)),x=Math.abs(y)<5;s||(s=x?it.restSpeed.granular:it.restSpeed.default),a||(a=x?it.restDelta.granular:it.restDelta.default);let b;if(v<1){const j=ep(g,v);b=C=>{const E=Math.exp(-v*g*C);return o-E*((f+v*g*y)/j*Math.sin(j*C)+y*Math.cos(j*C))}}else if(v===1)b=j=>o-Math.exp(-g*j)*(y+(f+g*y)*j);else{const j=g*Math.sqrt(v*v-1);b=C=>{const E=Math.exp(-v*g*C),P=Math.min(j*C,300);return o-E*((f+v*g*y)*Math.sinh(P)+j*y*Math.cosh(P))/j}}const N={calculatedDuration:p&&m||null,next:j=>{const C=b(j);if(p)l.done=j>=m;else{let E=0;v<1&&(E=j===0?xr(f):IN(b,j,C));const P=Math.abs(E)<=s,L=Math.abs(o-C)<=a;l.done=P&&L}return l.value=l.done?o:C,l},toString:()=>{const j=Math.min(_4(N),Uh),C=F4(E=>N.next(j*E).value,j,30);return j+"ms "+C}};return N}function mb({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,f=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let v=r*t;const y=m+v,g=o===void 0?y:o(y);g!==y&&(v=g-m);const x=P=>-v*Math.exp(-P/s),b=P=>g+x(P),N=P=>{const L=x(P),_=b(P);h.done=Math.abs(L)<=d,h.value=h.done?g:_};let j,C;const E=P=>{p(h.value)&&(j=P,C=_N({keyframes:[h.value,f(h.value)],velocity:IN(b,P,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return E(0),{calculatedDuration:null,next:P=>{let L=!1;return!C&&j===void 0&&(L=!0,N(P),E(P)),j!==void 0&&P>=j?C.next(P-j):(!L&&N(P),h)}}}const qM=Ll(.42,0,1,1),KM=Ll(0,0,.58,1),FN=Ll(.42,0,.58,1),YM=e=>Array.isArray(e)&&typeof e[0]!="number",QM={linear:sn,easeIn:qM,easeInOut:FN,easeOut:KM,circIn:Sg,circInOut:fN,circOut:pN,backIn:Ng,backInOut:mN,backOut:uN,anticipate:hN},hb=e=>{if(og(e)){L4(e.length===4);const[t,r,s,a]=e;return Ll(t,r,s,a)}else if(typeof e=="string")return QM[e];return e};function XM(e,t,r){const s=[],a=r||LN,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||sn:t;l=Il(c,l)}s.push(l)}return s}function ZM(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(L4(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=XM(t,s,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=ji(e[m],e[m+1],u);return l[m](h)};return r?u=>d(Tr(e[0],e[i-1],u)):d}function JM(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=ji(0,t,s);e.push(nt(r,1,a))}}function eR(e){const t=[0];return JM(t,e.length-1),t}function tR(e,t){return e.map(r=>r*t)}function nR(e,t){return e.map(()=>t||FN).splice(0,e.length-1)}function Rd({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=YM(s)?s.map(hb):hb(s),i={done:!1,value:t[0]},o=tR(r&&r.length===t.length?r:eR(t),e),l=ZM(o,t,{ease:Array.isArray(a)?a:nR(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const rR=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ye.update(t,!0),stop:()=>js(t),now:()=>vt.isProcessing?vt.timestamp:tr.now()}},sR={decay:mb,inertia:mb,tween:Rd,keyframes:Rd,spring:_N},aR=e=>e/100;class Pg extends MN{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:s,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||Tg,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,r,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=ig(r)?r:sR[r]||Rd;let c,d;l!==Rd&&typeof t[0]!="number"&&(c=Il(aR,LN(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_4(u));const{calculatedDuration:m}=u,h=m+a,p=h*(s+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:s}=this;if(!s){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:m}=s;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:f,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,N=i;if(p){const P=Math.min(this.currentTime,u)/m;let L=Math.floor(P),_=P%1;!_&&P>=1&&(_=1),_===1&&L--,L=Math.min(L,p+1),!!(L%2)&&(f==="reverse"?(_=1-_,v&&(_-=v/m)):f==="mirror"&&(N=o)),b=Tr(0,1,_)*m}const j=x?{done:!1,value:c[0]}:N.next(b);l&&(j.value=l(j.value));let{done:C}=j;!x&&d!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&a!==void 0&&(j.value=_u(c,this.options,a)),y&&y(j.value),E&&this.finish(),j}get duration(){const{resolved:t}=this;return t?yr(t.calculatedDuration):0}get time(){return yr(this.currentTime)}set time(t){t=xr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=yr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=rR,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const iR=new Set(["opacity","clipPath","filter","transform"]);function oR(e,t,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=D4(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const lR=rg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ld=10,cR=2e4;function dR(e){return ig(e.type)||e.type==="spring"||!O4(e.ease)}function uR(e,t){const r=new Pg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let i=0;for(;!s.done&&i<cR;)s=r.sample(i),a.push(s.value),i+=Ld;return{times:void 0,keyframes:a,duration:i-Ld,ease:"linear"}}const ON={anticipate:hN,backInOut:mN,circInOut:fN};function mR(e){return e in ON}class pb extends MN{constructor(t){super(t);const{name:r,motionValue:s,element:a,keyframes:i}=this.options;this.resolver=new AN(i,(o,l)=>this.onKeyframesResolved(o,l),r,s,a),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:s=300,times:a,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Pd()&&mR(i)&&(i=ON[i]),dR(this.options)){const{onComplete:m,onUpdate:h,motionValue:p,element:f,...v}=this.options,y=uR(t,v);t=y.keyframes,t.length===1&&(t[1]=t[0]),s=y.duration,a=y.times,i=y.ease,o="keyframes"}const u=oR(l.owner.current,c,t,{...this.options,duration:s,times:a,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(zy(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:m}=this.options;l.set(_u(t,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return yr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return yr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=xr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return sn;const{animation:s}=r;zy(s,t)}return sn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:s,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:m,element:h,...p}=this.options,f=new Pg({...p,keyframes:s,duration:a,type:i,ease:o,times:l,isGenerator:!0}),v=xr(this.time);d.setWithVelocity(f.sample(v-Ld).value,f.sample(v).value,Ld)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:s,repeatDelay:a,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return lR()&&s&&iR.has(s)&&(s!=="transform"||!d)&&!c&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const hR={type:"spring",stiffness:500,damping:25,restSpeed:10},pR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fR={type:"keyframes",duration:.8},gR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xR=(e,{keyframes:t})=>t.length>2?fR:ga.has(e)?e.startsWith("scale")?pR(t[1]):hR:gR;function yR({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Ag=(e,t,r,s={},a,i)=>o=>{const l=ag(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-xr(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};yR(l)||(u={...u,...xR(e,u)}),u.duration&&(u.duration=xr(u.duration)),u.repeatDelay&&(u.repeatDelay=xr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),u.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const h=_u(u.keyframes,l);if(h!==void 0)return Ye.update(()=>{u.onUpdate(h),u.onComplete()}),new UA([])}return!i&&pb.supports(u)?new pb(u):new Pg(u)};function bR({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function DN(e,t,{delay:r=0,transitionOverride:s,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(o=s);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const m in c){const h=e.getValue(m,(i=e.latestValues[m])!==null&&i!==void 0?i:null),p=c[m];if(p===void 0||u&&bR(u,m))continue;const f={delay:r,...ag(o||{},m)};let v=!1;if(window.MotionHandoffAnimation){const g=oN(e);if(g){const x=window.MotionHandoffAnimation(g,m,Ye);x!==null&&(f.startTime=x,v=!0)}}Hh(e,m),h.start(Ag(m,h,p,e.shouldReduceMotion&&iN.has(m)?{type:!1}:f,e,v));const y=h.animation;y&&d.push(y)}return l&&Promise.all(d).then(()=>{Ye.update(()=>{l&&q7(e,l)})}),d}function tp(e,t,r={}){var s;const a=pl(e,t,r.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(DN(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=i;return vR(e,t,u+d,m,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function vR(e,t,r=0,s=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=a===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(wR).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(tp(d,t,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function wR(e,t){return e.sortNodePosition(t)}function jR(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>tp(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=tp(e,t,r);else{const a=typeof t=="function"?pl(e,t,r.custom):t;s=Promise.all(DN(e,a,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}function $N(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}const NR=ug.length;function BN(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?BN(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<NR;r++){const s=ug[r],a=e.props[s];(ul(a)||a===!1)&&(t[s]=a)}return t}const SR=[...dg].reverse(),kR=dg.length;function CR(e){return t=>Promise.all(t.map(({animation:r,options:s})=>jR(e,r,s)))}function TR(e){let t=CR(e),r=fb(),s=!0;const a=c=>(d,u)=>{var m;const h=pl(e,u,c==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:f,...v}=h;d={...d,...v,...f}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=BN(e.parent)||{},m=[],h=new Set;let p={},f=1/0;for(let y=0;y<kR;y++){const g=SR[y],x=r[g],b=d[g]!==void 0?d[g]:u[g],N=ul(b),j=g===c?x.isActive:null;j===!1&&(f=y);let C=b===u[g]&&b!==d[g]&&N;if(C&&s&&e.manuallyAnimateOnMount&&(C=!1),x.protectedKeys={...p},!x.isActive&&j===null||!b&&!x.prevProp||Lu(b)||typeof b=="boolean")continue;const E=ER(x.prevProp,b);let P=E||g===c&&x.isActive&&!C&&N||y>f&&N,L=!1;const _=Array.isArray(b)?b:[b];let O=_.reduce(a(g),{});j===!1&&(O={});const{prevResolvedValues:W={}}=x,H={...W,...O},Z=A=>{P=!0,h.has(A)&&(L=!0,h.delete(A)),x.needsAnimating[A]=!0;const T=e.getValue(A);T&&(T.liveStyle=!1)};for(const A in H){const T=O[A],$=W[A];if(p.hasOwnProperty(A))continue;let D=!1;Wh(T)&&Wh($)?D=!$N(T,$):D=T!==$,D?T!=null?Z(A):h.add(A):T!==void 0&&h.has(A)?Z(A):x.protectedKeys[A]=!0}x.prevProp=b,x.prevResolvedValues=O,x.isActive&&(p={...p,...O}),s&&e.blockInitialAnimation&&(P=!1),P&&(!(C&&E)||L)&&m.push(..._.map(A=>({animation:A,options:{type:g}})))}if(h.size){const y={};if(typeof d.initial!="boolean"){const g=pl(e,Array.isArray(d.initial)?d.initial[0]:d.initial);g&&g.transition&&(y.transition=g.transition)}h.forEach(g=>{const x=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),y[g]=x??null}),m.push({animation:y})}let v=!!m.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(m):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),r[c].isActive=d;const m=o(c);for(const h in r)r[h].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=fb(),s=!0}}}function ER(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$N(t,e):!1}function Ms(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fb(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class Ps{constructor(t){this.isMounted=!1,this.node=t}update(){}}class PR extends Ps{constructor(t){super(t),t.animationState||(t.animationState=TR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let AR=0;class MR extends Ps{constructor(){super(...arguments),this.id=AR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const RR={animation:{Feature:PR},exit:{Feature:MR}};function gl(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}function _l(e){return{point:{x:e.pageX,y:e.pageY}}}const LR=e=>t=>cg(t)&&e(t,_l(t));function So(e,t,r,s){return gl(e,t,LR(r),s)}function zN({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function IR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _R(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}const UN=1e-4,FR=1-UN,OR=1+UN,VN=.01,DR=0-VN,$R=0+VN;function Ot(e){return e.max-e.min}function BR(e,t,r){return Math.abs(e-t)<=r}function gb(e,t,r,s=.5){e.origin=s,e.originPoint=nt(t.min,t.max,e.origin),e.scale=Ot(r)/Ot(t),e.translate=nt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=FR&&e.scale<=OR||isNaN(e.scale))&&(e.scale=1),(e.translate>=DR&&e.translate<=$R||isNaN(e.translate))&&(e.translate=0)}function ko(e,t,r,s){gb(e.x,t.x,r.x,s?s.originX:void 0),gb(e.y,t.y,r.y,s?s.originY:void 0)}function xb(e,t,r){e.min=r.min+t.min,e.max=e.min+Ot(t)}function zR(e,t,r){xb(e.x,t.x,r.x),xb(e.y,t.y,r.y)}function yb(e,t,r){e.min=t.min-r.min,e.max=e.min+Ot(t)}function Co(e,t,r){yb(e.x,t.x,r.x),yb(e.y,t.y,r.y)}const bb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oa=()=>({x:bb(),y:bb()}),vb=()=>({min:0,max:0}),lt=()=>({x:vb(),y:vb()});function un(e){return[e("x"),e("y")]}function z0(e){return e===void 0||e===1}function np({scale:e,scaleX:t,scaleY:r}){return!z0(e)||!z0(t)||!z0(r)}function Ds(e){return np(e)||WN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function WN(e){return wb(e.x)||wb(e.y)}function wb(e){return e&&e!=="0%"}function Id(e,t,r){const s=e-r,a=t*s;return r+a}function jb(e,t,r,s,a){return a!==void 0&&(e=Id(e,a,s)),Id(e,r,s)+t}function rp(e,t=0,r=1,s,a){e.min=jb(e.min,t,r,s,a),e.max=jb(e.max,t,r,s,a)}function HN(e,{x:t,y:r}){rp(e.x,t.translate,t.scale,t.originPoint),rp(e.y,r.translate,r.scale,r.originPoint)}const Nb=.999999999999,Sb=1.0000000000001;function UR(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&$a(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,HN(e,o)),s&&Ds(i.latestValues)&&$a(e,i.latestValues))}t.x<Sb&&t.x>Nb&&(t.x=1),t.y<Sb&&t.y>Nb&&(t.y=1)}function Da(e,t){e.min=e.min+t,e.max=e.max+t}function kb(e,t,r,s,a=.5){const i=nt(e.min,e.max,a);rp(e,t,r,i,s)}function $a(e,t){kb(e.x,t.x,t.scaleX,t.scale,t.originX),kb(e.y,t.y,t.scaleY,t.scale,t.originY)}function GN(e,t){return zN(_R(e.getBoundingClientRect(),t))}function VR(e,t,r){const s=GN(e,r),{scroll:a}=t;return a&&(Da(s.x,a.offset.x),Da(s.y,a.offset.y)),s}const qN=({current:e})=>e?e.ownerDocument.defaultView:null,Cb=(e,t)=>Math.abs(e-t);function WR(e,t){const r=Cb(e.x,t.x),s=Cb(e.y,t.y);return Math.sqrt(r**2+s**2)}class KN{constructor(t,r,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=V0(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=WR(m.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:f}=m,{timestamp:v}=vt;this.history.push({...f,timestamp:v});const{onStart:y,onMove:g}=this.handlers;h||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=U0(h,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:p,onSessionEnd:f,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=V0(m.type==="pointercancel"?this.lastMoveEventInfo:U0(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,y),f&&f(m,y)},!cg(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.contextWindow=a||window;const o=_l(t),l=U0(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=vt;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,V0(l,this.history)),this.removeListeners=Il(So(this.contextWindow,"pointermove",this.handlePointerMove),So(this.contextWindow,"pointerup",this.handlePointerUp),So(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),js(this.updatePoint)}}function U0(e,t){return t?{point:t(e.point)}:e}function Tb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function V0({point:e},t){return{point:e,delta:Tb(e,YN(t)),offset:Tb(e,HR(t)),velocity:GR(t,.1)}}function HR(e){return e[0]}function YN(e){return e[e.length-1]}function GR(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=YN(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>xr(t)));)r--;if(!s)return{x:0,y:0};const i=yr(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qR(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?nt(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?nt(r,e,s.max):Math.min(e,r)),e}function Eb(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function KR(e,{top:t,left:r,bottom:s,right:a}){return{x:Eb(e.x,r,a),y:Eb(e.y,t,s)}}function Pb(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function YR(e,t){return{x:Pb(e.x,t.x),y:Pb(e.y,t.y)}}function QR(e,t){let r=.5;const s=Ot(e),a=Ot(t);return a>s?r=ji(t.min,t.max-s,e.min):s>a&&(r=ji(e.min,e.max-a,t.min)),Tr(0,1,r)}function XR(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const sp=.35;function ZR(e=sp){return e===!1?e=0:e===!0&&(e=sp),{x:Ab(e,"left","right"),y:Ab(e,"top","bottom")}}function Ab(e,t,r){return{min:Mb(e,t),max:Mb(e,r)}}function Mb(e,t){return typeof e=="number"?e:e[t]||0}const JR=new WeakMap;class e9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(_l(u).point)},i=(u,m)=>{const{drag:h,dragPropagation:p,onDragStart:f}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KA(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(y=>{let g=this.getAxisMotionValue(y).get()||0;if(nr.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[y];b&&(g=Ot(b)*(parseFloat(g)/100))}}this.originPoint[y]=g}),f&&Ye.postRender(()=>f(u,m)),Hh(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:f,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=m;if(p&&this.currentDirection===null){this.currentDirection=t9(y),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),v&&v(u,m)},l=(u,m)=>this.stop(u,m),c=()=>un(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new KN(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:qN(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Ye.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!fc(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=qR(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&_a(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=KR(a.layoutBox,r):this.constraints=!1,this.elastic=ZR(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=XR(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_a(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=VR(s,a.root,this.visualElement.getTransformPagePoint());let o=YR(a.layout.layoutBox,i);if(r){const l=r(IR(o));this.hasMutatedConstraints=!!l,l&&(o=zN(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=un(u=>{if(!fc(u,r,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,f={type:"inertia",velocity:s?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,f)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return Hh(this.visualElement,t),s.start(Ag(t,s,0,r,this.visualElement,!1))}stopAnimation(){un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){un(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){un(r=>{const{drag:s}=this.getProps();if(!fc(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-nt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!_a(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};un(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=QR({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),un(o=>{if(!fc(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(nt(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;JR.set(this.visualElement,this);const t=this.visualElement.current,r=So(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();_a(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ye.read(s);const o=gl(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(un(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=sp,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function fc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function t9(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class n9 extends Ps{constructor(t){super(t),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new e9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rb=e=>(t,r)=>{e&&Ye.postRender(()=>e(t,r))};class r9 extends Ps{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(t){this.session=new KN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Rb(t),onStart:Rb(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Ye.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=So(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const r=Lb(e,t.target.x),s=Lb(e,t.target.y);return`${r}% ${s}%`}},s9={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=Ns.parse(e);if(a.length>5)return s;const i=Ns.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=nt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class a9 extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;w7(i9),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ye.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),lg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function QN(e){const[t,r]=R4(),s=w.useContext(Xf);return n.jsx(a9,{...e,layoutGroup:s,switchLayoutGroup:w.useContext(q4),isPresent:t,safeToRemove:r})}const i9={borderRadius:{...Zi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zi,borderTopRightRadius:Zi,borderBottomLeftRadius:Zi,borderBottomRightRadius:Zi,boxShadow:s9};function o9(e,t,r){const s=Rt(e)?e:dl(e);return s.start(Ag("",s,t,r)),s.animation}function l9(e){return e instanceof SVGElement&&e.tagName!=="svg"}const c9=(e,t)=>e.depth-t.depth;class d9{constructor(){this.children=[],this.isDirty=!1}add(t){tg(this.children,t),this.isDirty=!0}remove(t){ng(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(c9),this.isDirty=!1,this.children.forEach(t)}}function u9(e,t){const r=tr.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(js(s),e(i-t))};return Ye.read(s,!0),()=>js(s)}const XN=["TopLeft","TopRight","BottomLeft","BottomRight"],m9=XN.length,Ib=e=>typeof e=="string"?parseFloat(e):e,_b=e=>typeof e=="number"||Ee.test(e);function h9(e,t,r,s,a,i){a?(e.opacity=nt(0,r.opacity!==void 0?r.opacity:1,p9(s)),e.opacityExit=nt(t.opacity!==void 0?t.opacity:1,0,f9(s))):i&&(e.opacity=nt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<m9;o++){const l=`border${XN[o]}Radius`;let c=Fb(t,l),d=Fb(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||_b(c)===_b(d)?(e[l]=Math.max(nt(Ib(c),Ib(d),s),0),(nr.test(d)||nr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=nt(t.rotate||0,r.rotate||0,s))}function Fb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const p9=ZN(0,.5,pN),f9=ZN(.5,.95,sn);function ZN(e,t,r){return s=>s<e?0:s>t?1:r(ji(e,t,s))}function Ob(e,t){e.min=t.min,e.max=t.max}function dn(e,t){Ob(e.x,t.x),Ob(e.y,t.y)}function Db(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $b(e,t,r,s,a){return e-=t,e=Id(e,1/r,s),a!==void 0&&(e=Id(e,1/a,s)),e}function g9(e,t=0,r=1,s=.5,a,i=e,o=e){if(nr.test(t)&&(t=parseFloat(t),t=nt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=nt(i.min,i.max,s);e===i&&(l-=t),e.min=$b(e.min,t,r,l,a),e.max=$b(e.max,t,r,l,a)}function Bb(e,t,[r,s,a],i,o){g9(e,t[r],t[s],t[a],t.scale,i,o)}const x9=["x","scaleX","originX"],y9=["y","scaleY","originY"];function zb(e,t,r,s){Bb(e.x,t,x9,r?r.x:void 0,s?s.x:void 0),Bb(e.y,t,y9,r?r.y:void 0,s?s.y:void 0)}function Ub(e){return e.translate===0&&e.scale===1}function JN(e){return Ub(e.x)&&Ub(e.y)}function Vb(e,t){return e.min===t.min&&e.max===t.max}function b9(e,t){return Vb(e.x,t.x)&&Vb(e.y,t.y)}function Wb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function e3(e,t){return Wb(e.x,t.x)&&Wb(e.y,t.y)}function Hb(e){return Ot(e.x)/Ot(e.y)}function Gb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class v9{constructor(){this.members=[]}add(t){tg(this.members,t),t.scheduleRender()}remove(t){if(ng(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w9(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:p,skewY:f}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),m&&(s+=`rotateX(${m}deg) `),h&&(s+=`rotateY(${h}deg) `),p&&(s+=`skewX(${p}deg) `),f&&(s+=`skewY(${f}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const W0=["","X","Y","Z"],j9={visibility:"hidden"},qb=1e3;let N9=0;function H0(e,t,r,s){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function t3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=oN(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ye,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&t3(s)}function n3({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=N9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C9),this.nodes.forEach(M9),this.nodes.forEach(R9),this.nodes.forEach(T9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new d9)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=l9(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=u9(h,250),zc.hasAnimatedSinceResize&&(zc.hasAnimatedSinceResize=!1,this.nodes.forEach(Yb))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||O9,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=u.getProps(),x=!this.targetLayout||!e3(this.targetLayout,f),b=!h&&p;if(this.options.layoutRoot||this.resumeFrom||b||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,b);const N={...ag(v,"layout"),onPlay:y,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||Yb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&t3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kb);return}this.isUpdating||this.nodes.forEach(P9),this.isUpdating=!1,this.nodes.forEach(A9),this.nodes.forEach(S9),this.nodes.forEach(k9),this.clearAllSnapshots();const l=tr.now();vt.delta=Tr(0,1e3/60,l-vt.timestamp),vt.timestamp=l,vt.isProcessing=!0,F0.update.process(vt),F0.preRender.process(vt),F0.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E9),this.sharedNodes.forEach(I9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ot(this.snapshot.measuredBox.x)&&!Ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!JN(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Ds(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),D9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return lt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some($9))){const{scroll:u}=this.root;u&&(Da(c.x,u.offset.x),Da(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=lt();if(dn(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&dn(c,o),Da(c.x,m.offset.x),Da(c.y,m.offset.y))}return c}applyTransform(o,l=!1){const c=lt();dn(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&$a(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ds(u.latestValues)&&$a(c,u.latestValues)}return Ds(this.latestValues)&&$a(c,this.latestValues),c}removeTransform(o){const l=lt();dn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ds(d.latestValues))continue;np(d.latestValues)&&d.updateSnapshot();const u=lt(),m=d.measurePageBox();dn(u,m),zb(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ds(this.latestValues)&&zb(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Co(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),HN(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Co(this.relativeTargetOrigin,this.target,p.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||np(this.parent.latestValues)||WN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;dn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;UR(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=lt());const{target:f}=l;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Db(this.prevProjectionDelta.x,this.projectionDelta.x),Db(this.prevProjectionDelta.y,this.projectionDelta.y)),ko(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!Gb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oa(),this.projectionDelta=Oa(),this.projectionDeltaWithTransform=Oa()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Oa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=lt(),p=c?c.source:void 0,f=this.layout?this.layout.source:void 0,v=p!==f,y=this.getStack(),g=!y||y.members.length<=1,x=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(F9));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const j=N/1e3;Qb(m.x,o.x,j),Qb(m.y,o.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Co(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_9(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&b9(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=lt()),dn(b,this.relativeTarget)),v&&(this.animationValues=u,h9(u,d,this.latestValues,j,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{zc.hasAnimatedSinceResize=!0,this.currentAnimation=o9(0,qb,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&r3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||lt();const m=Ot(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=Ot(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}dn(l,c),$a(l,u),ko(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new v9),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&H0("z",o,d,this.animationValues);for(let u=0;u<W0.length;u++)H0(`rotate${W0[u]}`,o,d,this.animationValues),H0(`skew${W0[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return j9;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=w9(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:p,y:f}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in ml){if(h[v]===void 0)continue;const{correct:y,applyTo:g,isCSSVariable:x}=ml[v],b=d.transform==="none"?h[v]:y(h[v],m);if(g){const N=g.length;for(let j=0;j<N;j++)d[g[j]]=b}else x?this.options.visualElement.renderState.vars[v]=b:d[v]=b}return this.options.layoutId&&(d.pointerEvents=m===this?Bc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Kb),this.root.sharedNodes.clear()}}}function S9(e){e.updateLayout()}function k9(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?un(m=>{const h=o?r.measuredBox[m]:r.layoutBox[m],p=Ot(h);h.min=s[m].min,h.max=h.min+p}):r3(i,r.layoutBox,s)&&un(m=>{const h=o?r.measuredBox[m]:r.layoutBox[m],p=Ot(s[m]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=Oa();ko(l,s,r.layoutBox);const c=Oa();o?ko(c,e.applyTransform(a,!0),r.measuredBox):ko(c,s,r.layoutBox);const d=!JN(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const f=lt();Co(f,r.layoutBox,h.layoutBox);const v=lt();Co(v,s,p.layoutBox),e3(f,v)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=f,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function C9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function T9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function E9(e){e.clearSnapshot()}function Kb(e){e.clearMeasurements()}function P9(e){e.isLayoutDirty=!1}function A9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Yb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function M9(e){e.resolveTargetDelta()}function R9(e){e.calcProjection()}function L9(e){e.resetSkewAndRotation()}function I9(e){e.removeLeadSnapshot()}function Qb(e,t,r){e.translate=nt(t.translate,0,r),e.scale=nt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Xb(e,t,r,s){e.min=nt(t.min,r.min,s),e.max=nt(t.max,r.max,s)}function _9(e,t,r,s){Xb(e.x,t.x,r.x,s),Xb(e.y,t.y,r.y,s)}function F9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O9={duration:.45,ease:[.4,0,.1,1]},Zb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Jb=Zb("applewebkit/")&&!Zb("chrome/")?Math.round:sn;function ev(e){e.min=Jb(e.min),e.max=Jb(e.max)}function D9(e){ev(e.x),ev(e.y)}function r3(e,t,r){return e==="position"||e==="preserve-aspect"&&!BR(Hb(t),Hb(r),.2)}function $9(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const B9=n3({attachResizeListener:(e,t)=>gl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),G0={current:void 0},s3=n3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!G0.current){const e=new B9({});e.mount(window),e.setOptions({layoutScroll:!0}),G0.current=e}return G0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),z9={pan:{Feature:r9},drag:{Feature:n9,ProjectionNode:s3,MeasureLayout:QN}};function tv(e,t,r){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&Ye.postRender(()=>i(t,_l(t)))}class U9 extends Ps{mount(){const{current:t}=this.node;t&&(this.unmount=QA(t,(r,s)=>(tv(this.node,s,"Start"),a=>tv(this.node,a,"End"))))}unmount(){}}class V9 extends Ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Il(gl(this.node.current,"focus",()=>this.onFocus()),gl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nv(e,t,r){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&Ye.postRender(()=>i(t,_l(t)))}class W9 extends Ps{mount(){const{current:t}=this.node;t&&(this.unmount=e7(t,(r,s)=>(nv(this.node,s,"Start"),(a,{success:i})=>nv(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ap=new WeakMap,q0=new WeakMap,H9=e=>{const t=ap.get(e.target);t&&t(e)},G9=e=>{e.forEach(H9)};function q9({root:e,...t}){const r=e||document;q0.has(r)||q0.set(r,{});const s=q0.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(G9,{root:e,...t})),s[a]}function K9(e,t,r){const s=q9(t);return ap.set(e,r),s.observe(e),()=>{ap.delete(e),s.unobserve(e)}}const Y9={some:0,all:1};class Q9 extends Ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Y9[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return K9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(X9(t,r))&&this.startObserver()}unmount(){}}function X9({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Z9={inView:{Feature:Q9},tap:{Feature:W9},focus:{Feature:V9},hover:{Feature:U9}},J9={layout:{ProjectionNode:s3,MeasureLayout:QN}},ip={current:null},a3={current:!1};function eL(){if(a3.current=!0,!!Jf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ip.current=e.matches;e.addListener(t),t()}else ip.current=!1}const tL=[...PN,Pt,Ns],nL=e=>tL.find(EN(e)),rL=new WeakMap;function sL(e,t,r){for(const s in t){const a=t[s],i=r[s];if(Rt(a))e.addValue(s,a);else if(Rt(i))e.addValue(s,dl(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,dl(o!==void 0?o:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const rv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aL{scrapeMotionValuesFromProps(t,r,s){return{}}constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=tr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ye.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Iu(r),this.isVariantNode=H4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in h){const f=h[p];c[p]!==void 0&&Rt(f)&&f.set(c[p],!1)}}mount(t){this.current=t,rL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),a3.current||eL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ip.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),js(this.notifyUpdate),js(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ga.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ni){const r=Ni[t];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<rv.length;s++){const a=rv[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=sL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const s=this.values.get(t);r!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=dl(r===null?void 0:r,{owner:this}),this.addValue(t,s)),s}readValue(t,r){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(CN(a)||gN(a))?a=parseFloat(a):!nL(a)&&Ns.test(r)&&(a=NN(t,r)),this.setBaseTarget(t,Rt(a)?a.get():a)),Rt(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const o=wg(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Rt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new sg),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class i3 extends aL{constructor(){super(...arguments),this.KeyframeResolver=AN}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function iL(e){return window.getComputedStyle(e)}class oL extends i3{constructor(){super(...arguments),this.type="html",this.renderInstance=nN}readValueFromInstance(t,r){if(ga.has(r))return yM(t,r);{const s=iL(t),a=(hg(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return GN(t,r)}build(t,r,s){gg(t,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,s){return jg(t,r,s)}}class lL extends i3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&tN(this.current,this.renderState)}}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ga.has(r)){const s=jN(r);return s&&s.default||0}return r=rN.has(r)?r:mg(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,s){return aN(t,r,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ye.postRender(this.updateDimensions)}build(t,r,s){bg(t,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,s,a){sN(t,r,s,a)}mount(t){this.isSVGTag=vg(t.tagName),super.mount(t)}}const cL=(e,t)=>yg(e)?new lL(t):new oL(t,{allowProjection:e!==w.Fragment}),dL=H7({...RR,...Z9,...z9,...J9},cL),X=o7(dL),uL={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},mL={block:VC({format(e){var r;return{transactions:(r=e.transactions)==null?void 0:r.map(s=>{if(typeof s=="string")return s;const a=gu(s);return a.typeHex==="0x7e"&&(a.isSystemTx=s.isSystemTx,a.mint=s.mint?Mn(s.mint):void 0,a.sourceHash=s.sourceHash,a.type="deposit"),a}),stateRoot:e.stateRoot}}}),transaction:zC({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?Mn(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:H8({format(e){return{l1GasPrice:e.l1GasPrice?Mn(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?Mn(e.l1GasUsed):null,l1Fee:e.l1Fee?Mn(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function hL(e,t){return gL(e)?fL(e):nE(e,t)}const pL={transaction:hL};function fL(e){xL(e);const{sourceHash:t,data:r,from:s,gas:a,isSystemTx:i,mint:o,to:l,value:c}=e,d=[t,s,l??"0x",o?Me(o):"0x",c?Me(c):"0x",a?Me(a):"0x",i?"0x1":"0x",r??"0x"];return Ar(["0x7e",xs(d)])}function gL(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function xL(e){const{from:t,to:r}=e;if(t&&!Be(t))throw new jn({address:t});if(r&&!Be(r))throw new jn({address:r})}const _d={contracts:uL,formatters:mL,serializers:pL},sv=fa({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Ji=1,av=fa({..._d,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{..._d.contracts,disputeGameFactory:{[Ji]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Ji]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Ji]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Ji]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Ji}),iv=fa({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),ov=fa({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),eo=1,lv=fa({..._d,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{..._d.contracts,disputeGameFactory:{[eo]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[eo]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[eo]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[eo]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:eo}),cv=fa({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),dv=fa({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});Fu.type="coinbaseWallet";function Fu(e={}){return e.version==="3"||e.headlessMode?bL(e):yL(e)}function yL(e){let t,r,s,a;return i=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Fu.type,async connect({chainId:o,...l}={}){try{const c=await this.getProvider(),d=(await c.request({method:"eth_requestAccounts",params:"instantOnboarding"in l&&l.instantOnboarding?[{onboarding:"instant"}]:[]})).map(m=>Nt(m));r||(r=this.onAccountsChanged.bind(this),c.on("accountsChanged",r)),s||(s=this.onChainChanged.bind(this),c.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),c.on("disconnect",a));let u=await this.getChainId();if(o&&u!==o){const m=await this.switchChain({chainId:o}).catch(h=>{if(h.code===De.code)throw h;return{id:u}});u=(m==null?void 0:m.id)??u}return{accounts:d,chainId:u}}catch(c){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(c.message)?new De(c):c}},async disconnect(){var l;const o=await this.getProvider();r&&(o.removeListener("accountsChanged",r),r=void 0),s&&(o.removeListener("chainChanged",s),s=void 0),a&&(o.removeListener("disconnect",a),a=void 0),o.disconnect(),(l=o.close)==null||l.call(o)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(l=>Nt(l))},async getChainId(){const l=await(await this.getProvider()).request({method:"eth_chainId"});return Number(l)},async getProvider(){if(!t){const o=(()=>{var d;return typeof e.preference=="string"?{options:e.preference}:{...e.preference,options:((d=e.preference)==null?void 0:d.options)??"all"}})(),{createCoinbaseWalletSDK:l}=await Ai(async()=>{const{createCoinbaseWalletSDK:d}=await import("./index-D4pbqa2a.js");return{createCoinbaseWalletSDK:d}},__vite__mapDeps([0,1]));t=l({...e,appChainIds:i.chains.map(d=>d.id),preference:o}).getProvider()}return t},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:l}){var u,m,h,p;const c=i.chains.find(f=>f.id===l);if(!c)throw new $t(new ys);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(c.id)}]}),c}catch(f){if(f.code===4902)try{let v;o!=null&&o.blockExplorerUrls?v=o.blockExplorerUrls:v=(u=c.blockExplorers)!=null&&u.default.url?[(m=c.blockExplorers)==null?void 0:m.default.url]:[];let y;(h=o==null?void 0:o.rpcUrls)!=null&&h.length?y=o.rpcUrls:y=[((p=c.rpcUrls.default)==null?void 0:p.http[0])??""];const g={blockExplorerUrls:v,chainId:Ae(l),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:y};return await d.request({method:"wallet_addEthereumChain",params:[g]}),c}catch(v){throw new De(v)}throw new $t(f)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(l=>Nt(l))})},onChainChanged(o){const l=Number(o);i.emitter.emit("change",{chainId:l})},async onDisconnect(o){i.emitter.emit("disconnect");const l=await this.getProvider();r&&(l.removeListener("accountsChanged",r),r=void 0),s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0)}})}function bL(e){let r,s,a,i,o;return l=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",type:Fu.type,async connect({chainId:c}={}){try{const d=await this.getProvider(),u=(await d.request({method:"eth_requestAccounts"})).map(h=>Nt(h));a||(a=this.onAccountsChanged.bind(this),d.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),d.on("disconnect",o));let m=await this.getChainId();if(c&&m!==c){const h=await this.switchChain({chainId:c}).catch(p=>{if(p.code===De.code)throw p;return{id:m}});m=(h==null?void 0:h.id)??m}return{accounts:u,chainId:m}}catch(d){throw/(user closed modal|accounts received is empty|user denied account)/i.test(d.message)?new De(d):d}},async disconnect(){const c=await this.getProvider();a&&(c.removeListener("accountsChanged",a),a=void 0),i&&(c.removeListener("chainChanged",i),i=void 0),o&&(c.removeListener("disconnect",o),o=void 0),c.disconnect(),c.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(d=>Nt(d))},async getChainId(){const d=await(await this.getProvider()).request({method:"eth_chainId"});return Number(d)},async getProvider(){var c;if(!s){const d=await(async()=>{const{default:f}=await Ai(async()=>{const{default:v}=await import("./index-YmX3ek_x.js").then(y=>y.i);return{default:v}},__vite__mapDeps([2,3,1,4]));return typeof f!="function"&&typeof f.default=="function"?f.default:f})();r=new d({...e,reloadOnDisconnect:!1});const u=(c=r.walletExtension)==null?void 0:c.getChainId(),m=l.chains.find(f=>e.chainId?f.id===e.chainId:f.id===u)||l.chains[0],h=e.chainId||(m==null?void 0:m.id),p=e.jsonRpcUrl||(m==null?void 0:m.rpcUrls.default.http[0]);s=r.makeWeb3Provider(p,h)}return s},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:d}){var h,p,f,v;const u=l.chains.find(y=>y.id===d);if(!u)throw new $t(new ys);const m=await this.getProvider();try{return await m.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(u.id)}]}),u}catch(y){if(y.code===4902)try{let g;c!=null&&c.blockExplorerUrls?g=c.blockExplorerUrls:g=(h=u.blockExplorers)!=null&&h.default.url?[(p=u.blockExplorers)==null?void 0:p.default.url]:[];let x;(f=c==null?void 0:c.rpcUrls)!=null&&f.length?x=c.rpcUrls:x=[((v=u.rpcUrls.default)==null?void 0:v.http[0])??""];const b={blockExplorerUrls:g,chainId:Ae(d),chainName:(c==null?void 0:c.chainName)??u.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??u.nativeCurrency,rpcUrls:x};return await m.request({method:"wallet_addEthereumChain",params:[b]}),u}catch(g){throw new De(g)}throw new $t(y)}},onAccountsChanged(c){c.length===0?this.onDisconnect():l.emitter.emit("change",{accounts:c.map(d=>Nt(d))})},onChainChanged(c){const d=Number(c);l.emitter.emit("change",{chainId:d})},async onDisconnect(c){l.emitter.emit("disconnect");const d=await this.getProvider();a&&(d.removeListener("accountsChanged",a),a=void 0),i&&(d.removeListener("chainChanged",i),i=void 0),o&&(d.removeListener("disconnect",o),o=void 0)}})}Mg.type="metaMask";function Mg(e={}){let t,r,s,a,i,o,l,c;return d=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:Mg.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),a||(a=this.onAccountsChanged.bind(this),u.on("accountsChanged",a)))},async connect({chainId:u,isReconnecting:m}={}){const h=await this.getProvider();l||(l=this.onDisplayUri,h.on("display_uri",l));let p=[];m&&(p=await this.getAccounts().catch(()=>[]));try{let f,v;p!=null&&p.length||(e.connectAndSign||e.connectWith?(e.connectAndSign?f=await t.connectAndSign({msg:e.connectAndSign}):e.connectWith&&(v=await t.connectWith({method:e.connectWith.method,params:e.connectWith.params})),p=await this.getAccounts()):p=(await t.connect()).map(x=>Nt(x)));let y=await this.getChainId();if(u&&y!==u){const g=await this.switchChain({chainId:u}).catch(x=>{if(x.code===De.code)throw x;return{id:y}});y=(g==null?void 0:g.id)??y}return l&&(h.removeListener("display_uri",l),l=void 0),f?h.emit("connectAndSign",{accounts:p,chainId:y,signResponse:f}):v&&h.emit("connectWith",{accounts:p,chainId:y,connectWithResponse:v}),o&&(h.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),h.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c)),{accounts:p,chainId:y}}catch(f){const v=f;throw v.code===De.code?new De(v):v.code===Jn.code?new Jn(v):v}},async disconnect(){const u=await this.getProvider();i&&(u.removeListener("chainChanged",i),i=void 0),c&&(u.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o)),await t.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(h=>Nt(h))},async getChainId(){const u=await this.getProvider(),m=u.getChainId()||await(u==null?void 0:u.request({method:"eth_chainId"}));return Number(m)},async getProvider(){async function u(){var v,y,g,x,b;const m=await(async()=>{const{default:N}=await Ai(async()=>{const{default:j}=await import("./metamask-sdk-SDv8HZZI.js");return{default:j}},__vite__mapDeps([5,4]));return typeof N!="function"&&typeof N.default=="function"?N.default:N})(),h={};for(const N of d.chains)h[Ae(N.id)]=(v=Kj({chain:N,transports:d.transports}))==null?void 0:v[0];t=new m({_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...e,readonlyRPCMap:h,dappMetadata:{...e.dappMetadata,name:(y=e.dappMetadata)!=null&&y.name?(g=e.dappMetadata)==null?void 0:g.name:"wagmi",url:(x=e.dappMetadata)!=null&&x.url?(b=e.dappMetadata)==null?void 0:b.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:e.useDeeplink??!0});const p=await t.init(),f=p!=null&&p.activeProvider?p.activeProvider:t.getProvider();if(!f)throw new cr;return f}return r||(s||(s=u()),r=await s),r},async isAuthorized(){try{return!!(await bi(()=>Lf(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:m}){var y,g;const h=await this.getProvider(),p=d.chains.find(x=>x.id===m);if(!p)throw new $t(new ys);try{return await h.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(m)}]}),await f(),await v(m),p}catch(x){const b=x;if(b.code===De.code)throw new De(b);if(b.code===4902||((g=(y=b==null?void 0:b.data)==null?void 0:y.originalError)==null?void 0:g.code)===4902)try{return await h.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:N,...j}=p.blockExplorers??{};if(u!=null&&u.blockExplorerUrls)return u.blockExplorerUrls;if(N)return[N.url,...Object.values(j).map(C=>C.url)]})(),chainId:Ae(m),chainName:(u==null?void 0:u.chainName)??p.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??p.nativeCurrency,rpcUrls:(()=>{var N,j;return(N=u==null?void 0:u.rpcUrls)!=null&&N.length?u.rpcUrls:[((j=p.rpcUrls.default)==null?void 0:j.http[0])??""]})()}]}),await f(),await v(m),p}catch(N){const j=N;throw j.code===De.code?new De(j):new $t(j)}throw new $t(b)}async function f(){await bi(async()=>{const x=kr(await h.request({method:"eth_chainId"}));if(x!==m)throw new Error("User rejected switch after adding network.");return x},{delay:50,retryCount:20})}async function v(x){await new Promise(b=>{const N=j=>{"chainId"in j&&j.chainId===x&&(d.emitter.off("change",N),b())};d.emitter.on("change",N),d.emitter.emit("change",{chainId:x})})}},async onAccountsChanged(u){if(u.length===0)if(t.isExtensionActive())this.onDisconnect();else return;else if(d.emitter.listenerCount("connect")){const m=(await this.getChainId()).toString();this.onConnect({chainId:m})}else d.emitter.emit("change",{accounts:u.map(m=>Nt(m))})},onChainChanged(u){const m=Number(u);d.emitter.emit("change",{chainId:m})},async onConnect(u){const m=await this.getAccounts();if(m.length===0)return;const h=Number(u.chainId);d.emitter.emit("connect",{accounts:m,chainId:h});const p=await this.getProvider();o&&(p.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),p.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),p.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c))},async onDisconnect(u){const m=await this.getProvider();u&&u.code===1013&&m&&(await this.getAccounts()).length||(d.emitter.emit("disconnect"),i&&(m.removeListener("chainChanged",i),i=void 0),c&&(m.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),m.on("connect",o)))},onDisplayUri(u){d.emitter.emit("message",{type:"display_uri",data:u})}})}Rg.type="walletConnect";function Rg(e){const t=e.isNewChainsStale??!0;let r,s;const a="eip155";let i,o,l,c,d,u;return m=>({id:"walletConnect",name:"WalletConnect",type:Rg.type,async setup(){const h=await this.getProvider().catch(()=>null);h&&(l||(l=this.onConnect.bind(this),h.on("connect",l)),d||(d=this.onSessionDelete.bind(this),h.on("session_delete",d)))},async connect({chainId:h,...p}={}){var f,v;try{const y=await this.getProvider();if(!y)throw new cr;c||(c=this.onDisplayUri,y.on("display_uri",c));let g=h;if(!g){const j=await((f=m.storage)==null?void 0:f.getItem("state"))??{};m.chains.some(E=>E.id===j.chainId)?g=j.chainId:g=(v=m.chains[0])==null?void 0:v.id}if(!g)throw new Error("No chains found on connector.");const x=await this.isChainsStale();if(y.session&&x&&await y.disconnect(),!y.session||x){const j=m.chains.filter(C=>C.id!==g).map(C=>C.id);await y.connect({optionalChains:[g,...j],..."pairingTopic"in p?{pairingTopic:p.pairingTopic}:{}}),this.setRequestedChainsIds(m.chains.map(C=>C.id))}const b=(await y.enable()).map(j=>Nt(j)),N=await this.getChainId();return c&&(y.removeListener("display_uri",c),c=void 0),l&&(y.removeListener("connect",l),l=void 0),i||(i=this.onAccountsChanged.bind(this),y.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),y.on("chainChanged",o)),u||(u=this.onDisconnect.bind(this),y.on("disconnect",u)),d||(d=this.onSessionDelete.bind(this),y.on("session_delete",d)),{accounts:b,chainId:N}}catch(y){throw/(user rejected|connection request reset)/i.test(y==null?void 0:y.message)?new De(y):y}},async disconnect(){const h=await this.getProvider();try{await(h==null?void 0:h.disconnect())}catch(p){if(!/No matching key/i.test(p.message))throw p}finally{o&&(h==null||h.removeListener("chainChanged",o),o=void 0),u&&(h==null||h.removeListener("disconnect",u),u=void 0),l||(l=this.onConnect.bind(this),h==null||h.on("connect",l)),i&&(h==null||h.removeListener("accountsChanged",i),i=void 0),d&&(h==null||h.removeListener("session_delete",d),d=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(p=>Nt(p))},async getProvider({chainId:h}={}){var f;async function p(){const v=m.chains.map(g=>g.id);if(!v.length)return;const{EthereumProvider:y}=await Ai(async()=>{const{EthereumProvider:g}=await import("./index.es-JnSmZCvn.js");return{EthereumProvider:g}},__vite__mapDeps([6,3]));return await y.init({...e,disableProviderPing:!0,optionalChains:v,projectId:e.projectId,rpcMap:Object.fromEntries(m.chains.map(g=>{const[x]=Kj({chain:g,transports:m.transports});return[g.id,x]})),showQrModal:e.showQrModal??!0})}return r||(s||(s=p()),r=await s,r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY)),h&&await((f=this.switchChain)==null?void 0:f.call(this,{chainId:h})),r},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[h,p]=await Promise.all([this.getAccounts(),this.getProvider()]);return h.length?await this.isChainsStale()&&p.session?(await p.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:p}){var y,g,x;const f=await this.getProvider();if(!f)throw new cr;const v=m.chains.find(b=>b.id===p);if(!v)throw new $t(new ys);try{await Promise.all([new Promise(N=>{const j=({chainId:C})=>{C===p&&(m.emitter.off("change",j),N())};m.emitter.on("change",j)}),f.request({method:"wallet_switchEthereumChain",params:[{chainId:Ae(p)}]})]);const b=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...b,p]),v}catch(b){const N=b;if(/(user rejected)/i.test(N.message))throw new De(N);try{let j;h!=null&&h.blockExplorerUrls?j=h.blockExplorerUrls:j=(y=v.blockExplorers)!=null&&y.default.url?[(g=v.blockExplorers)==null?void 0:g.default.url]:[];let C;(x=h==null?void 0:h.rpcUrls)!=null&&x.length?C=h.rpcUrls:C=[...v.rpcUrls.default.http];const E={blockExplorerUrls:j,chainId:Ae(p),chainName:(h==null?void 0:h.chainName)??v.name,iconUrls:h==null?void 0:h.iconUrls,nativeCurrency:(h==null?void 0:h.nativeCurrency)??v.nativeCurrency,rpcUrls:C};await f.request({method:"wallet_addEthereumChain",params:[E]});const P=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...P,p]),v}catch(j){throw new De(j)}}},onAccountsChanged(h){h.length===0?this.onDisconnect():m.emitter.emit("change",{accounts:h.map(p=>Nt(p))})},onChainChanged(h){const p=Number(h);m.emitter.emit("change",{chainId:p})},async onConnect(h){const p=Number(h.chainId),f=await this.getAccounts();m.emitter.emit("connect",{accounts:f,chainId:p})},async onDisconnect(h){this.setRequestedChainsIds([]),m.emitter.emit("disconnect");const p=await this.getProvider();i&&(p.removeListener("accountsChanged",i),i=void 0),o&&(p.removeListener("chainChanged",o),o=void 0),u&&(p.removeListener("disconnect",u),u=void 0),d&&(p.removeListener("session_delete",d),d=void 0),l||(l=this.onConnect.bind(this),p.on("connect",l))},onDisplayUri(h){m.emitter.emit("message",{type:"display_uri",data:h})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var p,f,v;return r?((v=(f=(p=r.session)==null?void 0:p.namespaces[a])==null?void 0:f.accounts)==null?void 0:v.map(y=>Number.parseInt(y.split(":")[1]||"")))??[]:[]},async getRequestedChainsIds(){var h;return await((h=m.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!t)return!1;const h=m.chains.map(v=>v.id),p=this.getNamespaceChainsIds();if(p.length&&!p.some(v=>h.includes(v)))return!1;const f=await this.getRequestedChainsIds();return!h.every(v=>f.includes(v))},async setRequestedChainsIds(h){var p;await((p=m.storage)==null?void 0:p.setItem(this.requestedChainsStorageKey,h))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const uv={id:656476,name:"Open Campus Codex",nativeCurrency:{name:"EDU",symbol:"EDU",decimals:18},rpcUrls:{default:{http:["https://rpc.open-campus-codex.gelato.digital"]},public:{http:["https://rpc.open-campus-codex.gelato.digital"]}},blockExplorers:{default:{name:"Block Scout",url:"https://opencampus-codex.blockscout.com/"}},testnet:!0},o3=nP({chains:[ov,dv,cv,lv,sv,av,iv,uv],connectors:[Mg(),bu(),Fu({appName:"mySchoolTree",appLogoUrl:"/mySchoolTree.png"}),Rg({projectId:"7947a33e1a1c8a86929311254cedf81a",metadata:{name:"mySchoolTree",description:"mySchoolTree Web Application",url:typeof window<"u"?window.location.host:"https://mySchooltree.app",icons:[typeof window<"u"?window.location.origin+"/mySchoolTree.png":"/mySchoolTree.png"]},showQrModal:!0})],transports:{[ov.id]:Dr(),[dv.id]:Dr(),[cv.id]:Dr(),[lv.id]:Dr(),[sv.id]:Dr(),[av.id]:Dr(),[iv.id]:Dr(),[uv.id]:Dr()},ssr:!1}),mv=o3.chains,K0={1:"",11155111:"",137:"",10:"",42161:"",8453:"",56:"",656476:"",defaultEmoji:""},hv=e=>e in K0?K0[e]:K0.defaultEmoji,op=()=>/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),l3=()=>{var e;return typeof window<"u"&&!!((e=window.ethereum)!=null&&e.isMetaMask)},pv=e=>op()?e.id==="injected"?!1:e.id==="metaMask"?l3():!0:e.id==="injected"?typeof window<"u"&&!!window.ethereum:!0;function vL(){const e=Ge(),{connectors:t,connect:r,error:s}=HP(),{disconnect:a}=qP(),i=wu(),{switchChainAsync:o}=KP(),[l,c]=w.useState(!1),[d,u]=w.useState(null),[m,h]=w.useState(!1),p=w.useRef(null),f=w.useRef(null),[v,y]=w.useState("bottom"),[g,x]=w.useState(!1);w.useEffect(()=>{const _=()=>{if(p.current&&f.current){const O=p.current.getBoundingClientRect(),W=f.current.getBoundingClientRect(),Z=window.innerHeight-O.bottom,ee=O.top-W.top,I=Z<240&&ee>240?"top":"bottom";y(I)}};return l&&_(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[l]),w.useEffect(()=>{const _=O=>{p.current&&!p.current.contains(O.target)&&c(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const b=_=>{if(op())if(_.id==="metaMask"){if(!l3()){window.open("https://metamask.app.link/dapp/"+window.location.host);return}r({connector:_})}else _.id==="walletConnect"?(x(!0),r({connector:_})):r({connector:_});else r({connector:_})},N=w.useCallback(()=>{const _=setTimeout(()=>u(null),3e3);return()=>clearTimeout(_)},[]),j=async _=>{if(!(_.id===i||m))try{h(!0),u({message:`Switching to ${_.name}...`,isError:!1});const O=e.connector,W=`0x${_.id.toString(16)}`;if((O==null?void 0:O.id)==="walletConnect")await o({chainId:_.id});else{if(!window.ethereum){if(op()){if((O==null?void 0:O.id)==="metaMask")throw window.open("https://metamask.app.link/dapp/"+window.location.host),new Error("Please install MetaMask to switch networks");await o({chainId:_.id})}else throw new Error("No wallet found! Please install MetaMask or use WalletConnect");return}try{await o({chainId:_.id})}catch(H){if(H.code===4902||H.code===-32603)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:W,chainName:_.name,nativeCurrency:{name:_.nativeCurrency.name,symbol:_.nativeCurrency.symbol,decimals:_.nativeCurrency.decimals},rpcUrls:[..._.rpcUrls.default.http],blockExplorerUrls:_.blockExplorers?[_.blockExplorers.default.url]:void 0}]})}catch(Z){throw new Error(Z.message||"Failed to add network")}else throw H}}u({message:`Successfully switched to ${_.name}`,isError:!1}),c(!1),N()}catch(O){console.error("Network switch failed:",O),u({message:O.message||"Failed to switch network",isError:!0}),N()}finally{h(!1)}},C=_=>`${_.slice(0,6)}...${_.slice(-4)}`,E=mv.find(_=>_.id===i),P=hv(i),L=()=>g?n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>x(!1),children:n.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-xl p-6 w-full max-w-sm",onClick:_=>_.stopPropagation(),children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Connect Wallet"}),n.jsx("div",{className:"space-y-3",children:t.map(_=>{const O=pv(_);return n.jsxs("button",{onClick:()=>b(_),disabled:!O,className:"w-full flex items-center justify-between p-4 bg-gray-700/50 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("span",{className:"text-white",children:_.name}),O?n.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}):n.jsx("span",{className:"text-xs text-yellow-400",children:"Not available"})]},_.uid)})}),n.jsx("button",{onClick:()=>x(!1),className:"mt-4 w-full p-3 bg-gray-700 rounded-lg text-gray-300",children:"Cancel"})]})}):null;return n.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-2xl shadow-xl border border-gray-800/50 backdrop-blur-sm max-h-[90vh] overflow-y-auto",ref:f,children:n.jsxs("div",{className:"max-w-md mx-auto space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Wallet Connection"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage your wallet connection and network"})]}),e.isConnected&&n.jsx("button",{onClick:()=>a(),className:"px-4 py-2 text-sm font-medium text-red-400 bg-red-400/10 rounded-xl hover:bg-red-400/20 transition-all duration-200 hover:scale-105 active:scale-95",children:"Disconnect"})]}),n.jsx("div",{className:"p-4 bg-gray-800/50 rounded-xl backdrop-blur-sm border border-gray-700/50 transition-all duration-300 hover:bg-gray-800/70",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Status"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${e.isConnected?"bg-green-400 animate-pulse":"bg-yellow-400"}`}),n.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${e.isConnected?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.isConnected?"Connected":"Disconnected"})]})]})}),e.isConnected&&e.address&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-gray-700/50 space-y-2 group hover:bg-gray-800/70 transition-all duration-300",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Wallet Address"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("code",{className:"bg-gray-900/50 px-4 py-2 rounded-lg text-sm font-mono text-gray-300 overflow-x-auto scrollbar-thin",children:C(e.address)}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e.address||""),u({message:"Address copied to clipboard!",isError:!1}),N()},className:"p-2 hover:bg-gray-700/50 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95 ml-2 flex-shrink-0",title:"Copy address",children:n.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]})]}),n.jsxs("div",{className:"relative",ref:p,children:[n.jsxs("button",{onClick:_=>{_.stopPropagation(),c(!l)},disabled:m,className:"w-full flex items-center justify-between p-4 bg-gray-800/50 rounded-xl border border-gray-700/50 hover:bg-gray-800/70 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-2xl mr-3 group-hover:scale-110 transition-transform duration-200",children:P}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Network"}),n.jsx("p",{className:"font-medium text-gray-200",children:(E==null?void 0:E.name)||"Unknown"})]})]}),n.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-all duration-200 ${l?"rotate-180 text-blue-400":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx(ft,{children:l&&n.jsxs(n.Fragment,{children:[n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>c(!1)}),n.jsx(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:20,stiffness:300},className:`
                        absolute ${v==="top"?"bottom-full mb-2":"top-full mt-2"} 
                        left-0 right-0 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 
                        rounded-xl shadow-xl z-50
                      `,style:{maxHeight:"240px"},children:n.jsx("div",{className:"overflow-y-auto max-h-[240px] scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:mv.map(_=>{const O=_.id===i,W=hv(_.id);return n.jsxs("button",{onClick:()=>{O||j(_),c(!1)},disabled:m,className:`w-full flex items-center px-4 py-3 hover:bg-gray-700/50 transition-all duration-200 ${O?"bg-blue-500/10 text-blue-400":""} disabled:opacity-50 disabled:cursor-not-allowed group`,children:[n.jsx("span",{className:"text-xl mr-3 group-hover:scale-110 transition-transform duration-200",children:W}),n.jsx("span",{className:"font-medium",children:_.name}),O&&n.jsx("span",{className:"ml-auto text-xs bg-blue-500/20 text-blue-300 px-3 py-1 rounded-lg",children:"Connected"})]},_.id)})})})]})})]}),n.jsx(ft,{children:d&&n.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:`p-4 rounded-xl text-sm flex items-start backdrop-blur-sm ${d.isError?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:[n.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.isError?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:d.message})]})})]}),!e.isConnected&&n.jsx("div",{className:"space-y-3",children:t.map(_=>{const O=pv(_);return n.jsxs("button",{onClick:()=>b(_),disabled:!O,className:`w-full flex items-center justify-between p-4 rounded-xl transition-all duration-300 group ${O?"bg-gray-800/50 hover:bg-gray-800/70 hover:scale-[1.02] active:scale-[0.98]":"bg-gray-800/30 cursor-not-allowed"} border border-gray-700/50`,children:[n.jsx("span",{className:"font-medium text-gray-200 group-hover:text-white transition-colors",children:_.name}),O?n.jsx("svg",{className:"w-5 h-5 text-blue-400 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}):n.jsx("span",{className:"text-xs text-yellow-400 bg-yellow-400/10 px-3 py-1 rounded-lg border border-yellow-400/20",children:"Not available"})]},_.uid)})}),n.jsx(ft,{children:g&&L()}),n.jsx(ft,{children:s&&n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-4 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm",children:s.message})})]})})}const wL=()=>typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:5173":"https://my-school-tree.vercel.app",Ou=({className:e="",variant:t="default"})=>{const{isInitialized:r,isAuthenticated:s,user:a,ocAuth:i}=vs.useOCAuth(),[o,l]=w.useState(!1),[c,d]=w.useState(null),u=()=>a&&(a.name||a.email||a.sub)||"User";if(!r)return n.jsx("div",{className:"relative inline-block",children:n.jsxs("button",{disabled:!0,className:`p-3 sm:p-4 bg-gray-500/20 rounded-xl border border-gray-500/30 text-gray-400 flex items-center justify-center w-full sm:w-auto text-sm sm:text-base ${e}`,children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 sm:h-5 sm:w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Initializing..."})]})});const m=async()=>{try{l(!0),d(null),await i.logout(),console.log("Logged out successfully")}catch(p){console.error("Logout error:",p),d("Failed to log out. Please try again.")}finally{l(!1)}},h=async()=>{try{l(!0),d(null);const p=wL();await i.signInWithRedirect({state:"opencampus",redirectUri:`${p}/`}),console.log("Redirecting to login...")}catch(p){console.error("Login error:",p),d("Failed to initiate login. Please try again."),l(!1)}};return s&&a?n.jsxs("div",{className:"relative inline-block group",children:[n.jsx("button",{onClick:m,disabled:o,className:`p-3 sm:p-4 bg-green-500/20 rounded-xl border border-green-500/30 text-green-400 flex items-center justify-center w-full sm:w-auto text-sm sm:text-base transition-all duration-200 ${o?"opacity-70 cursor-not-allowed":"hover:bg-green-500/30"} ${e}`,children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 sm:h-5 sm:w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Signing out..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[a.picture?n.jsx("img",{src:a.picture,alt:"Profile",className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full"}):n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-green-500/30 flex items-center justify-center text-xs font-bold",children:u().charAt(0).toUpperCase()}),n.jsx("span",{className:t==="compact"?"hidden sm:inline":"",children:u()})]}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})]})}),c&&n.jsx("div",{className:"absolute top-full left-0 mt-2 w-full px-2 py-1 text-xs text-red-500 bg-red-100 rounded-xl",children:c}),n.jsx("div",{className:"absolute hidden group-hover:block top-full left-0 mt-2 w-48 p-2 bg-gray-800/90 backdrop-blur-sm rounded-xl border border-gray-700/50 shadow-xl",children:n.jsxs("div",{className:"text-sm text-gray-300 p-2",children:[n.jsx("div",{className:"font-medium text-white",children:a.name}),n.jsx("div",{className:"text-xs text-gray-400 truncate",children:a.email})]})})]}):n.jsxs("div",{className:"relative inline-block",children:[n.jsx("button",{onClick:h,disabled:o,className:`p-3 sm:p-4 bg-blue-500/20 rounded-xl border border-blue-500/30 text-blue-400 flex items-center justify-center w-full sm:w-auto text-sm sm:text-base transition-all duration-200 ${o?"opacity-70 cursor-not-allowed":"hover:bg-blue-500/30"} ${e}`,children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 sm:h-5 sm:w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Signing in..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),n.jsx("span",{className:t==="compact"?"hidden sm:inline":"",children:"OpenCampus ID"})]})}),c&&n.jsx("div",{className:"absolute top-full left-0 mt-2 w-full px-2 py-1 text-xs text-red-500 bg-red-100 rounded-xl",children:c})]})},jL="/assets/mySchoolTree-CniRutJw.png",NL=()=>{const[e,t]=w.useState(!1),[r,s]=w.useState(!1),[a,i]=w.useState(!1),o=Ge(),{isInitialized:l,isAuthenticated:c,user:d}=vs.useOCAuth();w.useEffect(()=>{const p=()=>{t(window.scrollY>10)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),w.useEffect(()=>{a&&s(!1)},[a]);const u=p=>p?`${p.slice(0,6)}...${p.slice(-4)}`:"",m=()=>l?c&&d?`${d.name||d.email||"User"}`:"Not logged in":"Initializing...",h=()=>{i(!a),s(!1)};return n.jsxs(n.Fragment,{children:[n.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${e?"bg-gray-900/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-shrink-0 flex items-center",children:[n.jsx("img",{src:jL,alt:"mySchoolTree Logo",className:"h-8 w-auto mr-2 sm:h-10"}),n.jsx("span",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"mySchoolTree"})]}),n.jsx("div",{className:"hidden md:block",children:n.jsxs("div",{className:"ml-10 flex items-center space-x-8",children:[n.jsx(Y0,{href:"#",active:!0,children:"Dashboard"}),n.jsx(Y0,{href:"#",active:!1,children:"Explore"}),n.jsx(Y0,{href:"#",active:!1,children:"Marketplace"}),n.jsx("span",{className:`text-sm font-medium ${c?"text-green-400":"text-gray-400"}`,children:m()})]})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[n.jsx(Ou,{className:"px-3 py-1.5 text-sm rounded-xl"}),n.jsx(X.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:h,className:`flex items-center px-3 py-1.5 rounded-xl font-medium transition-all ${o.status==="connected"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30 hover:bg-blue-500/30"}`,children:o.status==="connected"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),u(o.address)]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Connect Wallet"]})})]}),n.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[n.jsx(X.button,{whileTap:{scale:.95},onClick:h,className:`flex items-center px-2 py-1 rounded-lg text-sm ${o.status==="connected"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:o.status==="connected"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mr-1.5"}),u(o.address)]}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),n.jsx("button",{onClick:()=>s(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white focus:outline-none",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),n.jsx(ft,{children:r&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden overflow-hidden bg-gray-800/95 backdrop-blur-md border-t border-gray-700/50",children:n.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[n.jsx(gc,{href:"#",active:!0,children:"Dashboard"}),n.jsx(gc,{href:"#",active:!1,children:"Explore"}),n.jsx(gc,{href:"#",active:!1,children:"Marketplace"}),n.jsx(gc,{href:"#",active:!1,children:"Documentation"}),n.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:m()})]})})})]}),n.jsx(ft,{children:a&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/80 backdrop-blur-sm",onClick:()=>i(!1),children:n.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:500},className:"relative w-full max-w-md",onClick:p=>p.stopPropagation(),children:[n.jsx("button",{onClick:()=>i(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-white z-[60] bg-gray-800 p-1 rounded-full","aria-label":"Close modal",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx(vL,{})]})})})]})},Y0=({href:e,active:t,children:r})=>n.jsx(X.a,{href:e,whileHover:{y:-2},className:`px-3 py-2 text-sm font-medium ${t?"text-white border-b-2 border-blue-400":"text-gray-300 hover:text-white transition-colors"}`,children:r}),gc=({href:e,active:t,children:r})=>n.jsx("a",{href:e,className:`block px-3 py-2 rounded-md text-base font-medium ${t?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:r});var Lg={};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.parse=AL;Lg.serialize=ML;const SL=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,kL=/^[\u0021-\u003A\u003C-\u007E]*$/,CL=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,TL=/^[\u0020-\u003A\u003D-\u007E]*$/,EL=Object.prototype.toString,PL=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function AL(e,t){const r=new PL,s=e.length;if(s<2)return r;const a=(t==null?void 0:t.decode)||RL;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const l=e.indexOf(";",i),c=l===-1?s:l;if(o>c){i=e.lastIndexOf(";",o-1)+1;continue}const d=fv(e,i,o),u=gv(e,o,d),m=e.slice(d,u);if(r[m]===void 0){let h=fv(e,o+1,c),p=gv(e,c,h);const f=a(e.slice(h,p));r[m]=f}i=c+1}while(i<s);return r}function fv(e,t,r){do{const s=e.charCodeAt(t);if(s!==32&&s!==9)return t}while(++t<r);return r}function gv(e,t,r){for(;t>r;){const s=e.charCodeAt(--t);if(s!==32&&s!==9)return t+1}return r}function ML(e,t,r){const s=(r==null?void 0:r.encode)||encodeURIComponent;if(!SL.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=s(t);if(!kL.test(a))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+a;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!CL.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!TL.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!LL(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function RL(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function LL(e){return EL.call(e)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xv="popstate";function IL(e={}){function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return lp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:xl(a)}return FL(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _L(){return Math.random().toString(36).substring(2,10)}function yv(e,t){return{usr:e.state,key:e.key,idx:t}}function lp(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_i(t):t,state:r,key:t&&t.key||s||_L()}}function xl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _i(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function FL(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function m(){l="POP";let y=u(),g=y==null?null:y-d;d=y,c&&c({action:l,location:v.location,delta:g})}function h(y,g){l="PUSH";let x=lp(v.location,y,g);d=u()+1;let b=yv(x,d),N=v.createHref(x);try{o.pushState(b,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:l,location:v.location,delta:1})}function p(y,g){l="REPLACE";let x=lp(v.location,y,g);d=u();let b=yv(x,d),N=v.createHref(x);o.replaceState(b,"",N),i&&c&&c({action:l,location:v.location,delta:0})}function f(y){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:xl(y);return x=x.replace(/ $/,"%20"),et(g,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,g)}let v={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(xv,m),c=y,()=>{a.removeEventListener(xv,m),c=null}},createHref(y){return t(a,y)},createURL:f,encodeLocation(y){let g=f(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return o.go(y)}};return v}function c3(e,t,r="/"){return OL(e,t,r,!1)}function OL(e,t,r,s){let a=typeof t=="string"?_i(t):t,i=Er(a.pathname||"/",r);if(i==null)return null;let o=d3(e);DL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=YL(i);l=qL(o[c],d,s)}return l}function d3(e,t=[],r=[],s=""){let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let d=br([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),d3(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:HL(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of u3(i.path))a(i,o,c)}),t}function u3(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=u3(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function DL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GL(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var $L=/^:[\w-]+$/,BL=3,zL=2,UL=1,VL=10,WL=-2,bv=e=>e==="*";function HL(e,t){let r=e.split("/"),s=r.length;return r.some(bv)&&(s+=WL),t&&(s+=zL),r.filter(a=>!bv(a)).reduce((a,i)=>a+($L.test(i)?BL:i===""?UL:VL),s)}function GL(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function qL(e,t,r=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=Fd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&r&&!s[s.length-1].route.index&&(m=Fd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:br([i,m.pathname]),pathnameBase:JL(br([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=br([i,m.pathnameBase]))}return o}function Fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=KL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:m},h)=>{if(u==="*"){let f=l[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function KL(e,t=!1,r=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function YL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Er(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function QL(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?_i(e):e;return{pathname:r?r.startsWith("/")?r:XL(r,t):t,search:eI(s),hash:tI(a)}}function XL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Q0(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ig(e){let t=ZL(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function _g(e,t,r,s=!1){let a;typeof e=="string"?a=_i(e):(a={...e},et(!a.pathname||!a.pathname.includes("?"),Q0("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Q0("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Q0("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=QL(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var br=e=>e.join("/").replace(/\/\/+/g,"/"),JL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var m3=["POST","PUT","PATCH","DELETE"];new Set(m3);var rI=["GET",...m3];new Set(rI);var Fi=w.createContext(null);Fi.displayName="DataRouter";var Du=w.createContext(null);Du.displayName="DataRouterState";var h3=w.createContext({isTransitioning:!1});h3.displayName="ViewTransition";var sI=w.createContext(new Map);sI.displayName="Fetchers";var aI=w.createContext(null);aI.displayName="Await";var $n=w.createContext(null);$n.displayName="Navigation";var Fl=w.createContext(null);Fl.displayName="Location";var sr=w.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Fg=w.createContext(null);Fg.displayName="RouteError";function iI(e,{relative:t}={}){et(Oi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=w.useContext($n),{hash:a,pathname:i,search:o}=Ol(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:br([r,i])),s.createHref({pathname:l,search:o,hash:a})}function Oi(){return w.useContext(Fl)!=null}function As(){return et(Oi(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Fl).location}var p3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f3(e){w.useContext($n).static||w.useLayoutEffect(e)}function Ir(){let{isDataRoute:e}=w.useContext(sr);return e?bI():oI()}function oI(){et(Oi(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Fi),{basename:t,navigator:r}=w.useContext($n),{matches:s}=w.useContext(sr),{pathname:a}=As(),i=JSON.stringify(Ig(s)),o=w.useRef(!1);return f3(()=>{o.current=!0}),w.useCallback((c,d={})=>{if(On(o.current,p3),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=_g(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:br([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,a,e])}w.createContext(null);function Ol(e,{relative:t}={}){let{matches:r}=w.useContext(sr),{pathname:s}=As(),a=JSON.stringify(Ig(r));return w.useMemo(()=>_g(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function lI(e,t){return g3(e,t)}function g3(e,t,r,s){var x;et(Oi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=w.useContext($n),{matches:o}=w.useContext(sr),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",m=l&&l.route;{let b=m&&m.path||"";x3(d,!m||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=As(),p;if(t){let b=typeof t=="string"?_i(t):t;et(u==="/"||((x=b.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),p=b}else p=h;let f=p.pathname||"/",v=f;if(u!=="/"){let b=u.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=!i&&r&&r.matches&&r.matches.length>0?r.matches:c3(e,{pathname:v});On(m||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),On(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=hI(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:br([u,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:br([u,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,s);return t&&g?w.createElement(Fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},g):g}function cI(){let e=yI(),t=nI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,o)}var dI=w.createElement(cI,null),uI=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(sr.Provider,{value:this.props.routeContext},w.createElement(Fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mI({routeContext:e,match:t,children:r}){let s=w.useContext(Fi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(sr.Provider,{value:e},r)}function hI(e,t=[],r=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let c=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);et(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:m}=r,h=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,u)=>{let m,h=!1,p=null,f=null;r&&(m=i&&d.route.id?i[d.route.id]:void 0,p=d.route.errorElement||dI,o&&(l<0&&u===0?(x3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,u+1)),y=()=>{let g;return m?g=p:h?g=f:d.route.Component?g=w.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,w.createElement(mI,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?w.createElement(uI,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}function Og(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pI(e){let t=w.useContext(Fi);return et(t,Og(e)),t}function fI(e){let t=w.useContext(Du);return et(t,Og(e)),t}function gI(e){let t=w.useContext(sr);return et(t,Og(e)),t}function Dg(e){let t=gI(e),r=t.matches[t.matches.length-1];return et(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function xI(){return Dg("useRouteId")}function yI(){var s;let e=w.useContext(Fg),t=fI("useRouteError"),r=Dg("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function bI(){let{router:e}=pI("useNavigate"),t=Dg("useNavigate"),r=w.useRef(!1);return f3(()=>{r.current=!0}),w.useCallback(async(a,i={})=>{On(r.current,p3),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var vv={};function x3(e,t,r){!t&&!vv[e]&&(vv[e]=!0,On(!1,r))}w.memo(vI);function vI({routes:e,future:t,state:r}){return g3(e,void 0,r,t)}function wI({to:e,replace:t,state:r,relative:s}){et(Oi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext($n);On(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(sr),{pathname:o}=As(),l=Ir(),c=_g(e,Ig(i),o,s==="path"),d=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:s})},[l,d,s,t,r]),null}function Vn(e){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jI({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:i=!1}){et(!Oi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=_i(r));let{pathname:c="/",search:d="",hash:u="",state:m=null,key:h="default"}=r,p=w.useMemo(()=>{let f=Er(c,o);return f==null?null:{location:{pathname:f,search:d,hash:u,state:m,key:h},navigationType:s}},[o,c,d,u,m,h,s]);return On(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement($n.Provider,{value:l},w.createElement(Fl.Provider,{children:t,value:p}))}function NI({children:e,location:t}){return lI(cp(e),t)}function cp(e,t=[]){let r=[];return w.Children.forEach(e,(s,a)=>{if(!w.isValidElement(s))return;let i=[...t,a];if(s.type===w.Fragment){r.push.apply(r,cp(s.props.children,i));return}et(s.type===Vn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=cp(s.props.children,i)),r.push(o)}),r}var Uc="get",Vc="application/x-www-form-urlencoded";function $u(e){return e!=null&&typeof e.tagName=="string"}function SI(e){return $u(e)&&e.tagName.toLowerCase()==="button"}function kI(e){return $u(e)&&e.tagName.toLowerCase()==="form"}function CI(e){return $u(e)&&e.tagName.toLowerCase()==="input"}function TI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EI(e,t){return e.button===0&&(!t||t==="_self")&&!TI(e)}var xc=null;function PI(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var AI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(e){return e!=null&&!AI.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):e}function MI(e,t){let r,s,a,i,o;if(kI(e)){let l=e.getAttribute("action");s=l?Er(l,t):null,r=e.getAttribute("method")||Uc,a=X0(e.getAttribute("enctype"))||Vc,i=new FormData(e)}else if(SI(e)||CI(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?Er(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Uc,a=X0(e.getAttribute("formenctype"))||X0(l.getAttribute("enctype"))||Vc,i=new FormData(l,e),!PI()){let{name:d,type:u,value:m}=e;if(u==="image"){let h=d?`${d}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else d&&i.append(d,m)}}else{if($u(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Uc,s=null,a=Vc,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:o}}function $g(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function RI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function II(e,t,r){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await RI(i,r);return o.links?o.links():[]}return[]}));return DI(s.flat(1).filter(LI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wv(e,t,r,s,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var m;let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function _I(e,t,{includeHydrateFallback:r}={}){return FI(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function FI(e){return[...new Set(e)]}function OI(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function DI(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(OI(a));return r.has(i)||(r.add(i),s.push({key:i,link:a})),s},[])}function $I(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Er(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function y3(){let e=w.useContext(Fi);return $g(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function BI(){let e=w.useContext(Du);return $g(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bg=w.createContext(void 0);Bg.displayName="FrameworkContext";function b3(){let e=w.useContext(Bg);return $g(e,"You must render this element inside a <HydratedRouter> element"),e}function zI(e,t){let r=w.useContext(Bg),[s,a]=w.useState(!1),[i,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,h=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=g=>{g.forEach(x=>{o(x.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),w.useEffect(()=>{if(s){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[s]);let p=()=>{a(!0)},f=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:to(l,p),onBlur:to(c,f),onMouseEnter:to(d,p),onMouseLeave:to(u,f),onTouchStart:to(m,p)}]:[!1,h,{}]}function to(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function UI({page:e,...t}){let{router:r}=y3(),s=w.useMemo(()=>c3(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?w.createElement(WI,{page:e,matches:s,...t}):null}function VI(e){let{manifest:t,routeModules:r}=b3(),[s,a]=w.useState([]);return w.useEffect(()=>{let i=!1;return II(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),s}function WI({page:e,matches:t,...r}){let s=As(),{manifest:a,routeModules:i}=b3(),{basename:o}=y3(),{loaderData:l,matches:c}=BI(),d=w.useMemo(()=>wv(e,t,c,a,s,"data"),[e,t,c,a,s]),u=w.useMemo(()=>wv(e,t,c,a,s,"assets"),[e,t,c,a,s]),m=w.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let f=new Set,v=!1;if(t.forEach(g=>{var b;let x=a.routes[g.route.id];!x||!x.hasLoader||(!d.some(N=>N.route.id===g.route.id)&&g.route.id in l&&((b=i[g.route.id])!=null&&b.shouldRevalidate)||x.hasClientLoader?v=!0:f.add(g.route.id))}),f.size===0)return[];let y=$I(e,o);return v&&f.size>0&&y.searchParams.set("_routes",t.filter(g=>f.has(g.route.id)).map(g=>g.route.id).join(",")),[y.pathname+y.search]},[o,l,s,a,d,t,e,i]),h=w.useMemo(()=>_I(u,a),[u,a]),p=VI(u);return w.createElement(w.Fragment,null,m.map(f=>w.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),h.map(f=>w.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),p.map(({key:f,link:v})=>w.createElement("link",{key:f,...v})))}function HI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var v3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v3&&(window.__reactRouterVersion="7.4.1")}catch{}function GI({basename:e,children:t,window:r}){let s=w.useRef();s.current==null&&(s.current=IL({window:r,v5Compat:!0}));let a=s.current,[i,o]=w.useState({action:a.action,location:a.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>a.listen(l),[a,l]),w.createElement(jI,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var w3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j3=w.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m,...h},p){let{basename:f}=w.useContext($n),v=typeof d=="string"&&w3.test(d),y,g=!1;if(typeof d=="string"&&v&&(y=d,v3))try{let L=new URL(window.location.href),_=d.startsWith("//")?new URL(L.protocol+d):new URL(d),O=Er(_.pathname,f);_.origin===L.origin&&O!=null?d=O+_.search+_.hash:g=!0}catch{On(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=iI(d,{relative:a}),[b,N,j]=zI(s,h),C=QI(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function E(L){t&&t(L),L.defaultPrevented||C(L)}let P=w.createElement("a",{...h,...j,href:y||x,onClick:g||i?t:E,ref:HI(p,N),target:c,"data-discover":!v&&r==="render"?"true":void 0});return b&&!v?w.createElement(w.Fragment,null,P,w.createElement(UI,{page:x})):P});j3.displayName="Link";var qI=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let m=Ol(o,{relative:d.relative}),h=As(),p=w.useContext(Du),{navigator:f,basename:v}=w.useContext($n),y=p!=null&&t_(m)&&l===!0,g=f.encodeLocation?f.encodeLocation(m).pathname:m.pathname,x=h.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(x=x.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&v&&(b=Er(b,v)||b);const N=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let j=x===g||!a&&x.startsWith(g)&&x.charAt(N)==="/",C=b!=null&&(b===g||!a&&b.startsWith(g)&&b.charAt(g.length)==="/"),E={isActive:j,isPending:C,isTransitioning:y},P=j?t:void 0,L;typeof s=="function"?L=s(E):L=[s,j?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _=typeof i=="function"?i(E):i;return w.createElement(j3,{...d,"aria-current":P,className:L,ref:u,style:_,to:o,viewTransition:l},typeof c=="function"?c(E):c)});qI.displayName="NavLink";var KI=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:i,method:o=Uc,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:m,...h},p)=>{let f=JI(),v=e_(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&w3.test(l),x=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let N=b.nativeEvent.submitter,j=(N==null?void 0:N.getAttribute("formmethod"))||o;f(N||b.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:m})};return w.createElement("form",{ref:p,method:y,action:v,onSubmit:s?c:x,...h,"data-discover":!g&&e==="render"?"true":void 0})});KI.displayName="Form";function YI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N3(e){let t=w.useContext(Fi);return et(t,YI(e)),t}function QI(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Ir(),c=As(),d=Ol(e,{relative:i});return w.useCallback(u=>{if(EI(u,t)){u.preventDefault();let m=r!==void 0?r:xl(c)===xl(d);l(e,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,s,t,e,a,i,o])}var XI=0,ZI=()=>`__${String(++XI)}__`;function JI(){let{router:e}=N3("useSubmit"),{basename:t}=w.useContext($n),r=xI();return w.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=MI(s,t);if(a.navigate===!1){let u=a.fetcherKey||ZI();await e.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function e_(e,{relative:t}={}){let{basename:r}=w.useContext($n),s=w.useContext(sr);et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...Ol(e||".",{relative:t})},o=As();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let u=l.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:br([r,i.pathname])),xl(i)}function t_(e,t={}){let r=w.useContext(h3);et(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=N3("useViewTransitionState"),a=Ol(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Er(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=Er(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Fd(a.pathname,o)!=null||Fd(a.pathname,i)!=null}new TextEncoder;const dp=({children:e,onClick:t})=>n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:t,className:"px-6 py-3 rounded-xl font-medium text-white bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg",children:e}),n_=()=>{const{status:e}=Ge(),t=Ir(),r=()=>{t("/role-select")};return n.jsx(X.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7},className:"max-w-7xl mx-auto mt-8 sm:mt-12 md:mt-20 px-3 sm:px-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center w-full",children:[n.jsxs("h1",{className:"text-3xl xs:text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight leading-tight",children:[n.jsxs(X.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"block",children:["Get into ",n.jsx("span",{className:"text-blue-400",children:"my"}),n.jsx("span",{className:"text-purple-500",children:"SchoolTree"})]}),n.jsx(X.span,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"block mt-2 sm:mt-3 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Education Meets Blockchain"})]}),n.jsx("p",{className:"mt-4 sm:mt-6 max-w-xs xs:max-w-sm sm:max-w-lg md:max-w-2xl mx-auto text-base sm:text-lg md:text-xl text-gray-300",children:"Bridging traditional education with blockchain technology for secure, transparent academic record management."})]}),n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-6 sm:mt-8 md:mt-10 flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center w-full px-4 sm:px-0",children:[e!=="connected"?n.jsx(dp,{onClick:()=>{},children:"Connect Wallet"}):n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 sm:p-4 bg-green-500/20 rounded-xl border border-green-500/30 text-green-400 flex items-center justify-center w-full sm:w-auto text-sm sm:text-base",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Ready to Explore"]}),n.jsx("div",{className:"block sm:hidden w-full sm:w-auto",children:n.jsx(Ou,{className:"p-3 sm:p-4 bg-blue-500/20 rounded-xl border border-blue-500/30 text-blue-400 flex items-center justify-center w-full sm:w-auto text-sm sm:text-base"})}),n.jsxs(X.button,{onClick:r,whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto px-4 sm:px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white font-medium rounded-lg shadow-lg flex items-center justify-center sm:justify-start space-x-2 transition-all duration-200 text-sm sm:text-base",children:[n.jsx("span",{children:"Enter DApp"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.5},className:"mt-6 sm:mt-8 px-3 sm:px-4 py-1.5 sm:py-2 bg-blue-500/10 rounded-full border border-blue-500/20 text-blue-400 text-xs sm:text-sm flex items-center max-w-full overflow-hidden",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0 h-4 w-4 sm:h-5 sm:w-5 mr-1.5 sm:mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),n.jsx("span",{className:"truncate",children:"Interactive Learning Environment"})]})]})})},Z0=({title:e,children:t})=>n.jsx("div",{children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400",children:e}),n.jsx("p",{className:"mt-1 text-sm text-gray-400",children:t})]})]})}),yc=({title:e,color:t,children:r})=>{const s={blue:"bg-blue-500/20 text-blue-400 border-blue-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",green:"bg-green-500/20 text-green-400 border-green-500/30",amber:"bg-amber-500/20 text-amber-400 border-amber-500/30"};return n.jsxs(X.div,{whileHover:{scale:1.05},className:`p-3 ${s[t]} rounded-lg border flex flex-col items-center justify-center text-center`,children:[r,n.jsx("p",{className:"text-xs mt-2 font-medium",children:e})]})},r_=()=>n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},className:"max-w-7xl mx-auto mt-24 bg-gray-800/40 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-gray-700",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Reimagining Education Management"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"mySchoolTree creates a seamless bridge between traditional educational systems and blockchain technology, offering institutions the best of both worlds."}),n.jsx("p",{className:"text-gray-300 mb-6",children:"Maintain familiar operations while gaining the benefits of immutable record-keeping, transparent accounting, and secure digital identity for students of all ages."}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Z0,{title:"Synchronize On-Chain & Off-Chain",children:"Transform standard educational processes into blockchain-secured operations without disrupting existing workflows."}),n.jsx(Z0,{title:"Adopt at Your Own Pace",children:"Institutions can embrace blockchain benefits while preserving the efficiency of current systems."}),n.jsx(Z0,{title:"Early Blockchain Exposure",children:"Introduce students to digital identity and blockchain interaction from a young age, preparing them for the future."})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 opacity-75 blur-xl"}),n.jsxs(X.div,{initial:{y:0},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:5,ease:"easeInOut"},className:"relative bg-gray-900/90 p-6 rounded-2xl border border-gray-700",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(yc,{title:"Student Records",color:"blue",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})})}),n.jsx(yc,{title:"Attendance",color:"purple",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),n.jsx(yc,{title:"Certificates",color:"green",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})})}),n.jsx(yc,{title:"Payments",color:"amber",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),n.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})})]}),n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsxs("div",{className:"relative py-3 px-6 bg-blue-500/20 text-blue-400 rounded-lg flex items-center space-x-2",children:[n.jsx("div",{className:"absolute -left-2 -top-2 w-4 h-4 bg-blue-400 rounded-full animate-ping"}),n.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),n.jsx("span",{children:"Blockchain Integration"})]})})]})]})]})}),J0=({icon:e,title:t,description:r})=>n.jsxs(X.div,{whileHover:{y:-5},className:"p-6 bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700",children:[n.jsx("div",{className:"h-12 w-12 bg-blue-500/20 rounded-lg flex items-center justify-center mb-4 text-blue-400",children:e}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:t}),n.jsx("p",{className:"text-gray-400",children:r})]}),s_=()=>n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},className:"max-w-7xl mx-auto mt-24",children:[n.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Key Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsx(J0,{icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),title:"Immutable Records",description:"Secure student records, certificates, and credentials with blockchain technology ensuring tamper-proof verification."}),n.jsx(J0,{icon:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),n.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),title:"Digital Identity",description:"Provide students with unique blockchain identities and wallets from an early age, fostering digital literacy."}),n.jsx(J0,{icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})}),title:"Seamless Integration",description:"Connect existing school management systems with blockchain without disrupting established workflows."})]})]}),a_=({children:e,onClick:t})=>n.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:t,className:"px-6 py-3 rounded-xl font-medium text-white bg-gray-700 hover:bg-gray-600 border border-gray-600 shadow-lg",children:e}),em=({number:e,title:t,description:r})=>n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center border border-blue-500/30",children:n.jsx("span",{className:"text-blue-400 font-bold",children:e})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h4",{className:"text-lg font-medium",children:t}),n.jsx("p",{className:"mt-1 text-gray-400 text-sm",children:r})]})]}),i_=()=>{const e=Ge();return n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9,duration:.5},className:"max-w-7xl mx-auto mt-24 bg-gradient-to-br from-blue-900/50 to-purple-900/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-blue-700/50",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Join Our Educational Protocol"}),n.jsx("p",{className:"text-gray-300 mb-6",children:"Become part of the future of education by integrating your institution with mySchoolTree. We're bringing students onchain from an early age, preparing them for the digital future."}),n.jsxs("div",{className:"space-y-6 mb-8",children:[n.jsx(em,{number:"01",title:"Student Digital Identity",description:"Each student receives a secure wallet address and digital identity for lifelong learning credentials."}),n.jsx(em,{number:"02",title:"Gradual Implementation",description:"Adopt blockchain features at your own pace with our flexible integration options."}),n.jsx(em,{number:"03",title:"Technical Support",description:"Receive dedicated onboarding and ongoing support from our team of education and blockchain experts."})]}),e.status!=="connected"?n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[n.jsx(dp,{onClick:()=>{},children:"Connect Wallet to Apply"}),n.jsx(a_,{onClick:()=>{},children:"Learn More"})]}):n.jsx(dp,{onClick:()=>{},children:"Register Your Institution"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(X.div,{initial:{opacity:.8},animate:{opacity:[.8,1,.8]},transition:{repeat:1/0,duration:3},className:"absolute inset-0 bg-gradient-to-r from-blue-500/30 to-purple-600/30 rounded-2xl blur-xl"}),n.jsxs("div",{className:"relative bg-gray-900/70 p-6 rounded-2xl border border-gray-700",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Partner Application"}),e.status==="connected"?n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Institution Name"}),n.jsx("input",{type:"text",className:"w-full bg-gray-800/80 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter institution name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Institution Type"}),n.jsxs("select",{className:"w-full bg-gray-800/80 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{children:"Elementary School"}),n.jsx("option",{children:"Middle School"}),n.jsx("option",{children:"High School"}),n.jsx("option",{children:"University"}),n.jsx("option",{children:"Vocational Training"}),n.jsx("option",{children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),n.jsx("input",{type:"email",className:"w-full bg-gray-800/80 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@institution.edu"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Student Population"}),n.jsx("input",{type:"number",className:"w-full bg-gray-800/80 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Approximate number of students"})]}),n.jsx("button",{className:"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 rounded-lg font-medium text-white shadow-lg",children:"Submit Application"})]}):n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-blue-400 mb-3",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v-1l1-1 1-1-.257-.257A6 6 0 1118 8zm-6-4a1 1 0 100 2h2a1 1 0 100-2h-2z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Connect your wallet to access the application form and join our educational protocol."}),n.jsx("button",{className:"w-full py-2 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-lg font-medium",children:"Connect Wallet First"})]})]})]})]})})},bc=({title:e,value:t})=>n.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-xl text-center",children:[n.jsx("p",{className:"text-gray-400 text-sm mb-1",children:e}),n.jsx("p",{className:"text-2xl font-bold",children:t})]}),o_=()=>n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.5},className:"max-w-7xl mx-auto mt-24 bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-gray-700",children:[n.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Protocol Statistics"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(bc,{title:"Institutions",value:"243"}),n.jsx(bc,{title:"Students Onchain",value:"124,582"}),n.jsx(bc,{title:"Records Secured",value:"1.7M+"}),n.jsx(bc,{title:"Countries",value:"37"})]})]}),l_=()=>{const e=new Date().getFullYear();return n.jsxs("footer",{className:"relative w-full bg-gray-900/90 backdrop-blur-lg shadow-[0_-10px_30px_-15px_rgba(0,0,0,0.3)] border-t border-green-800/50",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"}),n.jsxs("div",{className:"max-w-7xl mx-auto py-8 sm:py-10 md:py-12 px-4 sm:px-6 lg:px-8 relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/20 to-gray-900/60 pointer-events-none rounded-lg"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 lg:gap-12",children:[n.jsxs("div",{className:"col-span-1 sm:col-span-2 md:col-span-1",children:[n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"mySchoolTree"}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm max-w-xs",children:"Bridging traditional education with blockchain technology for a more secure, transparent future of learning."})]}),n.jsxs("div",{className:"mt-4 sm:mt-6 flex space-x-4",children:[n.jsx(vc,{href:"https://twitter.com","aria-label":"Twitter",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M22.1623 5.65593C21.3989 5.99362 20.5893 6.2154 19.7603 6.31393C20.634 5.79136 21.288 4.96894 21.6003 3.99993C20.7803 4.48793 19.8813 4.82993 18.9443 5.01493C18.3149 4.34151 17.4807 3.89489 16.5713 3.74451C15.6618 3.59413 14.7282 3.74842 13.9156 4.18338C13.1029 4.61834 12.4567 5.30961 12.0774 6.14972C11.6981 6.98983 11.607 7.93171 11.8183 8.82893C10.1554 8.74558 8.52863 8.31345 7.04358 7.56059C5.55854 6.80773 4.24842 5.75097 3.1983 4.45893C2.82659 5.09738 2.63125 5.82315 2.6323 6.56193C2.6323 8.01193 3.3703 9.29293 4.4923 10.0429C3.82831 10.022 3.17893 9.84271 2.5983 9.51993V9.57193C2.5985 10.5376 2.93267 11.4735 3.54414 12.221C4.15562 12.9684 5.00678 13.4814 5.9533 13.6729C5.33691 13.84 4.6906 13.8646 4.0633 13.7449C4.33016 14.5762 4.8503 15.3031 5.55089 15.824C6.25147 16.3449 7.09742 16.6337 7.9703 16.6499C7.10278 17.3313 6.10947 17.8349 5.04718 18.1321C3.98488 18.4293 2.87442 18.5142 1.7793 18.3819C3.69099 19.6114 5.91639 20.264 8.1893 20.2619C15.8823 20.2619 20.0893 13.8889 20.0893 8.36193C20.0893 8.18193 20.0843 7.99993 20.0763 7.82193C20.8952 7.23009 21.6019 6.49695 22.1633 5.65693L22.1623 5.65593Z"})}),ariaLabel:"Twitter"}),n.jsx(vc,{href:"https://linkedin.com","aria-label":"LinkedIn",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),ariaLabel:"LinkedIn"}),n.jsx(vc,{href:"https://github.com","aria-label":"GitHub",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),ariaLabel:"GitHub"}),n.jsx(vc,{href:"https://discord.com","aria-label":"Discord",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})}),ariaLabel:"Discord"})]})]}),n.jsxs("div",{className:"hidden xs:block",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-300 tracking-wider uppercase",children:"Platform"}),n.jsxs("ul",{className:"mt-3 space-y-2",children:[n.jsx($e,{href:"#",children:"Features"}),n.jsx($e,{href:"#",children:"How It Works"}),n.jsx($e,{href:"#",children:"Pricing"}),n.jsx($e,{href:"#",children:"Case Studies"}),n.jsx($e,{href:"#",children:"Documentation"})]})]}),n.jsxs("div",{className:"hidden xs:block",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-300 tracking-wider uppercase",children:"Resources"}),n.jsxs("ul",{className:"mt-3 space-y-2",children:[n.jsx($e,{href:"#",children:"Blog"}),n.jsx($e,{href:"#",children:"Support Center"}),n.jsx($e,{href:"#",children:"Partner Program"}),n.jsx($e,{href:"#",children:"Student Wallet"}),n.jsx($e,{href:"#",children:"API Documentation"})]})]}),n.jsxs("div",{className:"hidden xs:block",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-300 tracking-wider uppercase",children:"Company"}),n.jsxs("ul",{className:"mt-3 space-y-2",children:[n.jsx($e,{href:"#",children:"About"}),n.jsx($e,{href:"#",children:"Team"}),n.jsx($e,{href:"#",children:"Careers"}),n.jsx($e,{href:"#",children:"Contact Us"}),n.jsx($e,{href:"#",children:"Privacy Policy"})]})]}),n.jsxs("div",{className:"block xs:hidden col-span-1 sm:col-span-2 space-y-4",children:[n.jsx(tm,{title:"Platform",children:n.jsxs("ul",{className:"space-y-2 py-2",children:[n.jsx($e,{href:"#",children:"Features"}),n.jsx($e,{href:"#",children:"How It Works"}),n.jsx($e,{href:"#",children:"Pricing"}),n.jsx($e,{href:"#",children:"Case Studies"}),n.jsx($e,{href:"#",children:"Documentation"})]})}),n.jsx(tm,{title:"Resources",children:n.jsxs("ul",{className:"space-y-2 py-2",children:[n.jsx($e,{href:"#",children:"Blog"}),n.jsx($e,{href:"#",children:"Support Center"}),n.jsx($e,{href:"#",children:"Partner Program"}),n.jsx($e,{href:"#",children:"Student Wallet"}),n.jsx($e,{href:"#",children:"API Documentation"})]})}),n.jsx(tm,{title:"Company",children:n.jsxs("ul",{className:"space-y-2 py-2",children:[n.jsx($e,{href:"#",children:"About"}),n.jsx($e,{href:"#",children:"Team"}),n.jsx($e,{href:"#",children:"Careers"}),n.jsx($e,{href:"#",children:"Contact Us"}),n.jsx($e,{href:"#",children:"Privacy Policy"})]})})]})]}),n.jsx("div",{className:"mt-8 sm:mt-10 pt-6 sm:pt-8 border-t border-gray-800/50",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm sm:text-base font-medium text-white",children:"Subscribe to our newsletter"}),n.jsx("p",{className:"mt-1.5 text-xs sm:text-sm text-gray-400",children:"Stay updated with the latest in educational blockchain technology."})]}),n.jsx("div",{children:n.jsxs("form",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"px-3 sm:px-4 py-2 bg-gray-800/80 border border-gray-700/80 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent flex-grow text-sm"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 rounded-lg text-white font-medium text-sm whitespace-nowrap",children:"Subscribe"})]})})]})}),n.jsxs("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-gray-800/50 flex flex-col sm:flex-row justify-between items-center",children:[n.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:[" ",e," mySchoolTree. All rights reserved."]}),n.jsxs("div",{className:"mt-3 sm:mt-0 flex space-x-4 sm:space-x-6",children:[n.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hover:text-gray-300",children:n.jsx("a",{href:"#",children:"Terms"})}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hover:text-gray-300",children:n.jsx("a",{href:"#",children:"Privacy"})}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hover:text-gray-300",children:n.jsx("a",{href:"#",children:"Cookies"})})]})]})]})]})]})},tm=({title:e,children:t})=>n.jsx("div",{className:"border-b border-gray-800/50 pb-3",children:n.jsxs("details",{children:[n.jsxs("summary",{className:"text-sm font-semibold text-gray-300 tracking-wider uppercase cursor-pointer py-2 flex justify-between items-center",children:[e,n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t]})}),$e=({href:e,children:t})=>n.jsx("li",{children:n.jsx("a",{href:e,className:"text-gray-400 hover:text-blue-400 transition-colors text-xs sm:text-sm",children:t})}),vc=({href:e,icon:t,ariaLabel:r})=>n.jsx(X.a,{href:e,"aria-label":r,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.95},className:"text-gray-400 hover:text-blue-400 transition-colors flex items-center justify-center bg-gray-800/30 p-2 rounded-full",children:t}),c_=()=>{const e=Ge();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:[n.jsx(NL,{}),n.jsxs("main",{className:"pt-10 pb-16 px-0 sm:px-2 lg:px-4",children:[n.jsx(n_,{}),n.jsx(r_,{}),n.jsx(s_,{}),n.jsx(i_,{}),e.status==="connected"&&n.jsx(n.Fragment,{children:n.jsx(o_,{})})]}),n.jsx(l_,{})]})},d_=()=>{w.useEffect(()=>{localStorage.getItem("countdownStartTime")||localStorage.setItem("countdownStartTime",Date.now().toString())},[]);const[e,t]=w.useState(!1),[r,s]=w.useState(0),a=()=>{const f=localStorage.getItem("countdownTargetDate");if(f)return new Date(parseInt(f));{const v=new Date,y=new Date(v);return y.setDate(v.getDate()+2),y.setHours(v.getHours()+10),localStorage.setItem("countdownTargetDate",y.getTime().toString()),y}},[i]=w.useState(a()),[o,l]=w.useState({days:0,hours:0,minutes:0,seconds:0}),[c]=w.useState(30),[d]=w.useState(Array.from({length:c},(f,v)=>({id:v,x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+1,speed:Math.random()*.5+.1})));w.useEffect(()=>{localStorage.getItem("countdownCompleted")==="true"&&(t(!0),s(100),l({days:0,hours:0,minutes:0,seconds:0}))},[]),w.useEffect(()=>{const f=()=>{const y=new Date,g=i.getTime()-y.getTime();if(g>0){const x=Math.floor(g/864e5),b=Math.floor(g%(1e3*60*60*24)/(1e3*60*60)),N=Math.floor(g%(1e3*60*60)/(1e3*60)),j=Math.floor(g%(1e3*60)/1e3);l({days:x,hours:b,minutes:N,seconds:j});const C=parseInt(localStorage.getItem("countdownStartTime")||"0"),E=i.getTime(),P=y.getTime();if(C>0){const L=E-C,_=P-C,O=Math.max(0,Math.min(100,Math.floor(_/L*100)));s(O)}}else l({days:0,hours:0,minutes:0,seconds:0}),t(!0),s(100),localStorage.setItem("countdownCompleted","true")};f();const v=setInterval(f,1e3);return()=>clearInterval(v)},[i]);const u={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3,duration:1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},h={initial:{scale:.8,opacity:.5},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0}},p=({value:f,label:v})=>n.jsxs(X.div,{className:"flex flex-col items-center justify-center",variants:m,children:[n.jsxs(X.div,{className:"bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-lg shadow-lg h-20 w-20 sm:h-24 sm:w-24 md:h-32 md:w-32 flex items-center justify-center relative overflow-hidden",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.2)"},children:[n.jsx(X.div,{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",variants:h,initial:"initial",animate:"animate",exit:"exit",children:f.toString().padStart(2,"0")},f),n.jsx("div",{className:"absolute w-full h-px bg-gradient-to-r from-transparent via-gray-600 to-transparent top-1/2"}),n.jsx("div",{className:"absolute right-0 top-1/2 transform translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-gray-600"}),n.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-gray-600"})]}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm md:text-base font-medium",children:v})]});return n.jsxs("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:d.map(f=>n.jsx(X.div,{className:"absolute rounded-full",style:{left:`${f.x}%`,top:`${f.y}%`,width:`${f.size}px`,height:`${f.size}px`,background:`rgba(${Math.floor(Math.random()*100+60)}, ${Math.floor(Math.random()*100+90)}, ${Math.floor(Math.random()*155+100)}, ${Math.random()*.5+.2})`},animate:{y:[`${f.y}%`,`${(f.y+f.speed*20)%100}%`],x:[`${f.x}%`,`${(f.x+(Math.random()*2-1))%100}%`],opacity:[.7,.3,.7]},transition:{duration:10/f.speed,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},f.id))}),n.jsx(X.div,{className:"container mx-auto px-4 py-12 z-10 relative",variants:u,initial:"hidden",animate:"visible",children:n.jsxs(X.div,{className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-8 md:p-12 max-w-4xl mx-auto relative overflow-hidden",whileHover:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.9)"},children:[n.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-gradient-to-br from-blue-500/20 to-purple-600/20 rounded-full blur-xl"}),n.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-gradient-to-tr from-green-500/20 to-teal-600/20 rounded-full blur-xl"}),n.jsx(X.h1,{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",variants:m,children:e?"App Is Ready Now!":"App Will Be Ready Soon"}),n.jsx(X.p,{className:"text-gray-300 text-center mb-10 text-lg md:text-xl",variants:m,children:e?"Thank you for your patience. Let's get started!":"We're working hard to bring you something amazing"}),n.jsxs(X.div,{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 md:gap-8 mb-10",variants:m,children:[n.jsx(p,{value:o.days,label:"Days"}),n.jsx(p,{value:o.hours,label:"Hours"}),n.jsx(p,{value:o.minutes,label:"Minutes"}),n.jsx(p,{value:o.seconds,label:"Seconds"})]}),n.jsxs(X.div,{className:"mb-8",variants:m,children:[n.jsx("div",{className:"relative h-4 bg-gray-800 rounded-full overflow-hidden border border-gray-700",children:n.jsx(X.div,{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-600",initial:{width:"0%"},animate:{width:`${r}%`},transition:{duration:.5}})}),n.jsxs("p",{className:"text-right text-sm text-gray-400 mt-2",children:["Development progress: ",r,"%"]})]}),n.jsx(X.div,{className:"mb-6 text-center",variants:m,children:e?n.jsx("div",{className:"flex justify-center",children:n.jsx(X.button,{className:"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white font-medium py-3 px-8 rounded-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{localStorage.removeItem("countdownTargetDate"),localStorage.removeItem("countdownCompleted"),localStorage.removeItem("countdownProgress"),localStorage.removeItem("countdownStartTime"),localStorage.removeItem("countdownTotalDuration"),window.location.reload()},children:"Launch App"})}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-300 mb-4",children:"Want to be notified when we launch?"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 bg-gray-800 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"}),n.jsx(X.button,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Notify Me"})]})]})}),n.jsxs(X.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",variants:m,children:[n.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-3 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),n.jsx("h3",{className:"text-gray-200 font-semibold mb-1",children:"Lightning Fast"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Optimized for speed and performance"})]}),n.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-3 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),n.jsx("h3",{className:"text-gray-200 font-semibold mb-1",children:"Secure & Reliable"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Enterprise-grade security built in"})]}),n.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-3 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),n.jsx("h3",{className:"text-gray-200 font-semibold mb-1",children:"Beautiful UI"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Stunning design that feels intuitive"})]})]})]})})]})},u_=()=>{const e=Ir();return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen",children:[n.jsx(X.button,{onClick:()=>e("/"),className:"fixed top-6 left-6 z-50 bg-gray-800/50 hover:bg-gray-700/70 text-gray-300 rounded-full p-2 backdrop-blur-sm border border-gray-700/50",whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),n.jsx(d_,{})]})},Rs=[],jv=5*60*1e3,S3=e=>{const[t,r]=w.useState(""),[s,a]=w.useState("1"),[i,o]=w.useState(null),[l,c]=w.useState(!1),[d,u]=w.useState(""),[m,h]=w.useState(!1),[p,f]=w.useState(!1),v=w.useRef(!1),y=w.useCallback((L,_)=>`${L.toLowerCase()}_${_}`,[]),g=w.useCallback((L,_)=>{const O=y(L,_),W=Date.now(),H=Rs.find(Z=>Z.key===O);return H&&W-H.timestamp<jv?H.data:null},[y]),x=w.useCallback((L,_,O)=>{const W=y(L,_),H=Date.now(),Z=Rs.findIndex(I=>I.key===W);Z!==-1&&Rs.splice(Z,1),Rs.push({key:W,data:O,timestamp:H});const ee=H-jv;for(let I=Rs.length-1;I>=0;I--)Rs[I].timestamp<ee&&Rs.splice(I,1)},[y]),{isError:b,isLoading:N,refetch:j}=ke({...e,functionName:"getAttendanceMetrics",args:[t,BigInt(s)],query:{enabled:!1}}),C=L=>{const _=new Date(Number(L)*1e3);return _.toLocaleDateString()+" "+_.toLocaleTimeString()},E=L=>L?(Number(L)/100).toFixed(2):"0",P=async()=>{if(!v.current){if(!t){u("Please enter a student address"),h(!0);return}v.current=!0,f(!0);try{const L=g(t,s);if(L){o(L),u("Attendance metrics loaded from cache"),c(!0),f(!1),v.current=!1,h(!0);return}const _=await j();if(_.data){const O=_.data;o(O),x(t,s,O),u("Attendance metrics fetched successfully"),c(!0)}else u("No metrics data found"),o(null),c(!1)}catch(L){console.error("Error fetching attendance metrics:",L),u("Error fetching attendance metrics"),o(null),c(!1)}finally{f(!1),v.current=!1,h(!0)}}};return w.useEffect(()=>{if(m){const L=setTimeout(()=>{h(!1)},5e3);return()=>clearTimeout(L)}},[m]),{studentAddress:t,setStudentAddress:r,termNumber:s,setTermNumber:a,metrics:i,isLoading:N,isError:b,isFetching:p,fetchStatus:d,showStatus:m,showMetrics:l,handleFetchMetrics:P,formatTimestamp:C,formatPercentage:E,refetch:j}},m_=({contract:e})=>{const{studentAddress:t,setStudentAddress:r,termNumber:s,setTermNumber:a,metrics:i,isLoading:o,isError:l,isFetching:c,fetchStatus:d,showStatus:u,showMetrics:m,handleFetchMetrics:h,formatTimestamp:p,formatPercentage:f}=S3(e);return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Attendance Metrics"}),n.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"View detailed attendance metrics for a student in a specific term."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Student Address"}),n.jsx("input",{type:"text",value:t,onChange:v=>r(v.target.value),placeholder:"0x...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Term Number"}),n.jsx("input",{type:"number",value:s,onChange:v=>a(v.target.value),min:"1",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),n.jsx(X.button,{onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:o||c,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:o||c?"Loading...":"Fetch Attendance Metrics"}),u&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-4",children:n.jsx("p",{className:`p-2 rounded-md ${d.includes("Error")||d.includes("Please enter")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:d})}),(o||c)&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading attendance metrics..."})]}),l&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4 mt-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error fetching attendance metrics"})]})}),m&&i&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Attendance Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Attendance Rate"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:f(i.attendancePercentage)}),n.jsx("span",{className:"text-gray-400",children:"%"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall attendance percentage"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Present"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:i.totalPresent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total days present"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Absent"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:i.totalAbsent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total days absent"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Streak"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:i.consecutivePresent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current consecutive days present"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-3 text-gray-300",children:"Attendance History"}),n.jsx("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800/50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Term"})]})}),n.jsx("tbody",{className:"bg-gray-900/30 divide-y divide-gray-800",children:i.history.map((v,y)=>n.jsxs("tr",{className:y%2===0?"bg-gray-800/20":"bg-gray-800/10",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:p(v.timestamp)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${v.present?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.present?"Present":"Absent"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:v.termNumber})]},y))})]})})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("details",{className:"group",children:[n.jsxs("summary",{className:"flex items-center justify-between cursor-pointer list-none text-gray-400 hover:text-blue-400 transition-colors duration-300",children:[n.jsx("span",{className:"text-sm font-medium",children:"View Raw Data"}),n.jsx("span",{className:"transform group-open:rotate-180 transition-transform duration-200",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 pl-2 border-l-2 border-gray-700",children:[n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Total Present:"})," ",i.totalPresent]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Total Absent:"})," ",i.totalAbsent]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Consecutive Present:"})," ",i.consecutivePresent]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Attendance Percentage:"})," ",i.attendancePercentage.toString()," (basis points)"]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"History Records:"})," ",i.history.length]})]})]})})]})})]})},Ls=[],Nv=5*60*1e3,k3=(e,t)=>{const[r,s]=w.useState(t||""),[a,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(""),[u,m]=w.useState(!1),[h,p]=w.useState(!1),[f,v]=w.useState(!1),[y,g]=w.useState(!1),x=w.useRef(!1),b=100,{refetch:N}=ke({...e,functionName:"studentProgramProgress",args:void 0,query:{enabled:!1}}),j=w.useCallback(O=>O.toLowerCase(),[]),C=w.useCallback(O=>{const W=j(O),H=Date.now(),Z=Ls.find(ee=>ee.key===W);return Z&&H-Z.timestamp<Nv?Z.data:null},[j]),E=w.useCallback((O,W)=>{const H=j(O),Z=Date.now(),ee=Ls.findIndex(A=>A.key===H);ee!==-1&&Ls.splice(ee,1),Ls.push({key:H,data:W,timestamp:Z});const I=Z-Nv;for(let A=Ls.length-1;A>=0;A--)Ls[A].timestamp<I&&Ls.splice(A,1)},[j]);w.useEffect(()=>{const O=/^0x[a-fA-F0-9]{40}$/.test(r);p(O)},[r]);const P=async()=>{if(!x.current){if(!h){d("Please enter a valid Ethereum address"),m(!0);return}x.current=!0,g(!0),v(!1);try{const O=C(r);if(O!==null){i(O),d("Progress loaded from cache"),l(!0),g(!1),x.current=!1,m(!0);return}const W=await N();if(W.data!==void 0){const H=typeof W.data=="bigint"?Number(W.data):W.data;i(H),E(r,H),d("Progress fetched successfully"),l(!0)}else d("Could not retrieve student progress"),i(null),l(!1)}catch(O){console.error("Error fetching student progress:",O),v(!0),d("Error fetching student progress"),i(null),l(!1)}finally{g(!1),x.current=!1,m(!0)}}};w.useEffect(()=>{if(u){const O=setTimeout(()=>{m(!1)},5e3);return()=>clearTimeout(O)}},[u]),w.useEffect(()=>{t&&!a&&!x.current&&(s(t),p(!0),P())},[t]);const L=()=>a===null?0:Math.min(100,a/b*100);return{studentAddress:r,setStudentAddress:s,progress:a,showInfo:o,fetchStatus:c,showStatus:u,isValid:h,isLoading:y,isError:f,handleFetchInfo:P,getProgressPercentage:L,getProgressStatus:()=>{if(a===null)return{text:"",colorClass:""};const O=L();return O>=100?{text:"Completed",colorClass:"text-green-400"}:O>=75?{text:"Advanced",colorClass:"text-blue-400"}:O>=50?{text:"Intermediate",colorClass:"text-purple-400"}:O>=25?{text:"Beginner",colorClass:"text-yellow-400"}:{text:"Getting Started",colorClass:"text-red-400"}},MAX_PROGRESS:b,refetch:N}},h_=({contract:e,defaultAddress:t})=>{const{studentAddress:r,setStudentAddress:s,progress:a,showInfo:i,fetchStatus:o,showStatus:l,isValid:c,isLoading:d,isError:u,handleFetchInfo:m,getProgressPercentage:h,getProgressStatus:p,MAX_PROGRESS:f}=k3(e,t),v=p();return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Program Progress"}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700 mb-4",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Student Address"}),n.jsx("input",{type:"text",value:r,onChange:y=>s(y.target.value),placeholder:"0x...",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx(X.button,{onClick:m,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:d||!c,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:d?"Loading...":"Check Progress"})}),l&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md ${o.includes("Error")||o.includes("Could not")||o.includes("Please enter")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:o})}),d&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading progress information..."})]}),u&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error checking student progress"})]})}),i&&a!==null&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Progress Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Progress Points"}),n.jsxs("div",{className:"text-gray-200 text-2xl font-bold",children:[a," / ",f]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),n.jsx("div",{className:`font-semibold text-xl ${v.colorClass}`,children:v.text})]})]}),n.jsxs("div",{className:"mt-4 bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Overall Progress"}),n.jsx("div",{className:"mt-3",children:n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:n.jsx(X.div,{initial:{width:0},animate:{width:`${h()}%`},transition:{duration:.8,ease:"easeOut"},className:`h-4 rounded-full ${h()<25?"bg-gradient-to-r from-red-500 to-red-600":h()<50?"bg-gradient-to-r from-yellow-400 to-yellow-500":h()<75?"bg-gradient-to-r from-purple-400 to-purple-500":"bg-gradient-to-r from-blue-500 to-green-400"}`})})}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0%"}),n.jsx("span",{children:"25%"}),n.jsx("span",{children:"50%"}),n.jsx("span",{children:"75%"}),n.jsx("span",{children:"100%"})]})]}),n.jsx("div",{className:"mt-4 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400 mr-2 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsx("div",{className:"text-blue-400",children:h()>=100?n.jsx("p",{children:"Congratulations! You've completed the program requirements."}):h()>=75?n.jsx("p",{children:"You're making excellent progress! Continue attending sessions to complete the program."}):h()>=50?n.jsx("p",{children:"You're on the right track. Keep up the good work and attend upcoming sessions."}):h()>=25?n.jsx("p",{children:"You've made a good start. Increasing your attendance will help boost your progress."}):n.jsx("p",{children:"Getting started is the hardest part. Join more sessions to increase your progress."})})]})})]})})]})},p_=({progress:e,maxProgress:t=100})=>{if(e===null)return null;const r=()=>Math.min(100,e/t*100),a=(()=>{const i=r();return i>=100?{text:"Completed",color:"text-green-500"}:i>=75?{text:"Advanced",color:"text-blue-500"}:i>=50?{text:"Intermediate",color:"text-purple-500"}:i>=25?{text:"Beginner",color:"text-yellow-500"}:{text:"Getting Started",color:"text-red-500"}})();return n.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"Program Progress"}),n.jsx("span",{className:`font-medium ${a.color}`,children:a.text})]}),n.jsx("div",{className:"mb-1",children:n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:`h-2.5 rounded-full ${r()<25?"bg-red-500":r()<50?"bg-yellow-400":r()<75?"bg-purple-500":"bg-green-500"}`,style:{width:`${r()}%`}})})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsxs("span",{children:[e," points"]}),n.jsxs("span",{children:[Math.round(r()),"%"]})]})]})},Is=[],Sv=5*60*1e3,C3=(e,t="")=>{const[r,s]=w.useState(t),[a,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(""),[u,m]=w.useState(!1),[h,p]=w.useState(!1),[f,v]=w.useState(!1),y=w.useRef(!1),{isLoading:g,refetch:x}=ke({...e,functionName:"getStudentProgress",args:void 0,query:{enabled:!1}}),b=w.useCallback(_=>_.toLowerCase(),[]),N=w.useCallback(_=>{const O=b(_),W=Date.now(),H=Is.find(Z=>Z.key===O);return H&&W-H.timestamp<Sv?H.data:null},[b]),j=w.useCallback((_,O)=>{const W=b(_),H=Date.now(),Z=Is.findIndex(I=>I.key===W);Z!==-1&&Is.splice(Z,1),Is.push({key:W,data:O,timestamp:H});const ee=H-Sv;for(let I=Is.length-1;I>=0;I--)Is[I].timestamp<ee&&Is.splice(I,1)},[b]),C=_=>_?(Number(_)/100).toFixed(2):"0",E=_=>{if(!_)return 0;const O=Number(_)/100;return Math.min(Math.max(O,0),100)},P=_=>_<30?"from-red-500 to-red-600":_<70?"from-yellow-500 to-yellow-600":"from-green-500 to-green-600",L=async()=>{if(!y.current){if(!r){d("Please enter a student address"),m(!0);return}y.current=!0,p(!0),v(!1);try{const _=N(r);if(_!==null){i(_),d("Student progress loaded from cache"),l(!0),p(!1),y.current=!1,m(!0);return}const O=await x();if(O.data!==void 0){const W=O.data;i(W),j(r,W),d("Student progress fetched successfully"),l(!0)}else d("No progress data found"),i(null),l(!1)}catch(_){console.error("Error fetching student progress:",_),v(!0),d("Error fetching student progress"),i(null),l(!1)}finally{p(!1),y.current=!1,m(!0)}}};return w.useEffect(()=>{if(u){const _=setTimeout(()=>{m(!1)},5e3);return()=>clearTimeout(_)}},[u]),w.useEffect(()=>{t&&!a&&!h&&!y.current&&L()},[t]),{studentAddress:r,setStudentAddress:s,progress:a,showProgress:o,fetchStatus:c,showStatus:u,isFetching:h,isLoading:g,isError:f,handleFetchProgress:L,formatProgressPercentage:C,getProgressPercentage:E,getProgressColor:P,refetch:x}},f_=({contract:e})=>{const{studentAddress:t,setStudentAddress:r,progress:s,showProgress:a,fetchStatus:i,showStatus:o,isFetching:l,isLoading:c,isError:d,handleFetchProgress:u,formatProgressPercentage:m,getProgressPercentage:h,getProgressColor:p}=C3(e),f=h(s),v=p(f);return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Progress Tracker"}),n.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Check a student's overall progress in their educational journey."}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Student Address"}),n.jsx("input",{type:"text",value:t,onChange:y=>r(y.target.value),placeholder:"0x...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsx(X.button,{onClick:u,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:c||l,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:c||l?"Loading...":"Check Progress"}),o&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-4",children:n.jsx("p",{className:`p-2 rounded-md ${i.includes("Error")||i.includes("Please enter")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:i})}),(c||l)&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading student progress..."})]}),d&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4 mt-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error fetching student progress"})]})}),a&&s!==null&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Progress Summary"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"Overall Progress"}),n.jsxs("span",{className:"text-gray-300 font-bold",children:[m(s),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden",children:n.jsx(X.div,{initial:{width:0},animate:{width:`${f}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${v}`})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Progress Level"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:m(s)}),n.jsx("span",{className:"text-gray-400",children:"%"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall completion percentage"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${f<30?"bg-red-500":f<70?"bg-yellow-500":"bg-green-500"}`}),n.jsx("span",{className:"text-lg font-bold text-gray-200",children:f<30?"Starting":f<70?"In Progress":"Advanced"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current learning status"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Raw Value"}),n.jsx("div",{className:"flex items-baseline space-x-1",children:n.jsx("span",{className:"text-md font-bold text-gray-200 truncate",children:s==null?void 0:s.toString()})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Raw progress value (basis points)"})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[n.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"Assessment"}),n.jsx("p",{className:"text-sm text-gray-400",children:f<30?"The student is in the early stages of their educational journey. More focus and engagement may be needed to improve progress.":f<70?"The student is making steady progress in their educational journey. Continued engagement will help them reach advanced stages.":"The student is at an advanced stage in their educational journey. They are demonstrating excellent progress and engagement."})]})]})})]})},g_=({progress:e,formatProgressPercentage:t,getProgressPercentage:r,getProgressColor:s,showPercentage:a=!0,height:i="h-4",animated:o=!0})=>{const l=r(e),c=s(l);return n.jsxs("div",{children:[a&&n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"Progress"}),n.jsxs("span",{className:"text-sm font-medium text-gray-300",children:[t(e),"%"]})]}),n.jsx("div",{className:`w-full bg-gray-700 rounded-full ${i} overflow-hidden`,children:o?n.jsx(X.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${c}`}):n.jsx("div",{className:`h-full bg-gradient-to-r ${c}`,style:{width:`${l}%`}})})]})},x_=({progress:e})=>{const t=d=>d?(Number(d)/100).toFixed(2):"0",r=d=>{if(!d)return 0;const u=Number(d)/100;return Math.min(Math.max(u,0),100)},s=d=>d<30?"from-red-500 to-red-600":d<70?"from-yellow-500 to-yellow-600":"from-green-500 to-green-600",a=r(e),i=d=>d<30?"Starting":d<70?"In Progress":"Advanced",o=d=>d<30?"text-red-500":d<70?"text-yellow-500":"text-green-500",l=i(a),c=o(a);return n.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg border border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"Progress"}),n.jsx("span",{className:`text-sm font-medium ${c}`,children:l})]}),n.jsx(g_,{progress:e,formatProgressPercentage:t,getProgressPercentage:r,getProgressColor:s,showPercentage:!1,height:"h-2",animated:!1}),n.jsx("div",{className:"flex justify-end mt-1",children:n.jsxs("span",{className:"text-sm font-medium text-gray-300",children:[t(e),"%"]})})]})},y_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"AttendanceHistoryLimitReached",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"DailyAttendanceRecorded",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"ManagementContractsNotSet",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OperationTooFrequent",type:"error"},{inputs:[],name:"ProgramInactive",type:"error"},{inputs:[],name:"RateLimitExceeded",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"StudentNotRegistered",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"uint256",name:"termNumber",type:"uint256"},{indexed:!1,internalType:"bool",name:"present",type:"bool"}],name:"AttendanceHistoryRecorded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"bool",name:"attended",type:"bool"}],name:"AttendanceRecorded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"attendancePoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"behaviorPoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"academicPoints",type:"uint256"}],name:"ReputationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"progress",type:"uint256"}],name:"StudentProgressUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"termNumber",type:"uint256"}],name:"getAttendanceMetrics",outputs:[{internalType:"uint32",name:"totalPresent",type:"uint32"},{internalType:"uint32",name:"totalAbsent",type:"uint32"},{internalType:"uint32",name:"consecutivePresent",type:"uint32"},{internalType:"uint256",name:"attendancePercentage",type:"uint256"},{components:[{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"bool",name:"present",type:"bool"},{internalType:"uint32",name:"termNumber",type:"uint32"}],internalType:"struct AttendanceTracking.AttendanceRecord[]",name:"history",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentProgress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"hasMetAttendanceRequirement",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"programAttendance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"programManagement",outputs:[{internalType:"contract IProgramManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"bool",name:"present",type:"bool"}],name:"recordAttendance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_studentManagement",type:"address"},{internalType:"address",name:"_programManagement",type:"address"}],name:"setManagementContracts",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentManagement",outputs:[{internalType:"contract IStudentManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"studentProgramProgress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"attendancePoints",type:"uint256"},{internalType:"uint256",name:"behaviorPoints",type:"uint256"},{internalType:"uint256",name:"academicPoints",type:"uint256"}],name:"updateStudentReputation",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],b_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],v_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"ArrayLengthMismatch",type:"error"},{inputs:[],name:"BatchSizeTooLarge",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"InvalidString",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OperationTooFrequent",type:"error"},{inputs:[],name:"ProgramInactive",type:"error"},{inputs:[],name:"RateLimitExceeded",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"StudentAlreadyRegistered",type:"error"},{inputs:[],name:"StudentNotRegistered",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"TuitionAlreadyPaid",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"BatchStudentsRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"}],name:"StudentProgramUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"}],name:"StudentRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"}],name:"StudentRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"newTerm",type:"uint256"}],name:"StudentTermAdvanced",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"uint256",name:"term",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TuitionPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"advanceStudentTerm",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"studentAddresses",type:"address[]"},{internalType:"string[]",name:"names",type:"string[]"},{internalType:"uint256[]",name:"programIds",type:"uint256[]"}],name:"batchRegisterStudents",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getRemainingRegistrations",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"},{internalType:"uint256",name:"windowReset",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentDetails",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"isRegistered",type:"bool"},{internalType:"uint32",name:"currentTerm",type:"uint32"},{internalType:"uint32",name:"attendanceCount",type:"uint32"},{internalType:"uint64",name:"lastAttendanceDate",type:"uint64"},{internalType:"bool",name:"hasFirstAttendance",type:"bool"},{internalType:"uint32",name:"programId",type:"uint32"},{internalType:"uint128",name:"totalPayments",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentProgram",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"getTuitionPaymentStatus",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"term",type:"uint256"}],name:"payTuition",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"programManagement",outputs:[{internalType:"contract IProgramManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"registerStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"removeStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"setFirstAttendance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_programManagement",type:"address"}],name:"setProgramManagement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"studentPrograms",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"students",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"isRegistered",type:"bool"},{internalType:"uint32",name:"currentTerm",type:"uint32"},{internalType:"uint32",name:"attendanceCount",type:"uint32"},{internalType:"uint64",name:"lastAttendanceDate",type:"uint64"},{internalType:"bool",name:"hasFirstAttendance",type:"bool"},{internalType:"uint32",name:"programId",type:"uint32"},{internalType:"uint128",name:"totalPayments",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tuitionPayments",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"bool",name:"increase",type:"bool"}],name:"updateStudentAttendance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"}],name:"updateStudentAttendanceDate",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],w_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"EnrollmentLimitReached",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAttendanceRequirement",type:"error"},{inputs:[],name:"InvalidEnrollmentLimit",type:"error"},{inputs:[],name:"InvalidFeeRange",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OperationTooFrequent",type:"error"},{inputs:[],name:"ProgramAlreadyExists",type:"error"},{inputs:[],name:"ProgramInactive",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"SubscriptionExpired",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requirement",type:"uint256"}],name:"ProgramAttendanceRequirementUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"uint256",name:"termFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requiredAttendance",type:"uint256"}],name:"ProgramCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"}],name:"ProgramDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"uint256",name:"termFee",type:"uint256"}],name:"ProgramDetailsRetrieved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint32",name:"maxEnrollment",type:"uint32"}],name:"ProgramEnrollmentUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"ProgramFeesUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint128",name:"termFee",type:"uint128"},{internalType:"uint16",name:"requiredAttendance",type:"uint16"},{internalType:"uint32",name:"maxEnrollment",type:"uint32"}],name:"createProgram",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"deactivateProgram",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCurrentProgramId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramAttendanceRequirement",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramDetails",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"termFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramEnrollmentCount",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramMaxEnrollment",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"incrementEnrollment",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"}],name:"isProgramActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"programs",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint128",name:"termFee",type:"uint128"},{internalType:"uint16",name:"minimumAttendance",type:"uint16"},{internalType:"uint16",name:"requiredAttendance",type:"uint16"},{internalType:"uint32",name:"enrolledCount",type:"uint32"},{internalType:"uint32",name:"maxEnrollment",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"uint256",name:"newFee",type:"uint256"}],name:"updateProgramFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],j_=[{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecovered",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"InvalidRoleOperation",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"RoleAlreadyAssigned",type:"error"},{inputs:[],name:"RoleNotAssigned",type:"error"},{inputs:[{internalType:"uint256",name:"expiredAt",type:"uint256"}],name:"SubscriptionExpiredError",type:"error"},{inputs:[],name:"WithdrawalFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recoveredBy",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ContractRecoveredEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EthReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"programFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!0,internalType:"address",name:"studentProfile",type:"address"},{indexed:!0,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{indexed:!1,internalType:"address",name:"organizationAdmin",type:"address"}],name:"InitializationComplete",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"SubscriptionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"teacher",type:"address"}],name:"TeacherRoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"teacher",type:"address"}],name:"TeacherRoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"BURST_WINDOW",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GENERAL_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STRING_LENGTH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_TERM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_BURST_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REGISTRATION_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"STUDENT_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"teacher",type:"address"}],name:"addTeacher",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleSubscriptionExpiration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hasAdminRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hasMasterAdminRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hasTeacherRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{internalType:"address",name:"_organizationAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isRecovered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastGeneralOperationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"recoverContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"teacher",type:"address"}],name:"removeTeacher",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"subscriptionEndTime",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],N_=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"AlreadySet",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidMasterAdmin",type:"error"},{inputs:[],name:"InvalidNewSchool",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"PenaltyTooHigh",type:"error"},{inputs:[],name:"ProgramNotActive",type:"error"},{inputs:[],name:"SchoolNotActive",type:"error"},{inputs:[],name:"StudentAlreadyRegistered",type:"error"},{inputs:[],name:"StudentNotActive",type:"error"},{inputs:[],name:"StudentNotRegistered",type:"error"},{inputs:[],name:"TooSoonForAttendance",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"totalClasses",type:"uint256"},{indexed:!1,internalType:"uint256",name:"attendedClasses",type:"uint256"}],name:"AttendanceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"points",type:"uint256"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"ReputationPenalty",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"attendancePoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"behaviorPoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"academicPoints",type:"uint256"}],name:"ReputationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"}],name:"SchoolActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"}],name:"SchoolDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"schoolManagement",type:"address"}],name:"SchoolManagementSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"StudentDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"masterAdmin",type:"address"}],name:"StudentInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"programId",type:"uint256"}],name:"StudentProgramUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"programId",type:"uint256"}],name:"StudentRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"address",name:"fromSchool",type:"address"},{indexed:!1,internalType:"address",name:"toSchool",type:"address"}],name:"StudentTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"}],name:"TermCompleted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TEACHER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"}],name:"activateSchool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"points",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"applyReputationPenalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"completeStudentTerm",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"completedTerms",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"}],name:"deactivateSchool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"deactivateStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"getStudentAttendance",outputs:[{internalType:"uint256",name:"termAttendance",type:"uint256"},{internalType:"uint256",name:"totalAttendance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentDetails",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"currentTerm",type:"uint256"},{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"registrationDate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentProgram",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentReputation",outputs:[{components:[{internalType:"uint256",name:"attendancePoints",type:"uint256"},{internalType:"uint256",name:"behaviorPoints",type:"uint256"},{internalType:"uint256",name:"academicPoints",type:"uint256"},{internalType:"uint256",name:"lastUpdateTime",type:"uint256"}],internalType:"struct StudentProfile.Reputation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"}],name:"getStudentStatus",outputs:[{internalType:"bool",name:"isRegistered",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"currentTerm",type:"uint256"},{internalType:"address",name:"school",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"masterAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isActiveSchool",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"address",name:"school",type:"address"}],name:"isStudentOfSchool",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"string",name:"name",type:"string"}],name:"registerStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"schoolManagement",outputs:[{internalType:"contract ISchoolManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"schoolStudentCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_schoolManagement",type:"address"}],name:"setSchoolManagement",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"address",name:"newSchool",type:"address"}],name:"transferStudent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tuitionPayments",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"bool",name:"attended",type:"bool"}],name:"updateAttendance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"attendancePoints",type:"uint256"},{internalType:"uint256",name:"behaviorPoints",type:"uint256"},{internalType:"uint256",name:"academicPoints",type:"uint256"}],name:"updateReputation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"updateStudentProgram",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"validateProgramEnrollment",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],S_=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidMasterAdminAddress",type:"error"},{inputs:[],name:"InvalidStudentProfileAddress",type:"error"},{inputs:[],name:"LateFeePercentageTooHigh",type:"error"},{inputs:[],name:"NoBalanceToWithdraw",type:"error"},{inputs:[],name:"NotEnrolledInSchool",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"PaymentAlreadyRecorded",type:"error"},{inputs:[],name:"ProgramFeesNotSet",type:"error"},{inputs:[],name:"TuitionAlreadyPaid",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"BalanceWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"studentProfile",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"}],name:"ContractInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LateFeeCharged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PaymentRecorded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"registrationFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"termFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"graduationFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lateFeePercentage",type:"uint256"}],name:"ProgramFeesUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"term",type:"uint256"},{indexed:!1,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TuitionPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"},{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"checkTuitionStatus",outputs:[{internalType:"bool",name:"isPaid",type:"bool"},{internalType:"uint256",name:"dueDate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"payTuition",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"programFees",outputs:[{internalType:"uint256",name:"registrationFee",type:"uint256"},{internalType:"uint256",name:"termFee",type:"uint256"},{internalType:"uint256",name:"graduationFee",type:"uint256"},{internalType:"uint256",name:"lateFeePercentage",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"term",type:"uint256"}],name:"recordTuitionPayment",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"schoolBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"uint256",name:"_registrationFee",type:"uint256"},{internalType:"uint256",name:"_termFee",type:"uint256"},{internalType:"uint256",name:"_graduationFee",type:"uint256"},{internalType:"uint256",name:"_lateFeePercentage",type:"uint256"}],name:"setProgramFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tuitionFees",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"dueDate",type:"uint256"},{internalType:"bool",name:"isPaid",type:"bool"},{internalType:"uint256",name:"programId",type:"uint256"},{internalType:"uint256",name:"lateFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawBalance",outputs:[],stateMutability:"nonpayable",type:"function"}],k_=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"DirectTransfersNotAllowed",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"FeeSyncFailed",type:"error"},{inputs:[],name:"InsufficientFee",type:"error"},{inputs:[],name:"InvalidCertificateFee",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidMasterAdmin",type:"error"},{inputs:[],name:"InvalidPaymentAmount",type:"error"},{inputs:[],name:"InvalidProgramFee",type:"error"},{inputs:[],name:"InvalidRevenueShare",type:"error"},{inputs:[],name:"InvalidRevenueSharePercentage",type:"error"},{inputs:[],name:"InvalidSchool",type:"error"},{inputs:[],name:"InvalidSchoolManagement",type:"error"},{inputs:[],name:"InvalidSubscriptionFee",type:"error"},{inputs:[],name:"InvalidTuitionSystem",type:"error"},{inputs:[],name:"NoRevenueToWithdraw",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ProgramNotActive",type:"error"},{inputs:[],name:"SubscriptionExpired",type:"error"},{inputs:[],name:"TooSoonToWithdraw",type:"error"},{inputs:[],name:"TuitionNotPaid",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"student",type:"address"},{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"batchId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"CertificateIssued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"schoolManagement",type:"address"},{indexed:!1,internalType:"address",name:"tuitionSystem",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"}],name:"ContractInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"programCreationFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certificateFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"revenueSharePercentage",type:"uint256"}],name:"FeeStructureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ProgramRevenueLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!0,internalType:"uint256",name:"programId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"platformShare",type:"uint256"},{indexed:!1,internalType:"uint256",name:"schoolShare",type:"uint256"}],name:"RevenueReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"RevenueWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"schoolManagement",type:"address"}],name:"SchoolManagementUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"school",type:"address"},{indexed:!1,internalType:"uint256",name:"validUntil",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"defaultFeeStructure",outputs:[{internalType:"uint256",name:"programCreationFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueSharePercentage",type:"uint256"},{internalType:"bool",name:"isCustom",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"},{internalType:"uint256",name:"programId",type:"uint256"}],name:"getProgramRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"}],name:"getRevenueDetails",outputs:[{internalType:"uint256",name:"total",type:"uint256"},{internalType:"uint256",name:"platformShare",type:"uint256"},{internalType:"uint256",name:"schoolShare",type:"uint256"},{internalType:"uint256",name:"lastWithdrawal",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_schoolManagement",type:"address"},{internalType:"address",name:"_tuitionSystem",type:"address"},{internalType:"address",name:"masterAdmin",type:"address"},{internalType:"uint256",name:"defaultProgramFee",type:"uint256"},{internalType:"uint256",name:"defaultSubscriptionFee",type:"uint256"},{internalType:"uint256",name:"defaultCertificateFee",type:"uint256"},{internalType:"uint256",name:"defaultRevenueShare",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"batchId",type:"uint256"}],name:"issueCertificate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"student",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"processTuitionPayment",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"programRevenue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"revenueTracking",outputs:[{internalType:"uint256",name:"totalRevenue",type:"uint256"},{internalType:"uint256",name:"platformShare",type:"uint256"},{internalType:"uint256",name:"schoolShare",type:"uint256"},{internalType:"uint256",name:"lastWithdrawalTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"schoolFeeStructures",outputs:[{internalType:"uint256",name:"programCreationFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueSharePercentage",type:"uint256"},{internalType:"bool",name:"isCustom",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"schoolManagement",outputs:[{internalType:"contract ISchoolManagement",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"},{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"setCustomFeeStructure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"subscriptionEndTimes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"school",type:"address"}],name:"syncFeeStructure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tuitionSystem",outputs:[{internalType:"contract ITuitionSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"}],name:"updateDefaultFeeStructure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_schoolManagement",type:"address"}],name:"updateSchoolManagementAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawSchoolRevenue",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],C_=[{inputs:[{internalType:"address",name:"_implementation",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"DirectPaymentsNotAllowed",type:"error"},{inputs:[],name:"EnforcedPause",type:"error"},{inputs:[],name:"ExpectedPause",type:"error"},{inputs:[],name:"FailedDeployment",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"InsufficientBalance",type:"error"},{inputs:[],name:"InsufficientBalance",type:"error"},{inputs:[],name:"InsufficientSubscriptionFee",type:"error"},{inputs:[],name:"InvalidImplementation",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"InvalidMasterAdmin",type:"error"},{inputs:[],name:"InvalidOrganizationAddress",type:"error"},{inputs:[],name:"InvalidRecipient",type:"error"},{inputs:[],name:"InvalidRevenueShare",type:"error"},{inputs:[],name:"InvalidRevenueSystem",type:"error"},{inputs:[],name:"InvalidStudentProfile",type:"error"},{inputs:[],name:"InvalidSubscriptionDuration",type:"error"},{inputs:[],name:"InvalidSubscriptionFee",type:"error"},{inputs:[],name:"NotContractAddress",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OrganizationAlreadyHasContract",type:"error"},{inputs:[],name:"OrganizationCannotBeContract",type:"error"},{inputs:[],name:"OrganizationNotActive",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"SameImplementation",type:"error"},{inputs:[],name:"SubscriptionExpiredBeyondGracePeriod",type:"error"},{inputs:[],name:"TransferFailed",type:"error"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],indexed:!1,internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"config",type:"tuple"}],name:"ConfigurationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newContract",type:"address"},{indexed:!0,internalType:"address",name:"organization",type:"address"},{indexed:!1,internalType:"uint256",name:"deploymentTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionEnd",type:"uint256"},{indexed:!1,internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],name:"ContractDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"address",name:"revenueSystem",type:"address"},{indexed:!1,internalType:"address",name:"studentProfile",type:"address"},{indexed:!1,internalType:"address",name:"masterAdmin",type:"address"},{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],indexed:!1,internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"config",type:"tuple"}],name:"ContractInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pauser",type:"address"}],name:"ContractPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"unpauser",type:"address"}],name:"ContractUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FeesWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldImplementation",type:"address"},{indexed:!0,internalType:"address",name:"newImplementation",type:"address"}],name:"ImplementationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"organization",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"OrganizationDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"organization",type:"address"},{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountPaid",type:"uint256"}],name:"SubscriptionRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_REVENUE_SHARE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SUBSCRIPTION_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SUBSCRIPTION_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_SUBSCRIPTION_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_SUBSCRIPTION_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SCHOOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organization",type:"address"}],name:"deactivateOrganization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"defaultConfig",outputs:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organizationAdmin",type:"address"},{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"customConfig",type:"tuple"}],name:"deploySchoolManagement",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"deployedContracts",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDefaultConfig",outputs:[{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"}],name:"getDeployedContracts",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organization",type:"address"}],name:"getOrganizationDetails",outputs:[{internalType:"address",name:"contractAddress",type:"address"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"subscriptionEnd",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"},{internalType:"bool",name:"isInGracePeriod",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementationContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"address",name:"_revenueSystem",type:"address"},{internalType:"address",name:"_studentProfile",type:"address"},{internalType:"address",name:"_masterAdmin",type:"address"},{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"_defaultConfig",type:"tuple"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"organizationInfo",outputs:[{internalType:"bool",name:"isDeployed",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"subscriptionEnd",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"organizationToContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organization",type:"address"}],name:"renewSubscription",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revenueSystem",outputs:[{internalType:"contract IRevenueSystem",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"studentProfile",outputs:[{internalType:"contract IStudentProfile",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalFeesCollected",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"programFee",type:"uint256"},{internalType:"uint256",name:"subscriptionFee",type:"uint256"},{internalType:"uint256",name:"certificateFee",type:"uint256"},{internalType:"uint256",name:"revenueShare",type:"uint256"},{internalType:"uint256",name:"subscriptionDuration",type:"uint256"}],internalType:"struct SchoolManagementFactory.DeploymentConfig",name:"newConfig",type:"tuple"}],name:"updateDefaultConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"updateImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawFees",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],T_=y_,E_=b_,P_=v_,A_=w_,M_=j_,R_=N_,L_=S_,I_=k_,__=C_,F_="0xb0610af457d8a9f4d9b7e9e19f42e4ff0cb70109",O_="0x25f6cfaa3643e813137f41475240f340f1a2a991",D_="0x41ba9139b99b57a4f73d8c7f41f5cccff677d563",$_="0x0489a2109a4bae17d11b584c6c8d4f92e93158af",B_="0xf7cd3a74c37113516b60a516d0c657e8c03e51d7",z_="0xee09eae82539866dbf4a7af45913e9fb816c949f",U_="0x94c7bcc591e6cf45537da11db0fe3046aab51c5d",V_="0xf733304763f32dd5be4cd6de0d49c1b5cac75788",W_="0xf94e2babc52c6a0362b947e1c2a246864687e797",_e={abi:T_,address:F_},H_={abi:E_,address:O_},jt={abi:P_,address:D_},wt={abi:A_,address:$_},Od={abi:M_,address:B_},yl={abi:R_,address:z_},rs={abi:L_,address:U_},na={abi:I_,address:V_},G_={abi:__,address:W_},q_=()=>{var E;const{address:e}=Ge(),[t,r]=w.useState(!0),[s,a]=w.useState("overview"),{setStudentAddress:i,metrics:o,formatTimestamp:l,formatPercentage:c,handleFetchMetrics:d}=S3({address:_e.address,abi:_e.abi}),{progress:u,getProgressPercentage:m,getProgressStatus:h,handleFetchInfo:p}=k3({address:_e.address,abi:_e.abi},e),{progress:f,formatProgressPercentage:v,getProgressPercentage:y,getProgressColor:g,handleFetchProgress:x}=C3({address:_e.address,abi:_e.abi},e);w.useEffect(()=>{e&&(i(e),(async()=>{r(!0);try{await Promise.all([d(),p(),x()])}catch(L){console.error("Error fetching student data:",L)}finally{r(!1)}})())},[e,i,d,p,x]);const N=(()=>{if(!o||u===null||f===null)return{text:"Loading...",color:"text-gray-400"};const P=o.attendancePercentage?Number(o.attendancePercentage)/100:0,L=m(),_=y(f),O=(P+L+_)/3;return O>=80?{text:"Excellent",color:"text-green-500"}:O>=60?{text:"Good",color:"text-blue-500"}:O>=40?{text:"Satisfactory",color:"text-yellow-500"}:{text:"Needs Improvement",color:"text-red-500"}})(),j={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},C={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.5}}};return n.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[n.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:"Student Dashboard"}),n.jsxs("p",{className:"text-gray-400 mt-2",children:["Welcome back, ",e?`${e.slice(0,6)}...${e.slice(-4)}`:"Student"]})]}),t?n.jsxs("div",{className:"flex justify-center items-center h-64",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-4 text-gray-300",children:"Loading your educational data..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[n.jsx("button",{onClick:()=>a("overview"),className:`px-4 py-2 font-medium ${s==="overview"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Overview"}),n.jsx("button",{onClick:()=>a("attendance"),className:`px-4 py-2 font-medium ${s==="attendance"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Attendance"}),n.jsx("button",{onClick:()=>a("program"),className:`px-4 py-2 font-medium ${s==="program"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Program Progress"}),n.jsx("button",{onClick:()=>a("learning"),className:`px-4 py-2 font-medium ${s==="learning"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Learning Progress"})]}),s==="overview"&&n.jsxs(X.div,{variants:j,initial:"hidden",animate:"show",className:"space-y-6",children:[n.jsxs(X.div,{variants:C,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-2",children:"Educational Journey Overview"}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("span",{className:"text-lg mr-2",children:"Overall Status:"}),n.jsx("span",{className:`text-lg font-bold ${N.color}`,children:N.text})]}),n.jsx("p",{className:"text-gray-400",children:"This dashboard provides a comprehensive view of your educational journey, including attendance records, program completion status, and overall learning progress. Below you'll find a summary of your current standing."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(X.div,{variants:C,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-3",children:"Attendance Record"}),o?n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-400",children:"Attendance Rate:"}),n.jsxs("span",{className:"text-white font-bold",children:[c(o.attendancePercentage),"%"]})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-400",children:"Present:"}),n.jsxs("span",{className:"text-white",children:[o.totalPresent," days"]})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-400",children:"Absent:"}),n.jsxs("span",{className:"text-white",children:[o.totalAbsent," days"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Current Streak:"}),n.jsxs("span",{className:"text-white",children:[o.consecutivePresent," days"]})]})]}):n.jsx("p",{className:"text-gray-400",children:"No attendance data available"}),n.jsx("button",{onClick:()=>a("attendance"),className:"mt-4 w-full px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded hover:bg-blue-500/30 transition-colors",children:"View Details"})]}),n.jsxs(X.div,{variants:C,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-3",children:"Program Progress"}),u!==null?n.jsx("div",{children:n.jsx(p_,{progress:u,maxProgress:100})}):n.jsx("p",{className:"text-gray-400",children:"No program progress data available"}),n.jsx("button",{onClick:()=>a("program"),className:"mt-4 w-full px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded hover:bg-blue-500/30 transition-colors",children:"View Details"})]}),n.jsxs(X.div,{variants:C,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-3",children:"Learning Progress"}),f!==null?n.jsx("div",{children:n.jsx(x_,{progress:f})}):n.jsx("p",{className:"text-gray-400",children:"No learning progress data available"}),n.jsx("button",{onClick:()=>a("learning"),className:"mt-4 w-full px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded hover:bg-blue-500/30 transition-colors",children:"View Details"})]})]}),n.jsxs(X.div,{variants:C,className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-4",children:"Recent Attendance"}),o!=null&&o.history&&o.history.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800/50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Term"})]})}),n.jsx("tbody",{className:"bg-gray-900/30 divide-y divide-gray-800",children:o.history.slice(0,5).map((P,L)=>n.jsxs("tr",{className:L%2===0?"bg-gray-800/20":"bg-gray-800/10",children:[n.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-300",children:l(P.timestamp)}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${P.present?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.present?"Present":"Absent"})}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-300",children:P.termNumber})]},L))})]})}):n.jsx("p",{className:"text-gray-400",children:"No recent attendance records available"})]}),n.jsxs(X.div,{variants:C,className:"bg-blue-900/20 rounded-lg p-5 border border-blue-800/30 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Personalized Recommendations"}),n.jsxs("ul",{className:"space-y-3",children:[o&&o.attendancePercentage&&Number(o.attendancePercentage)/100<70?n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-300",children:"Your attendance rate is below 70%. Improving your attendance will significantly enhance your overall progress."})]}):null,u!==null&&m()<50?n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-300",children:"You've completed less than half of your program requirements. Focus on completing key assignments to progress to the next level."})]}):null,f!==null&&y(f)<70?n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-300",children:"Consider spending more time engaging with the course materials to improve your learning progress."})]}):null,n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-300",children:"Check your dashboard regularly to monitor your progress and identify areas where you can improve."})]})]})]})]}),s==="attendance"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"Your attendance record shows your participation in scheduled class sessions."}),o?n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Attendance Detail"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Attendance Rate"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:c(o.attendancePercentage)}),n.jsx("span",{className:"text-gray-400",children:"%"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall attendance percentage"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Present"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:o.totalPresent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total days present"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Absent"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:o.totalAbsent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total days absent"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Current Streak"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:o.consecutivePresent}),n.jsx("span",{className:"text-gray-400",children:"days"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Consecutive days present"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-3 text-gray-300",children:"Complete Attendance History"}),n.jsx("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800/50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Term"})]})}),n.jsx("tbody",{className:"bg-gray-900/30 divide-y divide-gray-800",children:(E=o==null?void 0:o.history)==null?void 0:E.map((P,L)=>n.jsxs("tr",{className:L%2===0?"bg-gray-800/20":"bg-gray-800/10",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:l(P.timestamp)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${P.present?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.present?"Present":"Absent"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:P.termNumber})]},L))})]})})})]})]}):n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-8 border border-gray-700 shadow-lg text-center",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"No attendance data is currently available for your account."}),n.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Refresh Attendance Data"})]})]}),s==="program"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"Your progress through the educational program curriculum."}),u!==null?n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Program Progress Detail"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Progress Points"}),n.jsxs("div",{className:"text-gray-200 text-2xl font-bold",children:[u," / 100"]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),n.jsx("div",{className:`font-semibold text-xl ${h().colorClass}`,children:h().text})]})]}),n.jsxs("div",{className:"mt-4 bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Overall Progress"}),n.jsx("div",{className:"mt-3",children:n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:n.jsx("div",{className:`h-4 rounded-full ${m()<25?"bg-gradient-to-r from-red-500 to-red-600":m()<50?"bg-gradient-to-r from-yellow-400 to-yellow-500":m()<75?"bg-gradient-to-r from-purple-400 to-purple-500":"bg-gradient-to-r from-blue-500 to-green-400"}`,style:{width:`${m()}%`}})})}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0%"}),n.jsx("span",{children:"25%"}),n.jsx("span",{children:"50%"}),n.jsx("span",{children:"75%"}),n.jsx("span",{children:"100%"})]})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400 mr-2 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsx("div",{className:"text-blue-400",children:m()>=100?n.jsx("p",{children:"Congratulations! You've completed the program requirements."}):m()>=75?n.jsx("p",{children:"You're making excellent progress! Continue attending sessions to complete the program."}):m()>=50?n.jsx("p",{children:"You're on the right track. Keep up the good work and attend upcoming sessions."}):m()>=25?n.jsx("p",{children:"You've made a good start. Increasing your participation will help boost your progress."}):n.jsx("p",{children:"Getting started is the hardest part. Join more sessions to increase your progress."})})]})})]}):n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-8 border border-gray-700 shadow-lg text-center",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"No program progress data is currently available for your account."}),n.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Refresh Program Data"})]})]}),s==="learning"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"Your progress in mastering the educational content and materials."}),f!==null?n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-5 border border-gray-700 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Learning Progress Detail"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"Overall Learning Progress"}),n.jsxs("span",{className:"text-gray-300 font-bold",children:[v(f),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden",children:n.jsx(X.div,{initial:{width:0},animate:{width:`${y(f)}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${g(y(f))}`})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Progress Level"}),n.jsxs("div",{className:"flex items-baseline space-x-1",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-200",children:v(f)}),n.jsx("span",{className:"text-gray-400",children:"%"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall completion percentage"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${y(f)<30?"bg-red-500":y(f)<70?"bg-yellow-500":"bg-green-500"}`}),n.jsx("span",{className:"text-lg font-bold text-gray-200",children:y(f)<30?"Starting":y(f)<70?"In Progress":"Advanced"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current learning status"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Raw Value"}),n.jsx("div",{className:"flex items-baseline space-x-1",children:n.jsx("span",{className:"text-md font-bold text-gray-200 truncate",children:f==null?void 0:f.toString()})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Raw progress value (basis points)"})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[n.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"Learning Assessment"}),n.jsx("p",{className:"text-sm text-gray-400",children:y(f)<30?"You are in the early stages of your educational journey. More focus and engagement with the learning materials will help improve your progress.":y(f)<70?"You are making steady progress in your educational journey. Continued engagement with the learning materials will help you reach advanced stages.":"You are at an advanced stage in your educational journey. You are demonstrating excellent engagement with the learning materials."})]})]}):n.jsxs("div",{className:"bg-gray-800/60 rounded-lg p-8 border border-gray-700 shadow-lg text-center",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"No learning progress data is currently available for your account."}),n.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Refresh Learning Data"})]})]})]})]})},K_=e=>{const t=e;return{name:t[0]??"",isRegistered:t[1]??!1,currentTerm:Number(t[2]??0),attendanceCount:Number(t[3]??0),lastAttendanceDate:t[4]??0n,hasFirstAttendance:t[5]??!1,programId:Number(t[6]??0),totalPayments:t[7]??0n}},Y_=e=>{if(e<=0n)return"Never";try{return new Date(Number(e)*1e3).toLocaleString()}catch(t){return console.error("Error formatting timestamp:",t),"Invalid date"}},Q_=(e,t)=>{if(e<=0||t<=0)return"N/A";const r=Math.min(e*12,12);return`${(t/r*100).toFixed(1)}%`};function X_(e,t="",r){const{address:s}=Ge(),[a,i]=w.useState(t||s||""),[o,l]=w.useState(t?Be(t):s?Be(s):!1),[c,d]=w.useState(!1),[u,m]=w.useState({lastAttendance:"",totalPaymentsFormatted:"",attendanceRate:""}),{data:h,error:p,isLoading:f,isSuccess:v,refetch:y}=ke({...e,functionName:"getStudentDetails",args:[a],enabled:c&&o}),g=h?K_(h):null;return w.useEffect(()=>{const N=a?Be(a):!1;l(N)},[a]),w.useEffect(()=>{if(v&&g){const N=Y_(g.lastAttendanceDate),j=Mt(g.totalPayments),C=Q_(g.currentTerm,g.attendanceCount);m({lastAttendance:N,totalPaymentsFormatted:j,attendanceRate:C}),r&&r(g)}},[g,v,r]),{studentData:g,formattedData:u,address:a,isAddressValid:o,hasSearched:c,isLoading:f,isSuccess:v,error:p,setStudentAddress:i,refetch:y,searchStudent:()=>{o&&d(!0)},getRegistrationStatus:()=>!v||!g?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:g.isRegistered?{text:"Registered",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Registered",color:"text-red-400",bg:"bg-red-500/20"}}}function Z_(e,t="",r){const{address:s}=Ge(),[a,i]=w.useState(t||s||""),[o,l]=w.useState(t?Be(t):s?Be(s):!1),[c,d]=w.useState(!1),{data:u,error:m,isLoading:h,isSuccess:p,refetch:f}=ke({...e,functionName:"getStudentProgram",args:[a],enabled:c&&o}),v=u!=null?BigInt(u.toString()):void 0,y=m instanceof Error?m.message:m?String(m):"Unknown error";return w.useEffect(()=>{l(a?Be(a):!1)},[a]),w.useEffect(()=>{p&&v!==void 0&&r&&r(v,a)},[v,p,a,r]),{programId:v,studentAddress:a,isAddressValid:o,hasSearched:c,isLoading:h,isSuccess:p,error:m,errorMessage:y,setStudentAddress:i,searchProgram:()=>{o&&d(!0)},refetch:f,getProgramStatus:()=>!p||v===void 0?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:v>0n?{text:"Enrolled",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Enrolled",color:"text-red-400",bg:"bg-red-500/20"}}}function J_(e="",t,r={}){const{address:s}=Ge(),[a,i]=w.useState(e||s||""),[o,l]=w.useState(e?Be(e):s?Be(s):!1),[c,d]=w.useState(!1),[u,m]=w.useState([]),{data:h,error:p,isLoading:f,isSuccess:v,refetch:y}=ke({address:jt.address,abi:jt.abi,functionName:"studentPrograms",args:[a]}),g=h!=null?BigInt(h.toString()):void 0,x=p instanceof Error?p.message:p?String(p):"Unknown error",b={programId:g,studentAddress:a,isSuccess:v,isLoading:f,error:p,errorMessage:x};return w.useEffect(()=>{l(a?Be(a):!1)},[a]),w.useEffect(()=>{const P=localStorage.getItem("studentProgramSearches");if(P)try{const L=JSON.parse(P);Array.isArray(L)&&m(L.slice(0,5))}catch(L){console.error("Error parsing saved searches:",L)}},[]),w.useEffect(()=>{v&&g!==void 0&&t&&t(g,a)},[g,v,a,t]),{programData:b,studentAddress:a,isAddressValid:o,hasSearched:c,recentSearches:u,setStudentAddress:i,searchProgram:()=>{if(o&&(d(!0),!u.includes(a))){const P=[a,...u].slice(0,5);m(P);try{localStorage.setItem("studentProgramSearches",JSON.stringify(P))}catch(L){console.error("Error saving to localStorage:",L)}}},selectRecentSearch:P=>{i(P),Be(P)&&(l(!0),d(!0))},refetch:y,getProgramName:P=>{const L=P.toString();return r[L]||`Program #${L}`},getEnrollmentStatus:()=>!v||g===void 0?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:g>0n?{text:"Enrolled",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Enrolled",color:"text-red-400",bg:"bg-red-500/20"}}}const eF=()=>{var v,y,g,x,b,N,j,C,E,P;const{address:e}=Ge(),[t,r]=w.useState(""),[s,a]=w.useState(!1),[i,o]=w.useState("info"),[l]=w.useState({1:"Web Development",2:"Mobile App Development",3:"UI/UX Design",4:"Data Science"}),c=X_(_e,t||e||"",L=>console.log("Student details fetched:",L)),d=Z_(_e,t||e||"",(L,_)=>console.log(`Program ID ${L} for ${_}`)),u=J_(t||e||"",(L,_)=>console.log(`Program ID ${L} for ${_}`),l);w.useEffect(()=>{e&&!t&&(r(e),s||m())},[e,t,s]);const m=()=>{a(!0),c.searchStudent(),d.searchProgram(),u.searchProgram()},h=s&&c.isSuccess&&c.studentData,p=d.programId!==void 0?d.programId:u.programData.programId,f=c.isLoading||d.isLoading||u.programData.isLoading;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h2",{className:"text-lg font-medium text-blue-400 mb-4",children:"Student Information"}),f&&n.jsxs("div",{className:"flex items-center justify-center py-3",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading student data..."})]}),h&&!f&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center text-gray-300 mr-3",children:(v=c.studentData)!=null&&v.name?c.studentData.name.substring(0,2).toUpperCase():"ST"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-200",children:((y=c.studentData)==null?void 0:y.name)||"Unnamed Student"}),c.studentData&&n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${c.studentData.isRegistered?"bg-green-500/20 border-green-400/30":"bg-red-500/20 border-red-400/30"} border`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${c.studentData.isRegistered?"bg-green-400":"bg-red-400"} mr-2`}),n.jsx("span",{className:`text-xs font-medium ${c.studentData.isRegistered?"text-green-400":"text-red-400"}`,children:c.studentData.isRegistered?"Registered":"Not Registered"})]})]}),n.jsxs("div",{className:"mt-1 space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-400",children:[n.jsx("span",{className:"text-gray-300",children:"Address:"}),n.jsxs("span",{className:"font-mono ml-2 text-xs",children:[(t||e||"").substring(0,6),"...",(t||e||"").substring((t||e||"").length-4)]})]}),p!==void 0&&p>0n&&n.jsxs("p",{className:"text-sm text-gray-400",children:[n.jsx("span",{className:"text-gray-300",children:"Program:"}),n.jsx("span",{className:"ml-2",children:u.getProgramName(p)}),n.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded text-xs",children:["#",p.toString()]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Attendance"}),n.jsx("p",{className:"text-lg font-medium text-white",children:((g=c.studentData)==null?void 0:g.attendanceCount)||0}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Rate: ",c.formattedData.attendanceRate||"N/A"]})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Current Term"}),n.jsx("p",{className:"text-lg font-medium text-white",children:c.studentData&&c.studentData.currentTerm!==void 0&&c.studentData.currentTerm>0?c.studentData.currentTerm:"N/A"}),n.jsx("p",{className:"text-xs text-gray-400",children:c.studentData&&c.studentData.currentTerm!==void 0&&c.studentData.currentTerm>0?"Active":"Not enrolled"})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Total Payments"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:"text-lg font-medium text-white",children:c.formattedData.totalPaymentsFormatted||"0"}),n.jsx("p",{className:"ml-1 text-xs text-gray-400",children:"ETH"})]})]})]}),((x=c.studentData)==null?void 0:x.isRegistered)&&!((b=c.studentData)!=null&&b.hasFirstAttendance)&&n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3 text-sm",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("span",{children:"First attendance has not been recorded yet"})]})}),n.jsxs("div",{className:"flex space-x-2 mt-4",children:[n.jsx("button",{onClick:()=>o("info"),className:`px-3 py-1 rounded text-sm ${i==="info"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Basic Info"}),n.jsx("button",{onClick:()=>o("details"),className:`px-3 py-1 rounded text-sm ${i==="details"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Student Details"}),n.jsx("button",{onClick:()=>o("program"),className:`px-3 py-1 rounded text-sm ${i==="program"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Program Info"})]}),i==="details"&&n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mt-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Detailed Student Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Name: "}),n.jsx("span",{className:"text-gray-200",children:(N=c.studentData)==null?void 0:N.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Is Registered: "}),n.jsx("span",{className:"text-gray-200",children:(j=c.studentData)!=null&&j.isRegistered?"Yes":"No"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Current Term: "}),n.jsx("span",{className:"text-gray-200",children:(C=c.studentData)==null?void 0:C.currentTerm})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Attendance Count: "}),n.jsx("span",{className:"text-gray-200",children:(E=c.studentData)==null?void 0:E.attendanceCount})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Last Attendance: "}),n.jsx("span",{className:"text-gray-200",children:c.formattedData.lastAttendance})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Has First Attendance: "}),n.jsx("span",{className:"text-gray-200",children:(P=c.studentData)!=null&&P.hasFirstAttendance?"Yes":"No"})]})]})]}),i==="program"&&n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mt-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Program Information"}),p&&p>0n?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Program ID: "}),n.jsxs("span",{className:"text-sm font-medium text-white",children:["#",p.toString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Program Name: "}),n.jsx("span",{className:"text-sm text-white",children:u.getProgramName(p)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Status: "}),n.jsx("span",{className:"text-sm text-green-400",children:"Active Enrollment"})]})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-yellow-400",children:"Not enrolled in any program"})]})]})]}),s&&!f&&(!c.studentData||c.studentData.name==="")&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx("svg",{className:"w-10 h-10 mx-auto text-yellow-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"No student record found"}),n.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"No student information exists for this address. Registration may be required."})]}),!s&&!f&&!e&&n.jsx("div",{className:"bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"Connect your wallet to view your student information."})})]}),n.jsx(m_,{contract:{address:_e.address,abi:_e.abi}}),n.jsx(h_,{contract:{address:_e.address,abi:_e.abi},defaultAddress:e}),n.jsx(f_,{contract:{address:_e.address,abi:_e.abi}})]})};function T3(e,t="",r=1,s=0){const[a,i]=w.useState(t),[o,l]=w.useState(r),[c,d]=w.useState(!1),{data:u,error:m,isLoading:h,refetch:p}=ke({address:yl.address,abi:yl.abi,functionName:"getStudentAttendance",args:a?[a,BigInt(o)]:void 0,query:{enabled:!!a&&o>0}}),f=u?u[0]:void 0,v=u?u[1]:void 0,{data:y,error:g,isLoading:x,refetch:b}=ke({...e,functionName:"students",args:a?[a]:void 0,query:{enabled:!!a&&!!e&&c}}),N=y&&c?{name:y[0],isRegistered:y[1],currentTerm:Number(y[2])}:void 0,j=m||(c?g:void 0),C=h||(c?x:!1),E=()=>{if(!f||!v)return{text:"No Data",color:"text-gray-400",bg:"bg-gray-500/20"};const _=Number(f);return _>10?{text:"Excellent",color:"text-green-400",bg:"bg-green-500/20"}:_>5?{text:"Good",color:"text-blue-400",bg:"bg-blue-500/20"}:_>0?{text:"Minimal",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{text:"None",color:"text-red-400",bg:"bg-red-500/20"}};w.useEffect(()=>{if(s>0&&a&&o>0){const _=setInterval(()=>{p(),c&&e&&b()},s);return()=>{clearInterval(_)}}},[s,a,o,c,e,p,b]);const P=()=>{p(),c&&e&&b()},L=()=>{const _=!c;d(_),_&&e&&a&&!y&&b()};return{studentAddress:a,term:o,termAttendance:f,totalAttendance:v,studentInfo:N,status:E(),isLoading:C,error:j,refresh:P,setStudentAddress:i,setTerm:l,toggleAdditionalInfo:L}}const nm=[{name:"Novice",threshold:0,color:"gray"},{name:"Apprentice",threshold:100,color:"green"},{name:"Scholar",threshold:250,color:"blue"},{name:"Master",threshold:500,color:"purple"},{name:"Virtuoso",threshold:1e3,color:"indigo"}];function tF(e,t){const{address:r}=Ge(),[s,a]=w.useState(t||""),[i,o]=w.useState(!t),[l,c]=w.useState("");w.useEffect(()=>{console.log("Validation Error:",l)},[l]),w.useEffect(()=>{t?(a(t),o(!1)):o(!0)},[t]);const d=i?s:t||r||"",{data:u,isLoading:m,isError:h,refetch:p}=ke({...e,functionName:"getStudentReputation",args:[d],query:{enabled:!!d}}),[f,v]=w.useState(null);w.useEffect(()=>{if(u){const _=u,O={attendancePoints:_[0],behaviorPoints:_[1],academicPoints:_[2],lastUpdateTime:_[3],totalPoints:_[0]+_[1]+_[2]};v(O)}else v(null)},[u]);const y=_=>_?/^0x[a-fA-F0-9]{40}$/.test(_)?(c(""),!0):(c("Invalid Ethereum address format"),!1):(c("Student address is required"),!1),g=_=>{a(_),c("")},x=_=>!_||_===BigInt(0)?"Never":new Date(Number(_)*1e3).toLocaleString(),b=_=>{if(!_||_===BigInt(0))return"Never updated";const O=Date.now()/1e3,W=Number(_),H=O-W;return H<60?"Just now":H<3600?`${Math.floor(H/60)} minutes ago`:H<86400?`${Math.floor(H/3600)} hours ago`:`${Math.floor(H/86400)} days ago`},N=_=>{const O=Number(_);let W=nm[0];for(const H of nm)if(O>=H.threshold)W=H;else break;return W},j=_=>{const O=Number(_);let W=null;for(const T of nm)if(O<T.threshold){W=T;break}if(!W)return{name:`${N(_).name} (Max Level)`,pointsNeeded:0,progress:100};const H=N(_),Z=W.threshold-O,ee=W.threshold-H.threshold,I=O-H.threshold,A=Math.floor(I/ee*100);return{name:W.name,pointsNeeded:Z,progress:A}},C=_=>[{name:"Attendance",value:_.attendancePoints,color:"green"},{name:"Behavior",value:_.behaviorPoints,color:"blue"},{name:"Academic",value:_.academicPoints,color:"purple"}].sort((W,H)=>Number(H.value-W.value))[0],E=f?N(f.totalPoints):null,P=f?j(f.totalPoints):null,L=f?C(f):null;return{data:f,level:E,nextLevel:P,dominantCategory:L,isLoading:m,isError:h,validationError:l,effectiveAddress:d,refresh:p,setCustomAddress:g,validateAddress:y,formatTimestamp:x,getTimeSinceUpdate:b}}function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function ma(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ze(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ke(e){Ze(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Dd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function nF(e,t){Ze(2,arguments);var r=Ke(e).getTime(),s=ma(t);return new Date(r+s)}var rF={};function Dl(){return rF}function up(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Wc(e,t){Ze(2,arguments);var r=Ke(e),s=Ke(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function sF(e){return Ze(1,arguments),e instanceof Date||Dd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aF(e){if(Ze(1,arguments),!sF(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function iF(e,t){Ze(2,arguments);var r=Ke(e),s=Ke(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function oF(e,t){return Ze(2,arguments),Ke(e).getTime()-Ke(t).getTime()}var lF={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},cF="trunc";function dF(e){return lF[cF]}function uF(e){Ze(1,arguments);var t=Ke(e);return t.setHours(23,59,59,999),t}function mF(e){Ze(1,arguments);var t=Ke(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function hF(e){Ze(1,arguments);var t=Ke(e);return uF(t).getTime()===mF(t).getTime()}function pF(e,t){Ze(2,arguments);var r=Ke(e),s=Ke(t),a=Wc(r,s),i=Math.abs(iF(r,s)),o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var l=Wc(r,s)===-a;hF(Ke(e))&&i===1&&Wc(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function fF(e,t,r){Ze(2,arguments);var s=oF(e,t)/1e3;return dF()(s)}function gF(e,t){Ze(2,arguments);var r=ma(t);return nF(e,-r)}var xF=864e5;function yF(e){Ze(1,arguments);var t=Ke(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),a=r-s;return Math.floor(a/xF)+1}function $d(e){Ze(1,arguments);var t=1,r=Ke(e),s=r.getUTCDay(),a=(s<t?7:0)+s-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function E3(e){Ze(1,arguments);var t=Ke(e),r=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(r+1,0,4),s.setUTCHours(0,0,0,0);var a=$d(s),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=$d(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function bF(e){Ze(1,arguments);var t=E3(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var s=$d(r);return s}var vF=6048e5;function wF(e){Ze(1,arguments);var t=Ke(e),r=$d(t).getTime()-bF(t).getTime();return Math.round(r/vF)+1}function Bd(e,t){var r,s,a,i,o,l,c,d;Ze(1,arguments);var u=Dl(),m=ma((r=(s=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ke(e),p=h.getUTCDay(),f=(p<m?7:0)+p-m;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function P3(e,t){var r,s,a,i,o,l,c,d;Ze(1,arguments);var u=Ke(e),m=u.getUTCFullYear(),h=Dl(),p=ma((r=(s=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&s!==void 0?s:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(m+1,0,p),f.setUTCHours(0,0,0,0);var v=Bd(f,t),y=new Date(0);y.setUTCFullYear(m,0,p),y.setUTCHours(0,0,0,0);var g=Bd(y,t);return u.getTime()>=v.getTime()?m+1:u.getTime()>=g.getTime()?m:m-1}function jF(e,t){var r,s,a,i,o,l,c,d;Ze(1,arguments);var u=Dl(),m=ma((r=(s=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=P3(e,t),p=new Date(0);p.setUTCFullYear(h,0,m),p.setUTCHours(0,0,0,0);var f=Bd(p,t);return f}var NF=6048e5;function SF(e,t){Ze(1,arguments);var r=Ke(e),s=Bd(r,t).getTime()-jF(r,t).getTime();return Math.round(s/NF)+1}function We(e,t){for(var r=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return r+s}var Br={y:function(t,r){var s=t.getUTCFullYear(),a=s>0?s:1-s;return We(r==="yy"?a%100:a,r.length)},M:function(t,r){var s=t.getUTCMonth();return r==="M"?String(s+1):We(s+1,2)},d:function(t,r){return We(t.getUTCDate(),r.length)},a:function(t,r){var s=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,r){return We(t.getUTCHours()%12||12,r.length)},H:function(t,r){return We(t.getUTCHours(),r.length)},m:function(t,r){return We(t.getUTCMinutes(),r.length)},s:function(t,r){return We(t.getUTCSeconds(),r.length)},S:function(t,r){var s=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,s-3));return We(i,r.length)}},wa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kF={G:function(t,r,s){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,r,s){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return s.ordinalNumber(i,{unit:"year"})}return Br.y(t,r)},Y:function(t,r,s,a){var i=P3(t,a),o=i>0?i:1-i;if(r==="YY"){var l=o%100;return We(l,2)}return r==="Yo"?s.ordinalNumber(o,{unit:"year"}):We(o,r.length)},R:function(t,r){var s=E3(t);return We(s,r.length)},u:function(t,r){var s=t.getUTCFullYear();return We(s,r.length)},Q:function(t,r,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return We(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return We(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,s){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Br.M(t,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,s){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return We(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,s,a){var i=SF(t,a);return r==="wo"?s.ordinalNumber(i,{unit:"week"}):We(i,r.length)},I:function(t,r,s){var a=wF(t);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):We(a,r.length)},d:function(t,r,s){return r==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):Br.d(t,r)},D:function(t,r,s){var a=yF(t);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):We(a,r.length)},E:function(t,r,s){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,s,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return We(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,s,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return We(o,r.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,s){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return We(i,r.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,s){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,s){var a=t.getUTCHours(),i;switch(a===12?i=wa.noon:a===0?i=wa.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,s){var a=t.getUTCHours(),i;switch(a>=17?i=wa.evening:a>=12?i=wa.afternoon:a>=4?i=wa.morning:i=wa.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,s){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Br.h(t,r)},H:function(t,r,s){return r==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Br.H(t,r)},K:function(t,r,s){var a=t.getUTCHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):We(a,r.length)},k:function(t,r,s){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):We(a,r.length)},m:function(t,r,s){return r==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Br.m(t,r)},s:function(t,r,s){return r==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Br.s(t,r)},S:function(t,r){return Br.S(t,r)},X:function(t,r,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return Cv(o);case"XXXX":case"XX":return $s(o);case"XXXXX":case"XXX":default:return $s(o,":")}},x:function(t,r,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return Cv(o);case"xxxx":case"xx":return $s(o);case"xxxxx":case"xxx":default:return $s(o,":")}},O:function(t,r,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+kv(o,":");case"OOOO":default:return"GMT"+$s(o,":")}},z:function(t,r,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+kv(o,":");case"zzzz":default:return"GMT"+$s(o,":")}},t:function(t,r,s,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return We(o,r.length)},T:function(t,r,s,a){var i=a._originalDate||t,o=i.getTime();return We(o,r.length)}};function kv(e,t){var r=e>0?"-":"+",s=Math.abs(e),a=Math.floor(s/60),i=s%60;if(i===0)return r+String(a);var o=t;return r+String(a)+o+We(i,2)}function Cv(e,t){if(e%60===0){var r=e>0?"-":"+";return r+We(Math.abs(e)/60,2)}return $s(e,t)}function $s(e,t){var r=t||"",s=e>0?"-":"+",a=Math.abs(e),i=We(Math.floor(a/60),2),o=We(a%60,2);return s+i+r+o}var Tv=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},A3=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},CF=function(t,r){var s=t.match(/(P+)(p+)?/)||[],a=s[1],i=s[2];if(!i)return Tv(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Tv(a,r)).replace("{{time}}",A3(i,r))},TF={p:A3,P:CF},EF=["D","DD"],PF=["YY","YYYY"];function AF(e){return EF.indexOf(e)!==-1}function MF(e){return PF.indexOf(e)!==-1}function Ev(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var RF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LF=function(t,r,s){var a,i=RF[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function rm(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,s=e.formats[r]||e.formats[e.defaultWidth];return s}}var IF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_F={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OF={date:rm({formats:IF,defaultWidth:"full"}),time:rm({formats:_F,defaultWidth:"full"}),dateTime:rm({formats:FF,defaultWidth:"full"})},DF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$F=function(t,r,s,a){return DF[t]};function no(e){return function(t,r){var s=r!=null&&r.context?String(r.context):"standalone",a;if(s==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var BF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GF=function(t,r){var s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},qF={ordinalNumber:GF,era:no({values:BF,defaultWidth:"wide"}),quarter:no({values:zF,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:no({values:UF,defaultWidth:"wide"}),day:no({values:VF,defaultWidth:"wide"}),dayPeriod:no({values:WF,defaultWidth:"wide",formattingValues:HF,defaultFormattingWidth:"wide"})};function ro(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?YF(l,function(m){return m.test(o)}):KF(l,function(m){return m.test(o)}),d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;var u=t.slice(o.length);return{value:d,rest:u}}}function KF(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function YF(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function QF(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var a=s[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(a.length);return{value:o,rest:l}}}var XF=/^(\d+)(th|st|nd|rd)?/i,ZF=/\d+/i,JF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eO={any:[/^b/i,/^(a|c)/i]},tO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nO={any:[/1/i,/2/i,/3/i,/4/i]},rO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cO={ordinalNumber:QF({matchPattern:XF,parsePattern:ZF,valueCallback:function(t){return parseInt(t,10)}}),era:ro({matchPatterns:JF,defaultMatchWidth:"wide",parsePatterns:eO,defaultParseWidth:"any"}),quarter:ro({matchPatterns:tO,defaultMatchWidth:"wide",parsePatterns:nO,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ro({matchPatterns:rO,defaultMatchWidth:"wide",parsePatterns:sO,defaultParseWidth:"any"}),day:ro({matchPatterns:aO,defaultMatchWidth:"wide",parsePatterns:iO,defaultParseWidth:"any"}),dayPeriod:ro({matchPatterns:oO,defaultMatchWidth:"any",parsePatterns:lO,defaultParseWidth:"any"})},M3={code:"en-US",formatDistance:LF,formatLong:OF,formatRelative:$F,localize:qF,match:cO,options:{weekStartsOn:0,firstWeekContainsDate:1}},dO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mO=/^'([^]*?)'?$/,hO=/''/g,pO=/[a-zA-Z]/;function Pv(e,t,r){var s,a,i,o,l,c,d,u,m,h,p,f,v,y;Ze(2,arguments);var g=String(t),x=Dl(),b=(s=(a=void 0)!==null&&a!==void 0?a:x.locale)!==null&&s!==void 0?s:M3,N=ma((i=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:x.firstWeekContainsDate)!==null&&o!==void 0?o:(d=x.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=ma((m=(h=(p=(f=void 0)!==null&&f!==void 0?f:void 0)!==null&&p!==void 0?p:x.weekStartsOn)!==null&&h!==void 0?h:(v=x.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&m!==void 0?m:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var C=Ke(e);if(!aF(C))throw new RangeError("Invalid time value");var E=up(C),P=gF(C,E),L={firstWeekContainsDate:N,weekStartsOn:j,locale:b,_originalDate:C},_=g.match(uO).map(function(O){var W=O[0];if(W==="p"||W==="P"){var H=TF[W];return H(O,b.formatLong)}return O}).join("").match(dO).map(function(O){if(O==="''")return"'";var W=O[0];if(W==="'")return fO(O);var H=kF[W];if(H)return MF(O)&&Ev(O,t,String(e)),AF(O)&&Ev(O,t,String(e)),H(P,O,b.localize,L);if(W.match(pO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return O}).join("");return _}function fO(e){var t=e.match(mO);return t?t[1].replace(hO,"'"):e}function R3(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function gO(e){return R3({},e)}var Av=1440,xO=2520,sm=43200,yO=86400;function bO(e,t,r){var s,a;Ze(2,arguments);var i=Dl(),o=(s=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&s!==void 0?s:M3;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Wc(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=R3(gO(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),d,u;l>0?(d=Ke(t),u=Ke(e)):(d=Ke(e),u=Ke(t));var m=fF(u,d),h=(up(u)-up(d))/1e3,p=Math.round((m-h)/60),f;if(p<2)return r!=null&&r.includeSeconds?m<5?o.formatDistance("lessThanXSeconds",5,c):m<10?o.formatDistance("lessThanXSeconds",10,c):m<20?o.formatDistance("lessThanXSeconds",20,c):m<40?o.formatDistance("halfAMinute",0,c):m<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):p===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",p,c);if(p<45)return o.formatDistance("xMinutes",p,c);if(p<90)return o.formatDistance("aboutXHours",1,c);if(p<Av){var v=Math.round(p/60);return o.formatDistance("aboutXHours",v,c)}else{if(p<xO)return o.formatDistance("xDays",1,c);if(p<sm){var y=Math.round(p/Av);return o.formatDistance("xDays",y,c)}else if(p<yO)return f=Math.round(p/sm),o.formatDistance("aboutXMonths",f,c)}if(f=pF(u,d),f<12){var g=Math.round(p/sm);return o.formatDistance("xMonths",g,c)}else{var x=f%12,b=Math.floor(f/12);return x<3?o.formatDistance("aboutXYears",b,c):x<9?o.formatDistance("overXYears",b,c):o.formatDistance("almostXYears",b+1,c)}}function Zt(e,t){return Ze(1,arguments),bO(e,Date.now(),t)}function L3(e,t="",r="",s=0){const[a,i]=w.useState(t),[o,l]=w.useState(r),[c,d]=w.useState(""),[u,m]=w.useState(null),{data:h,error:p,isLoading:f,isSuccess:v,refetch:y}=ke({...e,functionName:"isStudentOfSchool",args:a&&o?[a,o]:void 0,query:{enabled:!!a&&!!o}}),g=C=>!C||C.length<42?C:`${C.substring(0,6)}...${C.substring(38)}`,x=(C,E)=>C?/^0x[a-fA-F0-9]{40}$/.test(C)?(d(""),!0):(d(`Invalid Ethereum address format for ${E}`),!1):(d(`${E} address is required`),!1),b=C=>{i(C),d("")},N=C=>{l(C),d("")};return w.useEffect(()=>{v&&h!==void 0&&m(new Date)},[v,h]),w.useEffect(()=>{if(s>0&&a&&o){const C=setInterval(()=>{y()},s);return()=>{clearInterval(C)}}},[s,a,o,y]),{isVerified:h,studentAddress:a,schoolAddress:o,status:h===void 0?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:h?{text:"Verified",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Verified",color:"text-red-400",bg:"bg-red-500/20"},lastUpdated:u,isLoading:f,error:p,setStudentAddress:b,setSchoolAddress:N,refresh:y,formatAddress:g,validateAddress:x,validationError:c}}const vO=({contract:e,studentAddress:t="",schoolAddress:r="",refreshInterval:s=0,onVerificationResult:a})=>{const{isVerified:i,studentAddress:o,schoolAddress:l,status:c,lastUpdated:d,isLoading:u,error:m,setStudentAddress:h,setSchoolAddress:p,refresh:f,formatAddress:v,validateAddress:y,validationError:g}=L3(e,t,r,s);w.useEffect(()=>{i!==void 0&&a&&a(i,o,l)},[i,o,l,a]);const x=j=>{h(j)},b=j=>{p(j)},N=j=>{j.preventDefault(),!(!y(o,"Student")||!y(l,"School"))&&f()};return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Student-School Verification"}),n.jsx("form",{onSubmit:N,className:"space-y-4 mb-4",children:n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"student-address",type:"text",value:o,onChange:j=>x(j.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${g&&!o?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-address",className:"block text-sm font-medium text-gray-300",children:"School Address"}),n.jsx("input",{id:"school-address",type:"text",value:l,onChange:j=>b(j.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${g&&!l?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the school's Ethereum address"})]}),g&&n.jsx("div",{className:"text-xs text-red-400 mt-1",children:g}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Student Test Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>x("0x742d35Cc6634C0532925a3b844Bc454e4438f44e"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test Student 1"}),n.jsx("button",{type:"button",onClick:()=>x("0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test Student 2"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"School Test Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>b("0xdD2FD4581271e230360230F9337D5c0430Bf44C0"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test School 1"}),n.jsx("button",{type:"button",onClick:()=>b("0x5FbDB2315678afecb367f032d93F642f64180aa3"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test School 2"})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u,children:u?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Relationship"})})]})}),m?n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:[n.jsxs("p",{className:"text-sm",children:["Error verifying relationship: ",m.message||"Unknown error"]}),n.jsx("button",{onClick:()=>f(),className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}):i!==void 0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${c.bg} border border-${c.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${c.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${c.color}`,children:c.text})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Verification Result"}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:n.jsx("div",{className:"flex items-center justify-center p-3",children:i?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 border border-green-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("p",{className:"text-lg font-medium text-green-400",children:"Verified Student"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This student is enrolled at the specified school"})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("p",{className:"text-lg font-medium text-red-400",children:"Not Verified"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This student is not enrolled at the specified school"})]})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Verification Details"}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Student Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:o}),n.jsx("p",{className:"text-xs text-gray-400",children:v(o)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"School Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:l}),n.jsx("p",{className:"text-xs text-gray-400",children:v(l)})]})]})})]})]})}),n.jsx("div",{className:"bg-gray-700/20 rounded-md p-3 text-xs",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-400 mr-2",children:"Verification Status:"}),n.jsx("span",{className:`font-medium ${i?"text-green-400":"text-red-400"}`,children:i?"Verified":"Not Verified"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>f(),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-3 rounded flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),d&&n.jsxs("span",{className:"text-xs text-gray-400",children:["Updated ",Zt(d,{addSuffix:!0})]})]})]})})]}):null]})};function wO(e,t="",r=1,s=0){const[a,i]=w.useState(t),[o,l]=w.useState(r),[c,d]=w.useState(""),[u,m]=w.useState(null),{data:h,error:p,isLoading:f,isSuccess:v,refetch:y}=ke({...e,functionName:"completedTerms",args:a&&o?[a,BigInt(o)]:void 0,query:{enabled:!!a&&o>0}}),g=E=>!E||E.length<42?E:`${E.substring(0,6)}...${E.substring(38)}`,x=E=>E?/^0x[a-fA-F0-9]{40}$/.test(E)?(d(""),!0):(d("Invalid Ethereum address format"),!1):(d("Student address is required"),!1),b=E=>!E||E<=0?(d("Term number must be positive"),!1):(d(""),!0),N=E=>{i(E),d("")},j=E=>{l(E),d("")};return w.useEffect(()=>{v&&h!==void 0&&m(new Date)},[v,h]),w.useEffect(()=>{if(s>0&&a&&o>0){const E=setInterval(()=>{y()},s);return()=>{clearInterval(E)}}},[s,a,o,y]),{isCompleted:h,studentAddress:a,termNumber:o,status:h===void 0?{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"}:h?{text:"Completed",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Completed",color:"text-red-400",bg:"bg-red-500/20"},lastUpdated:u,isLoading:f,error:p,setStudentAddress:N,setTermNumber:j,refresh:y,formatAddress:g,validateAddress:x,validateTerm:b,validationError:c}}const jO=({studentProfileContract:e,studentContractView:t,reputationContract:r,schoolVerificationContract:s,termCompletionContract:a,studentAddress:i="",schoolAddress:o="",termNumber:l=1,refreshInterval:c=0,defaultMode:d="attendance",onDataFetched:u})=>{const[m,h]=w.useState(d),[p,f]=w.useState(!0),[v,y]=w.useState(i),{address:g}=Ge();w.useEffect(()=>{i&&y(i)},[i]);const x=e?T3(t,p?v:"",l,c):null,b=r?tF(r,p&&v||void 0):null,N=s?L3(s,p?v:"",o,c):null,j=a?wO(a,p?v:"",l,c):null,C=L=>{p&&y(L)},E=L=>{h(L)};w.useEffect(()=>{if(!u)return;let L;switch(m){case"attendance":x&&x.termAttendance!==void 0&&x.totalAttendance!==void 0&&(L={mode:"attendance",termAttendance:x.termAttendance,totalAttendance:x.totalAttendance,studentAddress:x.studentAddress,term:x.term},u(L));break;case"reputation":b&&b.data&&(L={mode:"reputation",reputationData:b.data,level:b.level,nextLevel:b.nextLevel,dominantCategory:b.dominantCategory,studentAddress:b.effectiveAddress},u(L));break;case"school":N&&N.isVerified!==void 0&&(L={mode:"school",isVerified:N.isVerified,studentAddress:N.studentAddress,schoolAddress:N.schoolAddress},u(L));break;case"termCompletion":j&&j.isCompleted!==void 0&&(L={mode:"termCompletion",isCompleted:j.isCompleted,studentAddress:j.studentAddress,termNumber:j.termNumber},u(L));break}},[m,x==null?void 0:x.termAttendance,x==null?void 0:x.totalAttendance,b==null?void 0:b.data,N==null?void 0:N.isVerified,j==null?void 0:j.isCompleted,u]);const P=L=>{switch(L){case"attendance":return!!e;case"reputation":return!!r;case"school":return!!s;case"termCompletion":return!!a;default:return!1}};return w.useEffect(()=>{P(m)||(e?h("attendance"):r?h("reputation"):s?h("school"):a&&h("termCompletion"))},[m,e,r,s,a]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400",children:"Student Verification Hub"}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:p,onChange:()=>f(!p)}),n.jsx("div",{className:"relative w-10 h-5 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ml-3 text-sm text-gray-300",children:"Sync Student Address"})]})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e&&n.jsx("button",{type:"button",onClick:()=>E("attendance"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="attendance"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Attendance"}),r&&n.jsx("button",{type:"button",onClick:()=>E("reputation"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="reputation"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Reputation"}),s&&n.jsx("button",{type:"button",onClick:()=>E("school"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="school"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"School Verification"}),a&&n.jsx("button",{type:"button",onClick:()=>E("termCompletion"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="termCompletion"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Term Completion"})]}),p&&n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsx("label",{htmlFor:"shared-student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"shared-student-address",type:"text",value:v,onChange:L=>C(L.target.value),placeholder:"0x...",className:"flex-grow px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),g&&n.jsx("button",{type:"button",onClick:()=>C(g),className:"px-3 py-2 bg-gray-600 text-gray-200 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Use connected wallet address",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"This address will be used across all verification modes"})]}),n.jsxs("div",{className:"mt-4",children:[m==="attendance"&&e&&n.jsx("div",{className:"space-y-4",children:n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4 mb-4",children:[!p&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"attendance-student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"attendance-student-address",type:"text",value:(x==null?void 0:x.studentAddress)||"",onChange:L=>x==null?void 0:x.setStudentAddress(L.target.value),placeholder:"0x...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"attendance-term",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsx("input",{id:"attendance-term",type:"number",value:(x==null?void 0:x.term)||1,onChange:L=>x==null?void 0:x.setTerm(parseInt(L.target.value)||1),placeholder:"Enter term number",min:"1",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the term number to check attendance for"})]}),t&&n.jsx("div",{className:"flex items-center mt-2",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!!(x!=null&&x.studentInfo),onChange:()=>x==null?void 0:x.toggleAdditionalInfo()}),n.jsx("div",{className:"relative w-10 h-5 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ml-3 text-sm text-gray-300",children:"Show Additional Student Info"})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>x==null?void 0:x.refresh(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:x==null?void 0:x.isLoading,children:x!=null&&x.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"View Attendance"})})]}),x!=null&&x.error?n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:n.jsxs("p",{className:"text-sm",children:["Error fetching attendance data: ",x.error.message||"Unknown error"]})}):(x==null?void 0:x.termAttendance)!==void 0&&(x==null?void 0:x.totalAttendance)!==void 0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${x.status.bg} border border-${x.status.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${x.status.color.replace("text-","bg-")} mr-2`}),n.jsxs("span",{className:`text-sm font-medium ${x.status.color}`,children:[x.status.text," Attendance"]})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-300",children:["Term ",x.term," Attendance:"]}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:x.termAttendance.toString()}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"classes"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Total Attendance:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:x.totalAttendance.toString()}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"classes"})]})]})]})})]}):null]},"attendance")}),m==="reputation"&&r&&n.jsx("div",{className:"space-y-4",children:n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[!p&&n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:(b==null?void 0:b.effectiveAddress)||"",onChange:L=>b==null?void 0:b.setCustomAddress(L.target.value),placeholder:"Student address (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${b!=null&&b.validationError?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`})}),n.jsx("button",{type:"button",onClick:()=>b==null?void 0:b.refresh(),className:"px-3 py-2 bg-gray-600 text-gray-200 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:b==null?void 0:b.isLoading,children:b!=null&&b.isLoading?n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}):"Lookup"})]}),(b==null?void 0:b.validationError)&&n.jsx("p",{className:"text-xs text-red-400",children:b.validationError})]}),(b==null?void 0:b.isLoading)&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading reputation data..."})]}),(b==null?void 0:b.isError)&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsx("p",{className:"text-sm",children:"Error loading reputation data. Please try again later."})}),(b==null?void 0:b.data)&&b.level&&b.nextLevel&&b.dominantCategory&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Student Address:"}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-sm font-mono text-gray-300 truncate",children:b.effectiveAddress})})]}),n.jsxs("div",{className:`bg-${b.level.color}-500/20 border border-${b.level.color}-500/30 rounded-lg p-4 flex flex-col items-center`,children:[n.jsx("div",{className:`text-${b.level.color}-400 text-xl font-bold mb-1`,children:b.level.name}),n.jsx("div",{className:"text-gray-300 text-sm",children:"Reputation Level"})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-end justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Total Reputation"}),n.jsxs("div",{className:"text-2xl font-bold text-white",children:[b.data.totalPoints.toString(),n.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"points"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Attendance"}),n.jsx("div",{className:"text-xl font-bold text-green-400 mb-2",children:b.data.attendancePoints.toString()})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Behavior"}),n.jsx("div",{className:"text-xl font-bold text-blue-400 mb-2",children:b.data.behaviorPoints.toString()})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-xs text-gray-400 mb-2",children:"Academic"}),n.jsx("div",{className:"text-xl font-bold text-purple-400 mb-2",children:b.data.academicPoints.toString()})]})]})]}),!(b!=null&&b.isLoading)&&!(b!=null&&b.data)&&(b==null?void 0:b.effectiveAddress)&&!(b!=null&&b.isError)&&n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-6 text-center",children:[n.jsx("svg",{className:"w-12 h-12 text-gray-500 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:"text-gray-400 mb-3",children:"No reputation data found for this address."}),n.jsx("p",{className:"text-xs text-gray-500",children:"This could be because the student hasn't begun building their reputation yet or the address is not registered in the system."})]})]},"reputation")}),m==="school"&&s&&n.jsx("div",{className:"space-y-4",children:n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4 mb-4",children:[!p&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"school-student-address",type:"text",value:(N==null?void 0:N.studentAddress)||"",onChange:L=>N==null?void 0:N.setStudentAddress(L.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${N!=null&&N.validationError&&!N.studentAddress?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-address",className:"block text-sm font-medium text-gray-300",children:"School Address"}),n.jsx("input",{id:"school-address",type:"text",value:(N==null?void 0:N.schoolAddress)||"",onChange:L=>N==null?void 0:N.setSchoolAddress(L.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${N!=null&&N.validationError&&!N.schoolAddress?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the school's Ethereum address"})]}),(N==null?void 0:N.validationError)&&n.jsx("div",{className:"text-xs text-red-400 mt-1",children:N.validationError}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"School Test Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>N==null?void 0:N.setSchoolAddress("0xdD2FD4581271e230360230F9337D5c0430Bf44C0"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test School 1"}),n.jsx("button",{type:"button",onClick:()=>N==null?void 0:N.setSchoolAddress("0x5FbDB2315678afecb367f032d93F642f64180aa3"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test School 2"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>N==null?void 0:N.refresh(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:N==null?void 0:N.isLoading,children:N!=null&&N.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Relationship"})})]}),N!=null&&N.error?n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:n.jsxs("p",{className:"text-sm",children:["Error verifying relationship: ",N.error.message||"Unknown error"]})}):(N==null?void 0:N.isVerified)!==void 0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${N.status.bg} border border-${N.status.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${N.status.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${N.status.color}`,children:N.status.text})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Verification Result"}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:n.jsx("div",{className:"flex items-center justify-center p-3",children:N.isVerified?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 border border-green-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("p",{className:"text-lg font-medium text-green-400",children:"Verified Student"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This student is enrolled at the specified school"})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("p",{className:"text-lg font-medium text-red-400",children:"Not Verified"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This student is not enrolled at the specified school"})]})})})]})})})]}):null]},"school")}),m==="termCompletion"&&a&&n.jsx("div",{className:"space-y-4",children:n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4 mb-4",children:[!p&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term-student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"term-student-address",type:"text",value:(j==null?void 0:j.studentAddress)||"",onChange:L=>j==null?void 0:j.setStudentAddress(L.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${j!=null&&j.validationError&&!j.studentAddress?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term-number",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsx("input",{id:"term-number",type:"number",value:(j==null?void 0:j.termNumber)||1,onChange:L=>j==null?void 0:j.setTermNumber(parseInt(L.target.value)||1),placeholder:"Enter term number",min:"1",className:`w-full px-3 py-2 bg-gray-700 border ${j!=null&&j.validationError&&(!j.termNumber||j.termNumber<=0)?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the term number to check completion status"})]}),(j==null?void 0:j.validationError)&&n.jsx("div",{className:"text-xs text-red-400 mt-1",children:j.validationError}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Term Numbers:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>j==null?void 0:j.setTermNumber(1),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Term 1"}),n.jsx("button",{type:"button",onClick:()=>j==null?void 0:j.setTermNumber(2),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Term 2"}),n.jsx("button",{type:"button",onClick:()=>j==null?void 0:j.setTermNumber(3),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Term 3"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>j==null?void 0:j.refresh(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:j==null?void 0:j.isLoading,children:j!=null&&j.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Completion"})})]}),j!=null&&j.error?n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:n.jsxs("p",{className:"text-sm",children:["Error verifying term completion: ",j.error.message||"Unknown error"]})}):(j==null?void 0:j.isCompleted)!==void 0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${j.status.bg} border border-${j.status.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${j.status.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${j.status.color}`,children:j.status.text})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Term Completion Result"}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:n.jsx("div",{className:"flex items-center justify-center p-3",children:j.isCompleted?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 border border-green-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsxs("p",{className:"text-lg font-medium text-green-400",children:["Term ",j.termNumber," Completed"]}),n.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["This student has successfully completed term ",j.termNumber]})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 border border-red-500/40 flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("p",{className:"text-lg font-medium text-red-400",children:["Term ",j.termNumber," Not Completed"]}),n.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["This student has not yet completed term ",j.termNumber]})]})})})]})})})]}):null]},"termCompletion")}),!e&&!r&&!s&&!a&&n.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-md p-4 text-yellow-400",children:[n.jsx("p",{className:"text-sm font-medium",children:"No contracts provided"}),n.jsx("p",{className:"text-xs mt-1",children:"Please provide at least one contract to use the Student Verification Hub."})]})]})]})};function Mv(e,t="",r="",s=1,a=0){const[i,o]=w.useState(t),[l,c]=w.useState(r),[d,u]=w.useState(s),[m,h]=w.useState(""),[p,f]=w.useState(!1),{data:v,error:y,isLoading:g,refetch:x}=ke({...e,functionName:"tuitionFees",args:i&&l?[i,l,BigInt(d)]:void 0,query:{enabled:!!i&&!!l&&d>0}}),b=v?{amount:v.amount,dueDate:v.dueDate,isPaid:v.isPaid,programId:v.programId,lateFee:v.lateFee}:void 0,N=()=>{if(!b)return BigInt(0);const F=BigInt(Math.floor(Date.now()/1e3)),Y=!b.isPaid&&F>b.dueDate;return b.amount+(Y?b.lateFee:BigInt(0))},j=()=>{if(!b)return!1;const F=BigInt(Math.floor(Date.now()/1e3));return!b.isPaid&&F>b.dueDate},C=()=>{if(!b)return{value:0,isOverdue:!1};const F=BigInt(Math.floor(Date.now()/1e3)),Y=BigInt(86400);return F>b.dueDate?{value:Number((F-b.dueDate)/Y),isOverdue:!0}:{value:Number((b.dueDate-F)/Y),isOverdue:!1}},E=(F,Y)=>F?/^0x[a-fA-F0-9]{40}$/.test(F)?(h(""),!0):(h(`Invalid ${Y} Ethereum address format`),!1):(h(`${Y} address is required`),!1),P=F=>isNaN(F)||F<=0?(h("Term must be a positive number"),!1):(h(""),!0),L=F=>{o(F),h("")},_=F=>{c(F),h("")},O=F=>{u(isNaN(F)?0:F),h("")},W=()=>{h("");const F=E(i,"School"),Y=E(l,"Student"),te=P(d);F&&Y&&te&&(f(!0),x())},H=(F,Y=6)=>(Number(F)/1e18).toFixed(Y),Z=F=>new Date(Number(F)*1e3).toLocaleString(),ee=()=>{if(!b)return{color:"text-gray-400"};if(b.isPaid)return{color:"text-green-400"};const F=BigInt(Math.floor(Date.now()/1e3));return F>b.dueDate?{color:"text-red-400"}:F>b.dueDate-BigInt(86400*3)?{color:"text-yellow-400"}:{color:"text-blue-400"}},I=()=>b?b.isPaid?{text:"Paid",color:"text-green-400",bg:"bg-green-500/20"}:j()?{text:"Overdue",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Pending",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"},A=F=>F?`${F.substring(0,6)}...${F.substring(F.length-4)}`:"";w.useEffect(()=>{if(a>0&&i&&l&&d>0){const F=setInterval(()=>{x()},a);return()=>{clearInterval(F)}}},[a,i,l,d,x]);const T=b?I():{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"},$=ee(),D=C(),R=N();return{feeData:b,schoolAddress:i,studentAddress:l,term:d,totalAmount:R,statusStyle:T,dueDateStyle:$,daysInfo:D,isPastDue:j(),isLoading:g,error:y,validationError:m,hasSearched:p,setSchoolAddress:L,setStudentAddress:_,setTerm:O,refresh:W,validateAddress:E,validateTerm:P,formatWeiToEther:H,formatTimestamp:Z,truncateAddress:A}}function Rv(e,t="",r="",s=1,a=0){const[i,o]=w.useState(t),[l,c]=w.useState(r),[d,u]=w.useState(s),[m,h]=w.useState(""),[p,f]=w.useState(!1),{data:v,error:y,isLoading:g,refetch:x}=ke({...e,functionName:"checkTuitionStatus",args:i&&l?[i,l,BigInt(d)]:void 0,query:{enabled:!!i&&!!l&&d>0}}),b=v?{isPaid:v.isPaid,dueDate:v.dueDate}:void 0,N=()=>{if(!b)return!1;const D=BigInt(Math.floor(Date.now()/1e3));return!b.isPaid&&D>b.dueDate},j=()=>{if(!b)return{value:0,isOverdue:!1};const D=BigInt(Math.floor(Date.now()/1e3)),R=BigInt(86400);return D>b.dueDate?{value:Number((D-b.dueDate)/R),isOverdue:!0}:{value:Number((b.dueDate-D)/R),isOverdue:!1}},C=(D,R)=>D?/^0x[a-fA-F0-9]{40}$/.test(D)?(h(""),!0):(h(`Invalid ${R} Ethereum address format`),!1):(h(`${R} address is required`),!1),E=D=>isNaN(D)||D<=0?(h("Term must be a positive number"),!1):(h(""),!0),P=D=>{o(D),h("")},L=D=>{c(D),h("")},_=D=>{u(isNaN(D)?0:D),h("")},O=()=>{h("");const D=C(i,"School"),R=C(l,"Student"),F=E(d);D&&R&&F&&(f(!0),x())},W=D=>new Date(Number(D)*1e3).toLocaleString(),H=()=>b?b.isPaid?{text:"Paid",color:"text-green-400",bg:"bg-green-500/20"}:N()?{text:"Overdue",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Pending",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"},Z=()=>{if(!b)return{color:"text-gray-400"};if(b.isPaid)return{color:"text-green-400"};const D=BigInt(Math.floor(Date.now()/1e3));return D>b.dueDate?{color:"text-red-400"}:D>b.dueDate-BigInt(86400*3)?{color:"text-yellow-400"}:{color:"text-blue-400"}},ee=()=>{if(!b)return"No tuition data available.";if(b.isPaid)return"Tuition has been paid successfully. The student is in good academic standing.";const D=j();return D.isOverdue?`Tuition payment is overdue by ${D.value} day${D.value!==1?"s":""}. The student may face late fees and administrative holds.`:`Tuition payment is due in ${D.value} day${D.value!==1?"s":""}. Please ensure timely payment to avoid late fees.`},I=D=>D?`${D.substring(0,6)}...${D.substring(D.length-4)}`:"";w.useEffect(()=>{if(a>0&&i&&l&&d>0){const D=setInterval(()=>{x()},a);return()=>{clearInterval(D)}}},[a,i,l,d,x]);const A=b?H():{text:"Unknown",color:"text-gray-400",bg:"bg-gray-500/20"},T=Z(),$=j();return{tuitionStatus:b,schoolAddress:i,studentAddress:l,term:d,statusStyle:A,dueDateStyle:T,daysInfo:$,isPastDue:N(),isLoading:g,error:y,validationError:m,hasSearched:p,setSchoolAddress:P,setStudentAddress:L,setTerm:_,refresh:O,validateAddress:C,validateTerm:E,formatTimestamp:W,getStatusMessage:ee,truncateAddress:I}}function NO(e,t,r="",s="",a=1,i=0,o="fees"){const[l,c]=w.useState(o),[d,u]=w.useState(!0),[m,h]=w.useState(r),[p,f]=w.useState(s),[v,y]=w.useState(a),g=d?Mv(e,m,p,v,i):null,x=d?Rv(t,m,p,v,i):null,b=!d&&l==="fees"?Mv(e,r,s,a,i):null,N=!d&&l==="status"?Rv(t,r,s,a,i):null,j=d?g:b,C=d?x:N;return{fees:j,status:C,activeMode:l,setMode:c,schoolAddress:m,studentAddress:p,term:v,setSchoolAddress:O=>{h(O)},setStudentAddress:O=>{f(O)},setTerm:O=>{y(O)},refresh:()=>{l==="fees"&&j?j.refresh():l==="status"&&C&&C.refresh()},synchronizeAddresses:d,setSynchronizeAddresses:u}}const SO=({feeContract:e,statusContract:t,schoolAddress:r="",studentAddress:s="",term:a=1,refreshInterval:i=0,onFeesDataFetched:o,onStatusDataFetched:l,defaultMode:c="fees"})=>{const{fees:d,status:u,activeMode:m,setMode:h,schoolAddress:p,studentAddress:f,term:v,setSchoolAddress:y,setStudentAddress:g,setTerm:x,synchronizeAddresses:b,setSynchronizeAddresses:N}=NO(e,t,r,s,a,i,c);w.useEffect(()=>{d!=null&&d.feeData&&o&&o(d.feeData)},[d==null?void 0:d.feeData,o]),w.useEffect(()=>{u!=null&&u.tuitionStatus&&l&&l(u.tuitionStatus.isPaid,u.tuitionStatus.dueDate)},[u==null?void 0:u.tuitionStatus,l]);const j=H=>{y(H)},C=H=>{g(H)},E=H=>{const Z=parseInt(H);x(isNaN(Z)?0:Z)},P=H=>{H.preventDefault(),m==="fees"&&d?d.refresh():m==="status"&&u&&u.refresh()},L=()=>{const H=m==="fees"?d:u,Z=H==null?void 0:H.validationError;return Z?n.jsx("div",{className:"text-xs text-red-400 mt-1",children:Z}):null},_=m==="fees"?d==null?void 0:d.isLoading:u==null?void 0:u.isLoading,O=m==="fees"?d==null?void 0:d.hasSearched:u==null?void 0:u.hasSearched,W=m==="fees"?d==null?void 0:d.error:u==null?void 0:u.error;return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400",children:m==="fees"?"Tuition Fee Manager":"Tuition Status Manager"}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:b,onChange:()=>N(!b)}),n.jsx("div",{className:"relative w-10 h-5 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ml-3 text-sm text-gray-300",children:"Common Inputs"})]})})]}),n.jsxs("div",{className:"flex space-x-2 mb-4",children:[n.jsx("button",{type:"button",onClick:()=>h("fees"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${m==="fees"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Fee Details"}),n.jsx("button",{type:"button",onClick:()=>h("status"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${m==="status"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Payment Status"})]}),n.jsx("form",{onSubmit:P,className:"space-y-4 mb-4",children:n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-address",className:"block text-sm font-medium text-gray-300",children:"School Contract Address"}),n.jsx("input",{id:"school-address",type:"text",value:p,onChange:H=>j(H.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${d!=null&&d.validationError||u!=null&&u.validationError?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the school's contract address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"student-address",type:"text",value:f,onChange:H=>C(H.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${d!=null&&d.validationError||u!=null&&u.validationError?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term-number",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsx("input",{id:"term-number",type:"number",value:v||"",onChange:H=>E(H.target.value),placeholder:"Enter term number",min:"1",className:`w-full px-3 py-2 bg-gray-700 border ${d!=null&&d.validationError||u!=null&&u.validationError?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Enter the term number to check ",m==="fees"?"fees":"status"," for"]})]}),O&&L(),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:_,children:_?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):m==="fees"?"View Tuition Fees":"Check Status"})})]})}),W?n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4",children:[n.jsxs("p",{className:"text-sm",children:["Error fetching ",m==="fees"?"fee":"status"," data:",W.message||"Unknown error"]}),n.jsx("button",{onClick:()=>m==="fees"?d==null?void 0:d.refresh():u==null?void 0:u.refresh(),className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}):n.jsxs(n.Fragment,{children:[m==="fees"&&(d==null?void 0:d.feeData)&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${d.statusStyle.bg} border border-${d.statusStyle.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${d.statusStyle.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${d.statusStyle.color}`,children:d.statusStyle.text})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Base Fee Amount:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:d.formatWeiToEther(d.feeData.amount)}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"ETH"})]}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Program ID: ",n.jsx("span",{className:"text-gray-300",children:d.feeData.programId.toString()})]}),d.feeData.lateFee>BigInt(0)&&n.jsxs("div",{className:"mt-2 bg-gray-700/40 rounded-md p-2",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Potential Late Fee:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:`text-lg font-medium ${d.isPastDue?"text-red-400":"text-yellow-400"}`,children:d.formatWeiToEther(d.feeData.lateFee)}),n.jsx("p",{className:"text-xs text-gray-400 ml-1",children:"ETH"})]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Due Date:"}),n.jsx("div",{className:"flex items-baseline",children:n.jsx("p",{className:`text-2xl font-bold ${d.dueDateStyle.color}`,children:d.formatTimestamp(d.feeData.dueDate)})}),!d.feeData.isPaid&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:`text-sm font-medium ${d.daysInfo.isOverdue?"text-red-400":"text-blue-400"}`,children:d.daysInfo.isOverdue?`${d.daysInfo.value} days overdue`:`${d.daysInfo.value} days remaining`}),n.jsx("div",{className:"mt-2 h-2 bg-gray-700 rounded-full overflow-hidden",children:d.daysInfo.isOverdue?n.jsx("div",{className:"h-full bg-red-500",style:{width:`${Math.min(d.daysInfo.value*10,100)}%`}}):n.jsx("div",{className:`h-full ${d.daysInfo.value>7?"bg-green-500":d.daysInfo.value>3?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${100-Math.min(d.daysInfo.value*10,100)}%`}})})]})]}),n.jsx("div",{className:"bg-gray-700/40 p-3 rounded-md md:col-span-2",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Total Amount Due:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("p",{className:`text-3xl font-bold ${d.feeData.isPaid?"text-green-400":"text-white"}`,children:d.formatWeiToEther(d.totalAmount)}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"ETH"})]}),d.isPastDue&&n.jsxs("p",{className:"text-xs text-red-400 mt-1",children:["Includes late fee of ",d.formatWeiToEther(d.feeData.lateFee)," ETH"]})]}),n.jsx("div",{className:`mt-3 md:mt-0 px-4 py-2 rounded-md ${d.feeData.isPaid?"bg-green-500/20 border border-green-500/30":d.isPastDue?"bg-red-500/20 border border-red-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:n.jsx("p",{className:`text-lg font-medium ${d.feeData.isPaid?"text-green-400":d.isPastDue?"text-red-400":"text-yellow-400"}`,children:d.feeData.isPaid?"PAID":d.isPastDue?"PAYMENT OVERDUE":"PAYMENT PENDING"})})]})})]})})]}),m==="status"&&(u==null?void 0:u.tuitionStatus)&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`p-4 rounded-lg ${u.statusStyle.bg} border border-${u.statusStyle.color.replace("text-","")}/30 flex flex-col items-center justify-center text-center`,children:[n.jsx("div",{className:`w-16 h-16 rounded-full ${u.statusStyle.bg} border-2 border-${u.statusStyle.color.replace("text-","")} flex items-center justify-center mb-2`,children:u.tuitionStatus.isPaid?n.jsx("svg",{className:`w-8 h-8 ${u.statusStyle.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):u.isPastDue?n.jsx("svg",{className:`w-8 h-8 ${u.statusStyle.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:`w-8 h-8 ${u.statusStyle.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:`text-2xl font-bold ${u.statusStyle.color}`,children:u.statusStyle.text}),n.jsx("p",{className:"text-gray-300 mt-2 max-w-md",children:u.getStatusMessage()})]}),!u.tuitionStatus.isPaid&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Payment Timeline"}),n.jsxs("div",{className:"relative pt-2",children:[n.jsx("div",{className:"h-1 w-full bg-gray-700 rounded-full"}),n.jsxs("div",{className:"relative h-0",children:[n.jsx("div",{className:`absolute top-0 w-4 h-4 rounded-full -mt-1.5 ${u.dueDateStyle.color.replace("text-","bg-")}`,style:{left:"calc(50% - 8px)"}}),n.jsxs("div",{className:`absolute top-6 transform -translate-x-1/2 ${u.dueDateStyle.color}`,style:{left:"50%"},children:[n.jsx("span",{className:"text-xs",children:"Due Date"}),n.jsx("p",{className:"text-sm font-medium whitespace-nowrap",children:u.formatTimestamp(u.tuitionStatus.dueDate)})]})]}),n.jsxs("div",{className:"relative h-0",children:[n.jsx("div",{className:"absolute top-0 w-4 h-4 rounded-full border-2 border-blue-400 bg-gray-800 -mt-1.5",style:{left:`calc(${u.daysInfo.isOverdue?"75":"25"}% - 8px)`}}),n.jsxs("div",{className:"absolute top-6 transform -translate-x-1/2 text-blue-400",style:{left:`${u.daysInfo.isOverdue?"75":"25"}%`},children:[n.jsx("span",{className:"text-xs",children:"Today"}),n.jsx("p",{className:"text-sm font-medium",children:new Date().toLocaleDateString()})]})]})]}),n.jsx("div",{className:"mt-16 pt-4 border-t border-gray-600",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Status:"}),n.jsx("p",{className:`text-lg font-medium ${u.statusStyle.color}`,children:u.statusStyle.text})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-400",children:u.daysInfo.isOverdue?"Overdue by:":"Due in:"}),n.jsxs("p",{className:`text-lg font-medium ${u.daysInfo.isOverdue?"text-red-400":"text-blue-400"}`,children:[u.daysInfo.value," day",u.daysInfo.value!==1?"s":""]})]})]})})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 text-xs",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Status Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"School: "}),n.jsx("span",{className:"text-gray-200 font-mono",children:u.truncateAddress(u.schoolAddress)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Student: "}),n.jsx("span",{className:"text-gray-200 font-mono",children:u.truncateAddress(u.studentAddress)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Term: "}),n.jsx("span",{className:"text-gray-200",children:u.term})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Payment Status: "}),n.jsx("span",{className:`${u.statusStyle.color}`,children:u.statusStyle.text})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Due Date: "}),n.jsx("span",{className:`${u.dueDateStyle.color}`,children:u.formatTimestamp(u.tuitionStatus.dueDate)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:u.daysInfo.isOverdue?"Days Overdue:":"Days Remaining:"}),n.jsx("span",{className:`${u.daysInfo.isOverdue?"text-red-400":"text-blue-400"}`,children:u.daysInfo.value})]})]}),n.jsx("div",{className:"mt-3 pt-2 border-t border-gray-700",children:n.jsxs("button",{onClick:()=>u.refresh(),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-3 rounded flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Status"]})})]})]}),O&&!_&&(m==="fees"?!(d!=null&&d.feeData):!(u!=null&&u.tuitionStatus))&&n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3",children:n.jsxs("p",{className:"text-sm",children:["No ",m==="fees"?"tuition fee":"tuition status"," data found for the specified school, student, and term."]})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 text-xs text-gray-400",children:[n.jsx("p",{children:"This component combines tuition fee and status information. Toggle between modes to see different aspects of the student's tuition."}),n.jsxs("p",{className:"mt-2",children:[n.jsx("span",{className:"font-medium text-blue-400",children:"Common Inputs:"})," When enabled, the same school, student, and term values are used for both fee and status information."]})]})]})},kO=({onCountUpdateSuccess:e,onDateUpdateSuccess:t,onUpdateError:r,externalStudentAddress:s,externalIncrease:a,externalDate:i,externalTime:o,onStateChange:l,renderUI:c=!0,initialTab:d="count"})=>{const[u,m]=w.useState(d),[h,p]=w.useState(s||""),[f,v]=w.useState(""),[y,g]=w.useState(!1),[x,b]=w.useState(a!==void 0?a:!0),[N,j]=w.useState(i||ne()),[C,E]=w.useState(o||z()),[P,L]=w.useState(!1),{data:_,error:O,isPending:W,writeContract:H}=zt(),{isLoading:Z,isSuccess:ee,error:I}=on({hash:_}),{data:A,error:T,isPending:$,writeContract:D}=zt(),{isLoading:R,isSuccess:F,error:Y}=on({hash:A}),{data:te,isLoading:me,refetch:le}=ke({address:jt.address,abi:jt.abi,functionName:"students",args:h?[h]:void 0,query:{enabled:!!h&&y}}),ce=te?{name:te[0],isRegistered:te[1],currentTerm:Number(te[2]),attendanceCount:Number(te[3]),lastAttendanceDate:te[4],hasFirstAttendance:te[5]}:void 0,K=O||I,q=T||Y,re=W||Z||$||R;function ne(){return new Date().toISOString().split("T")[0]}function z(){return new Date().toTimeString().split(" ")[0].substring(0,5)}const U=V=>!V||V===BigInt(0)?"Never":new Date(Number(V)*1e3).toLocaleString(),J=()=>{const V=`${N}T${C}:00`,ae=Date.parse(V);if(isNaN(ae))throw new Error("Invalid date or time format");return BigInt(Math.floor(ae/1e3))},ie=V=>{p(V),v(""),g(!1)},oe=V=>{b(V)},ue=V=>{j(V),L(!0)},xe=V=>{E(V),L(!0)},ge=()=>{j(ne()),E(z()),L(!1)},ve=V=>V?/^0x[a-fA-F0-9]{40}$/.test(V)?(v(""),!0):(v("Invalid Ethereum address format"),!1):(v("Student address is required"),!1),Ce=()=>{try{const V=J(),ae=BigInt(Math.floor(Date.now()/1e3));if(V>ae)return v("Attendance date cannot be in the future"),!1;const we=BigInt(10*365*24*60*60);return ae-V>we?(v("Attendance date is too far in the past"),!1):!0}catch{return v("Invalid date or time format"),!1}},se=()=>{ve(h)&&(g(!0),le())},de=V=>{ie(V)},je=async V=>{V&&V.preventDefault();try{if(!ve(h))return;if(ce){if(!ce.isRegistered){v("Student is not registered");return}if(!ce.hasFirstAttendance){v("Student needs to record first attendance before updating attendance count");return}if(!x&&ce.attendanceCount===0){v("Cannot decrease attendance count below zero");return}}H({abi:jt.abi,address:jt.address,functionName:"updateStudentAttendance",args:[h,x]})}catch(ae){const we=ae instanceof Error?ae.message:"Unknown error";v(we),r&&ae instanceof Error&&r(ae)}},Le=async V=>{V&&V.preventDefault();try{if(!ve(h)||!Ce())return;if(ce){if(!ce.isRegistered){v("Student is not registered");return}if(!ce.hasFirstAttendance){v("Student needs to record first attendance before updating attendance date");return}}const ae=J();D({abi:jt.abi,address:jt.address,functionName:"updateStudentAttendanceDate",args:[h,ae]})}catch(ae){const we=ae instanceof Error?ae.message:"Unknown error";v(we),r&&ae instanceof Error&&r(ae)}},pe=async V=>{V&&V.preventDefault();try{u==="count"?await je():await Le()}catch(ae){const we=ae instanceof Error?ae.message:"Unknown error";v(we),r&&ae instanceof Error&&r(ae)}},M={activeTab:u,setActiveTab:m,studentAddress:h,setStudentAddress:ie,studentInfo:ce,isLoadingStudent:me,lookupAttempted:y,validationError:f,handleLookup:se,validateAddress:ve,formatTimestamp:U,increase:x,setIncrease:oe,date:N,time:C,customDate:P,setDate:ue,setTime:xe,handleSetCurrentDateTime:ge,getTimestampFromInputs:J,isCountWritePending:W,isCountConfirming:Z,isCountConfirmed:!!ee,countHash:_,countError:K,isDateWritePending:$,isDateConfirming:R,isDateConfirmed:!!F,dateHash:A,dateError:q,isProcessing:re,handleCountSubmit:je,handleDateSubmit:Le,handleCombinedSubmit:pe};w.useEffect(()=>{s!==void 0&&s!==h&&ie(s)},[s]),w.useEffect(()=>{a!==void 0&&a!==x&&oe(a)},[a]),w.useEffect(()=>{i!==void 0&&i!==N&&ue(i)},[i]),w.useEffect(()=>{o!==void 0&&o!==C&&xe(o)},[o]),w.useEffect(()=>{l&&l(M)},[u,h,x,N,C,P,f,y,ce,me,W,Z,ee,$,R,F,_,A,K,q]),w.useEffect(()=>{ee&&_&&!Z&&e&&e(h,x,_)},[ee,_,Z,e,h,x]),w.useEffect(()=>{if(F&&A&&!R){const V=J();t&&t(h,V,A)}},[F,A,R,t,h]);const S=()=>W?{text:x?"Increasing Attendance":"Decreasing Attendance",color:"text-yellow-400",bg:"bg-yellow-500/20"}:Z?{text:"Confirming Update",color:"text-blue-400",bg:"bg-blue-500/20"}:ee?{text:"Attendance Updated",color:"text-green-400",bg:"bg-green-500/20"}:K?{text:"Update Failed",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Ready to Update",color:"text-gray-400",bg:"bg-gray-500/20"},k=()=>$?{text:"Updating Attendance Date",color:"text-yellow-400",bg:"bg-yellow-500/20"}:R?{text:"Confirming Update",color:"text-blue-400",bg:"bg-blue-500/20"}:F?{text:"Date Updated",color:"text-green-400",bg:"bg-green-500/20"}:q?{text:"Update Failed",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Ready to Update",color:"text-gray-400",bg:"bg-gray-500/20"},B=S(),G=k();return c?n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Student Attendance Manager"}),n.jsxs("div",{className:"flex mb-4 border-b border-gray-700",children:[n.jsx("button",{onClick:()=>m("count"),className:`px-4 py-2 text-sm font-medium ${u==="count"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,disabled:re,children:"Update Count"}),n.jsx("button",{onClick:()=>m("date"),className:`px-4 py-2 text-sm font-medium ${u==="date"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,disabled:re,children:"Update Date"})]}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${u==="count"?B.bg:G.bg} border border-${u==="count"?B.color.replace("text-",""):G.color.replace("text-","")}/30 mb-4`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${u==="count"?B.color.replace("text-","bg-"):G.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${u==="count"?B.color:G.color}`,children:u==="count"?B.text:G.text})]}),n.jsx("form",{onSubmit:pe,className:"space-y-4",children:n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx("input",{id:"student-address",type:"text",value:h,onChange:V=>de(V.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${f?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:re})}),n.jsx("button",{type:"button",onClick:se,className:"px-3 py-2 bg-gray-600 text-gray-200 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:re||me||!h,children:me?n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}):"Lookup"})]}),f&&n.jsx("p",{className:"text-xs text-red-400",children:f}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),ce&&y&&!me&&n.jsxs("div",{className:"p-3 bg-gray-700/40 rounded-md border border-gray-600",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Student Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Name: "}),n.jsx("span",{className:"text-sm text-white",children:ce.name||"Not available"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 mr-1",children:"Current Term: "}),n.jsx("span",{className:"text-sm text-white",children:ce.currentTerm})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 mr-1",children:"Attendance Count: "}),n.jsx("span",{className:"text-sm font-medium text-white",children:ce.attendanceCount}),u==="count"&&(x?n.jsxs("span",{className:"ml-2 text-xs text-green-400",children:[" ",ce.attendanceCount+1]}):n.jsxs("span",{className:"ml-2 text-xs text-red-400",children:[" ",Math.max(0,ce.attendanceCount-1)]}))]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 mr-1",children:"Last Attendance Date: "}),n.jsx("span",{className:"text-sm text-white font-medium",children:U(ce.lastAttendanceDate)}),u==="date"&&n.jsxs("span",{className:"ml-2 text-xs text-blue-400",children:[" ",U(J())]})]}),n.jsxs("div",{className:"flex space-x-4 mt-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${ce.isRegistered?"bg-green-400":"bg-red-400"} mr-1`}),n.jsx("span",{className:"text-xs text-gray-400",children:"Registration: "}),n.jsx("span",{className:`text-xs ${ce.isRegistered?"text-green-400":"text-red-400"} ml-1`,children:ce.isRegistered?"Registered":"Not Registered"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${ce.hasFirstAttendance?"bg-green-400":"bg-yellow-400"} mr-1`}),n.jsx("span",{className:"text-xs text-gray-400",children:"First Attendance: "}),n.jsx("span",{className:`text-xs ${ce.hasFirstAttendance?"text-green-400":"text-yellow-400"} ml-1`,children:ce.hasFirstAttendance?"Recorded":"Not Recorded"})]})]}),n.jsx("div",{className:"mt-2 pt-2 border-t border-gray-600",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${u==="count"?ce.isRegistered&&ce.hasFirstAttendance&&(x||ce.attendanceCount>0)?"bg-green-400":"bg-red-400":ce.isRegistered&&ce.hasFirstAttendance?"bg-green-400":"bg-red-400"} mr-1`}),n.jsx("span",{className:"text-xs text-gray-400",children:"Eligibility: "}),n.jsx("span",{className:`text-xs ${u==="count"?ce.isRegistered&&ce.hasFirstAttendance&&(x||ce.attendanceCount>0)?"text-green-400":"text-red-400":ce.isRegistered&&ce.hasFirstAttendance?"text-green-400":"text-red-400"} ml-1 font-medium`,children:ce.isRegistered?ce.hasFirstAttendance?u==="count"&&!x&&ce.attendanceCount===0?"Cannot decrease below zero":"Eligible for update":"First attendance not recorded":"Not registered"})]})})]})]}),u==="count"?n.jsx("div",{className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Attendance Action"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>oe(!0),className:`flex-1 px-3 py-2 rounded-md text-white ${x?"bg-green-600 border border-green-500":"bg-gray-700 border border-gray-600 hover:bg-gray-600"}`,disabled:re,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{children:"Increase"})]})}),n.jsx("button",{type:"button",onClick:()=>oe(!1),className:`flex-1 px-3 py-2 rounded-md text-white ${x?"bg-gray-700 border border-gray-600 hover:bg-gray-600":"bg-red-600 border border-red-500"}`,disabled:re,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),n.jsx("span",{children:"Decrease"})]})})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Select whether to increase or decrease the student's attendance count"})]})}):n.jsx("div",{className:"space-y-4 mt-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Attendance Date and Time"}),n.jsx("button",{type:"button",onClick:ge,className:`text-xs px-2 py-1 rounded-md ${P?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-blue-600 text-white"}`,disabled:re,children:"Use Current Time"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"attendance-date",className:"block text-xs text-gray-400",children:"Date"}),n.jsx("input",{id:"attendance-date",type:"date",value:N,onChange:V=>ue(V.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",max:ne(),disabled:re})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"attendance-time",className:"block text-xs text-gray-400",children:"Time"}),n.jsx("input",{id:"attendance-time",type:"time",value:C,onChange:V=>xe(V.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:re})]})]}),n.jsxs("div",{className:"text-xs text-gray-400 flex items-center mt-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"The selected date and time will be recorded as the student's last attendance date."]}),n.jsx("div",{className:"mt-2 p-2 bg-blue-500/10 border border-blue-500/30 rounded-md",children:n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx("span",{className:"text-gray-300 mr-2",children:"New attendance timestamp:"}),n.jsx("span",{className:"text-blue-400 font-medium",children:U(J())})]})})]})})]})})]}):null},CO=w.forwardRef(({contractAddress:e,contractAbi:t,roleContract:r,onStateChange:s,onUpdateComplete:a,title:i="Student Record Manager"},o)=>{const{address:l}=Ge(),[c,d]=w.useState(""),[u,m]=w.useState(""),[h,p]=w.useState(!1),[f,v]=w.useState(!1),[y,g]=w.useState(null),[x,b]=w.useState(!1),[N,j]=w.useState(null),{writeContractAsync:C,isPending:E,isSuccess:P,isError:L,error:_,reset:O}=zt(),{data:W,isLoading:H,refetch:Z}=ke({...r,functionName:"hasTeacherRole",args:l?[l]:void 0,query:{enabled:!!l}});w.useImperativeHandle(o,()=>({getData:()=>({studentAddress:c,programId:u,isAddressValid:h,isProgramIdValid:f,isProcessing:E,hasTeacherRole:!!W,isCheckingRole:H,lastUpdateResult:y}),resetComponent:()=>{d(""),m(""),g(null),O(),j(null)},updateProgram:async(Y,te)=>{if(!Be(Y)||!/^\d+$/.test(te))return!1;if(!(await Z()).data)return console.error("Error: User does not have teacher role"),!1;try{return await C({address:e,abi:t,functionName:"updateStudentProgram",args:[Y,BigInt(te)]}),!0}catch(le){return console.error("Error updating student program:",le),!1}},completeStudentTerm:async Y=>{if(!Be(Y))return!1;if(!(await Z()).data)return console.error("Error: User does not have teacher role"),!1;try{return await C({address:e,abi:t,functionName:"completeStudentTerm",args:[Y]}),!0}catch(me){return console.error("Error completing student term:",me),!1}}})),w.useEffect(()=>{const Y=c?Be(c):!1;p(Y)},[c]),w.useEffect(()=>{const Y=/^\d+$/.test(u)&&parseInt(u)>=0;v(Y)},[u]),w.useEffect(()=>{if(P){const Y={success:!0,timestamp:new Date,actionType:N};g(Y),b(!1),a&&N&&a(!0,c,N,{studentAddress:c,programId:N==="program-update"?u:void 0,timestamp:Y.timestamp})}},[P,c,u,a,N]),w.useEffect(()=>{if(L&&_){const Y={success:!1,timestamp:new Date,errorMessage:_.message||"Unknown error occurred",actionType:N};g(Y),b(!1),a&&N&&a(!1,c,N,{studentAddress:c,programId:N==="program-update"?u:void 0,error:_.message||"Unknown error occurred"})}},[L,_,c,u,a,N]),w.useEffect(()=>{s&&s({studentAddress:c,programId:u,isAddressValid:h,isProgramIdValid:f,isProcessing:E,hasTeacherRole:!!W,isCheckingRole:H,lastUpdateResult:y})},[c,u,h,f,E,W,H,y,s]);const ee=Y=>{d(Y),g(null),O()},I=Y=>{m(Y),g(null),O()},A=Y=>{Y.preventDefault(),h&&f&&(j("program-update"),b(!0))},T=Y=>{Y.preventDefault(),h&&(j("term-completion"),b(!0))},$=async()=>{if(!(!h||!W))try{if(N==="program-update"){if(!f)return;await C({address:e,abi:t,functionName:"updateStudentProgram",args:[c,BigInt(u)]})}else N==="term-completion"&&await C({address:e,abi:t,functionName:"completeStudentTerm",args:[c]})}catch(Y){console.error(`Error with ${N}:`,Y)}},D=[{label:"Test Student 1",address:"0x742d35Cc6634C0532925a3b844Bc454e4438f44e"},{label:"Test Student 2",address:"0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199"}],R=!!W&&!H,F=()=>N==="program-update"?"Program Update":N==="term-completion"?"Term Completion":"Action";return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4","data-testid":"student-record-manager",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:i}),l&&n.jsx("div",{className:"mb-4 bg-gray-700/30 p-3 rounded-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("p",{className:"text-xs text-gray-400",children:["Connected as: ",n.jsx("span",{className:"text-blue-400 font-mono",children:l})]}),H?n.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[n.jsx("div",{className:"w-3 h-3 mr-1 border-2 border-t-white border-white/30 rounded-full animate-spin"}),"Checking role..."]}):W?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"})}),n.jsx("span",{className:"text-xs text-blue-400",children:"Teacher Role"})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-1"}),n.jsx("span",{className:"text-xs text-red-400",children:"No Teacher Role"})]})]})}),!H&&!W&&l&&n.jsx("div",{className:"mb-4 bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium mb-1",children:"Teacher Role Required"}),n.jsx("p",{className:"text-sm",children:"You need teacher privileges to manage student records. Please connect with an account that has the teacher role."})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Student Identification"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Student Address"}),n.jsx("input",{type:"text",value:c,onChange:Y=>ee(Y.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${c&&!h?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,"data-testid":"student-address-input",disabled:!R}),c&&!h&&n.jsx("p",{className:"text-xs text-red-400","data-testid":"address-validation-error",children:"Please enter a valid Ethereum address"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the Ethereum address of the student"})]}),n.jsxs("div",{className:"space-y-2 mt-3",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Test Student Addresses:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((Y,te)=>n.jsx("button",{type:"button",onClick:()=>ee(Y.address),className:`text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded ${R?"":"opacity-50 cursor-not-allowed"}`,"data-testid":`test-address-${te+1}`,disabled:!R,children:Y.label},te))})]})]}),n.jsxs("form",{onSubmit:A,className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Update Student Program"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Program ID"}),n.jsx("input",{type:"text",value:u,onChange:Y=>I(Y.target.value),placeholder:"Enter program ID number",className:`w-full px-3 py-2 bg-gray-700 border ${u&&!f?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,"data-testid":"program-id-input",disabled:!R}),u&&!f&&n.jsx("p",{className:"text-xs text-red-400","data-testid":"program-id-validation-error",children:"Please enter a valid program ID (non-negative integer)"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the new program ID for the student"})]}),n.jsxs("div",{className:"space-y-2 mt-3",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Test Program IDs:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>I("1001"),className:`text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded ${R?"":"opacity-50 cursor-not-allowed"}`,"data-testid":"test-program-id-1",disabled:!R,children:"Program 1001"}),n.jsx("button",{type:"button",onClick:()=>I("2002"),className:`text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded ${R?"":"opacity-50 cursor-not-allowed"}`,"data-testid":"test-program-id-2",disabled:!R,children:"Program 2002"})]})]}),n.jsx("div",{className:"flex justify-end space-x-3 mt-4",children:n.jsx("button",{type:"submit",disabled:!h||!f||E||!R,className:`px-4 py-2 rounded-md text-white ${!h||!f||E||!R?"bg-gray-700 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-blue-500`,"data-testid":"update-program-button",children:E&&N==="program-update"?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Update Program"})})]}),n.jsxs("form",{onSubmit:T,className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Complete Student Term"}),n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Mark the student as having completed their current academic term. This will update their record on the blockchain."}),n.jsx("div",{className:"flex justify-end space-x-3 mt-4",children:n.jsx("button",{type:"submit",disabled:!h||E||!R,className:`px-4 py-2 rounded-md text-white ${!h||E||!R?"bg-gray-700 cursor-not-allowed":"bg-green-600 hover:bg-green-700"} focus:outline-none focus:ring-2 focus:ring-green-500`,"data-testid":"complete-term-button",children:E&&N==="term-completion"?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Complete Term"})})]}),R&&n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>{d(""),m(""),g(null),O()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500","data-testid":"reset-button",children:"Reset All"})})]}),x&&n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70","data-testid":"confirmation-dialog",children:n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("h4",{className:"text-lg font-medium text-blue-400 mb-4",children:["Confirm ",F()]}),n.jsxs("div",{className:"bg-gray-700/30 p-4 rounded-md mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["You are about to ",N==="program-update"?"update the program for":"mark as term completed"," the following student:"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Student Address:"}),n.jsx("div",{className:"bg-gray-800/50 p-2 rounded font-mono text-xs text-gray-300 break-all",children:c})]}),N==="program-update"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"New Program ID:"}),n.jsx("div",{className:"bg-gray-800/50 p-2 rounded font-mono text-xs text-blue-400",children:u})]})]}),n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-md p-3 mt-3 text-sm text-yellow-200",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("span",{children:"This action will update the student's record on the blockchain and cannot be undone. Please ensure this information is correct."})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500","data-testid":"cancel-confirmation",children:"Cancel"}),n.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E,"data-testid":"confirm-action",children:E?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Confirm ${F()}`})]})]})}),y&&n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`mt-6 ${y.success?"bg-green-900/20 border border-green-700/30":"bg-red-900/20 border border-red-700/30"} rounded-lg p-4`,"data-testid":"update-result",children:n.jsxs("div",{className:"flex items-start",children:[y.success?n.jsx("svg",{className:"w-6 h-6 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:`text-lg font-medium ${y.success?"text-green-400":"text-red-400"}`,children:y.actionType==="program-update"?y.success?"Program Update Successful":"Program Update Failed":y.success?"Term Completion Successful":"Term Completion Failed"}),y.success?n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:y.actionType==="program-update"?`The student's program has been successfully updated to ${u}.`:"The student's term has been successfully marked as completed."}):n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:y.errorMessage||"An error occurred while updating the record."}),y.timestamp&&n.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Zt(y.timestamp,{addSuffix:!0})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700/30",children:n.jsx("button",{type:"button",onClick:()=>{d(""),m(""),g(null),O()},className:`px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${R?"":"opacity-50 cursor-not-allowed"}`,"data-testid":"update-another-button",disabled:!R,children:"Manage Another Student"})})]})]})})]})}),TO=w.forwardRef(({contract:e,currentTerm:t,onPaymentSuccess:r,onPaymentError:s,onStateChange:a},i)=>{const[o,l]=w.useState((t==null?void 0:t.toString())||""),[c,d]=w.useState("0.05"),[u,m]=w.useState(""),{data:h,error:p,isPending:f,writeContract:v,reset:y}=zt(),{isLoading:g,isSuccess:x,error:b}=on({hash:h}),N=p||b;w.useImperativeHandle(i,()=>({getPaymentData:()=>({term:o,amount:c,paymentNote:u,isProcessing:f,isConfirming:g,isConfirmed:x,transactionHash:h||null,error:N}),resetPaymentForm:()=>{l((t==null?void 0:t.toString())||""),d("0.05"),m(""),y()},submitPayment:async(P,L,_)=>{try{if(!P||isNaN(Number(P))||Number(P)<=0)throw new Error("Please enter a valid term number");if(!L||isNaN(Number(L))||Number(L)<=0)throw new Error("Please enter a valid payment amount");return l(P),d(L),_!==void 0&&m(_),v({...e,functionName:"payTuition",args:[BigInt(P)],value:wd(L)}),!0}catch(O){return s&&O instanceof Error&&s(O),!1}}})),w.useEffect(()=>{a&&a({term:o,amount:c,paymentNote:u,isProcessing:f,isConfirming:g,isConfirmed:x,transactionHash:h||null,error:N})},[o,c,u,f,g,x,h,N,a]);const j=async P=>{P.preventDefault();try{if(!o||isNaN(Number(o))||Number(o)<=0)throw new Error("Please enter a valid term number");if(!c||isNaN(Number(c))||Number(c)<=0)throw new Error("Please enter a valid payment amount");v({...e,functionName:"payTuition",args:[BigInt(o)],value:wd(c)})}catch(L){s&&L instanceof Error&&s(L)}};w.useEffect(()=>{x&&h&&!g&&o&&c&&(r&&r(Number(o),c,h),r||(l((t==null?void 0:t.toString())||""),d("0.05"),m("")))},[x,h,g,o,c,r,t]);const E=f?{text:"Initiating Payment",color:"text-yellow-400",bg:"bg-yellow-500/20"}:g?{text:"Confirming Payment",color:"text-blue-400",bg:"bg-blue-500/20"}:x?{text:"Payment Successful",color:"text-green-400",bg:"bg-green-500/20"}:N?{text:"Payment Failed",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Ready for Payment",color:"text-gray-400",bg:"bg-gray-500/20"};return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4","data-testid":"tuition-payment-form",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Tuition Payment"}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${E.bg} border border-${E.color.replace("text-","")}/30 mb-4`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${E.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${E.color}`,children:E.text})]}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsx("input",{id:"term",type:"number",value:o,onChange:P=>l(P.target.value),placeholder:"Enter term number",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",required:!0,disabled:f||g,"data-testid":"term-input"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the term you're paying tuition for"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-300",children:"Payment Amount (ETH)"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"amount",type:"number",value:c,onChange:P=>d(P.target.value),placeholder:"0.00",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01",min:"0.01",required:!0,disabled:f||g,"data-testid":"amount-input"}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("span",{className:"text-gray-400",children:"ETH"})})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the amount of ETH to pay for tuition"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-300",children:"Payment Note (Optional)"}),n.jsx("textarea",{id:"note",value:u,onChange:P=>m(P.target.value),placeholder:"Add a note for this payment",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,disabled:f||g,"data-testid":"note-input"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Add a personal note for reference (not stored on-chain)"})]})]}),N&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3","data-testid":"error-display",children:n.jsxs("p",{className:"text-sm",children:["Error processing payment: ",N.message||"Unknown error"]})}),x&&h&&n.jsxs("div",{className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-3","data-testid":"success-display",children:[n.jsx("p",{className:"text-sm",children:"Payment successful!"}),n.jsxs("div",{className:"mt-1 flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Transaction Hash: "}),n.jsx("a",{href:`https://etherscan.io/tx/${h}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 ml-1 font-mono truncate hover:underline",children:h})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("button",{type:"button",onClick:()=>{l((t==null?void 0:t.toString())||""),d("0.05"),m(""),y()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:f||g,"data-testid":"reset-button",children:"Reset"}),n.jsx("button",{type:"submit",className:`px-4 py-2 rounded-md text-white font-medium transition-colors ${f||g?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:f||g,"data-testid":"submit-button",children:f||g?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f?"Initiating Payment...":"Confirming Payment..."]}):x?"Payment Complete":"Pay Tuition"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Payment Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Function: "}),n.jsx("span",{className:"text-gray-200 font-mono",children:"payTuition(uint256 term)"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Transaction Type: "}),n.jsx("span",{className:"text-gray-200",children:"Payable"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Gas Estimate: "}),n.jsx("span",{className:"text-gray-200",children:"~50,000 gas"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Confirmation Time: "}),n.jsx("span",{className:"text-gray-200",children:"~15-30 seconds"})]})]}),n.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:[n.jsx("p",{className:"mb-1",children:"Note: Please ensure you have sufficient ETH balance for tuition payment and gas fees."}),n.jsx("p",{children:"All payments are non-refundable once confirmed on the blockchain."})]})]})]})}),EO=()=>{const{address:e}=Ge(),[t,r]=w.useState("overview"),[s,a]=w.useState(!1),i=w.useRef(null),o=w.useRef(null),l=()=>{console.log("Logout requested")},c=Ir(),d=()=>{c("/")},u=m=>{r(m),a(!1)};return n.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[n.jsxs("nav",{className:"bg-gray-800/80 border-b border-gray-700 backdrop-blur-sm fixed w-full z-10",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:"mySchoolTree"}),n.jsxs("button",{onClick:d,className:"ml-3 text-gray-300 hover:text-white flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),n.jsx("span",{className:"text-sm",children:"Home"})]}),n.jsxs("div",{className:"hidden md:ml-10 md:flex md:space-x-6",children:[n.jsx("button",{onClick:()=>u("overview"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="overview"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Dashboard"}),n.jsx("button",{onClick:()=>u("records"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="records"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Records"}),n.jsx("button",{onClick:()=>u("verification"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="verification"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Verification"}),n.jsx("button",{onClick:()=>u("tuition"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="tuition"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Tuition"}),n.jsx("button",{onClick:()=>u("management"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="management"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Management"})]})]}),n.jsxs("div",{className:"flex items-center",children:[e&&n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-gray-700 rounded-full p-1 mr-2",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-gray-300",children:e.substring(2,4).toUpperCase()})}),n.jsxs("div",{className:"hidden md:block text-sm",children:[n.jsx("div",{className:"text-gray-300",children:`${e.slice(0,6)}...${e.slice(-4)}`}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]}),n.jsx("button",{onClick:l,className:"ml-4 text-gray-300 hover:text-gray-100",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}),n.jsx("div",{className:"md:hidden ml-2",children:n.jsx("button",{onClick:()=>a(!s),className:"p-2 rounded-md text-gray-400 hover:text-white focus:outline-none",children:n.jsx("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:s?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})]})}),n.jsx("div",{className:`md:hidden ${s?"block":"hidden"}`,children:n.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-800 border-b border-gray-700",children:[n.jsxs("button",{onClick:d,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 md:flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),n.jsx("button",{onClick:()=>u("overview"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="overview"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Dashboard"}),n.jsx("button",{onClick:()=>u("records"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="records"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Records"}),n.jsx("button",{onClick:()=>u("verification"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="verification"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Verification"}),n.jsx("button",{onClick:()=>u("tuition"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="tuition"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Tuition"}),n.jsx("button",{onClick:()=>u("management"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${t==="management"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Management"})]})})]}),n.jsxs("main",{className:"pt-20 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-white",children:[t==="overview"&&"Student Dashboard",t==="records"&&"Student Records",t==="verification"&&"Student Verification",t==="tuition"&&"Tuition Management",t==="management"&&"Student Management"]}),n.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:[t==="overview"&&"Overview of your educational progress and attendance",t==="records"&&"View and manage your student records",t==="verification"&&"Verify your academic credentials and status",t==="tuition"&&"Manage tuition payments and fee information",t==="management"&&"Administrative tools for student management"]})]}),n.jsxs("div",{className:"space-y-6",children:[t==="overview"&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:n.jsx(q_,{})}),t==="records"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[n.jsx(eF,{}),n.jsx(kO,{onCountUpdateSuccess:(m,h)=>{console.log(`Attendance ${h?"increased":"decreased"} for ${m}`)},onDateUpdateSuccess:(m,h)=>{console.log(`Attendance date updated for ${m} to ${new Date(Number(h)*1e3)}`)}})]}),t==="verification"&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:n.jsx(jO,{studentContractView:{address:jt.address,abi:jt.abi},reputationContract:{address:_e.address,abi:_e.abi},schoolVerificationContract:{address:_e.address,abi:_e.abi},termCompletionContract:{address:_e.address,abi:_e.abi},studentProfileContract:{address:yl.address,abi:yl.abi},studentAddress:e,defaultMode:"attendance",onDataFetched:m=>console.log("Verification data fetched:",m)})}),t==="tuition"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[n.jsx(SO,{feeContract:rs,statusContract:rs,studentAddress:e,defaultMode:"fees",onFeesDataFetched:m=>console.log("Fee data fetched:",m),onStatusDataFetched:(m,h)=>console.log("Status data fetched:",{isPaid:m,dueDate:h})}),n.jsx(TO,{ref:i,contract:rs,currentTerm:1,onPaymentSuccess:(m,h)=>{console.log(`Payment of ${h} ETH for term ${m} successful`)},onPaymentError:m=>{console.error("Payment error:",m)}})]}),t==="management"&&n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:n.jsx(CO,{ref:o,contractAddress:jt.address,contractAbi:jt.abi,roleContract:jt,onUpdateComplete:(m,h,p,f)=>{console.log(`Record update ${m?"successful":"failed"} for ${h}`),console.log("Action:",p),console.log("Data:",f)},title:"Student Record Management"})})]})]}),n.jsx("footer",{className:"bg-gray-800/80 border-t border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"text-sm text-gray-400",children:" 2025 EduChain - Blockchain Education Management"}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsx("button",{onClick:()=>console.log("Support clicked"),className:"text-blue-400 hover:text-blue-300",children:"Support"})," | ",n.jsx("button",{onClick:()=>console.log("Documentation clicked"),className:"text-blue-400 hover:text-blue-300",children:"Documentation"})]})]})})})]})},PO=({onDataChange:e})=>{const[t,r]=w.useState([{name:"Revenue System",functionName:"revenueSystem",description:"Manages revenue collection, distribution, and reporting",address:null,isLoading:!1,isError:!1,refetch:async()=>{}},{name:"Student Management",functionName:"studentManagement",description:"Handles student registration, tracking, and administrative functions",address:null,isLoading:!1,isError:!1,refetch:async()=>{}},{name:"Student Profile",functionName:"studentProfile",description:"Stores and manages student personal information and academic profiles",address:null,isLoading:!1,isError:!1,refetch:async()=>{}},{name:"Tuition System",functionName:"tuitionSystem",description:"Handles tuition payments, fee calculations, and scholarship management",address:null,isLoading:!1,isError:!1,refetch:async()=>{}}]),[s,a]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),d=ke({address:_e.address,abi:_e.abi,functionName:"revenueSystem",args:[]}),u=ke({address:_e.address,abi:_e.abi,functionName:"studentManagement",args:[]}),m=ke({address:_e.address,abi:_e.abi,functionName:"studentProfile",args:[]}),h=ke({address:_e.address,abi:_e.abi,functionName:"tuitionSystem",args:[]});w.useEffect(()=>{const y=[d,u,m,h],g=[...t];y.forEach((x,b)=>{g[b].isError=x.isError,g[b].isLoading=x.isLoading,g[b].refetch=x.refetch}),r(g)},[d.isError,d.isLoading,u.isError,u.isLoading,m.isError,m.isLoading,h.isError,h.isLoading]);const p=y=>y?`${y.substring(0,6)}...${y.substring(y.length-4)}`:"Not Available",f=w.useCallback(async()=>{c(!0),a("Fetching all system contract addresses..."),o(!0);try{const y=t.map(g=>({...g}));for(let g=0;g<y.length;g++){y[g].isLoading=!0,r([...y]);try{const x=await y[g].refetch();y[g].address=x.data,y[g].isError=!1}catch(x){console.error(`Error fetching ${y[g].name}:`,x),y[g].isError=!0}finally{y[g].isLoading=!1,r([...y])}}a("All system contract addresses fetched successfully")}catch(y){console.error("Error fetching system contracts:",y),a("Error fetching system contract addresses")}finally{c(!1)}},[]);w.useEffect(()=>{e&&e({contracts:t,isAllLoading:l,fetchAllContracts:f,fetchStatus:s})},[t,l,f,s,e]);const v=({address:y})=>{const[g,x]=w.useState(!1);if(!y)return null;const b=()=>{navigator.clipboard.writeText(y),x(!0),setTimeout(()=>x(!1),2e3)};return n.jsx("button",{onClick:b,className:"text-blue-400 hover:text-blue-300 transition-colors ml-2 focus:outline-none",title:"Copy address",children:g?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})};return w.useEffect(()=>{if(i){const y=setTimeout(()=>{o(!1)},5e3);return()=>clearTimeout(y)}},[i]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"System Contracts"}),n.jsx("div",{className:"mb-6 flex justify-center",children:n.jsx(X.button,{onClick:f,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:l,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:l?"Loading...":"Fetch All Contracts"})}),i&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md text-center ${s.includes("Error")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:s})}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"grid grid-cols-12 bg-gray-800 p-4 border-b border-gray-700",children:[n.jsx("div",{className:"col-span-3 md:col-span-2 font-semibold text-gray-300",children:"System"}),n.jsx("div",{className:"col-span-9 md:col-span-6 font-semibold text-gray-300",children:"Contract Address"}),n.jsx("div",{className:"hidden md:block md:col-span-4 font-semibold text-gray-300",children:"Description"})]}),t.map((y,g)=>n.jsxs("div",{className:`grid grid-cols-12 p-4 ${g!==t.length-1?"border-b border-gray-700":""} hover:bg-gray-800/30 transition-colors`,children:[n.jsx("div",{className:"col-span-3 md:col-span-2 flex items-center",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-medium",children:y.name})}),n.jsx("div",{className:"col-span-9 md:col-span-6 flex items-center",children:y.isLoading?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-gray-400",children:"Loading..."})]}):y.isError?n.jsxs("span",{className:"text-red-400 flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Error retrieving address"]}):y.address?n.jsxs("div",{className:"flex items-center text-gray-200",children:[n.jsx("span",{children:p(y.address)}),n.jsx(v,{address:y.address})]}):n.jsx("span",{className:"text-gray-500",children:"Not fetched"})}),n.jsx("div",{className:"hidden md:block md:col-span-4 text-gray-400 text-sm",children:y.description})]},y.functionName))]}),n.jsxs("div",{className:"mt-6 bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"System Architecture"}),n.jsx("div",{className:"bg-gray-800/30 p-4 rounded-lg border border-gray-700",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl",children:[n.jsxs("div",{className:`p-3 rounded-lg border ${t[0].address?"border-blue-500/30 bg-blue-500/5":"border-gray-700 bg-gray-800/30"}`,children:[n.jsx("div",{className:"font-medium text-blue-400",children:t[0].name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t[0].description})]}),n.jsxs("div",{className:`p-3 rounded-lg border ${t[1].address?"border-purple-500/30 bg-purple-500/5":"border-gray-700 bg-gray-800/30"}`,children:[n.jsx("div",{className:"font-medium text-purple-400",children:t[1].name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t[1].description})]}),n.jsxs("div",{className:`p-3 rounded-lg border ${t[2].address?"border-green-500/30 bg-green-500/5":"border-gray-700 bg-gray-800/30"}`,children:[n.jsx("div",{className:"font-medium text-green-400",children:t[2].name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t[2].description})]}),n.jsxs("div",{className:`p-3 rounded-lg border ${t[3].address?"border-yellow-500/30 bg-yellow-500/5":"border-gray-700 bg-gray-800/30"}`,children:[n.jsx("div",{className:"font-medium text-yellow-400",children:t[3].name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:t[3].description})]})]}),n.jsx("div",{className:"mt-5 text-center text-gray-400 text-sm",children:t.every(y=>y.address)?n.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-2 inline-block",children:n.jsx("span",{className:"text-green-400",children:"All system contracts are connected and operational"})}):t.some(y=>y.address)?n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-2 inline-block",children:n.jsx("span",{className:"text-yellow-400",children:"Some system contracts are connected"})}):n.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-2 inline-block",children:n.jsx("span",{className:"text-blue-400",children:'Click "Fetch All Contracts" to view system connections'})})})]})})]})]})},AO=({defaultProgramId:e,defaultAddress:t,onDataChange:r})=>{const[s,a]=w.useState((e==null?void 0:e.toString())||""),[i,o]=w.useState(t||""),[l,c]=w.useState(null),[d,u]=w.useState(!1),[m,h]=w.useState(""),[p,f]=w.useState(!1),[v,y]=w.useState(!1),{isError:g,isLoading:x,refetch:b}=ke({address:_e.address,abi:_e.abi,functionName:"programAttendance",args:[BigInt(s||"0"),i]});w.useEffect(()=>{const j=/^\d+$/.test(s)&&parseInt(s)>=0,C=/^0x[a-fA-F0-9]{40}$/.test(i);y(j&&C)},[s,i]);const N=w.useCallback(async()=>{if(!v){h("Please enter a valid program ID and Ethereum address"),f(!0);return}try{const j=await b();j.data!==void 0?(c(j.data),h("Attendance status fetched successfully"),u(!0)):(h("Could not retrieve attendance status"),c(null),u(!1))}catch(j){console.error("Error fetching attendance status:",j),h("Error fetching attendance status"),c(null),u(!1)}f(!0)},[v,b]);return w.useEffect(()=>{r&&r({programId:s,studentAddress:i,hasAttended:l,isLoading:x,isError:g,fetchAttendance:N,fetchStatus:m})},[s,i,l,x,g,N,m,r]),w.useEffect(()=>{if(p){const j=setTimeout(()=>{f(!1)},5e3);return()=>clearTimeout(j)}},[p]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Program Attendance Check"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Program ID"}),n.jsx("input",{type:"number",value:s,onChange:j=>a(j.target.value),min:"0",placeholder:"Enter program ID",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Student Address"}),n.jsx("input",{type:"text",value:i,onChange:j=>o(j.target.value),placeholder:"0x...",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx(X.button,{onClick:N,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:x||!v,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:x?"Loading...":"Check Attendance"})}),p&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md ${m.includes("Error")||m.includes("Could not")||m.includes("Please enter")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:m})}),x&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading attendance information..."})]}),g&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error checking attendance status"})]})}),d&&l!==null&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Attendance Status"}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:["Attendance for Program ID: ",s]}),n.jsx("div",{className:"text-gray-200 flex items-center",children:l?n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-green-400 font-semibold",children:"Present"})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-red-400 font-semibold",children:"Absent"})]})})]}),n.jsx("div",{className:"mt-4 bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-purple-400",children:l?"The student has attended this program session.":"The student has not attended this program session."})]})})]})})]})},zd={ADMIN_ROLE:"0x0000000000000000000000000000000000000000000000000000000000000000",PROGRAM_MANAGER_ROLE:"0x7fab940a61ea2dbd47aca7449d99e95b1c9ea29dcad8f56e9a7a47f1e2989d11",TEACHER_ROLE:"0x22976f7f83a7c9f912b9cf4bad5d23d14f64943c5de369cb54d95f68132e1d46",STUDENT_ROLE:"0x4c5a99d76b63156c595e0f5e6d205b0b035c900015b44074d97e5eefdf156e64"},am=e=>/^0x[a-fA-F0-9]{40}$/.test(e),MO=e=>{const t=Object.entries(zd).find(([r,s])=>s===e);return t?t[0]:"Custom Role"},RO=({onDataChange:e})=>{const[t,r]=w.useState(""),[s,a]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(!1),[d,u]=w.useState(!1),[m,h]=w.useState([]),p=l?s:t,{data:f,isError:v,error:y,isPending:g,refetch:x}=ke({address:_e.address,abi:_e.abi,functionName:"hasRole",args:[p,i]});w.useEffect(()=>{d&&p&&i&&x()},[d,p,i,x]),w.useEffect(()=>{u(!1)},[p,i]),w.useEffect(()=>{f!==void 0&&d&&!g&&!v&&(h(C=>[{timestamp:Date.now(),role:p,roleName:MO(p),address:i,hasRole:!!f},...C.slice(0,9)]),u(!1))},[f,g,v,d,p,i]);const b=w.useCallback(async()=>{if(!p||!i||!am(i))return;u(!0);const C=await(x==null?void 0:x());return C==null?void 0:C.data},[p,i,x]),N=w.useCallback(async(C,E)=>(Object.values(zd).includes(C)?(c(!1),r(C)):(c(!0),a(C)),o(E),await new Promise(P=>setTimeout(P,0)),b()),[b]);w.useEffect(()=>{e&&e({selectedRole:p,accountAddress:i,queryHistory:m,isPending:g,isError:v,error:y,checkRole:N})},[p,i,m,g,v,y,N,e]);const j=C=>new Date(C).toLocaleTimeString();return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Role Checker"}),n.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Check if an account has a specific role assigned to it."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("input",{type:"checkbox",id:"useCustomRoleCheck",checked:l,onChange:()=>c(!l),className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-700 rounded bg-gray-800"}),n.jsx("label",{htmlFor:"useCustomRoleCheck",className:"block text-sm font-medium text-gray-300",children:"Use custom role hash"})]}),l?n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Custom Role (bytes32)"}),n.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:n.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-300 text-sm font-mono",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000000"})})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Select Role"}),n.jsxs("select",{value:t,onChange:C=>r(C.target.value),className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-300 text-sm",children:[n.jsx("option",{value:"",children:"Select a role..."}),Object.entries(zd).map(([C,E])=>n.jsx("option",{value:E,children:C},E))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Account Address"}),n.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:n.jsx("input",{type:"text",value:i,onChange:C=>o(C.target.value),className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-300 text-sm font-mono",placeholder:"0x..."})})]})]}),n.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z",clipRule:"evenodd"})})}),n.jsx("p",{className:"ml-3 text-sm text-gray-300",children:"This is a read-only operation that checks if the specified account has been granted a particular role. The query does not modify any blockchain state and does not require a transaction."})]})}),n.jsx(X.button,{onClick:b,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:g||!p||!i||!am(i),className:`w-full py-3 px-4 rounded-md text-white font-medium shadow-lg transition-all duration-300 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 ${g||!p||!i||!am(i)?"opacity-70 cursor-not-allowed":"opacity-100"}`,children:g?"Checking...":"Check Role"}),n.jsxs(ft,{children:[d&&g&&n.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex justify-center items-center p-4 bg-gray-800/50 rounded-md border border-gray-700",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin mr-3"}),n.jsx("p",{className:"text-gray-300",children:"Querying blockchain..."})]}),v&&n.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"p-4 bg-red-500/20 rounded-md border border-red-500/30 text-red-400",children:[n.jsx("h3",{className:"font-medium mb-1",children:"Error"}),n.jsx("p",{className:"text-sm",children:(y==null?void 0:y.message)||"Failed to check role status"})]}),m.length>0&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-md border overflow-hidden",children:[n.jsx("div",{className:"bg-gray-800 p-3 border-b border-gray-700",children:n.jsx("h3",{className:"text-md font-semibold text-blue-400",children:"Latest Results"})}),n.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:m.map((C,E)=>n.jsxs("div",{className:`p-4 border-b border-gray-700 last:border-b-0 ${E===0?"bg-gray-800/70":"bg-gray-900/90"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("span",{className:"text-xs text-gray-400",children:j(C.timestamp)}),n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.hasRole?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:C.hasRole?"Has Role":"No Role"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Role"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("p",{className:"text-sm text-gray-300 mr-2",children:C.roleName}),n.jsx("p",{className:"text-xs text-gray-500 font-mono truncate",children:C.role})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Address"}),n.jsx("p",{className:"text-sm font-mono text-gray-300 truncate mt-1",children:C.address})]})]})]},`${C.timestamp}-${E}`))})]})]})]})]})},LO=[{name:"System Overview",icon:"dashboard"},{name:"Attendance",icon:"check"},{name:"Roles & Permissions",icon:"lock"}],Lv=()=>{const[e,t]=w.useState(0),[r,s]=w.useState(null),[a,i]=w.useState(null),[o,l]=w.useState(null),[c,d]=w.useState([]),u=w.useCallback((g,x="info")=>{const b={message:g,type:x};d(N=>[b,...N]),setTimeout(()=>{d(N=>N.filter(j=>j!==b))},5e3)},[]),m=w.useCallback(g=>{s(g),g.fetchStatus&&g.fetchStatus!==""&&u(g.fetchStatus,g.fetchStatus.includes("Error")?"error":"success")},[u]),h=w.useCallback(g=>{if(i(g),g.fetchStatus&&g.fetchStatus!==""){const x=g.fetchStatus.includes("Error")||g.fetchStatus.includes("Please enter")?"error":"success";u(g.fetchStatus,x)}},[u]),p=w.useCallback(g=>{l(g);const x=g.queryHistory[0];if(x){const b=`${x.address} ${x.hasRole?"has":"does not have"} ${x.roleName}`;u(b,x.hasRole?"success":"info")}},[u]),f=g=>{switch(g){case"dashboard":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})});case"check":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"lock":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})});default:return null}},v=()=>{switch(e){case 0:return n.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r==null?void 0:r.fetchAllContracts(),disabled:r==null?void 0:r.isAllLoading,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md transition-colors shadow-lg disabled:opacity-50",children:r!=null&&r.isAllLoading?"Loading...":"Refresh All Contracts"});case 1:return n.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a==null?void 0:a.fetchAttendance(),disabled:a==null?void 0:a.isLoading,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md transition-colors shadow-lg disabled:opacity-50",children:a!=null&&a.isLoading?"Loading...":"Check Attendance"});case 2:return o!=null&&o.accountAddress?n.jsx("div",{className:"flex space-x-2",children:Object.entries(zd).map(([g,x])=>n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o.checkRole(x,o.accountAddress),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-md transition-colors shadow-lg text-sm",children:["Check ",g.split("_")[0].toLowerCase()]},g))}):null;default:return null}},y=()=>n.jsx("div",{className:"fixed bottom-6 right-6 z-50 space-y-2 max-w-md",children:c.map((g,x)=>n.jsxs(X.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`px-4 py-3 rounded-lg shadow-lg ${g.type==="success"?"bg-green-500 text-white":g.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"} flex items-center justify-between`,children:[n.jsx("p",{children:g.message}),n.jsx("button",{onClick:()=>d(b=>b.filter((N,j)=>j!==x)),className:"ml-3 text-white opacity-70 hover:opacity-100",children:""})]},x))});return n.jsx("div",{className:"min-h-screen bg-gray-950 text-white p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("header",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-indigo-400 bg-clip-text text-transparent",children:"Educational Blockchain Dashboard"}),n.jsx(v,{})]}),n.jsx("div",{className:"mt-6 border-b border-gray-800",children:n.jsx("div",{className:"flex space-x-1",children:LO.map((g,x)=>n.jsxs("button",{className:`px-4 py-3 flex items-center space-x-2 ${e===x?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"} transition-colors`,onClick:()=>t(x),children:[f(g.icon),n.jsx("span",{children:g.name})]},g.name))})})]}),n.jsxs("main",{children:[e===0&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"bg-gray-900/70 border border-gray-800 rounded-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-blue-400",children:"System Status"}),n.jsx("p",{className:"text-gray-300",children:"This dashboard provides a centralized interface for managing educational blockchain systems. View contract statuses, check student attendance, and manage system roles."}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"text-xl font-bold text-blue-400 mb-1",children:[(r==null?void 0:r.contracts.filter(g=>g.address).length)||0,"/",(r==null?void 0:r.contracts.length)||0]}),n.jsx("div",{className:"text-sm text-gray-400",children:"Connected Contracts"})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("div",{className:"text-xl font-bold text-purple-400 mb-1",children:(a==null?void 0:a.hasAttended)!==null?"Available":"Not Checked"}),n.jsx("div",{className:"text-sm text-gray-400",children:"Attendance System"})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("div",{className:"text-xl font-bold text-green-400 mb-1",children:(o==null?void 0:o.queryHistory.length)||0}),n.jsx("div",{className:"text-sm text-gray-400",children:"Role Checks Performed"})]})]})]})}),n.jsx(PO,{onDataChange:m})]}),e===1&&n.jsx(AO,{onDataChange:h}),e===2&&n.jsx(RO,{onDataChange:p})]}),n.jsx(y,{})]})})},IO=(e="",t=0,r)=>{const[s,a]=w.useState(e),[i,o]=w.useState(null),{data:l,error:c,isLoading:d,isSuccess:u,refetch:m}=ke({address:jt.address,abi:jt.abi,functionName:"schoolStudentCount",args:s?[s]:void 0,query:{enabled:!!s}});return w.useEffect(()=>{if(t>0&&s){const p=setInterval(()=>{m()},t);return()=>{clearInterval(p)}}},[t,s,m]),w.useEffect(()=>{u&&l!==void 0&&o(new Date)},[u,l,s,r]),w.useEffect(()=>{e&&a(e)},[e]),{count:l,schoolAddress:s,category:(()=>{if(l===void 0)return{text:"No Data",color:"text-gray-400",bg:"bg-gray-500/20"};const p=Number(l);return p===0?{text:"No Students",color:"text-red-400",bg:"bg-red-500/20"}:p<10?{text:"Small School",color:"text-yellow-400",bg:"bg-yellow-500/20"}:p<50?{text:"Medium School",color:"text-blue-400",bg:"bg-blue-500/20"}:{text:"Large School",color:"text-green-400",bg:"bg-green-500/20"}})(),lastUpdated:i,isLoading:d,isSuccess:u,error:c,refetch:m}},_O=({schoolAddress:e="",studentAddress:t="",studentContractView:r=!1,refreshInterval:s=0})=>{var L,_;const[a,i]=w.useState("school"),[o,l]=w.useState(e),[c,d]=w.useState(t),[u,m]=w.useState(1),[h,p]=w.useState(!0),[f,v]=w.useState(""),y=IO(a==="school"?o:"",s),g=T3(r,a==="student"?c:"",u,s);w.useEffect(()=>{g.studentInfo&&p(!0)},[g.studentInfo]);const x=O=>O?/^0x[a-fA-F0-9]{40}$/.test(O)?(v(""),!0):(v("Invalid Ethereum address format"),!1):(v("Address is required"),!1),b=O=>isNaN(O)||O<=0?(v("Term must be a positive number"),!1):(v(""),!0),N=O=>{O.preventDefault(),x(o)&&y.refetch()},j=O=>{O.preventDefault(),x(c)&&b(u)&&g.refresh()},C=O=>!O||O.length<42?O:`${O.substring(0,6)}...${O.substring(38)}`,E=O=>{l(O),v("")},P=O=>{d(O),v("")};return n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-br from-gray-900 to-gray-800 text-white rounded-xl shadow-2xl overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Student Management Dashboard"}),n.jsx("p",{className:"text-blue-100 mt-1",children:"View school enrollment and student attendance data"})]}),n.jsxs("div",{className:"flex border-b border-gray-700",children:[n.jsx("button",{onClick:()=>i("school"),className:`flex-1 py-4 px-6 text-center transition-colors ${a==="school"?"text-blue-400 border-b-2 border-blue-400 font-medium":"text-gray-400 hover:text-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"School Enrollment"]})}),n.jsx("button",{onClick:()=>i("student"),className:`flex-1 py-4 px-6 text-center transition-colors ${a==="student"?"text-blue-400 border-b-2 border-blue-400 font-medium":"text-gray-400 hover:text-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Student Attendance"]})})]}),n.jsx("div",{className:"p-6",children:n.jsx(ft,{mode:"wait",children:a==="school"?n.jsxs(X.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.3},children:[n.jsx("form",{onSubmit:N,className:"mb-6",children:n.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm rounded-lg p-5 shadow-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-200 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search School Enrollment"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school-address",className:"block text-sm font-medium text-gray-300",children:"School Wallet Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),n.jsx("input",{id:"school-address",type:"text",value:o,onChange:O=>{l(O.target.value),v("")},placeholder:"0x...",className:`w-full pl-10 px-3 py-3 bg-gray-700/70 border ${f&&a==="school"?"border-red-500":"border-gray-600"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the school's Ethereum wallet address"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>E("0xdD2FD4581271e230360230F9337D5c0430Bf44C0"),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-2 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Test School 1"]}),n.jsxs("button",{type:"button",onClick:()=>E("0x5FbDB2315678afecb367f032d93F642f64180aa3"),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-2 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Test School 2"]})]}),f&&a==="school"&&n.jsxs("div",{className:"text-sm text-red-400 mt-1 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-lg flex items-center",disabled:y.isLoading,children:y.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View Enrollment"]})})})]})]})}),n.jsx(ft,{children:y.error?n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-red-400 font-medium",children:"Error"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:((L=y.error)==null?void 0:L.message)||"Failed to fetch school data"}),n.jsxs("button",{onClick:()=>y.refetch(),className:"text-sm mt-3 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again"]})]})]})}):y.isSuccess&&y.count!==void 0?n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${y.category.bg} border border-${y.category.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${y.category.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${y.category.color}`,children:y.category.text})]}),n.jsx("div",{className:"text-xs text-gray-400",children:y.lastUpdated&&n.jsxs("span",{children:["Updated ",$O(y.lastUpdated)]})})]}),n.jsxs("div",{className:"bg-gradient-to-b from-gray-800/70 to-gray-800/20 rounded-xl shadow-lg overflow-hidden border border-gray-700",children:[n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center md:items-start",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-100 flex items-center mb-1",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"School Enrollment"]}),n.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["School ID: ",n.jsx("span",{className:"text-gray-300 font-mono",children:C(y.schoolAddress)})]})]}),n.jsxs("button",{onClick:()=>y.refetch(),className:"text-sm bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 py-2 px-4 rounded-lg transition-colors flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})]})}),n.jsx("div",{className:"px-6 py-8 bg-gray-700/20 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"text-6xl font-bold text-white mb-2 flex items-baseline",children:[y.count?y.count.toString():"0",n.jsx("span",{className:"text-xl text-gray-400 ml-2",children:Number(y.count||0)===1?"Student":"Students"})]}),n.jsxs("div",{className:"w-full max-w-md mt-4",children:[n.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden shadow-inner",children:n.jsx(X.div,{initial:{width:0},animate:{width:`${OO(Number(y.count||0))}%`},transition:{duration:1,ease:"easeOut"},className:FO(Number(y.count||0))})}),n.jsx("p",{className:"text-sm text-gray-400 mt-2 text-center",children:DO(Number(y.count||0))})]})]})})]})]}):null})]},"school-tab"):n.jsxs(X.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.3},children:[n.jsx("form",{onSubmit:j,className:"mb-6",children:n.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm rounded-lg p-5 shadow-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-200 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search Student Attendance"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{id:"student-address",type:"text",value:c,onChange:O=>{d(O.target.value),v("")},placeholder:"0x...",className:`w-full pl-10 px-3 py-3 bg-gray-700/70 border ${f&&!c&&a==="student"?"border-red-500":"border-gray-600"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"term-number",className:"block text-sm font-medium text-gray-300",children:"Term Number"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsx("input",{id:"term-number",type:"number",value:u||"",onChange:O=>{m(parseInt(O.target.value)||0),v("")},placeholder:"Enter term number",min:"1",className:`w-full pl-10 px-3 py-3 bg-gray-700/70 border ${f&&(!u||u<=0)&&a==="student"?"border-red-500":"border-gray-600"} rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors`})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the term number to check attendance for"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsxs("button",{type:"button",onClick:()=>P("0x1234567890123456789012345678901234567890"),className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 py-2 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Test Student 1"]})}),r&&n.jsx("div",{className:"flex items-center mt-2",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:h,onChange:()=>p(!h)}),n.jsx("div",{className:"relative w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ms-3 text-sm text-gray-300",children:"Show Student Profile"})]})}),f&&a==="student"&&n.jsxs("div",{className:"text-sm text-red-400 mt-1 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-lg flex items-center",disabled:g.isLoading,children:g.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View Attendance"]})})})]})]})}),n.jsx(ft,{children:g.error?n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-red-400 font-medium",children:"Error"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:((_=g.error)==null?void 0:_.message)||"Failed to fetch student data"}),n.jsxs("button",{onClick:()=>g.refresh(),className:"text-sm mt-3 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-3 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again"]})]})]})}):g.termAttendance!==void 0&&g.totalAttendance!==void 0?n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${g.status.bg} border border-${g.status.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g.status.color.replace("text-","bg-")} mr-2`}),n.jsxs("span",{className:`text-sm font-medium ${g.status.color}`,children:[g.status.text," Attendance"]})]}),n.jsx(ft,{children:h&&g.studentInfo&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gradient-to-b from-blue-900/20 to-blue-800/10 rounded-xl shadow-lg overflow-hidden border border-blue-800/30",children:n.jsxs("div",{className:"p-5",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-100 flex items-center mb-4",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Student Profile"]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Name:"}),n.jsx("p",{className:"text-xl font-medium text-white",children:g.studentInfo.name||"Unnamed Student"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Wallet Address:"}),n.jsx("p",{className:"text-sm font-mono text-gray-300",children:C(g.studentAddress)})]})]}),n.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col items-start md:items-end",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${g.studentInfo.isRegistered?"bg-green-400":"bg-red-400"} mr-2`}),n.jsx("span",{className:`text-sm ${g.studentInfo.isRegistered?"text-green-400":"text-red-400"}`,children:g.studentInfo.isRegistered?"Registered":"Not Registered"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Current Term: "}),n.jsx("span",{className:"text-md text-white font-medium",children:g.studentInfo.currentTerm}),u!==g.studentInfo.currentTerm&&n.jsxs("span",{className:"text-xs text-yellow-400 ml-2",children:["(Viewing term ",u,")"]})]})]})]})]})})}),n.jsxs("div",{className:"bg-gradient-to-b from-gray-800/70 to-gray-800/20 rounded-xl shadow-lg overflow-hidden border border-gray-700",children:[n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center md:items-start",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-100 flex items-center mb-1",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Attendance Record"]}),n.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["Term ",g.term]})]}),n.jsxs("button",{onClick:()=>g.refresh(),className:"text-sm bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 py-2 px-4 rounded-lg transition-colors flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})]})}),n.jsx("div",{className:"p-6 bg-gray-700/20 backdrop-blur-sm",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("h4",{className:"text-md font-medium text-gray-300 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Term Attendance"]}),n.jsxs("div",{className:"flex items-baseline justify-center mb-4",children:[n.jsx("p",{className:"text-4xl font-bold text-white",children:g.termAttendance.toString()}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"classes"})]}),Number(g.termAttendance)===0&&n.jsx("p",{className:"text-xs text-red-400 text-center mb-2",children:"No attendance recorded for this term"}),n.jsx("div",{className:"mt-2 h-3 bg-gray-700 rounded-full overflow-hidden shadow-inner",children:n.jsx(X.div,{initial:{width:0},animate:{width:`${Math.min(Number(g.termAttendance)*5,100)}%`},transition:{duration:1,ease:"easeOut"},className:BO(Number(g.termAttendance))})}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:zO(Number(g.termAttendance))})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("h4",{className:"text-md font-medium text-gray-300 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Total Attendance"]}),n.jsxs("div",{className:"flex items-baseline justify-center mb-4",children:[n.jsx("p",{className:"text-4xl font-bold text-white",children:g.totalAttendance.toString()}),n.jsx("p",{className:"text-sm text-gray-400 ml-2",children:"classes"})]}),Number(g.termAttendance)>0&&Number(g.totalAttendance)>Number(g.termAttendance)&&n.jsxs("p",{className:"text-xs text-blue-400 text-center mb-2",children:[(Number(g.termAttendance)/Number(g.totalAttendance)*100).toFixed(1),"% of total in this term"]}),n.jsx("div",{className:"mt-2 h-3 bg-gray-700 rounded-full overflow-hidden shadow-inner",children:n.jsx(X.div,{initial:{width:0},animate:{width:`${Math.min(Number(g.totalAttendance)*2,100)}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-blue-500"})}),n.jsxs("div",{className:"mt-4 pt-2 border-t border-gray-700",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsx("span",{children:"Beginning"}),n.jsx("span",{children:"Career Progress"}),n.jsx("span",{children:"Advanced"})]}),n.jsx("div",{className:"mt-1 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",style:{width:`${Math.min(Number(g.totalAttendance)*2,100)}%`}})})]})]})]})})]})]}):null})]},"student-tab")})})]})};function FO(e){return e===0?"h-full bg-red-500":e<10?"h-full bg-yellow-500":e<50?"h-full bg-blue-500":"h-full bg-gradient-to-r from-green-500 to-emerald-400"}function OO(e){return e===0?0:e<10?Math.min(e*10,100):e<50?Math.min(e*2,100):100}function DO(e){return e===0?"No students enrolled":e<10?"Small student population":e<50?"Medium-sized student population":e<100?"Large student population":"Very large student population"}function $O(e){if(!e)return"";const t=Math.floor((new Date().getTime()-e.getTime())/1e3);let r=Math.floor(t/31536e3);return r>=1?r===1?"1 year ago":`${r} years ago`:(r=Math.floor(t/2592e3),r>=1?r===1?"1 month ago":`${r} months ago`:(r=Math.floor(t/86400),r>=1?r===1?"1 day ago":`${r} days ago`:(r=Math.floor(t/3600),r>=1?r===1?"1 hour ago":`${r} hours ago`:(r=Math.floor(t/60),r>=1?r===1?"1 minute ago":`${r} minutes ago`:t<10?"just now":`${Math.floor(t)} seconds ago`))))}function BO(e){return e>10?"h-full bg-gradient-to-r from-green-500 to-emerald-400":e>5?"h-full bg-blue-500":e>0?"h-full bg-yellow-500":"h-full bg-red-500"}function zO(e){return e>15?"Exceptional attendance level":e>10?"Excellent attendance level":e>5?"Good attendance level":e>0?"Minimal attendance level":"No attendance recorded"}function I3(){const[e,t]=w.useState(""),[r,s]=w.useState(0),[a,i]=w.useState(!1),{data:o,error:l,isLoading:c,isSuccess:d,refetch:u}=ke({address:wt.address,abi:wt.abi,functionName:"getCurrentProgramId",args:[]});return w.useEffect(()=>{if(o!==void 0&&d){const m=Number(o);s(m),m>0?(t(`Program #${m}`),i(!0)):(t("No active program"),i(!1))}},[o,d]),{rawProgramId:o,programIdNumber:r,programInfo:e,isValidProgram:a,isLoading:c,isSuccess:d,error:l,refetch:u}}const Ud=({onProgramIdRead:e})=>{const{rawProgramId:t,programIdNumber:r,programInfo:s,isValidProgram:a,isLoading:i,isSuccess:o,error:l,refetch:c}=I3();return w.useEffect(()=>{o&&e&&e(r)},[r,o,e]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Current Program ID"}),i&&n.jsxs("div",{className:"flex items-center justify-center py-3",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Reading contract data..."})]}),l&&n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:[n.jsxs("p",{className:"text-sm",children:["Error reading current program ID: ",l.message||"Unknown error"]}),n.jsx("button",{onClick:()=>c(),className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}),o&&t!==void 0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`p-3 rounded-md ${a?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:[n.jsx("p",{className:`text-sm font-medium ${a?"text-green-400":"text-yellow-400"}`,children:a?"Active Program Found":"No Active Program"}),n.jsx("p",{className:"text-xs text-gray-300 mt-1",children:s})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Program ID:"}),n.jsx("p",{className:"text-sm text-gray-200 mt-1",children:s}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Raw Value:"}),n.jsx("p",{className:"text-xs font-mono text-gray-300 mt-1",children:String(t)})]})]})]})},UO=({initialProgramId:e=0,onEnrollmentDataRead:t})=>{const[r,s]=w.useState(e),[a,i]=w.useState(0),[o,l]=w.useState(0),{data:c,error:d,isLoading:u,isSuccess:m,refetch:h}=ke({address:wt.address,abi:wt.abi,functionName:"getProgramEnrollmentCount",args:r>0?[r]:void 0}),{data:p,error:f,isLoading:v,isSuccess:y,refetch:g}=ke({address:wt.address,abi:wt.abi,functionName:"getProgramMaxEnrollment",args:r>0?[r]:void 0});w.useEffect(()=>{c!==void 0&&m&&i(Number(c))},[c,m]),w.useEffect(()=>{p!==void 0&&y&&l(Number(p))},[p,y]),w.useEffect(()=>{m&&y&&r>0&&t&&t(a,o,r)},[a,o,r,m,y,t]);const x=()=>o>0?Math.min(100,Math.round(a/o*100)):0,b=()=>{const P=x();return P>=100?{text:"Full",color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/30"}:P>=75?{text:"Almost Full",color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/30"}:P>=25?{text:"Filling Up",color:"text-yellow-400",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/30"}:P>0?{text:"Open",color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/30"}:{text:"No Enrollment Data",color:"text-gray-400",bgColor:"bg-gray-500/20",borderColor:"border-gray-500/30"}},N=()=>{r>0&&(h(),g())},j=P=>{s(P)},C=b(),E=x();return n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[n.jsx(Ud,{onProgramIdRead:j}),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Program Enrollment Status"}),r<=0&&n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"Please select a valid program ID to view enrollment data."})}),r>0&&(u||v)&&n.jsxs("div",{className:"flex items-center justify-center py-3",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Reading enrollment data..."})]}),r>0&&(d||f)&&n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:[n.jsxs("p",{className:"text-sm",children:["Error reading enrollment data: ",(d||f).message||"Unknown error"]}),n.jsx("button",{onClick:N,className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}),r>0&&m&&y&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`${C.bgColor} ${C.borderColor} rounded-md p-3`,children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm font-medium ${C.color}`,children:C.text}),n.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:["Program #",r]})]}),n.jsx("div",{className:"bg-gray-900/40 rounded-full px-3 py-1",children:n.jsxs("p",{className:`text-xs font-medium ${C.color}`,children:[E,"% Full"]})})]})}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Current Enrollment"}),n.jsxs("p",{className:"text-xs text-gray-300",children:[a," / ",o]})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:`h-2.5 rounded-full ${E>=100?"bg-red-500":E>=75?"bg-orange-500":E>=25?"bg-yellow-500":"bg-green-500"}`,style:{width:`${E}%`}})}),n.jsxs("div",{className:"flex justify-between mt-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Available Spots"}),n.jsxs("p",{className:"text-sm text-gray-200 mt-1",children:[Math.max(0,o-a)," remaining"]})]}),n.jsx("button",{onClick:N,className:"text-xs bg-blue-600/30 hover:bg-blue-600/40 text-blue-400 py-1 px-2 rounded",children:"Refresh"})]})]}),n.jsxs("div",{className:"bg-gray-900/40 rounded-md p-2 flex justify-between text-xs",children:[n.jsxs("div",{className:"flex flex-col text-gray-400",children:[n.jsxs("span",{children:["Current: ",String(c)]}),n.jsxs("span",{children:["Maximum: ",String(p)]})]}),n.jsx("div",{className:"text-right text-gray-400",children:n.jsxs("span",{children:["Program ID: ",r]})})]})]})]})]})},VO=({onStatusChange:e=()=>{}})=>{const[t,r]=w.useState(""),[s,a]=w.useState(!1),[i,o]=w.useState(""),[l,c]=w.useState("info"),[d,u]=w.useState(!1),{data:m,isError:h,error:p,isPending:f,refetch:v}=ke({address:wt.address,abi:wt.abi,functionName:"isProgramActive",args:t?[BigInt(t)]:void 0});w.useEffect(()=>{s&&m!==void 0&&!f&&!h&&e(t,!!m)},[s,m,f,h,t,e]),w.useEffect(()=>{h&&p&&(o(`Error checking program status: ${p.message}`),c("error"),u(!0))},[h,p]),w.useEffect(()=>{if(d){const g=setTimeout(()=>{u(!1)},5e3);return()=>clearTimeout(g)}},[d]);const y=async()=>{if(a(!1),!t||isNaN(Number(t))||Number(t)<=0){o("Please enter a valid program ID"),c("error"),u(!0);return}try{await v(),a(!0)}catch(g){console.error("Error checking program status:",g),o(`Error: ${g instanceof Error?g.message:"Unknown error"}`),c("error"),u(!0)}};return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Program Status Checker"}),n.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Check if an educational program is currently active."}),d&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:`p-3 rounded-md mb-6 ${l==="success"?"bg-green-500/20 text-green-400 border border-green-500/30":l==="error"?"bg-red-500/20 text-red-400 border border-red-500/30":l==="warning"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:n.jsx("p",{className:"text-sm",children:i})}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3 text-sm text-gray-300",children:[n.jsx("p",{className:"mb-2",children:"This utility checks whether a program is currently active in the system. Active programs are available for enrollment and participation."}),n.jsx("p",{children:"Enter the program ID (a positive integer) to check its status."})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[n.jsxs("div",{className:"space-y-2 md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Program ID"}),n.jsx("input",{type:"number",value:t,onChange:g=>r(g.target.value),className:"block w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-300 text-sm",placeholder:"Enter program ID",min:"1",step:"1"})]}),n.jsx(X.button,{onClick:y,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:f||!t,className:`py-2 px-4 rounded-md text-white font-medium shadow-lg transition-all duration-300 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 ${f||!t?"opacity-70 cursor-not-allowed":"opacity-100"}`,children:f?"Checking...":"Check Status"})]}),s&&m!==void 0&&!f&&!h&&n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:`p-4 rounded-md border ${m?"bg-green-500/20 border-green-500/30":"bg-red-500/20 border-red-500/30"}`,children:n.jsxs("div",{className:"flex items-center",children:[m?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400 mr-3",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400 mr-3",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:`font-medium ${m?"text-green-400":"text-red-400"}`,children:["Program ID: ",t]}),n.jsxs("p",{className:"text-gray-300 mt-1",children:["Status: ",m?"Active":"Inactive"]}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:m?"This program is currently active and available for operations.":"This program is inactive and not accepting new enrollments."})]})]})}),f&&n.jsxs("div",{className:"flex justify-center items-center p-4 bg-gray-800/50 rounded-md border border-gray-700",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin mr-3"}),n.jsx("p",{className:"text-gray-300",children:"Checking program status..."})]})]})]})},WO=()=>{const[e,t]=w.useState({programId:0,isActive:null,programInfo:"",enrollmentData:null,statusData:null}),[r,s]=w.useState([]),[a,i]=w.useState([]),[o,l]=w.useState(0),c=I3(),d=w.useCallback((b,N="info")=>{const j=Date.now().toString();s(C=>[{id:j,message:b,type:N},...C]),setTimeout(()=>{s(C=>C.filter(E=>E.id!==j))},5e3)},[]);w.useEffect(()=>{c.isSuccess&&c.programIdNumber>0&&(t(b=>({...b,programId:c.programIdNumber,programInfo:c.programInfo})),i(b=>b.includes(c.programIdNumber)?b:[c.programIdNumber,...b.slice(0,4)]),d(`Active program loaded: ${c.programInfo}`,"success"))},[c.isSuccess,c.programIdNumber,c.programInfo,d]);const u=w.useCallback(b=>{b>0&&t(N=>({...N,programId:b}))},[]),m=w.useCallback((b,N)=>{t(j=>({...j,isActive:N})),d(`Program #${b} status: ${N?"Active":"Inactive"}`,N?"success":"warning")},[d]),h=w.useCallback((b,N,j)=>{const C=N>0?Math.round(b/N*100):0,E={programId:j,currentEnrollment:b,maxEnrollment:N,enrollmentPercentage:C,availableSpots:Math.max(0,N-b),statusText:p(C),isFull:b>=N};t(P=>({...P,enrollmentData:E})),d(`Enrollment data loaded: ${C}% full (${b}/${N})`,"info")},[d]),p=b=>b>=100?"Full":b>=75?"Almost Full":b>=25?"Filling Up":b>0?"Open":"No Enrollment Data",f=()=>{switch(o){case 0:return n.jsx("div",{className:"flex space-x-2",children:n.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c.refetch(),className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md shadow-md transition-colors text-sm",children:"Refresh Program"})});case 1:return n.jsx("div",{className:"flex space-x-2",children:e.programId>0&&n.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{document.getElementById("program-id-input")&&(document.getElementById("program-id-input").value=e.programId.toString())},className:"bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-md shadow-md transition-colors text-sm",children:"Use Current Program"})});case 2:return null;default:return null}},v=()=>n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs(X.div,{className:`p-3 rounded-lg border ${e.programId>0?"bg-green-500/20 border-green-500/30":"bg-gray-500/20 border-gray-500/30"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:e.programId>0?"Active Program":"No Program"}),n.jsx("div",{className:`text-lg font-bold ${e.programId>0?"text-green-400":"text-gray-400"}`,children:e.programId>0?`Program #${e.programId}`:"Not Available"})]}),n.jsxs(X.div,{className:`p-3 rounded-lg border ${e.isActive===!0?"bg-green-500/20 border-green-500/30":e.isActive===!1?"bg-red-500/20 border-red-500/30":"bg-gray-500/20 border-gray-500/30"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.1},children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:"Status"}),n.jsx("div",{className:`text-lg font-bold ${e.isActive===!0?"text-green-400":e.isActive===!1?"text-red-400":"text-gray-400"}`,children:e.isActive===!0?"Active":e.isActive===!1?"Inactive":"Unknown"})]}),n.jsxs(X.div,{className:`p-3 rounded-lg border ${e.enrollmentData?e.enrollmentData.isFull?"bg-red-500/20 border-red-500/30":"bg-blue-500/20 border-blue-500/30":"bg-gray-500/20 border-gray-500/30"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:"Enrollment"}),n.jsx("div",{className:`text-lg font-bold ${e.enrollmentData?e.enrollmentData.isFull?"text-red-400":"text-blue-400":"text-gray-400"}`,children:e.enrollmentData?`${e.enrollmentData.enrollmentPercentage}% Full`:"No Data"})]})]}),y=()=>a.length===0?null:n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Recent Programs"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(b=>n.jsxs("button",{onClick:()=>u(b),className:`py-1 px-3 rounded-full text-xs ${e.programId===b?"bg-blue-500/30 text-blue-400 border border-blue-500/30":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Program #",b]},b))})]}),g=()=>n.jsx("div",{className:"fixed bottom-6 right-6 z-50 space-y-2 max-w-md",children:n.jsx(ft,{children:r.map(b=>n.jsxs(X.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`px-4 py-3 rounded-lg shadow-lg ${b.type==="success"?"bg-green-500 text-white":b.type==="error"?"bg-red-500 text-white":b.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"} flex items-center justify-between`,children:[n.jsx("p",{children:b.message}),n.jsx("button",{onClick:()=>s(N=>N.filter(j=>j.id!==b.id)),className:"ml-3 text-white opacity-70 hover:opacity-100",children:""})]},b.id))})}),x=b=>{switch(b){case 0:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ud,{onProgramIdRead:u}),e.programId>0&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2",children:"Program Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[n.jsx("div",{className:"text-gray-400",children:"Program ID:"}),n.jsx("div",{className:"text-gray-200",children:e.programId}),n.jsx("div",{className:"text-gray-400",children:"Status:"}),n.jsx("div",{className:e.isActive===!0?"text-green-400":e.isActive===!1?"text-red-400":"text-gray-400",children:e.isActive===!0?"Active":e.isActive===!1?"Inactive":"Unknown"}),n.jsx("div",{className:"text-gray-400",children:"Enrollment:"}),n.jsx("div",{className:"text-gray-200",children:e.enrollmentData?`${e.enrollmentData.currentEnrollment}/${e.enrollmentData.maxEnrollment}`:"Unknown"}),n.jsx("div",{className:"text-gray-400",children:"Availability:"}),n.jsx("div",{className:"text-gray-200",children:e.enrollmentData?e.enrollmentData.isFull?"No available spots":`${e.enrollmentData.availableSpots} spots available`:"Unknown"})]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>l(1),className:"text-xs py-1 px-3 bg-blue-600/30 hover:bg-blue-600/40 text-blue-400 rounded",children:"Check Status"}),n.jsx("button",{onClick:()=>l(2),className:"text-xs py-1 px-3 bg-purple-600/30 hover:bg-purple-600/40 text-purple-400 rounded",children:"View Enrollment"})]})]})]})]}),e.enrollmentData&&n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-4",children:"Enrollment Visualization"}),n.jsxs("div",{className:"relative pt-1",children:[n.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[n.jsx("div",{children:n.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-400 bg-blue-200/10",children:e.enrollmentData.statusText})}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-400",children:[e.enrollmentData.enrollmentPercentage,"%"]})})]}),n.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-700",children:n.jsx(X.div,{style:{width:`${e.enrollmentData.enrollmentPercentage}%`},initial:{width:0},animate:{width:`${e.enrollmentData.enrollmentPercentage}%`},transition:{duration:1,ease:"easeOut"},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${e.enrollmentData.enrollmentPercentage>=90?"bg-red-500":e.enrollmentData.enrollmentPercentage>=70?"bg-orange-500":e.enrollmentData.enrollmentPercentage>=50?"bg-yellow-500":"bg-green-500"}`})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 text-center",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.enrollmentData.currentEnrollment}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Current Enrollment"})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:e.enrollmentData.maxEnrollment}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Maximum Capacity"})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:e.enrollmentData.availableSpots}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Available Spots"})]})]})]})]});case 1:return n.jsx(VO,{onStatusChange:m});case 2:return n.jsx(UO,{initialProgramId:e.programId,onEnrollmentDataRead:h});default:return null}};return n.jsx("div",{className:"min-h-screen bg-gray-950 text-white p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("header",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-indigo-400 bg-clip-text text-transparent",children:"Program Management"}),n.jsx(f,{})]}),n.jsx(v,{}),n.jsx(y,{}),n.jsx("div",{className:"border-b border-gray-800",children:n.jsx("div",{className:"flex space-x-1",children:["Overview","Program Status","Enrollment"].map((b,N)=>n.jsx("button",{className:`px-4 py-3 flex items-center space-x-2 ${o===N?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"} transition-colors`,onClick:()=>l(N),children:n.jsx("span",{children:b})},b))})})]}),n.jsx("main",{children:n.jsx(ft,{mode:"wait",children:n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:x(o)},o)})}),n.jsx(g,{})]})})},HO=({onAttendanceRecorded:e,onReputationUpdated:t,externalAttendanceRecords:r=[],externalReputationRecords:s=[]})=>{const[a,i]=w.useState("attendance"),[o,l]=w.useState(""),[c,d]=w.useState(""),[u,m]=w.useState(!0),[h,p]=w.useState("0"),[f,v]=w.useState("0"),[y,g]=w.useState("0"),[x,b]=w.useState({}),[N,j]=w.useState(!1),[C,E]=w.useState(""),[P,L]=w.useState("info"),[_,O]=w.useState(!1),[W,H]=w.useState("form"),{data:Z,isPending:ee,writeContract:I,error:A,reset:T}=zt(),{isLoading:$,isSuccess:D,error:R}=on({hash:Z}),[F,Y]=w.useState(r),[te,me]=w.useState(s);w.useEffect(()=>{r&&Y(r),s&&me(s)},[r,s]);const le=se=>/^0x[a-fA-F0-9]{40}$/.test(se),ce=se=>/^[1-9]\d*$/.test(se),K=se=>/^\d+$/.test(se),q=se=>{l(se),!le(se)&&se!==""?b(de=>({...de,studentAddress:"Please enter a valid Ethereum address"})):b(de=>{const je={...de};return delete je.studentAddress,je})},re=se=>{d(se),!ce(se)&&se!==""?b(de=>({...de,programId:"Please enter a valid program ID (positive integer)"})):b(de=>{const je={...de};return delete je.programId,je})},ne=(se,de,je)=>{de(se),!K(se)&&se!==""?b(Le=>({...Le,[je]:"Please enter a valid non-negative integer"})):b(Le=>{const pe={...Le};return delete pe[je],pe})};w.useEffect(()=>{if(a==="attendance"){const se=o.trim()!==""&&le(o),de=c.trim()!==""&&ce(c),je=Object.keys(x).length===0;j(se&&de&&je)}else{const se=o.trim()!==""&&le(o),de=K(h),je=K(f),Le=K(y),pe=Object.keys(x).length===0;j(se&&de&&je&&Le&&pe)}},[a,o,c,h,f,y,x,u]);const z=w.useCallback(()=>{l(""),d(""),m(!0),p("0"),v("0"),g("0"),H("form"),T==null||T()},[T]);w.useEffect(()=>{if(D&&Z){if(a==="attendance"){const se={student:o,programId:c,present:u,timestamp:Date.now()};Y(de=>[se,...de]),e&&e(se,Z),E("Attendance record successfully submitted!")}else{const se={student:o,attendancePoints:h,behaviorPoints:f,academicPoints:y,timestamp:Date.now()};me(de=>[se,...de]),t&&t(se,Z),E("Student reputation updated successfully!")}L("success"),O(!0),H("completed")}},[D,Z,a,o,c,u,h,f,y,e,t]),w.useEffect(()=>{if(A||R){const se=(A==null?void 0:A.message)||(R==null?void 0:R.message)||"An unknown error occurred";E(`Transaction failed: ${se}`),L("error"),O(!0),H("form")}},[A,R]),w.useEffect(()=>{if(_){const se=setTimeout(()=>{O(!1)},5e3);return()=>clearTimeout(se)}},[_]);const U=async()=>{if(!N){E("Please fix form errors before submitting"),L("error"),O(!0);return}try{T==null||T(),H("submitting"),E(a==="attendance"?"Submitting attendance record...":"Submitting reputation update..."),L("info"),O(!0),I(a==="attendance"?{address:_e.address,abi:_e.abi,functionName:"recordAttendance",args:[o,BigInt(c),u]}:{address:_e.address,abi:_e.abi,functionName:"updateStudentReputation",args:[o,BigInt(h),BigInt(f),BigInt(y)]})}catch(se){console.error("Error submitting transaction:",se),E(`Error: ${se instanceof Error?se.message:"Unknown error"}`),L("error"),O(!0),H("form")}},J=se=>new Date(se).toLocaleString(),ie=se=>se?`${se.substring(0,6)}...${se.substring(se.length-4)}`:"",oe=()=>{z()},ue=()=>_&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`p-4 rounded-md mb-6 ${P==="success"?"bg-green-500/20 text-green-400 border border-green-500/30":P==="error"?"bg-red-500/20 text-red-400 border border-red-500/30":P==="warning"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:n.jsxs("div",{className:"flex",children:[P==="success"&&n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),P==="error"&&n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),P==="warning"&&n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),P==="info"&&n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:C}),Z&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-700",children:[n.jsx("p",{className:"text-xs mb-1",children:"Transaction Hash:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("p",{className:"text-xs font-mono truncate",children:Z}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Z),E("Transaction hash copied to clipboard!"),L("success")},className:"ml-2 p-1 bg-gray-800 hover:bg-gray-700 rounded text-gray-300",title:"Copy to clipboard",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]})]})]})}),xe=()=>(ee||$)&&n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border border-gray-700 rounded-md bg-gray-800/50 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin mr-4"}),n.jsx("span",{className:"text-lg text-gray-100 font-medium",children:ee?"Waiting for wallet approval...":"Confirming transaction..."})]}),n.jsx("div",{className:"w-full max-w-md bg-gray-700 rounded-full h-2.5 mb-4",children:n.jsx("div",{className:`h-2.5 rounded-full ${ee?"bg-blue-400 w-1/3":"bg-purple-500 w-2/3"}`})}),n.jsx("p",{className:"text-sm text-gray-400 text-center",children:ee?"Please confirm this transaction in your wallet":"Transaction has been submitted. Waiting for blockchain confirmation..."})]}),ge=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-5 border border-gray-700",children:[n.jsxs("h3",{className:"text-lg font-medium text-blue-400 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Record Student Attendance"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"studentAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:["Student Address ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{id:"studentAddress",type:"text",value:o,onChange:se=>q(se.target.value),placeholder:"0x...",disabled:ee||$,className:`pl-10 bg-gray-800 border ${x.studentAddress?"border-red-500":"border-gray-600"} text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 disabled:opacity-60`})]}),x.studentAddress&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.studentAddress}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The blockchain address of the student to record attendance for"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"programId",className:"block text-sm font-medium text-gray-300 mb-1",children:["Program ID ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsx("input",{id:"programId",type:"text",value:c,onChange:se=>re(se.target.value),placeholder:"1",disabled:ee||$,className:`pl-10 bg-gray-800 border ${x.programId?"border-red-500":"border-gray-600"} text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 disabled:opacity-60`})]}),x.programId&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.programId}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The ID of the educational program to record attendance for"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Attendance Status"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:`flex items-center justify-center p-4 rounded-lg cursor-pointer transition-colors ${u?"bg-green-900/30 border-2 border-green-500/50 text-green-400":"bg-gray-800/50 border border-gray-600 text-gray-400 hover:bg-gray-800"}`,onClick:()=>!ee&&!$&&m(!0),children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"font-medium",children:"Present"})]}),n.jsxs("div",{className:`flex items-center justify-center p-4 rounded-lg cursor-pointer transition-colors ${u?"bg-gray-800/50 border border-gray-600 text-gray-400 hover:bg-gray-800":"bg-red-900/30 border-2 border-red-500/50 text-red-400"}`,onClick:()=>!ee&&!$&&m(!1),children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"font-medium",children:"Absent"})]})]})]})]})]}),n.jsx(X.button,{onClick:U,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!N||ee||$,className:`w-full py-3 px-4 rounded-md text-white font-medium shadow-lg transition-all duration-300 ${N?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"bg-gray-700 cursor-not-allowed"} ${ee||$?"opacity-70":"opacity-100"}`,children:"Record Attendance"}),F.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 text-blue-400 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recent Attendance Records"]}),n.jsx("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Student"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Program ID"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Timestamp"})]})}),n.jsx("tbody",{className:"bg-gray-800/30 divide-y divide-gray-700",children:F.map((se,de)=>n.jsxs("tr",{className:de===0?"bg-blue-900/20":"",children:[n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-mono text-gray-300",children:ie(se.student)}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-300",children:se.programId}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${se.present?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:se.present?"Present":"Absent"})}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-300",children:J(se.timestamp)})]},de))})]})})})]})]}),ve=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-5 border border-gray-700",children:[n.jsxs("h3",{className:"text-lg font-medium text-blue-400 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Update Student Reputation"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"reputationStudentAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:["Student Address ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{id:"reputationStudentAddress",type:"text",value:o,onChange:se=>q(se.target.value),placeholder:"0x...",disabled:ee||$,className:`pl-10 bg-gray-800 border ${x.studentAddress?"border-red-500":"border-gray-600"} text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 disabled:opacity-60`})]}),x.studentAddress&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.studentAddress}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The blockchain address of the student to update reputation for"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("h4",{className:"text-md font-medium text-blue-400 mb-4",children:"Reputation Points"}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{htmlFor:"attendancePoints",className:"block text-sm font-medium text-gray-300 mb-1",children:"Attendance Points"}),n.jsx("div",{className:"bg-blue-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:"text-sm font-medium text-blue-400",children:h})})]}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsx("input",{id:"attendancePoints",type:"range",min:"0",max:"100",value:h,onChange:se=>ne(se.target.value,p,"attendancePoints"),disabled:ee||$,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-60",style:{accentColor:"#3b82f6",background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${h}%, #374151 ${h}%, #374151 100%)`}})]}),x.attendancePoints&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.attendancePoints}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Points for student attendance and participation"})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{htmlFor:"behaviorPoints",className:"block text-sm font-medium text-gray-300 mb-1",children:"Behavior Points"}),n.jsx("div",{className:"bg-purple-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:"text-sm font-medium text-purple-400",children:f})})]}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("input",{id:"behaviorPoints",type:"range",min:"0",max:"100",value:f,onChange:se=>ne(se.target.value,v,"behaviorPoints"),disabled:ee||$,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-60",style:{accentColor:"#a855f7",background:`linear-gradient(to right, #a855f7 0%, #a855f7 ${f}%, #374151 ${f}%, #374151 100%)`}})]}),x.behaviorPoints&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.behaviorPoints}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Points for student behavior and conduct"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{htmlFor:"academicPoints",className:"block text-sm font-medium text-gray-300 mb-1",children:"Academic Points"}),n.jsx("div",{className:"bg-green-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:"text-sm font-medium text-green-400",children:y})})]}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),n.jsx("input",{id:"academicPoints",type:"range",min:"0",max:"100",value:y,onChange:se=>ne(se.target.value,g,"academicPoints"),disabled:ee||$,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-60",style:{accentColor:"#22c55e",background:`linear-gradient(to right, #22c55e 0%, #22c55e ${y}%, #374151 ${y}%, #374151 100%)`}})]}),x.academicPoints&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:x.academicPoints}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Points for student academic performance"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-800/30 p-5 rounded-lg border border-gray-700",children:[n.jsxs("h3",{className:"text-md font-medium text-blue-400 mb-4 flex items-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),"Reputation Summary"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-blue-800/50",children:[n.jsx("span",{className:"text-blue-400 text-xs mb-1",children:"Attendance"}),n.jsx("span",{className:"text-2xl font-bold text-blue-400",children:h})]}),n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-purple-800/50",children:[n.jsx("span",{className:"text-purple-400 text-xs mb-1",children:"Behavior"}),n.jsx("span",{className:"text-2xl font-bold text-purple-400",children:f})]}),n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-green-800/50",children:[n.jsx("span",{className:"text-green-400 text-xs mb-1",children:"Academic"}),n.jsx("span",{className:"text-2xl font-bold text-green-400",children:y})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Total Reputation Points"}),n.jsx("span",{className:"text-xl font-semibold bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 bg-clip-text text-transparent",children:Number(h)+Number(f)+Number(y)})]}),n.jsx("div",{className:"h-4 bg-gray-700 rounded-full mt-2 overflow-hidden",children:n.jsxs("div",{className:"h-full flex",children:[n.jsx("div",{className:"bg-blue-500 h-full",style:{width:`${Number(h)/(Number(h)+Number(f)+Number(y))*100}%`}}),n.jsx("div",{className:"bg-purple-500 h-full",style:{width:`${Number(f)/(Number(h)+Number(f)+Number(y))*100}%`}}),n.jsx("div",{className:"bg-green-500 h-full",style:{width:`${Number(y)/(Number(h)+Number(f)+Number(y))*100}%`}})]})}),n.jsxs("div",{className:"flex justify-between mt-1",children:[n.jsx("span",{className:"text-xs text-blue-400",children:"Attendance"}),n.jsx("span",{className:"text-xs text-purple-400",children:"Behavior"}),n.jsx("span",{className:"text-xs text-green-400",children:"Academic"})]})]})]}),n.jsx(X.button,{onClick:U,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!N||ee||$,className:`w-full py-3 px-4 rounded-md text-white font-medium shadow-lg transition-all duration-300 ${N?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"bg-gray-700 cursor-not-allowed"} ${ee||$?"opacity-70":"opacity-100"}`,children:"Update Student Reputation"}),te.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h3",{className:"text-lg font-medium mb-4 text-blue-400 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recent Reputation Updates"]}),n.jsx("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Student"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-blue-400 uppercase tracking-wider",children:"Attend."}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-purple-400 uppercase tracking-wider",children:"Behavior"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-green-400 uppercase tracking-wider",children:"Academic"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),n.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Timestamp"})]})}),n.jsx("tbody",{className:"bg-gray-800/30 divide-y divide-gray-700",children:te.map((se,de)=>n.jsxs("tr",{className:de===0?"bg-blue-900/20":"",children:[n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-mono text-gray-300",children:ie(se.student)}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-blue-400 font-medium",children:se.attendancePoints}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-purple-400 font-medium",children:se.behaviorPoints}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-green-400 font-medium",children:se.academicPoints}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-white",children:Number(se.attendancePoints)+Number(se.behaviorPoints)+Number(se.academicPoints)}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-300",children:J(se.timestamp)})]},de))})]})})})]})]}),Ce=()=>{var se,de,je,Le,pe,M,S,k,B,G,V,ae,we;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-900/30 border border-green-700/50 rounded-md p-6 text-center",children:[n.jsx(X.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("h3",{className:"text-xl font-semibold text-green-400",children:a==="attendance"?"Attendance Recorded Successfully":"Reputation Updated Successfully"}),n.jsx("p",{className:"text-gray-300 mt-2",children:a==="attendance"?"The attendance record has been successfully submitted to the blockchain.":"The student reputation has been successfully updated on the blockchain."})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-2",children:"Transaction Details"}),n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Transaction Hash"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"font-mono text-xs bg-gray-800 p-2 rounded-md text-gray-300 overflow-x-auto max-w-full flex-1 break-all",children:Z}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Z||""),E("Transaction hash copied to clipboard!"),L("success"),O(!0)},className:"ml-2 p-2 bg-gray-700 hover:bg-gray-600 rounded-md text-gray-300",title:"Copy to clipboard",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]})]}),a==="attendance"&&F.length>0&&n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-3",children:"Attendance Record Summary"}),n.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("dt",{className:"text-gray-400",children:"Student Address"}),n.jsx("dd",{className:"font-mono text-gray-300 break-all",children:(se=F[0])==null?void 0:se.student})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-gray-400",children:"Program ID"}),n.jsx("dd",{className:"text-gray-300",children:(de=F[0])==null?void 0:de.programId})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-gray-400",children:"Attendance Status"}),n.jsxs("dd",{className:"text-gray-300 flex items-center",children:[n.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${(je=F[0])!=null&&je.present?"bg-green-500":"bg-red-500"}`}),(Le=F[0])!=null&&Le.present?"Present":"Absent"]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("dt",{className:"text-gray-400",children:"Timestamp"}),n.jsx("dd",{className:"text-gray-300",children:J(((pe=F[0])==null?void 0:pe.timestamp)||Date.now())})]})]})]}),a==="reputation"&&te.length>0&&n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-3",children:"Reputation Update Summary"}),n.jsxs("dl",{className:"grid grid-cols-1 gap-y-2 text-sm mb-4",children:[n.jsxs("div",{children:[n.jsx("dt",{className:"text-gray-400",children:"Student Address"}),n.jsx("dd",{className:"font-mono text-gray-300 break-all",children:(M=te[0])==null?void 0:M.student})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-gray-400",children:"Timestamp"}),n.jsx("dd",{className:"text-gray-300",children:J(((S=te[0])==null?void 0:S.timestamp)||Date.now())})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-blue-800/50",children:[n.jsx("span",{className:"text-blue-400 text-xs mb-1",children:"Attendance"}),n.jsx("span",{className:"text-2xl font-bold text-blue-400",children:(k=te[0])==null?void 0:k.attendancePoints})]}),n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-purple-800/50",children:[n.jsx("span",{className:"text-purple-400 text-xs mb-1",children:"Behavior"}),n.jsx("span",{className:"text-2xl font-bold text-purple-400",children:(B=te[0])==null?void 0:B.behaviorPoints})]}),n.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-800/50 rounded-lg border border-green-800/50",children:[n.jsx("span",{className:"text-green-400 text-xs mb-1",children:"Academic"}),n.jsx("span",{className:"text-2xl font-bold text-green-400",children:(G=te[0])==null?void 0:G.academicPoints})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Total Reputation"}),n.jsx("span",{className:"text-xl font-semibold bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 bg-clip-text text-transparent",children:Number((V=te[0])==null?void 0:V.attendancePoints)+Number((ae=te[0])==null?void 0:ae.behaviorPoints)+Number((we=te[0])==null?void 0:we.academicPoints)})]})})]}),n.jsx("div",{className:"flex space-x-3",children:n.jsx(X.button,{onClick:oe,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium rounded-md shadow-lg transition-all duration-300",children:a==="attendance"?"Record Another Attendance":"Update Another Student"})})]})};return n.jsx("div",{className:"mx-auto max-w-5xl",children:n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-purple-900 p-6 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Management System"}),n.jsx("p",{className:"text-blue-100 mt-1",children:"Record attendance and manage student reputation on the blockchain"})]})]}),n.jsxs("div",{className:"flex border-b border-gray-700",children:[n.jsx("button",{onClick:()=>i("attendance"),className:`flex-1 py-4 px-4 text-center transition-all ${a==="attendance"?"text-blue-400 border-b-2 border-blue-500 font-medium":"text-gray-400 hover:text-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Attendance Recorder"]})}),n.jsx("button",{onClick:()=>i("reputation"),className:`flex-1 py-4 px-4 text-center transition-all ${a==="reputation"?"text-purple-400 border-b-2 border-purple-500 font-medium":"text-gray-400 hover:text-gray-300"}`,children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Reputation Manager"]})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx(ue,{}),n.jsx(xe,{}),n.jsx(ft,{mode:"wait",children:W==="form"?n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:a==="attendance"?n.jsx(ge,{}):n.jsx(ve,{})},"form"):W==="completed"?n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:n.jsx(Ce,{})},"completed"):null})]})]})})},Un={isValidAddress:e=>/^0x[a-fA-F0-9]{40}$/.test(e),validatePoints:e=>{const t=parseInt(e,10);return!isNaN(t)&&t>=0&&t<=100},calculateTotalPoints:e=>parseInt(e.attendancePoints||"0",10)+parseInt(e.behaviorPoints||"0",10)+parseInt(e.academicPoints||"0",10),formatAddress:e=>!e||e.length<10?e:`${e.substring(0,6)}...${e.substring(e.length-4)}`,getPointsColor:e=>{const t=parseInt(e,10);return t>=80?"text-green-400":t>=60?"text-blue-400":t>=40?"text-yellow-400":t>=20?"text-orange-400":"text-red-400"},getPointsGradient:e=>{const t=parseInt(e,10);return t>=80?"from-green-500 to-emerald-400":t>=60?"from-blue-500 to-cyan-400":t>=40?"from-yellow-500 to-amber-400":t>=20?"from-orange-500 to-amber-400":"from-red-500 to-pink-400"}},GO=({reputationContract:e,roleContract:t,schoolContract:r,studentAddress:s="",onPointsChange:a,onValidationChange:i,onStatusChange:o,onUpdateSuccess:l})=>{const{address:c}=Ge(),[d,u]=w.useState(s),[m,h]=w.useState("0"),[p,f]=w.useState("0"),[v,y]=w.useState("0"),[g,x]=w.useState(""),[b,N]=w.useState(!1),{data:j,isLoading:C,refetch:E}=Oc({contracts:[{...e,functionName:"paused"},{...t,functionName:"hasRole",args:[t.teacherRole,c]},{...r,functionName:"isActiveSchool",args:[c]},{...r,functionName:"isStudentOfSchool",args:[d&&Un.isValidAddress(d)?d:"0x0000000000000000000000000000000000000000",c]}],query:{enabled:!!c&&!!d&&Un.isValidAddress(d)}}),{data:P,error:L,isPending:_,writeContract:O,reset:W}=zt(),{isLoading:H,isSuccess:Z}=on({hash:P}),ee=d?Un.isValidAddress(d):!1;w.useEffect(()=>{s&&u(s)},[s]),w.useEffect(()=>{d&&Un.isValidAddress(d)&&E()},[d,E]),w.useEffect(()=>{a&&a({attendancePoints:m,behaviorPoints:p,academicPoints:v})},[m,p,v,a]),w.useEffect(()=>{if(i){const te={isValid:!g,errorMessage:g};if(j&&j.length===4){const[me,le,ce,K]=j.map(q=>q.result);te.isPaused=me,te.hasTeacherRole=le,te.isSchoolActive=ce,te.isStudentOfSchool=K}i(te)}},[g,j,i]),w.useEffect(()=>{o&&o({isLoading:C,isPending:_,isConfirming:H,isSuccess:Z,error:L||null})},[C,_,H,Z,L,o]),w.useEffect(()=>{Z&&l&&l(d,{attendancePoints:m,behaviorPoints:p,academicPoints:v})},[Z,d,m,p,v,l]);const I=te=>{const me=parseInt(te,10);return isNaN(me)||me<0||me>100?(x("Points must be a number between 0 and 100"),!1):!0},A=()=>{if(x(""),!d){x("Student address is required");return}if(!Un.isValidAddress(d)){x("Invalid Ethereum address format");return}if(!I(m)||!I(p)||!I(v))return;if(!j||j.length!==4){x("Unable to perform all required checks");return}const[te,me,le,ce]=j.map(K=>K.result);if(te){x("System is currently paused");return}if(!me){x("Caller must have teacher role");return}if(!le){x("School is not active");return}if(!ce){x("Student is not enrolled in this school");return}W(),O({...e,functionName:"updateReputation",args:[d,BigInt(m),BigInt(p),BigInt(v)]})},T=()=>{h("0"),f("0"),y("0"),W()},$=Un.calculateTotalPoints({attendancePoints:m,behaviorPoints:p,academicPoints:v}),D=$>0?parseInt(m,10)/300*100:0,R=$>0?parseInt(p,10)/300*100:0,F=$>0?parseInt(v,10)/300*100:0,Y=j&&j.length===4&&!j[0].result&&j[1].result&&j[2].result&&j[3].result&&Un.isValidAddress(d);return n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 rounded-lg shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-800 to-purple-800 p-5 relative",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Student Reputation Manager"]}),n.jsx("p",{className:"text-blue-200 mt-1",children:"Update and track student performance metrics"})]})]}),n.jsxs("div",{className:"p-5",children:[n.jsxs(ft,{children:[g&&n.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-5 flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Error"}),n.jsx("p",{className:"text-sm mt-1",children:g})]})]}),Z&&n.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-4 mb-5 flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Success"}),n.jsx("p",{className:"text-sm mt-1",children:"Student reputation successfully updated!"}),P&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-green-500/20",children:[n.jsx("p",{className:"text-xs mb-1",children:"Transaction Hash:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("code",{className:"text-xs font-mono bg-gray-800 p-1 rounded-md mr-2 overflow-hidden overflow-ellipsis max-w-[200px]",children:P}),n.jsx("button",{onClick:()=>navigator.clipboard.writeText(P),className:"p-1 rounded-md bg-gray-800 hover:bg-gray-700",title:"Copy to clipboard",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})]})]})]}),(_||H)&&n.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-md p-4 mb-5 flex items-center",children:[n.jsx("div",{className:"mr-3 flex-shrink-0",children:n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:_?"Waiting for wallet approval":"Confirming transaction"}),n.jsx("p",{className:"text-sm mt-1",children:_?"Please confirm this transaction in your wallet":"Your transaction has been submitted and is being processed"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[n.jsxs("div",{className:"md:col-span-3 space-y-5",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-4",children:"Student Information"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300 mb-2",children:"Student Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{id:"student-address",type:"text",value:d,onChange:te=>{u(te.target.value),x("")},placeholder:"0x...",className:`w-full pl-10 pr-3 py-2 bg-gray-700/70 border ${!ee&&d?"border-red-500":"border-gray-600"} rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:_||H})]}),!ee&&d&&n.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Invalid Ethereum address format"}),n.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Enter the blockchain address of the student"})]})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-4",children:"Reputation Points"}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Attendance Points"]}),n.jsx("div",{className:"bg-blue-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:`text-sm font-medium ${Un.getPointsColor(m)}`,children:m})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"range",min:"0",max:"100",value:m,onChange:te=>h(te.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${m}%, #374151 ${m}%, #374151 100%)`},disabled:_||H}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0"}),n.jsx("span",{children:"25"}),n.jsx("span",{children:"50"}),n.jsx("span",{children:"75"}),n.jsx("span",{children:"100"})]})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Points reflecting the student's class attendance and participation"})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Behavior Points"]}),n.jsx("div",{className:"bg-purple-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:`text-sm font-medium ${Un.getPointsColor(p)}`,children:p})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:te=>f(te.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #a855f7 0%, #a855f7 ${p}%, #374151 ${p}%, #374151 100%)`},disabled:_||H}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0"}),n.jsx("span",{children:"25"}),n.jsx("span",{children:"50"}),n.jsx("span",{children:"75"}),n.jsx("span",{children:"100"})]})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Points reflecting the student's conduct and behavior in school"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Academic Points"]}),n.jsx("div",{className:"bg-green-900/30 px-3 py-1 rounded-full",children:n.jsx("span",{className:`text-sm font-medium ${Un.getPointsColor(v)}`,children:v})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"range",min:"0",max:"100",value:v,onChange:te=>y(te.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #22c55e 0%, #22c55e ${v}%, #374151 ${v}%, #374151 100%)`},disabled:_||H}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[n.jsx("span",{children:"0"}),n.jsx("span",{children:"25"}),n.jsx("span",{children:"50"}),n.jsx("span",{children:"75"}),n.jsx("span",{children:"100"})]})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Points reflecting the student's academic performance and achievements"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:A,disabled:C||_||H||!ee,className:`flex-1 py-3 rounded-lg font-medium transition-all ${C||_||H||!ee?"bg-gray-700 cursor-not-allowed text-gray-400":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg"}`,children:C?"Checking Permissions...":_?"Updating Reputation...":H?"Confirming Transaction...":"Update Reputation"}),n.jsx("button",{type:"button",onClick:T,disabled:_||H,className:"px-4 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300 font-medium disabled:opacity-50 disabled:cursor-not-allowed",title:"Reset points to zero",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),n.jsxs("div",{className:"md:col-span-2 space-y-5",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-4",children:"Reputation Summary"}),n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{className:"inline-flex items-center justify-center rounded-full w-24 h-24 border-4 border-gray-700 bg-gray-800 mb-3",children:n.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 bg-clip-text text-transparent",children:$})}),n.jsx("p",{className:"text-sm text-gray-300",children:"Total Reputation Points"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Out of 300 possible points"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-blue-400",children:"Attendance"}),n.jsxs("span",{className:"text-blue-400",children:[m," pts"]})]}),n.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500",style:{width:`${D}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-purple-400",children:"Behavior"}),n.jsxs("span",{className:"text-purple-400",children:[p," pts"]})]}),n.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500",style:{width:`${R}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-green-400",children:"Academic"}),n.jsxs("span",{className:"text-green-400",children:[v," pts"]})]}),n.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500",style:{width:`${F}%`}})})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400",children:"Requirements"}),C&&n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"text-xs text-gray-400",children:"Checking..."})]})]}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsxs("li",{className:`flex items-center p-2 rounded ${ee?"bg-green-900/20":"bg-gray-700/30"}`,children:[ee?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:ee?"text-green-400":"text-gray-400",children:"Valid Student Address"})]}),j&&j.length===4&&n.jsxs(n.Fragment,{children:[n.jsxs("li",{className:`flex items-center p-2 rounded ${j[0].result?"bg-red-900/20":"bg-green-900/20"}`,children:[j[0].result?n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:j[0].result?"text-red-400":"text-green-400",children:"System Active (Not Paused)"})]}),n.jsxs("li",{className:`flex items-center p-2 rounded ${j[1].result?"bg-green-900/20":"bg-red-900/20"}`,children:[j[1].result?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:j[1].result?"text-green-400":"text-red-400",children:"Teacher Role"})]}),n.jsxs("li",{className:`flex items-center p-2 rounded ${j[2].result?"bg-green-900/20":"bg-red-900/20"}`,children:[j[2].result?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:j[2].result?"text-green-400":"text-red-400",children:"Active School"})]}),n.jsxs("li",{className:`flex items-center p-2 rounded ${j[3].result?"bg-green-900/20":"bg-red-900/20"}`,children:[j[3].result?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:j[3].result?"text-green-400":"text-red-400",children:"Student Enrolled in School"})]})]})]}),n.jsx("div",{className:`mt-4 p-3 rounded-lg ${Y?"bg-green-900/20 border border-green-800/30":"bg-red-900/20 border border-red-800/30"}`,children:n.jsx("div",{className:"flex items-center",children:Y?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm font-medium text-green-400",children:"All requirements met"})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm font-medium text-red-400",children:"Some requirements not met"})]})})})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg overflow-hidden border border-gray-700",children:[n.jsxs("button",{type:"button",onClick:()=>N(!b),className:"w-full p-4 text-left flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-medium text-blue-400",children:"Guidelines"}),n.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${b?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx(ft,{children:b&&n.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:n.jsx("div",{className:"px-4 pb-4",children:n.jsxs("ul",{className:"text-sm text-gray-400 space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"Only teachers can update student reputation"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"Points range from 0 to 100 for each category"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"The school must be an active institution"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"The student must be enrolled in the teacher's school"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),"The system must not be paused"]})]})})})})]})]})]})]})]})},qO=({onCheckComplete:e})=>{const{address:t}=Ge(),[r,s]=w.useState(""),[a,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(""),[u,m]=w.useState(!0),[h,p]=w.useState(!1);w.useEffect(()=>{console.log("TeacherRoleChecker state:",{accountToCheck:r,lastChecked:a,isFormValid:o,errorMessage:c,isCheckingConnectedAccount:u,showHistory:h})},[r,a,o,c,u,h]);const[f,v]=w.useState([]);w.useEffect(()=>{t&&r===""&&s(t)},[t,r]),w.useEffect(()=>{const P=/^0x[a-fA-F0-9]{40}$/.test(r);l(P),m(!!(t&&r===t))},[r,t]);const{data:y,isLoading:g,isError:x,refetch:b,error:N}=ke({abi:Od.abi,address:Od.address,functionName:"hasTeacherRole",args:o?[r]:void 0,query:{enabled:o}}),j=()=>a?Zt(a,{addSuffix:!0}):"Never checked",C=()=>{if(!o){d("Please enter a valid Ethereum address");return}d(""),b().then(P=>{if(i(new Date),P.data!==void 0){const L=[{address:r,hasRole:P.data,timestamp:new Date},...f].slice(0,5);v(L),e&&e(P.data,r)}}).catch(P=>{console.error("Error checking role:",P),d("Error checking teacher role: "+P.message)})},E=P=>{s(P)};return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"Teacher Role Checker"}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"accountToCheck",className:"block text-sm font-medium text-gray-300 mb-1",children:"Account Address"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"accountToCheck",type:"text",value:r,onChange:P=>s(P.target.value),placeholder:"0x...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),t&&n.jsx("button",{onClick:()=>s(t),className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-xs text-gray-300 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500",title:"Use my connected wallet address",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the Ethereum address to check for teacher role privileges"})]}),c&&n.jsx("div",{className:"w-full bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:c}),n.jsx("button",{onClick:C,disabled:!o||g,className:`w-full px-4 py-3 rounded-md text-white font-medium flex items-center justify-center mb-4 ${!o||g?"bg-gray-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500"}`,children:g?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking Teacher Role..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Check Teacher Role"]})}),o&&y!==void 0&&!x&&n.jsxs("div",{className:`w-full rounded-lg p-4 flex items-center justify-between ${y?"bg-blue-900/20 border border-blue-700/30":"bg-red-900/20 border border-red-700/30"}`,children:[n.jsx("div",{className:"flex items-center",children:y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-blue-400",children:"Teacher Role Granted"}),n.jsxs("p",{className:"text-xs text-gray-300 mt-0.5",children:[r.substring(0,6),"...",r.substring(r.length-4)," has teacher privileges"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-red-400",children:"No Teacher Role"}),n.jsxs("p",{className:"text-xs text-gray-300 mt-0.5",children:[r.substring(0,6),"...",r.substring(r.length-4)," does not have teacher privileges"]})]})]})}),n.jsx("div",{children:n.jsxs("p",{className:"text-xs text-gray-400",children:["Last checked ",j()]})})]}),x&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Role Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:N?N.message:"An error occurred while checking the teacher role. Please try again."})]})]})})]}),f.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Recent Checks"}),n.jsxs("button",{onClick:()=>p(!h),className:"text-xs text-amber-400 hover:text-amber-300 flex items-center focus:outline-none",children:[h?"Hide History":"Show History",n.jsx("svg",{className:`ml-1 w-4 h-4 transition-transform ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),h&&n.jsx("div",{className:"bg-gray-700/20 rounded-lg p-2 mt-2",children:n.jsx("ul",{className:"divide-y divide-gray-700",children:f.map((P,L)=>n.jsx("li",{className:"py-2 first:pt-0 last:pb-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${P.hasRole?"bg-blue-500":"bg-red-500"} mr-2`}),n.jsxs("button",{onClick:()=>E(P.address),className:"text-blue-400 hover:text-blue-300 font-mono text-xs hover:underline",children:[P.address.substring(0,10),"...",P.address.substring(P.address.length-8)]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`text-xs ${P.hasRole?"text-blue-400":"text-red-400"} mr-3`,children:P.hasRole?"Teacher":"Not Teacher"}),n.jsx("span",{className:"text-xs text-gray-400",children:Zt(P.timestamp,{addSuffix:!0})})]})]})},L))})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About Teacher Role"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"The Teacher Role Checker allows you to verify if a specific Ethereum address has been granted teacher privileges in the system."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Teacher Privileges"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Teachers have the ability to create and manage educational content, oversee student enrollments, administer assessments, and issue credentials within their assigned courses and programs."})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Role Assignment"}),n.jsx("p",{className:"text-xs text-gray-400",children:"The teacher role is typically assigned by school administrators and can be associated with specific educational institutions or programs within the platform."})]})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mb-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Teacher Capabilities"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Teachers on the platform can typically perform these functions:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Content Creation:"})," Develop and publish educational materials and courses"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Student Management:"})," Review and approve student enrollments and track progress"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Assessment:"})," Create and grade assignments, quizzes, and exams"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Certification:"})," Issue digital credentials and certificates of completion"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-400 mr-2",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Revenue:"})," Receive compensation based on platform's revenue sharing model"]})]})]})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"The teacher role check verifies permissions against the blockchain's current state. If an address recently gained or lost teacher privileges, those changes will be reflected in the check results."})]})]})},KO=()=>{var R;const{address:e,isConnected:t}=Ge(),[r,s]=w.useState("overview"),[a,i]=w.useState([]),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[u,m]=w.useState(!1),[h,p]=w.useState(""),[f,v]=w.useState(0),[y,g]=w.useState([]),[x,b]=w.useState({}),[N,j]=w.useState(!0),C=w.useRef(null);w.useEffect(()=>{console.log("Selected Program:",f)},[f]),w.useEffect(()=>{const F=()=>{d(window.innerWidth<768),window.innerWidth<1024&&!o?l(!0):window.innerWidth>=1280&&o&&l(!1)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[o]),w.useEffect(()=>{const F=Y=>{u&&C.current&&!C.current.contains(Y.target)&&m(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[u]),w.useEffect(()=>{const F=setTimeout(()=>{j(!1),console.log("Dashboard loaded, active section:",r)},500);return()=>clearTimeout(F)},[r]);const E=w.useCallback((F,Y="info")=>{const me={id:Date.now().toString(),message:F,type:Y,timestamp:new Date};i(le=>[me,...le.slice(0,4)]),console.log(`Notification added: ${Y} - ${F}`),setTimeout(()=>{i(le=>le.filter(ce=>ce.id!==me.id))},5e3)},[]),P=w.useCallback(F=>{console.log("Attendance recorded:",F),E(`Attendance record for ${H(F.student)} successfully submitted!`,"success"),g(Y=>Y.some(te=>te.type==="student"&&te.address===F.student)?Y:[{type:"student",address:F.student,timestamp:new Date},...Y.slice(0,9)]),F.student.toLowerCase()===h.toLowerCase()&&console.log("Updated attendance for selected student")},[E,h]),L=w.useCallback(F=>{console.log("Reputation updated:",F),E(`Reputation for ${H(F.student)} successfully updated!`,"success"),g(Y=>Y.some(te=>te.type==="student"&&te.address===F.student)?Y:[{type:"student",address:F.student,timestamp:new Date},...Y.slice(0,9)]),F.student.toLowerCase()===h.toLowerCase()&&console.log("Updated reputation for selected student")},[E,h]),_=w.useCallback(F=>{console.error("Contract error:",F),E(`Transaction failed: ${F.message||"Unknown error"}`,"error")},[E]),O=w.useCallback(F=>{console.log("Student selected:",F),p(F),F&&F.length>10&&g(Y=>Y.some(te=>te.type==="student"&&te.address===F)?Y:[{type:"student",address:F,timestamp:new Date},...Y.slice(0,9)])},[]),W=w.useCallback(F=>{console.log("Program selected:",F),v(F),F>0&&g(Y=>Y.some(te=>te.type==="program"&&te.id===F)?Y:[{type:"program",id:F,timestamp:new Date},...Y.slice(0,9)])},[]),H=F=>!F||F.length<10?F:`${F.substring(0,6)}...${F.substring(F.length-4)}`,Z=F=>F.toLocaleString(),ee=(F,Y)=>{if(x[F])return n.jsxs("div",{className:"p-4 bg-red-500/20 border border-red-500/40 rounded-lg",children:[n.jsx("h3",{className:"text-lg text-red-400 font-medium mb-2",children:"Error Loading Component"}),n.jsx("p",{className:"text-gray-300 mb-3",children:x[F]}),n.jsx("button",{onClick:()=>{b(te=>({...te,[F]:""}))},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-md transition-colors",children:"Try Again"})]});try{return Y}catch(te){return console.error(`Error rendering ${F}:`,te),b(me=>({...me,[F]:te instanceof Error?te.message:"Unknown error"})),n.jsxs("div",{className:"p-4 bg-red-500/20 border border-red-500/40 rounded-lg",children:[n.jsx("h3",{className:"text-lg text-red-400 font-medium mb-2",children:"Error Loading Component"}),n.jsx("p",{className:"text-gray-300",children:te instanceof Error?te.message:"Unknown error"})]})}},I=[{id:"overview",label:"Dashboard Overview",icon:"dashboard",description:"Key metrics and system status"},{id:"students",label:"Student Management",icon:"students",description:"Lookup and manage student data"},{id:"programs",label:"Program Management",icon:"programs",description:"View and manage educational programs"},{id:"attendance",label:"Attendance Tracking",icon:"attendance",description:"Record and track student attendance"},{id:"reputation",label:"Student Reputation",icon:"reputation",description:"Manage student performance metrics"},{id:"roles",label:"Role Management",icon:"roles",description:"Manage system permissions"}],A=F=>{switch(F){case"dashboard":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})});case"students":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})});case"programs":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})});case"attendance":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"reputation":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.562-1.562C15.802 8.249 16 9.1 16 10zm-5.165 3.913l1.58 1.58A5.98 5.98 0 0110 16a5.976 5.976 0 01-2.516-.552l1.562-1.562a4.006 4.006 0 001.789.027zm-4.677-2.796a4.002 4.002 0 01-.041-2.08l-.08.08-1.53-1.533A5.98 5.98 0 004 10c0 .954.223 1.856.619 2.657l1.54-1.54zm1.088-6.45A5.974 5.974 0 0110 4c.954 0 1.856.223 2.657.619l-1.54 1.54a4.002 4.002 0 00-2.346.033L7.246 4.668zM12 10a2 2 0 11-4 0 2 2 0 014 0z",clipRule:"evenodd"})});case"roles":return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z",clipRule:"evenodd"})});default:return null}},T=()=>{switch(r){case"overview":return ee("overview",n.jsx(Lv,{}));case"students":return ee("students",n.jsx(_O,{studentAddress:h,refreshInterval:0,studentContractView:!0}));case"programs":return ee("programs",n.jsx(WO,{}));case"attendance":return ee("attendance",n.jsx(HO,{onAttendanceRecorded:P,onReputationUpdated:L,externalAttendanceRecords:[],externalReputationRecords:[]}));case"reputation":return ee("reputation",n.jsx(GO,{reputationContract:_e,roleContract:Od,schoolContract:jt,studentAddress:h,onPointsChange:F=>{console.log("Points updated:",F)},onValidationChange:F=>{F.isValid||(console.log("Validation error:",F.errorMessage),F.errorMessage&&E(`Validation error: ${F.errorMessage}`,"warning"))},onStatusChange:F=>{F.error&&_(F.error),F.isSuccess&&E("Reputation update successful!","success")},onUpdateSuccess:(F,Y)=>{L({student:F,attendancePoints:Y.attendancePoints,behaviorPoints:Y.behaviorPoints,academicPoints:Y.academicPoints,timestamp:Date.now()})}}));case"roles":return ee("roles",n.jsx(qO,{onCheckComplete:(F,Y)=>{F?E(`Address ${H(Y)} has teacher role`,"success"):E(`Address ${H(Y)} does not have teacher role`,"warning"),g(te=>te.some(me=>me.type==="role-check"&&me.address===Y)?te:[{type:"role-check",address:Y,timestamp:new Date},...te.slice(0,9)])}}));default:return ee("default",n.jsx(Lv,{}))}},$=()=>o&&!c||y.length===0?null:n.jsxs("div",{className:"px-4 pt-4 border-t border-gray-700",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Recent Activity"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:y.slice(0,5).map((F,Y)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-gray-800/50 hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>{F.type==="student"&&F.address?(O(F.address),s("students")):F.type==="program"&&F.id?(W(F.id),s("programs")):F.type==="role-check"&&F.address&&(O(F.address),s("roles"))},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${F.type==="student"?"bg-blue-500":F.type==="program"?"bg-purple-500":"bg-amber-500"}`}),n.jsx("span",{className:"text-xs text-gray-300 truncate",children:F.type==="student"&&F.address?H(F.address):F.type==="program"&&F.id?`Program #${F.id}`:F.type==="role-check"&&F.address?`Role Check: ${H(F.address)}`:"Unknown item"})]}),n.jsx("span",{className:"text-xs text-gray-500",children:Z(F.timestamp)})]},Y))})]}),D=()=>c?n.jsx("button",{onClick:()=>m(!u),className:"md:hidden p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-800","aria-label":u?"Close menu":"Open menu",children:u?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}):null;return n.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col md:flex-row overflow-hidden",children:[n.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:D()}),n.jsxs("div",{ref:C,className:`${c?u?"fixed inset-y-0 left-0 z-40 w-64 transform translate-x-0":"fixed inset-y-0 left-0 z-40 w-64 transform -translate-x-full":o?"w-20":"w-64"} bg-gray-900 border-r border-gray-800 flex flex-col transition-all duration-300 ease-in-out`,children:[n.jsx("div",{className:"h-14 sm:h-16 flex items-center px-3 sm:px-4 border-b border-gray-800",children:o&&!c?n.jsx("div",{className:"w-full flex justify-center",children:n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-900/30 flex items-center justify-center",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})})})}):n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-indigo-400 bg-clip-text text-transparent",children:"Teacher Dashboard"}),c&&n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white p-1","aria-label":"Close menu",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsx("nav",{className:"flex-1 py-3 sm:py-4 overflow-y-auto",children:n.jsx("ul",{className:"space-y-1 px-2",children:I.map(F=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>{s(F.id),c&&m(!1)},className:`w-full flex items-center ${o?"justify-center":"justify-start"} px-2 sm:px-4 py-2 rounded-lg transition-colors ${r===F.id?"bg-gray-800 text-blue-400":"text-gray-400 hover:text-gray-300 hover:bg-gray-800/50"}`,title:o||c?`${F.label}: ${F.description}`:void 0,"aria-label":F.label,children:[n.jsx("span",{className:"flex-shrink-0",children:A(F.icon)}),(!o||c)&&n.jsx("span",{className:"ml-2 sm:ml-3 text-xs sm:text-sm font-medium truncate",children:F.label})]})},F.id))})}),n.jsx("div",{className:"hidden sm:block",children:$()}),n.jsxs("div",{className:`p-2 sm:p-4 border-t border-gray-800 ${o?"text-center":""}`,children:[n.jsxs("div",{className:`flex ${o?"flex-col items-center":"items-center"} ${!o&&"space-x-2 sm:space-x-3"}`,children:[n.jsx("div",{className:"w-7 h-7 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),!o&&n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-white truncate",children:"Teacher Account"}),n.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[120px] sm:max-w-full",children:t?H(e||""):"Not connected"})]})]}),!c&&n.jsx("button",{onClick:()=>l(!o),className:`mt-2 sm:mt-4 w-full text-xs flex items-center justify-center py-1 sm:py-2 px-2 sm:px-3 rounded-md bg-gray-800 text-gray-400 hover:text-gray-300 transition-colors ${o?"":"text-center"}`,"aria-label":o?"Expand sidebar":"Collapse sidebar",children:o?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M15 2a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-2a1 1 0 1 1 0-2h1V4h-1a1 1 0 1 1 0-2h2zm-6 0a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h6zm-1 2H4v12h4V4z",clipRule:"evenodd"})}):n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M3 2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 1 0 0-2H4V4h1a1 1 0 1 0 0-2H3zm12 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-2zm-1 2h1v12h-1V4z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-xs",children:"Collapse"})]})})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("header",{className:"h-12 sm:h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-3 sm:px-6",children:[n.jsx("h2",{className:"text-base sm:text-xl font-semibold text-gray-100 truncate ml-10 md:ml-0",children:((R=I.find(F=>F.id===r))==null?void 0:R.label)||"Dashboard"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-4",children:[n.jsx("div",{className:"relative",children:n.jsxs("button",{className:"text-gray-400 hover:text-gray-300 p-1 rounded-md hover:bg-gray-800 transition-colors","aria-label":`Notifications ${a.length>0?"("+a.length+")":""}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),a.length>0&&n.jsx("span",{className:"absolute top-0 right-0 block h-1.5 w-1.5 rounded-full bg-red-500 ring-2 ring-gray-900"})]})}),n.jsx("div",{className:"hidden sm:flex items-center px-2 sm:px-3 py-1 bg-purple-900/20 border border-purple-800/30 rounded-full",children:n.jsxs("span",{className:"text-xs font-medium text-purple-400",children:[y.length," recent items"]})}),n.jsxs("div",{className:"flex items-center px-2 py-1 bg-green-900/20 border border-green-800/30 rounded-full",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full mr-1 sm:mr-2 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"})}),n.jsx("span",{className:"text-xs font-medium text-green-400 hidden sm:inline",children:"Network connected"})]}),n.jsxs("div",{className:"flex items-center px-2 py-1 bg-gray-800 border border-gray-700 rounded-full",children:[n.jsx("div",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full mr-1 sm:mr-2 ${t?"bg-blue-500":"bg-red-500"}`}),n.jsx("span",{className:"text-xs font-medium text-gray-300 hidden sm:inline truncate max-w-[80px] sm:max-w-full",children:t?H(e||""):"Wallet not connected"})]})]})]}),n.jsx("main",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:N?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border-3 sm:border-4 border-t-blue-500 border-blue-200/20 rounded-full animate-spin mb-3 sm:mb-4"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Loading dashboard..."})]})}):n.jsx(ft,{mode:"wait",children:n.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"h-full",children:T()},r)})})]}),n.jsx("div",{className:"fixed bottom-3 sm:bottom-6 right-3 sm:right-6 z-50 space-y-2 max-w-[calc(100vw-24px)] sm:max-w-md",children:n.jsx(ft,{children:a.map(F=>n.jsxs(X.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`px-3 sm:px-4 py-2 sm:py-3 rounded-lg shadow-lg ${F.type==="success"?"bg-green-500 text-white":F.type==="error"?"bg-red-500 text-white":F.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"} flex items-center justify-between text-xs sm:text-sm`,children:[n.jsx("p",{className:"mr-2 break-words",children:F.message}),n.jsx("button",{onClick:()=>i(Y=>Y.filter(te=>te.id!==F.id)),className:"ml-1 sm:ml-3 text-white opacity-70 hover:opacity-100 flex-shrink-0","aria-label":"Dismiss notification",children:""})]},F.id))})})]})},Iv=({isActive:e})=>n.jsx("div",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${e?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:e?"Active":"Inactive"}),YO=({enrollmentPercentage:e})=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[n.jsx("span",{children:"0%"}),n.jsxs("span",{children:[e,"%"]}),n.jsx("span",{children:"100%"})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${e>=90?"bg-red-500":e>=75?"bg-orange-500":e>=50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${e}%`}})})]}),so=({contract:e=wt,defaultSchool:t,defaultProgramId:r=1,compact:s=!1,onDataChange:a,hideRevenue:i=!1,hideTracking:o=!1,hideFees:l=!1})=>{const{address:c}=Ge(),[d,u]=w.useState(i?o?"fees":"tracking":"revenue"),[m,h]=w.useState(t||c||""),[p,f]=w.useState(""),[v,y]=w.useState(!t&&!!c),[g,x]=w.useState(r),[b,N]=w.useState((r==null?void 0:r.toString())||"1"),[j,C]=w.useState(""),[E,P]=w.useState(null),[L,_]=w.useState(null),[O,W]=w.useState(null);w.useEffect(()=>{t?(h(t),y(!1)):v&&c&&h(c)},[t,c,v]),w.useEffect(()=>{r&&(x(r),N(r.toString()))},[r]);const{data:H,isLoading:Z,isError:ee,refetch:I}=ke({address:e.address,abi:e.abi,functionName:"programRevenue",args:[m,BigInt(g)],query:{enabled:!!m&&/^0x[a-fA-F0-9]{40}$/.test(m)&&g>0}}),{data:A,isLoading:T,isError:$,refetch:D}=ke({address:e.address,abi:e.abi,functionName:"revenueTracking",args:[m],query:{enabled:!!m&&/^0x[a-fA-F0-9]{40}$/.test(m)}}),R=A,{data:F,isLoading:Y,isError:te,refetch:me}=ke({address:e.address,abi:e.abi,functionName:"defaultFeeStructure"}),le=F,ce=pe=>pe===void 0?"0 ETH":`${Mt(pe)} ETH`,K=pe=>{if(!pe||pe===BigInt(0))return"No withdrawals yet";const M=new Date(Number(pe)*1e3);return isNaN(M.getTime())?"Invalid date":`${Pv(M,"PPP")} at ${Pv(M,"pp")}`},q=pe=>{if(!pe||pe===BigInt(0))return"No withdrawals yet";const M=new Date(Number(pe)*1e3);return isNaN(M.getTime())?"Invalid date":Zt(M,{addSuffix:!0})},re=(pe,M)=>!pe||!M||M===BigInt(0)?0:Number(pe*BigInt(100)/M),ne=(pe,M=!1)=>pe===void 0?"":M?`${pe.toString()}%`:`${Mt(pe)} ETH`,z=(()=>{if(H===void 0)return"0 ETH";try{return Mt(BigInt(H.toString()))+" ETH"}catch(pe){return console.error("Error formatting revenue data:",pe),"0 ETH"}})(),U=pe=>pe?Zt(pe,{addSuffix:!0}):"Never checked",J=pe=>{f(pe.target.value),C("")},ie=pe=>{N(pe.target.value);const M=parseInt(pe.target.value);isNaN(M)||x(M),C("")},oe=pe=>pe?/^0x[a-fA-F0-9]{40}$/.test(pe)?(C(""),!0):(C("Invalid Ethereum address format"),!1):(C("School address is required"),!1),ue=pe=>isNaN(pe)||pe<=0?(C("Program ID must be a positive number"),!1):(C(""),!0),xe=pe=>{if(pe.preventDefault(),v&&c){const M=parseInt(b);if(!ue(M))return;h(c),x(M)}else{const M=parseInt(b);if(!oe(p)||!ue(M))return;h(p),x(M)}ve()},ge=()=>{t||(y(!v),!v&&c?h(c):(h(""),f("")))},ve=w.useCallback(()=>{I(),D(),me();const pe=new Date;P(pe),_(pe),W(pe)},[I,D,me]),Ce=w.useCallback(pe=>{const M=new Date;pe==="revenue"?(I(),P(M)):pe==="tracking"?(D(),_(M)):pe==="fees"&&(me(),W(M))},[I,D,me]);w.useEffect(()=>{if(a){let pe=null;R&&(pe={totalRevenue:{raw:R.totalRevenue,formatted:ce(R.totalRevenue)},platformShare:{raw:R.platformShare,formatted:ce(R.platformShare),percentage:re(R.platformShare,R.totalRevenue)},schoolShare:{raw:R.schoolShare,formatted:ce(R.schoolShare),percentage:re(R.schoolShare,R.totalRevenue)},lastWithdrawalTime:{raw:R.lastWithdrawalTime,formatted:K(R.lastWithdrawalTime),timeAgo:q(R.lastWithdrawalTime)}});let M=null;le&&(M={programCreationFee:{raw:le.programCreationFee,formatted:ne(le.programCreationFee)},subscriptionFee:{raw:le.subscriptionFee,formatted:ne(le.subscriptionFee)},certificateFee:{raw:le.certificateFee,formatted:ne(le.certificateFee)},revenueSharePercentage:{raw:le.revenueSharePercentage,formatted:ne(le.revenueSharePercentage,!0)},isCustom:le.isCustom});const k={programRevenue:{raw:H!==void 0?BigInt(H.toString()):void 0,formatted:z,programId:g,schoolAddress:m},revenueTracking:pe,feeStructure:M,loading:{programRevenue:Z,revenueTracking:T,feeStructure:Y},error:{programRevenue:ee,revenueTracking:$,feeStructure:te},lastChecked:{programRevenue:E,revenueTracking:L,feeStructure:O}};a(k)}},[H,R,le,Z,T,Y,ee,$,te,E,L,O,z,g,m,a]),w.useEffect(()=>{(t||v&&c)&&!E&&!L&&!O&&ve()},[t,c,v,E,L,O,ve]);const se=le?[{label:"Program Creation Fee",value:ne(le.programCreationFee),raw:le.programCreationFee,description:"One-time fee paid when creating a new educational program"},{label:"Subscription Fee",value:ne(le.subscriptionFee),raw:le.subscriptionFee,description:"Regular fee paid for access to platform services"},{label:"Certificate Fee",value:ne(le.certificateFee),raw:le.certificateFee,description:"Fee paid for issuing digital certificates to students"},{label:"Revenue Share Percentage",value:ne(le.revenueSharePercentage,!0),raw:le.revenueSharePercentage,description:"Percentage of program revenue shared with the platform"}]:[],de=!Z&&!ee&&E,je=!T&&!$&&R,Le=!Y&&!te&&le;return s?n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[n.jsxs("h3",{className:"text-md font-semibold mb-3 flex items-center bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 7H7v10h5v-4m0-6v4h5m-5-4v10h5V7h-5z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Financial Dashboard"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-2",children:[!i&&n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("p",{className:"text-xs text-cyan-400 font-medium",children:"Program Revenue:"}),n.jsx("button",{onClick:()=>Ce("revenue"),className:"text-xs bg-gray-600/50 hover:bg-gray-600 text-gray-300 px-1.5 py-0.5 rounded-sm transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),de?n.jsx("div",{className:"text-sm font-medium text-white",children:z}):n.jsx("div",{className:"text-xs text-gray-400",children:"No data available"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Program #",g]})]}),!o&&n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("p",{className:"text-xs text-orange-400 font-medium",children:"Revenue Tracking:"}),n.jsx("button",{onClick:()=>Ce("tracking"),className:"text-xs bg-gray-600/50 hover:bg-gray-600 text-gray-300 px-1.5 py-0.5 rounded-sm transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),je?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Total:"}),n.jsx("span",{className:"text-white ml-1",children:ce(R==null?void 0:R.totalRevenue)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"School Share:"}),n.jsx("span",{className:"text-white ml-1",children:ce(R==null?void 0:R.schoolShare)})]})]})}):n.jsx("div",{className:"text-xs text-gray-400",children:"No tracking data available"})]}),!l&&n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("p",{className:"text-xs text-indigo-400 font-medium",children:"Fee Structure:"}),n.jsx("button",{onClick:()=>Ce("fees"),className:"text-xs bg-gray-600/50 hover:bg-gray-600 text-gray-300 px-1.5 py-0.5 rounded-sm transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),Le?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Revenue Share:"}),n.jsx("div",{className:"text-sm font-medium text-white",children:ne(le==null?void 0:le.revenueSharePercentage,!0)})]}):n.jsx("div",{className:"text-xs text-gray-400",children:"No fee data available"})]})]})]}):n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-cyan-400 via-orange-400 to-indigo-400 bg-clip-text text-transparent",children:"Financial Dashboard"}),n.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ve,disabled:Z||T||Y,className:"flex items-center bg-gray-700 hover:bg-gray-600 text-gray-200 px-3 py-1.5 rounded text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[n.jsx("svg",{className:"w-3.5 h-3.5 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh All Data"]})]}),n.jsxs("form",{onSubmit:xe,className:"bg-gray-700/30 rounded-lg p-4 mb-5",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"School Address"}),!t&&c&&n.jsx("button",{type:"button",onClick:ge,className:"text-xs px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:v?"Use Custom Address":"Use Connected Address"})]}),v&&c?n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Connected Address:"}),n.jsx("div",{className:"font-mono text-sm text-white break-all",children:c})]}):n.jsx("input",{type:"text",value:p,onChange:J,placeholder:"Enter school address (0x...)",disabled:!!t,className:`w-full px-3 py-2 bg-gray-700 border ${j&&j.includes("address")?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t?"opacity-50 cursor-not-allowed":""}`})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"program-id",className:"block text-sm font-medium text-gray-300",children:"Program ID"}),n.jsx("input",{id:"program-id",type:"number",value:b,onChange:ie,placeholder:"Enter program ID",min:"1",disabled:!!r,className:`w-full px-3 py-2 bg-gray-700 border ${j&&j.includes("Program ID")?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r?"opacity-50 cursor-not-allowed":""}`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the ID of the program to check financial data"})]})]}),j&&n.jsx("div",{className:"text-xs text-red-400 mt-3 bg-red-500/10 p-2 rounded border border-red-500/30",children:j}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{type:"submit",disabled:Z||T||Y,className:"w-full px-4 py-2 rounded-md text-white font-medium bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600 hover:from-cyan-700 hover:via-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-70 transition-colors duration-300",children:Z||T||Y?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading Financial Data..."]}):"View Financial Data"})})]}),(de||je||Le)&&n.jsx("div",{className:"mb-4 border-b border-gray-700",children:n.jsxs("div",{className:"flex flex-wrap",children:[!i&&n.jsx("button",{onClick:()=>u("revenue"),className:`py-2 px-4 mr-2 text-sm font-medium transition-colors ${d==="revenue"?"text-cyan-400 border-b-2 border-cyan-400 bg-cyan-500/10":"text-gray-400 hover:text-gray-300"}`,children:"Program Revenue"}),!o&&n.jsx("button",{onClick:()=>u("tracking"),className:`py-2 px-4 mr-2 text-sm font-medium transition-colors ${d==="tracking"?"text-orange-400 border-b-2 border-orange-400 bg-orange-500/10":"text-gray-400 hover:text-gray-300"}`,children:"Revenue Tracking"}),!l&&n.jsx("button",{onClick:()=>u("fees"),className:`py-2 px-4 mr-2 text-sm font-medium transition-colors ${d==="fees"?"text-indigo-400 border-b-2 border-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-300"}`,children:"Fee Structure"})]})}),d==="revenue"&&!i&&n.jsxs("div",{className:"space-y-4",children:[Z&&n.jsx("div",{className:"flex items-center justify-center py-8 bg-gray-700/20 rounded-lg mb-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-t-cyan-400 border-cyan-200/30 rounded-full animate-spin mb-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Fetching program revenue data..."})]})}),ee&&!Z&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Revenue Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to fetch program revenue. Please verify the school address and program ID are correct."})]})]})}),de&&n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"text-sm text-center text-gray-400 mb-1",children:"Program Revenue"}),n.jsx("div",{className:"text-3xl font-bold text-cyan-400 text-center",children:z})]}),n.jsx("div",{className:"w-full mt-2 mb-4",children:n.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-cyan-500 rounded-full",style:{width:`${Math.min(100,parseFloat(z)*5)}%`,transition:"width 1s ease-in-out"}})})}),n.jsxs("div",{className:"w-full flex items-center justify-between bg-gray-700/50 rounded-md p-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"School:"}),n.jsx("p",{className:"font-mono text-sm text-gray-300 break-all",children:m})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Program ID:"}),n.jsx("p",{className:"text-sm text-gray-300 text-right",children:g})]})]}),n.jsx("div",{className:`py-1 px-3 rounded-full text-xs font-medium mb-3 ${parseFloat(z)>0?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:parseFloat(z)>0?"Revenue Available":"No Revenue Recorded"}),n.jsxs("button",{onClick:()=>Ce("revenue"),disabled:Z,className:"flex items-center text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Revenue Data"]})]})}),de&&n.jsx("div",{className:"mt-4 bg-gray-700/20 rounded-md p-3",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",U(E)]})})]}),d==="tracking"&&!o&&n.jsxs("div",{className:"space-y-4",children:[T&&n.jsx("div",{className:"flex items-center justify-center py-8 bg-gray-700/20 rounded-lg mb-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-t-orange-400 border-orange-200/30 rounded-full animate-spin mb-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Fetching revenue tracking data..."})]})}),$&&!T&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Revenue Tracking Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to fetch revenue tracking data. Please verify the school address is correct."})]})]})}),je&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Revenue Tracking for School:"}),n.jsx("div",{className:"font-mono text-sm text-white break-all",children:m})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Revenue Summary"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-sm text-center text-gray-400 mb-1",children:"Total Revenue Generated"}),n.jsx("div",{className:"text-3xl font-bold text-orange-400 text-center",children:ce(R==null?void 0:R.totalRevenue)})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Revenue Distribution"}),n.jsxs("div",{className:"h-6 bg-gray-800 rounded-md overflow-hidden flex mb-3",children:[n.jsx("div",{className:"h-full bg-orange-500 flex items-center justify-center text-xs font-semibold text-white",style:{width:`${re(R==null?void 0:R.platformShare,R==null?void 0:R.totalRevenue)}%`,transition:"width 1s ease-in-out"},children:re(R==null?void 0:R.platformShare,R==null?void 0:R.totalRevenue)>=10?`${re(R==null?void 0:R.platformShare,R==null?void 0:R.totalRevenue)}%`:""}),n.jsx("div",{className:"h-full bg-blue-500 flex items-center justify-center text-xs font-semibold text-white",style:{width:`${re(R==null?void 0:R.schoolShare,R==null?void 0:R.totalRevenue)}%`,transition:"width 1s ease-in-out"},children:re(R==null?void 0:R.schoolShare,R==null?void 0:R.totalRevenue)>=10?`${re(R==null?void 0:R.schoolShare,R==null?void 0:R.totalRevenue)}%`:""})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-sm mr-1.5"}),n.jsx("span",{className:"text-gray-300",children:"Platform Share"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-sm mr-1.5"}),n.jsx("span",{className:"text-gray-300",children:"School Share"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Platform Share"}),n.jsx("span",{className:"text-md font-semibold text-orange-400",children:ce(R==null?void 0:R.platformShare)})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Amount allocated to the platform"})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"School Share"}),n.jsx("span",{className:"text-md font-semibold text-blue-400",children:ce(R==null?void 0:R.schoolShare)})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Amount allocated to the school"})]})]})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Withdrawal History"]}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[n.jsxs("div",{className:"mb-2 sm:mb-0",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"Last Withdrawal Date"}),n.jsx("p",{className:"text-md text-white",children:K(R==null?void 0:R.lastWithdrawalTime)})]}),n.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${R!=null&&R.lastWithdrawalTime&&(R==null?void 0:R.lastWithdrawalTime)>BigInt(0)?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:R!=null&&R.lastWithdrawalTime&&(R==null?void 0:R.lastWithdrawalTime)>BigInt(0)?q(R==null?void 0:R.lastWithdrawalTime):"No withdrawals yet"})]})})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{onClick:()=>Ce("tracking"),disabled:T,className:"flex items-center text-xs px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Tracking Data"]})}),n.jsx("div",{className:"bg-gray-700/20 rounded-md p-2.5",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",U(L)]})})]})]}),d==="fees"&&!l&&n.jsxs("div",{className:"space-y-4",children:[Y&&!le&&n.jsx("div",{className:"flex items-center justify-center py-8 bg-gray-700/20 rounded-lg mb-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-t-indigo-400 border-indigo-200/30 rounded-full animate-spin mb-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading fee structure..."})]})}),te&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Fee Structure Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to fetch fee structure data. Please try again later."})]})]})}),Le&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:se.map((pe,M)=>n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"text-sm text-gray-300",children:pe.label}),n.jsx("span",{className:"text-md font-semibold text-indigo-400",children:pe.value})]}),n.jsx("p",{className:"text-xs text-gray-400",children:pe.description})]},M))}),n.jsxs("div",{className:`rounded-md p-3 flex items-center ${le!=null&&le.isCustom?"bg-purple-900/20 border border-purple-700/30":"bg-blue-900/20 border border-blue-700/30"}`,children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${le!=null&&le.isCustom?"bg-purple-500":"bg-blue-500"}`}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-200",children:le!=null&&le.isCustom?"Custom Fee Structure":"Standard Fee Structure"}),n.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:le!=null&&le.isCustom?"This fee structure has been customized for specific use cases.":"This is the standard platform fee structure applied by default."})]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{onClick:()=>Ce("fees"),disabled:Y,className:"flex items-center text-xs px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Fee Structure"]})}),n.jsx("div",{className:"bg-gray-700/20 rounded-md p-2.5",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-end",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",U(O)]})})]})]})]})},QO=(e,t)=>{const[r,s]=w.useState(null),a=i=>{s(i)};return{FinancialDashboard:({compact:i=!1,...o})=>n.jsx(so,{defaultSchool:e,defaultProgramId:t,onDataChange:a,compact:i,...o}),data:r,CompactFinancialView:i=>n.jsx(so,{defaultSchool:e,defaultProgramId:t,onDataChange:a,compact:!0,...i}),RevenueView:i=>n.jsx(so,{defaultSchool:e,defaultProgramId:t,onDataChange:a,hideTracking:!0,hideFees:!0,...i}),TrackingView:i=>n.jsx(so,{defaultSchool:e,onDataChange:a,hideRevenue:!0,hideFees:!0,...i}),FeesView:i=>n.jsx(so,{onDataChange:a,hideRevenue:!0,hideTracking:!0,...i})}},XO=({contract:e,initialRoleId:t="",initialAddress:r="",predefinedRoles:s={},onRoleCheckResult:a})=>{const[i,o]=w.useState(t),[l,c]=w.useState(""),[d,u]=w.useState(r),[m,h]=w.useState(r?Be(r):!1),[p,f]=w.useState(!1),v=Object.keys(s),{data:y,error:g,isLoading:x,isSuccess:b,refetch:N}=ke({...e,functionName:"hasRole",args:[i,d],enabled:p&&m&&i!==""});w.useEffect(()=>{const L=d?Be(d):!1;h(L)},[d]);const j=L=>{const _=L.target.value;c(_),_&&s[_]?o(s[_]):o("")},C=L=>{o(L.target.value),c("")},E=L=>{u(L.target.value)},P=L=>{L.preventDefault(),m&&i&&f(!0)};return w.useEffect(()=>{b&&y!==void 0&&a&&a(!!y,i,d)},[y,b,i,d,a]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"Role Permission Checker"}),n.jsxs("form",{onSubmit:P,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Role to Check:"}),v.length>0&&n.jsx("div",{className:"mb-2",children:n.jsxs("select",{value:l,onChange:j,className:"w-full bg-gray-700/50 border border-gray-600 focus:border-blue-500 rounded px-3 py-2 text-sm text-gray-200 focus:outline-none",children:[n.jsx("option",{value:"",children:"Select a predefined role"}),v.map(L=>n.jsx("option",{value:L,children:L},L))]})}),n.jsxs("div",{className:"flex space-x-2 items-center",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",value:i,onChange:C,placeholder:"Enter role ID (bytes32)",className:"w-full bg-gray-700/50 border border-gray-600 focus:border-blue-500 rounded px-3 py-2 text-sm text-gray-200 focus:outline-none"})}),l&&n.jsx("div",{className:"bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-xs",children:l})]}),i&&!i.startsWith("0x")&&n.jsx("p",{className:"text-xs text-yellow-400",children:"Note: Role IDs should typically start with '0x'"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"address-input",className:"block text-sm text-gray-400",children:"Address to Check:"}),n.jsx("input",{id:"address-input",type:"text",value:d,onChange:E,placeholder:"0x...",className:`w-full bg-gray-700/50 border ${d&&!m?"border-red-500/50 focus:border-red-500":"border-gray-600 focus:border-blue-500"} rounded px-3 py-2 text-sm text-gray-200 focus:outline-none`}),d&&!m&&n.jsx("p",{className:"text-xs text-red-400",children:"Please enter a valid Ethereum address"})]}),n.jsx("button",{type:"submit",disabled:!m||!i||x,className:`w-full py-2 px-4 rounded text-sm font-medium ${!m||!i||x?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:x?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-white border-white/30 rounded-full animate-spin mr-2"}),n.jsx("span",{children:"Checking..."})]}):"Check Role"})]}),p&&n.jsxs("div",{className:"mt-5 border-t border-gray-700 pt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Results"}),g&&n.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:[n.jsxs("p",{className:"text-sm",children:["Error checking role: ",g.message||"Unknown error"]}),n.jsx("button",{onClick:()=>N(),className:"text-xs mt-2 bg-gray-700 hover:bg-gray-600 text-gray-200 py-1 px-2 rounded",children:"Try Again"})]}),b&&y!==void 0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`p-3 rounded-md ${y?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:n.jsxs("div",{className:"flex items-center",children:[y?n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-5 h-5 mr-2 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("p",{className:`text-sm font-medium ${y?"text-green-400":"text-red-400"}`,children:y?"Address has this role":"Address does not have this role"})]})}),n.jsx("div",{className:"bg-gray-700/50 rounded-md p-3",children:n.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Role ID:"}),n.jsxs("p",{className:"text-sm font-mono text-gray-300 break-all",children:[i,l&&n.jsxs("span",{className:"ml-1 text-blue-400",children:["(",l,")"]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Address:"}),n.jsx("p",{className:"text-sm font-mono text-gray-300 break-all",children:d})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Result:"}),n.jsx("p",{className:"text-sm text-gray-200",children:y?"True (Has Role)":"False (No Role)"})]})]})})]})]})]})},wc=({defaultMode:e="create",initialProgramId:t,onProgramCreated:r,onProgramUpdated:s,onDataChange:a,adminRole:i,hideRoleChecker:o=!1,showAllTabs:l=!0})=>{const{address:c}=Ge(),[d,u]=w.useState(e==="create"?"create":e==="update"?"manage":"view"),[m,h]=w.useState(t||0),[p,f]=w.useState(null),[v,y]=w.useState(o),[g,x]=w.useState(o),[b,N]=w.useState(""),[j,C]=w.useState(""),[E,P]=w.useState(""),[L,_]=w.useState(""),[O,W]=w.useState(""),[,H]=w.useState(""),[,Z]=w.useState("info"),[ee,I]=w.useState(!1),[A,T]=w.useState("initial"),[$,D]=w.useState(""),[R,F]=w.useState(null),[Y,te]=w.useState(null),me=i||"0x0000000000000000000000000000000000000000000000000000000000000000",le={"Admin Role":me},{data:ce,isLoading:K,isSuccess:q,refetch:re}=ke({address:wt.address,abi:wt.abi,functionName:"programs",args:[m],query:{enabled:m>0}}),{data:ne,isPending:z,writeContract:U,error:J,reset:ie}=zt(),{isLoading:oe,isSuccess:ue,error:xe}=on({hash:ne}),ge=z||oe,ve=J||xe;w.useEffect(()=>{if(ce&&q&&m>0){const[V,ae,we,Ue,Ie,Ne,Pe]=ce;f({programId:m,name:V,termFee:we,requiredAttendance:Ie,maxEnrollment:Pe,isActive:ae,minAttendance:Ue,currentEnrollment:Ne}),d==="manage"&&W(Mt(we))}},[ce,q,m,d]);const Ce=V=>{h(V)},se=V=>{y(V),x(!0)},de=w.useCallback(()=>{if(!a)return;const V={currentProgram:p,creationData:R,updateData:Y,permissions:{hasAdminRole:v,roleCheckComplete:g},status:{isLoading:ge,isSuccess:ue,isError:!!ve,errorMessage:ve?ve.message:null}};a(V)},[p,R,Y,v,g,ge,ue,ve,a]);w.useEffect(()=>{de()},[de]),w.useEffect(()=>{if(ee){const V=setTimeout(()=>{I(!1)},5e3);return()=>clearTimeout(V)}},[ee]),w.useEffect(()=>{if(ue&&ne){if(H("Transaction successfully confirmed!"),Z("success"),I(!0),T("completed"),d==="create"){const V={programName:b,termFee:j,requiredAttendance:E,maxEnrollment:L,transaction:{hash:ne,timestamp:new Date,status:"success"}};F(V),r&&r(V)}else if(d==="manage"&&p){const V={programId:m,field:"termFee",oldValue:Mt(p.termFee),newValue:O,transaction:{hash:ne,timestamp:new Date,status:"success"}};te(V),s&&s(V)}}},[ue,ne,d,b,j,E,L,p,m,O,r,s]),w.useEffect(()=>{if(ve){const V=(ve==null?void 0:ve.message)||"Unknown error occurred";H(`Transaction failed: ${V}`),Z("error"),I(!0),T("initial"),R&&R.transaction&&R.transaction.status==="pending"&&F({...R,transaction:{...R.transaction,status:"error",error:ve}}),Y&&Y.transaction&&Y.transaction.status==="pending"&&te({...Y,transaction:{...Y.transaction,status:"error",error:ve}})}},[ve,R,Y]);const je=()=>b.trim()?!j||isNaN(Number(j))||Number(j)<0?(D("Please enter a valid term fee"),!1):!E||isNaN(Number(E))||Number(E)<0||Number(E)>1e4?(D("Required attendance must be a value between 0 and 10000 (0-100%)"),!1):!L||isNaN(Number(L))||!Number.isInteger(Number(L))||Number(L)<=0?(D("Maximum enrollment must be a positive integer"),!1):(D(""),!0):(D("Program name is required"),!1),Le=()=>!O||isNaN(Number(O))||Number(O)<0?(D("Please enter a valid term fee"),!1):p&&Mt(p.termFee)===O?(D("New fee must be different from the current fee"),!1):(D(""),!0),pe=async()=>{try{if(ie==null||ie(),D(""),!je())return;T("processing"),H("Submitting transaction to create program..."),Z("info"),I(!0);const V=wd(j),ae=Number(E),we=Number(L);U({...wt,address:wt.address,functionName:"createProgram",args:[b,V,ae,we]}),H("Transaction submitted! Waiting for confirmation..."),Z("info"),I(!0)}catch(V){console.error("Error creating program:",V);const ae=V instanceof Error?V:new Error("Unknown error");H(`Error: ${ae.message}`),Z("error"),I(!0),T("initial")}},M=async()=>{try{if(ie==null||ie(),D(""),!Le()||!p)return;T("processing"),H("Submitting transaction to update program fee..."),Z("info"),I(!0);const V=wd(O);U({...wt,address:wt.address,functionName:"updateProgramFee",args:[m,V]}),H("Transaction submitted! Waiting for confirmation..."),Z("info"),I(!0)}catch(V){console.error("Error updating program fee:",V);const ae=V instanceof Error?V:new Error("Unknown error");H(`Error: ${ae.message}`),Z("error"),I(!0),T("initial")}},S=()=>{N(""),C(""),P(""),_(""),D(""),T("initial"),ie==null||ie()},k=()=>{W(p?Mt(p.termFee):""),D(""),T("initial"),ie==null||ie()},B=V=>{if(typeof window<"u"&&window.__programManagement){const ae=window.__programManagement;ae.setProgramName(V.programName),ae.setTermFee(V.termFee),ae.setRequiredAttendance(V.requiredAttendance),ae.setMaxEnrollment(V.maxEnrollment),setTimeout(()=>{ae.handleCreateProgram()},100)}},G=(V,ae)=>{if(typeof window<"u"&&window.__programManagement){const we=window.__programManagement;we.setCurrentProgramId(V),we.setNewTermFee(ae),setTimeout(()=>{we.handleUpdateFee()},100)}};return w.useEffect(()=>(typeof window<"u"&&(window.__programManagement={createProgram:B,updateProgramFee:G,resetCreateForm:S,resetUpdateForm:k,refetchProgram:re,getCurrentProgramId:()=>m,getCurrentProgram:()=>p,hasAdminRole:()=>v,setProgramName:N,setTermFee:C,setRequiredAttendance:P,setMaxEnrollment:_,setValidationError:D,setProcessingState:T,resetWrite:ie,setCurrentProgramId:h,setNewTermFee:W,handleCreateProgram:pe,handleUpdateFee:M}),()=>{typeof window<"u"&&delete window.__programManagement}),[m,p,v,N,C,P,_,D,T,ie,h,W,pe,M]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Program Management Dashboard"}),n.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Create, manage, and view educational programs on the blockchain."}),l&&n.jsxs("div",{className:"flex flex-wrap mb-6 border-b border-gray-700",children:[n.jsx("button",{onClick:()=>u("create"),className:`py-2 px-4 text-sm font-medium transition-colors ${d==="create"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Create Program"}),n.jsx("button",{onClick:()=>u("manage"),className:`py-2 px-4 text-sm font-medium transition-colors ${d==="manage"?"text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:"Manage Programs"}),n.jsx("button",{onClick:()=>u("view"),className:`py-2 px-4 text-sm font-medium transition-colors ${d==="view"?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-gray-300"}`,children:"View Program"})]}),d==="create"&&A==="completed"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-900/30 border border-green-700/50 rounded-md p-4 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto mb-2 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"Program Created Successfully"}),n.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"Your new educational program has been created and is now available on the blockchain."})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-4",children:"Program Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"col-span-2 bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Program Name"}),n.jsx("p",{className:"text-sm font-medium text-gray-200 mt-1",children:b})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Term Fee"}),n.jsxs("p",{className:"text-sm font-medium text-gray-200 mt-1",children:[j," ETH"]})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Required Attendance"}),n.jsxs("p",{className:"text-sm font-medium text-gray-200 mt-1",children:[(Number(E)/100).toFixed(2),"%"]})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Maximum Enrollment"}),n.jsxs("p",{className:"text-sm font-medium text-gray-200 mt-1",children:[L," students"]})]}),n.jsxs("div",{className:"col-span-2 bg-gray-800 p-3 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Next Steps"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Your program is now created. You can now set up courses, enrollment periods, and share the program details with potential students."})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-md p-4",children:[n.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-2",children:"Transaction Details"}),n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Transaction Hash"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"font-mono text-xs bg-gray-800 p-2 rounded-md text-gray-300 overflow-x-auto max-w-full flex-1 break-all",children:ne}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ne||""),H("Transaction hash copied to clipboard!"),Z("success"),I(!0)},className:"ml-2 p-2 bg-gray-700 hover:bg-gray-600 rounded-md text-gray-300",title:"Copy to clipboard",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(X.button,{onClick:()=>{T("initial"),S()},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium rounded-md shadow-lg transition-all duration-300",children:"Create Another Program"}),n.jsx(X.button,{onClick:()=>{u("manage")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 px-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-medium rounded-md shadow-lg transition-all duration-300",children:"Manage Programs"})]})]}),d==="manage"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-green-400 mb-4",children:"Program Fee Management"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Select a program and update its fee structure. Administrator privileges are required."})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Step 1: Select Program"}),n.jsx(Ud,{onProgramIdRead:Ce})]}),m>0&&!o&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Step 2: Verify Admin Role"}),n.jsx(XO,{contract:{address:wt.address,abi:wt.abi},initialRoleId:me,initialAddress:c||void 0,predefinedRoles:le,onRoleCheckResult:se})]})]}),m>0&&(g||o)&&n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsxs("h4",{className:"text-md font-medium text-green-400 mb-3",children:[o?"Update Program Fee":"Step 3: Update Program Fee",!v&&!o&&n.jsx("span",{className:"ml-2 text-red-400 text-sm",children:"(Admin role required)"})]}),!v&&!o?n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"You do not have the Admin role required to update program fees. Please contact your administrator for assistance."})}):n.jsx(n.Fragment,{children:K?n.jsxs("div",{className:"flex items-center justify-center py-10",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-green-400 border-green-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-300",children:"Loading program details..."})]}):p?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Program Name"}),n.jsx("p",{className:"text-sm font-medium text-white",children:p.name})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Current Fee"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[Mt(p.termFee)," ETH"]})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Required Attendance"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[(p.requiredAttendance/100).toFixed(2),"%"]})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Maximum Enrollment"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[p.maxEnrollment," students"]})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Current Enrollment"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[p.currentEnrollment," students"]})]}),n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Minimum Attendance"}),n.jsxs("p",{className:"text-sm font-medium text-white",children:[(p.minAttendance/100).toFixed(2),"%"]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Update Program Fee"}),n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-4",children:[n.jsx("label",{htmlFor:"new-fee-input",className:"block text-sm text-gray-400 mb-2",children:"New Fee (ETH):"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx("input",{id:"new-fee-input",type:"text",value:O,onChange:V=>{W(V.target.value),D("")},disabled:ge,placeholder:"0.01",className:`w-full bg-gray-700/50 border ${$?"border-red-500/50 focus:border-red-500":"border-gray-600 focus:border-green-500"} rounded px-3 py-2 text-sm text-gray-200 focus:outline-none`})}),n.jsx("button",{onClick:M,disabled:ge||!O,className:`px-4 py-2 rounded-md text-sm font-medium ${ge||!O?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:ge?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-white border-white/30 rounded-full animate-spin mr-2"}),oe?"Confirming...":"Processing..."]}):"Update Fee"})]}),$&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-2 text-sm mt-2",children:$})]})]})]}):n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"Could not load program details. Please make sure the program ID is valid."})})})]})]}),d==="view"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-purple-400 mb-4",children:"Program Details Viewer"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"View detailed information about a specific educational program."})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Select Program to View"}),n.jsx(Ud,{onProgramIdRead:Ce})]})]}),m>0&&n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h4",{className:"text-md font-medium text-purple-400 mb-4",children:"Program Information"}),K?n.jsxs("div",{className:"flex items-center justify-center py-10",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-purple-400 border-purple-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-300",children:"Loading program details..."})]}):p?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:p.name}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${p.isActive?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:`text-sm ${p.isActive?"text-green-400":"text-red-400"}`,children:p.isActive?"Active":"Inactive"})]})]}),n.jsx("div",{className:"bg-purple-500/20 rounded-lg px-3 py-2 border border-purple-500/30 mt-3 md:mt-0",children:n.jsxs("p",{className:"text-sm font-medium text-purple-400",children:["ID: ",m]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-blue-400 mb-2",children:"Term Fee"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[Mt(p.termFee)," ETH"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Cost for one term enrollment"})]}),n.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-green-400 mb-2",children:"Required Attendance"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[(p.requiredAttendance/100).toFixed(2),"%"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Minimum attendance to pass the program"})]}),n.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-orange-400 mb-2",children:"Enrollment Capacity"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:p.maxEnrollment}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Maximum number of students allowed"})]}),n.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-purple-400 mb-2",children:"Current Enrollment"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:p.currentEnrollment}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Currently enrolled students"})]}),n.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-yellow-400 mb-2",children:"Minimum Attendance"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[(p.minAttendance/100).toFixed(2),"%"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Minimum attendance threshold"})]}),n.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/30 rounded-lg p-4",children:[n.jsx("h5",{className:"text-sm font-medium text-indigo-400 mb-2",children:"Available Slots"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:Math.max(0,p.maxEnrollment-p.currentEnrollment)}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Remaining enrollment capacity"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[n.jsx("button",{onClick:()=>re(),className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md text-sm text-gray-300 transition-colors",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh Data"]})}),n.jsx("button",{onClick:()=>u("manage"),className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded-md text-sm text-white transition-colors",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Manage Program"]})})]})]}):n.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-md p-3",children:n.jsx("p",{className:"text-sm",children:"Could not load program details. Please make sure the program ID is valid."})})]})]})]})},ZO=(e,t)=>{const[r,s]=w.useState(null),a=i=>{s(i)};return{ProgramManagementComponent:(i={})=>n.jsx(wc,{defaultMode:e,initialProgramId:t,onDataChange:a,...i}),data:r,createProgram:i=>{typeof window<"u"&&window.__programManagement&&window.__programManagement.createProgram(i)},updateProgramFee:(i,o)=>{typeof window<"u"&&window.__programManagement&&window.__programManagement.updateProgramFee(i,o)},getCurrentProgram:()=>typeof window<"u"&&window.__programManagement?window.__programManagement.getCurrentProgram():null,hasAdminRole:()=>typeof window<"u"&&window.__programManagement?window.__programManagement.hasAdminRole():!1,resetCreateForm:()=>{typeof window<"u"&&window.__programManagement&&window.__programManagement.resetCreateForm()},resetUpdateForm:()=>{typeof window<"u"&&window.__programManagement&&window.__programManagement.resetUpdateForm()},ProgramCreator:(i={})=>n.jsx(wc,{defaultMode:"create",initialProgramId:t,onDataChange:a,showAllTabs:!1,...i}),ProgramManager:(i={})=>n.jsx(wc,{defaultMode:"update",initialProgramId:t,onDataChange:a,showAllTabs:!1,...i}),ProgramViewer:(i={})=>n.jsx(wc,{defaultMode:"view",initialProgramId:t,onDataChange:a,showAllTabs:!1,...i})}},JO=(e=na,t=na,r=na,s)=>{const{address:a}=Ge(),[i,o]=w.useState(""),[l,c]=w.useState(""),[d,u]=w.useState(""),[m,h]=w.useState(""),[p,f]=w.useState({programFee:"",subscriptionFee:"",certificateFee:"",revenueShare:""}),[v,y]=w.useState(!1),[g,x]=w.useState(null),[b,N]=w.useState(""),[j,C]=w.useState(!1),{data:E,isLoading:P,isError:L}=ke({abi:t.abi,address:t.address,functionName:"ADMIN_ROLE"}),{data:_,isLoading:O,isError:W,refetch:H}=ke({abi:r.abi,address:r.address,functionName:"paused"}),{data:Z,isLoading:ee,isError:I,refetch:A}=ke({abi:t.abi,address:t.address,functionName:"hasRole",args:E&&a?[E,a]:void 0,query:{enabled:!!E&&!!a}}),{data:T,isLoading:$,isError:D,refetch:R}=ke({abi:e.abi,address:e.address,functionName:"getDefaultFeeStructure"}),{data:F,error:Y,isPending:te,writeContract:me}=zt(),{isLoading:le,isSuccess:ce,error:K}=on({hash:F}),q=P||O||ee||$,re=te||le,ne=Y||K;w.useEffect(()=>{if(T&&Array.isArray(T)){const[ue,xe,ge,ve]=T;f({programFee:ue.toString(),subscriptionFee:xe.toString(),certificateFee:ge.toString(),revenueShare:ve.toString()})}},[T]),w.useEffect(()=>{q||(y(!!Z&&!!!_),x(new Date))},[Z,_,q]),w.useEffect(()=>{const ue=/^\d+$/.test(i),xe=/^\d+$/.test(l),ge=/^\d+$/.test(d),ve=/^\d+$/.test(m)&&parseInt(m)<=1e4;C(ue&&xe&&ge&&ve)},[i,l,d,m]);const z=()=>g?Zt(g,{addSuffix:!0}):"Never checked",U=()=>{o(p.programFee),c(p.subscriptionFee),u(p.certificateFee),h(p.revenueShare)},J=()=>{o(""),c(""),u(""),h("")},ie=()=>{if(!v){N(Z?_?"System is paused. Cannot update fee structures at this time":"Unable to update fee structure due to system constraints":"You do not have the ADMIN_ROLE required to update fee structures");return}if(!j){/^\d+$/.test(i)?/^\d+$/.test(l)?/^\d+$/.test(d)?/^\d+$/.test(m)?parseInt(m)>1e4?N("Revenue share cannot exceed 10000 (100.00%)"):N("Please check all fields and try again"):N("Revenue share must be a valid integer value"):N("Certificate fee must be a valid integer value"):N("Subscription fee must be a valid integer value"):N("Program fee must be a valid integer value");return}try{N(""),me({abi:e.abi,address:e.address,functionName:"updateDefaultFeeStructure",args:[BigInt(i),BigInt(l),BigInt(d),BigInt(m)]})}catch(ue){console.error("Error updating fee structure:",ue),N("Error initiating transaction")}};return w.useEffect(()=>{ce&&!le&&(s&&F&&s(F),A(),H(),R(),x(new Date),J())},[ce,le,F,s,A,H,R]),{currentFeeStructure:p,programFee:i,subscriptionFee:l,certificateFee:d,revenueShare:m,setProgramFee:o,setSubscriptionFee:c,setCertificateFee:u,setRevenueShare:h,canUpdate:v,isLoading:q,isProcessing:re,isFormValid:j,errorMessage:b,setErrorMessage:N,updateError:ne,isUpdateConfirmed:ce,isUpdateConfirming:le,updateTxHash:F,hasRole:!!Z,isPaused:!!_,isLoadingRoleId:P,isLoadingPauseStatus:O,isLoadingRoleCheck:ee,isLoadingFeeData:$,isRoleIdError:L,isPauseStatusError:W,isRoleCheckError:I,isFeeDataError:D,handleUpdateFeeStructure:ie,refreshData:()=>{A(),H(),R(),x(new Date)},loadCurrentFeeStructure:U,resetForm:J,getTimeSinceLastCheck:z,lastChecked:g}},eD=({onWithdrawComplete:e,onStateChange:t,customRoleId:r,autoRefresh:s=!1,hideEducationalInfo:a=!1})=>{const i=na,{address:o}=Ge(),[l,c]=w.useState(!1),[d,u]=w.useState(null),[m,h]=w.useState(""),[p,f]=w.useState("0"),[v,y]=w.useState(null),[g,x]=w.useState(!1),[b,N]=w.useState(!1),{data:j,isLoading:C,isError:E}=ke({abi:i.abi,address:i.address,functionName:"SCHOOL_ADMIN_ROLE",query:{enabled:!r}}),P=r||j,{data:L,isLoading:_,isError:O,refetch:W}=ke({abi:i.abi,address:i.address,functionName:"paused"}),{data:H,isLoading:Z,isError:ee,refetch:I}=ke({abi:i.abi,address:i.address,functionName:"hasRole",args:P&&o?[P,o]:void 0,query:{enabled:!!P&&!!o}}),{data:A,isLoading:T,isError:$,refetch:D}=ke({abi:i.abi,address:i.address,functionName:"getWithdrawableAmount",args:o?[o]:void 0,query:{enabled:!!o}}),{data:R,error:F,isPending:Y,writeContract:te}=zt(),{isLoading:me,isSuccess:le,error:ce}=on({hash:R}),K=C||_||Z||T,q=Y||me,re=F||ce;w.useEffect(()=>{if(s){const oe=setInterval(()=>{I(),W(),D(),u(new Date)},3e4);return()=>clearInterval(oe)}},[s,I,W,D]),w.useEffect(()=>{A&&f(A.toString())},[A]),w.useEffect(()=>{Z||x(!!H),_||N(!!L)},[H,L,Z,_]),w.useEffect(()=>{if(!K){const oe=A!=null&&BigInt(A)>BigInt(0);c(g&&!b&&oe),u(new Date)}},[g,b,A,K]),w.useEffect(()=>{if(t){const oe={canWithdraw:l,hasRole:g,isPaused:b,availableBalance:p,formattedBalance:z(p),lastChecked:d,isLoading:K,isProcessing:q,isSuccess:le&&!me,isError:!!re||!!m,errorMessage:re?re.message:m,transactionHash:R||null};t(oe)}},[l,g,b,p,d,K,q,le,me,re,m,R,t]);const ne=()=>d?Zt(d,{addSuffix:!0}):"Never checked",z=oe=>{try{const ue=BigInt(oe);return(Number(ue)/1e18).toFixed(6)}catch{return"0.000000"}},U=()=>{if(!l){g?b?h("System is paused. Cannot withdraw revenue at this time"):A!=null&&BigInt(A.toString())<=BigInt(0)?h("No revenue available to withdraw"):h("Unable to withdraw revenue due to system constraints"):h("You do not have the SCHOOL_ADMIN_ROLE required to withdraw revenue");return}try{h(""),te({abi:i.abi,address:i.address,functionName:"withdrawSchoolRevenue"});const oe={address:o||"",amount:{raw:p,formatted:z(p)},timestamp:new Date,transactionHash:"",status:"pending",error:null};y(oe)}catch(oe){console.error("Error withdrawing revenue:",oe),h("Error initiating transaction");const ue={address:o||"",amount:{raw:p,formatted:z(p)},timestamp:new Date,transactionHash:"",status:"error",error:oe};y(ue)}};w.useEffect(()=>{R&&v&&v.status==="pending"&&y({...v,transactionHash:R})},[R,v]),w.useEffect(()=>{le&&!me&&(v&&y({...v,status:"success"}),e&&R&&e(R,p),I(),W(),D(),u(new Date))},[le,me,R,p,e,I,W,D,v]),w.useEffect(()=>{re&&v&&v.status==="pending"&&y({...v,status:"error",error:re})},[re,v]);const J=()=>{I(),W(),D(),u(new Date)},ie=()=>l?(U(),!0):!1;return w.useEffect(()=>(typeof window<"u"&&(window.__revenueWithdrawal={refresh:J,withdraw:ie,getAvailableBalance:()=>p,getFormattedBalance:()=>z(p),canWithdraw:()=>l,hasRole:()=>g,isPaused:()=>b}),()=>{typeof window<"u"&&delete window.__revenueWithdrawal}),[p,l,g,b]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"School Revenue Withdrawal"}),!K&&n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border mb-4 ${l?"bg-green-900/20 border-green-700/30":"bg-red-900/20 border-red-700/30"}`,children:[n.jsx("div",{className:"flex items-center",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-green-400",children:"Ready to Withdraw"}),n.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:"You can withdraw your school's revenue"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-red-400",children:"Withdrawal Unavailable"}),n.jsxs("p",{className:"text-xs text-gray-300 mt-0.5",children:[!g&&"You lack the required SCHOOL_ADMIN_ROLE permissions",g&&b&&"The system is currently paused",g&&!b&&A!==void 0&&A!==null&&BigInt(A.toString())<=BigInt(0)&&"No revenue available to withdraw"]})]})]})}),n.jsxs("button",{onClick:J,className:"flex items-center text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),K&&n.jsxs("div",{className:"flex items-center justify-center py-4 bg-gray-700/20 rounded-lg mb-4",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-amber-400 border-amber-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Checking system status..."})]}),(E||ee)&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Permission Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to verify your role permissions. Please try again later."})]})]})}),O&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"System Status Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to check if system is paused. Please try again later."})]})]})}),$&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Balance Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to check your available revenue balance. Please try again later."})]})]})}),!K&&!$&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300 mb-2",children:"Available Revenue"}),n.jsxs("div",{className:"bg-gray-800/70 rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Amount available to withdraw:"}),n.jsxs("div",{className:"flex items-baseline mt-1",children:[n.jsx("p",{className:"text-xl font-semibold text-amber-400",children:z(p)}),n.jsx("p",{className:"text-sm text-gray-300 ml-2",children:"ETH"})]})]}),n.jsx("div",{className:"bg-gray-700/50 rounded-full p-3",children:n.jsx("svg",{className:"w-8 h-8 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]}),m&&n.jsx("div",{className:"w-full bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:m}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-amber-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-200",children:"What this does"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This will withdraw all available revenue from your school's account directly to your connected wallet address. The transaction will fail if there is no revenue to withdraw or if you don't have the proper permissions."})]})]})}),n.jsx("button",{onClick:U,disabled:q||!l,className:`w-full px-4 py-3 rounded-md text-white font-medium flex items-center justify-center ${q||!l?"bg-gray-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500"}`,children:q?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Withdrawal..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Withdraw School Revenue"]})})]}),le&&!me&&n.jsx("div",{className:"mt-4 bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Revenue Successfully Withdrawn"}),n.jsx("p",{className:"text-xs mt-1",children:"Your school's revenue has been successfully withdrawn to your wallet."}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-green-500/20",children:[n.jsx("p",{className:"text-xs text-gray-300",children:"Transaction Hash:"}),n.jsx("a",{href:`https://etherscan.io/tx/${R}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 font-mono break-all hover:underline",children:R})]})]})]})}),re&&n.jsx("div",{className:"mt-4 bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Error Withdrawing Revenue"}),n.jsx("p",{className:"text-xs mt-1",children:re.message||"An unknown error occurred while withdrawing your revenue."}),n.jsx("p",{className:"text-xs mt-2 text-gray-300",children:"This may happen if there is no revenue to withdraw or if you don't have the proper permissions."})]})]})}),!K&&n.jsxs("div",{className:"mt-4 bg-gray-700/20 rounded-md p-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"System Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-2",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Permission Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-red-500"} mr-2`}),n.jsx("p",{className:`text-sm ${g?"text-green-400":"text-red-400"}`,children:g?"SCHOOL_ADMIN_ROLE Granted":"Missing SCHOOL_ADMIN_ROLE"})]})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-2",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Contract Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${b?"bg-red-500":"bg-green-500"} mr-2`}),n.jsx("p",{className:`text-sm ${b?"text-red-400":"text-green-400"}`,children:b?"System Paused":"System Active"})]})]})]}),n.jsx("div",{className:"mt-2 pt-2 border-t border-gray-600",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-end",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",ne()]})})]}),!a&&n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About School Revenue Withdrawal"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"This component allows school administrators to withdraw their accumulated revenue from the platform. Two security checks are performed:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Role Verification"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Only addresses with the SCHOOL_ADMIN_ROLE can withdraw school revenue, ensuring that funds are only accessible to authorized school administrators."})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"System Status Check"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Revenue cannot be withdrawn if the system is paused, which might occur during maintenance, upgrades, or security incidents."})]})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mb-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Revenue Sources"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"School revenue typically comes from the following sources:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-400 mr-2",children:""}),n.jsx("span",{children:"Student enrollment fees"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-400 mr-2",children:""}),n.jsx("span",{children:"Program participation fees"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-400 mr-2",children:""}),n.jsx("span",{children:"Certificate issuance fees"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-400 mr-2",children:""}),n.jsx("span",{children:"Revenue sharing with affiliated educators"})]})]})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"When you withdraw school revenue, the entire available balance will be transferred to your connected wallet address. Make sure your wallet is secure and that you have access to its private keys before proceeding."})]})]})},tD=(e=!1,t,r=!1)=>{const[s,a]=w.useState(null),[i,o]=w.useState(null),l=d=>{a(d)},c=(d,u)=>{o({address:"",amount:{raw:u,formatted:u?(Number(u)/1e18).toFixed(6):"0"},timestamp:new Date,transactionHash:d,status:"success",error:null})};return{SchoolRevenueWithdrawalComponent:()=>n.jsx(eD,{onStateChange:l,onWithdrawComplete:c,autoRefresh:e,customRoleId:t,hideEducationalInfo:r}),state:s,withdrawalData:i,refresh:()=>{typeof window<"u"&&window.__revenueWithdrawal&&window.__revenueWithdrawal.refresh()},withdraw:()=>typeof window<"u"&&window.__revenueWithdrawal?window.__revenueWithdrawal.withdraw():!1,getAvailableBalance:()=>typeof window<"u"&&window.__revenueWithdrawal?window.__revenueWithdrawal.getAvailableBalance():"0",getFormattedBalance:()=>typeof window<"u"&&window.__revenueWithdrawal?window.__revenueWithdrawal.getFormattedBalance():"0.000000",canWithdraw:()=>typeof window<"u"&&window.__revenueWithdrawal?window.__revenueWithdrawal.canWithdraw():!1}},nD=({contracts:e={},onFeeUpdateComplete:t,onWithdrawComplete:r,defaultTab:s="fees",customRoleId:a,hideEducationalInfo:i=!1})=>{const o={fee:na,role:na,pause:na},l={fee:e.fee||o.fee,role:e.role||o.role,pause:e.pause||o.pause},c=JO(l.fee,l.role,l.pause,t),{SchoolRevenueWithdrawalComponent:d,state:u,refresh:m}=tD(!1,a,i),h=()=>{const[j,C]=w.useState(new Set),E=(P,L)=>{r&&!j.has(P)&&(console.log(`Withdrawal complete - TX Hash: ${P}, Amount: ${L}`),r(P,L),C(_=>{const O=new Set(_);return O.add(P),O}))};return w.useEffect(()=>{u&&u.isSuccess&&u.transactionHash&&E(u.transactionHash,u.availableBalance)},[u]),n.jsx(d,{})},[p,f]=w.useState(s==="revenue"?1:0),[v,y]=w.useState(null),[g,x]=w.useState({hasAdminRole:!1,hasSchoolAdminRole:!1,isPaused:!1,isLoading:!0}),b=()=>{y(new Date),c.refreshData(),setTimeout(()=>{m()},500)};w.useEffect(()=>{!c.isLoading&&u&&x({hasAdminRole:c.hasRole,hasSchoolAdminRole:u.hasRole,isPaused:c.isPaused||(u?u.isPaused:!1),isLoading:c.isLoading||(u?u.isLoading:!0)})},[c.isLoading,c.hasRole,c.isPaused,u]);const N=()=>{if(!v)return"Never refreshed";const C=Math.floor((new Date().getTime()-v.getTime())/1e3);return C<60?`${C} seconds ago`:C<3600?`${Math.floor(C/60)} minutes ago`:C<86400?`${Math.floor(C/3600)} hours ago`:`${Math.floor(C/86400)} days ago`};return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-amber-400",children:"School Finance Manager"}),n.jsxs("button",{onClick:b,className:"flex items-center text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh All Data"]})]}),!g.isLoading&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsx("h3",{className:"text-md font-medium text-gray-300 mb-3",children:"System Status Overview"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Admin Role Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g.hasAdminRole?"bg-green-500":"bg-red-500"} mr-2`}),n.jsx("p",{className:`text-sm ${g.hasAdminRole?"text-green-400":"text-red-400"}`,children:g.hasAdminRole?"ADMIN_ROLE Granted":"Missing ADMIN_ROLE"})]})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"School Admin Role Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g.hasSchoolAdminRole?"bg-green-500":"bg-red-500"} mr-2`}),n.jsx("p",{className:`text-sm ${g.hasSchoolAdminRole?"text-green-400":"text-red-400"}`,children:g.hasSchoolAdminRole?"SCHOOL_ADMIN_ROLE Granted":"Missing SCHOOL_ADMIN_ROLE"})]})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Contract Status:"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${g.isPaused?"bg-red-500":"bg-green-500"} mr-2`}),n.jsx("p",{className:`text-sm ${g.isPaused?"text-red-400":"text-green-400"}`,children:g.isPaused?"System Paused":"System Active"})]})]})]}),n.jsxs("div",{className:"mt-3 text-xs text-gray-400 flex items-center justify-end",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last refreshed: ",N()]})]}),g.isLoading&&n.jsxs("div",{className:"flex items-center justify-center py-6 bg-gray-700/20 rounded-lg mb-4",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-amber-400 border-amber-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading financial system status..."})]}),!g.isLoading&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex rounded-lg bg-gray-700/30 p-1 mb-4",children:[n.jsx("button",{onClick:()=>f(0),className:`w-full py-2.5 text-sm font-medium leading-5 text-white rounded-lg
                ${p===0?"bg-amber-600 shadow":"text-gray-400 hover:bg-gray-700/40 hover:text-white"}`,children:"Fee Structure Management"}),n.jsx("button",{onClick:()=>f(1),className:`w-full py-2.5 text-sm font-medium leading-5 text-white rounded-lg
                ${p===1?"bg-amber-600 shadow":"text-gray-400 hover:bg-gray-700/40 hover:text-white"}`,children:"Revenue Withdrawal"})]}),n.jsxs(ft,{mode:"wait",children:[p===0&&n.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"Default Fee Structure Management"}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border mb-4 ${c.canUpdate?"bg-green-900/20 border-green-700/30":"bg-red-900/20 border-red-700/30"}`,children:[n.jsx("div",{className:"flex items-center",children:c.canUpdate?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-green-400",children:"System Ready"}),n.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:"You can update the default fee structure"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-red-400",children:"System Unavailable"}),n.jsxs("p",{className:"text-xs text-gray-300 mt-0.5",children:[!c.hasRole&&"You lack the required ADMIN_ROLE permissions",c.hasRole&&c.isPaused&&"The system is currently paused"]})]})]})}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:c.loadCurrentFeeStructure,className:"flex items-center text-xs px-3 py-1.5 bg-blue-700 hover:bg-blue-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c.isLoading,children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Load Current"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"programFee",className:"block text-sm font-medium text-gray-300 mb-1",children:"Program Fee (wei)"}),n.jsx("input",{id:"programFee",type:"text",value:c.programFee,onChange:j=>c.setProgramFee(j.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Fee charged when creating a new program"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subscriptionFee",className:"block text-sm font-medium text-gray-300 mb-1",children:"Subscription Fee (wei)"}),n.jsx("input",{id:"subscriptionFee",type:"text",value:c.subscriptionFee,onChange:j=>c.setSubscriptionFee(j.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Fee charged for subscription services"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"certificateFee",className:"block text-sm font-medium text-gray-300 mb-1",children:"Certificate Fee (wei)"}),n.jsx("input",{id:"certificateFee",type:"text",value:c.certificateFee,onChange:j=>c.setCertificateFee(j.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Fee charged for issuing certificates"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"revenueShare",className:"block text-sm font-medium text-gray-300 mb-1",children:"Revenue Share (basis points)"}),n.jsx("input",{id:"revenueShare",type:"text",value:c.revenueShare,onChange:j=>c.setRevenueShare(j.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Revenue share in basis points (1-10000, where 10000 = 100%)"})]})]}),c.errorMessage&&n.jsx("div",{className:"w-full bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:c.errorMessage}),n.jsx("button",{onClick:c.handleUpdateFeeStructure,disabled:c.isProcessing||!c.canUpdate||!c.isFormValid,className:`w-full px-4 py-3 rounded-md text-white font-medium flex items-center justify-center ${c.isProcessing||!c.canUpdate||!c.isFormValid?"bg-gray-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500"}`,children:c.isProcessing?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Update Default Fee Structure"]})}),c.isUpdateConfirmed&&!c.isUpdateConfirming&&n.jsx("div",{className:"mt-4 bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Default Fee Structure Successfully Updated"}),n.jsx("p",{className:"text-xs mt-1",children:"The default fee structure has been successfully updated. New schools will use these values."}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-green-500/20",children:[n.jsx("p",{className:"text-xs text-gray-300",children:"Transaction Hash:"}),n.jsx("a",{href:`https://etherscan.io/tx/${c.updateTxHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 font-mono break-all hover:underline",children:c.updateTxHash})]})]})]})})]}),!i&&n.jsxs("div",{className:"mt-4 bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About Fee Structure Management"}),n.jsx("p",{className:"text-sm text-gray-400",children:"The fee structure management allows administrators to set platform-wide default fees for various services:"}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Program Fee"}),n.jsx("p",{className:"text-xs text-gray-400",children:"One-time fee charged when creating a new educational program on the platform."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Subscription Fee"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Recurring fee for subscription-based access to platform services and content."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Certificate Fee"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Fee charged when issuing certificates to students upon course completion."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Revenue Share"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Percentage of revenue shared with the platform (in basis points, where 10000 = 100%)."})]})]})]})]},"fee-structure"),p===1&&n.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:n.jsx(h,{})},"revenue-withdrawal")]})]}),!g.isLoading&&!i&&n.jsxs("div",{className:"mt-4 bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"Financial Analytics"}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-300",children:"Revenue Overview"}),n.jsx("div",{className:"bg-amber-600/20 text-amber-400 text-xs px-2 py-1 rounded",children:"Coming Soon"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Total Collected Fees"}),n.jsx("p",{className:"text-xl font-semibold text-white mt-1",children:"-- ETH"})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Revenue Share Percentage"}),n.jsx("p",{className:"text-xl font-semibold text-white mt-1",children:"-- %"})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Monthly Revenue"}),n.jsx("p",{className:"text-xl font-semibold text-white mt-1",children:"-- ETH"})]})]}),n.jsx("div",{className:"mt-4 h-40 bg-gray-700/20 rounded-lg flex items-center justify-center",children:n.jsx("p",{className:"text-gray-400 text-sm",children:"Revenue chart visualization will appear here"})})]}),n.jsx("div",{className:"text-xs text-gray-400",children:n.jsx("p",{children:"The analytics dashboard will provide comprehensive insights into your financial data, including revenue trends, fee distribution, and withdrawal history. This feature will be available in the next update."})})]}),!i&&n.jsx("div",{className:"mt-4 bg-gray-700/20 rounded-md p-3",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-amber-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-200",children:"Need Help?"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This unified financial manager allows you to handle both fee structure management and revenue withdrawals in one place. Use the tabs above to switch between these functions. Each function requires specific role permissions."})]})]})})]})},zg=({defaultMode:e="single",contract:t=jt,availablePrograms:r=[],onRegistrationSuccess:s,onRegistrationError:a,onDataChange:i,initialSingleStudent:o,initialBatchStudents:l,maxBatchSize:c=100,hideModeSwitcher:d=!1})=>{const[u,m]=w.useState(e),[h,p]=w.useState((o==null?void 0:o.address)||""),[f,v]=w.useState((o==null?void 0:o.name)||""),[y,g]=w.useState((o==null?void 0:o.programId)||""),[x,b]=w.useState(l||[{id:Date.now().toString(),address:"",name:"",programId:""}]),[N,j]=w.useState({}),{data:C,error:E,isPending:P,writeContract:L,reset:_}=zt(),{isLoading:O,isSuccess:W,error:H}=on({hash:C}),Z=E||H,ee=P||O,I={address:h,name:f,programId:y},A=w.useCallback(()=>({status:P?"pending":O?"confirming":W?"success":Z?"error":"idle",mode:u,singleStudent:u==="single"?I:null,batchStudents:u==="batch"?x:null,hash:C,error:Z,timestamp:W||Z?new Date:null}),[u,I,x,C,Z,P,O,W]);w.useEffect(()=>{if(i){const K=A();i(K)}},[A,i]),w.useEffect(()=>{j({})},[u]),w.useEffect(()=>{W&&C&&(s&&(u==="single"?s("single",I,C):s("batch",x,C)),!s&&!i&&(u==="single"?(p(""),v(""),g("")):b([{id:Date.now().toString(),address:"",name:"",programId:""}])))},[W,C,s,i,u,I,x]),w.useEffect(()=>{Z&&a&&a(Z)},[Z,a]);const T=()=>{const K={};let q=!0;return h?/^0x[a-fA-F0-9]{40}$/.test(h)||(K.address="Invalid Ethereum address format",q=!1):(K.address="Address is required",q=!1),f||(K.name="Name is required",q=!1),y?(isNaN(Number(y))||Number(y)<0)&&(K.programId="Program ID must be a valid number",q=!1):(K.programId="Program ID is required",q=!1),j(K),q},$=()=>{const K={};let q=!0;x.forEach(z=>{z.address?/^0x[a-fA-F0-9]{40}$/.test(z.address)||(K[`${z.id}-address`]="Invalid Ethereum address format",q=!1):(K[`${z.id}-address`]="Address is required",q=!1),z.name||(K[`${z.id}-name`]="Name is required",q=!1),z.programId?(isNaN(Number(z.programId))||Number(z.programId)<0)&&(K[`${z.id}-programId`]="Program ID must be a valid number",q=!1):(K[`${z.id}-programId`]="Program ID is required",q=!1)});const re=x.map(z=>z.address.toLowerCase()),ne=re.filter((z,U)=>z&&re.indexOf(z)!==U);return ne.length>0&&(ne.forEach(z=>{x.filter(J=>J.address.toLowerCase()===z).forEach(J=>{K[`${J.id}-address`]="Duplicate address found"})}),q=!1),j(K),q},D=async K=>{K.preventDefault();try{if(u==="single"){if(!T())return;L({...t,functionName:"registerStudent",args:[h,f,BigInt(y)]})}else{if(!$())return;const q=x.map(z=>z.address),re=x.map(z=>z.name),ne=x.map(z=>BigInt(z.programId));L({...t,functionName:"batchRegisterStudents",args:[q,re,ne]})}}catch(q){a&&q instanceof Error&&a(q)}},R=(K,q)=>{switch(K){case"address":p(q);break;case"name":v(q);break;case"programId":g(q);break}N[K]&&j({...N,[K]:""})},F=()=>{x.length<c&&b([...x,{id:Date.now().toString(),address:"",name:"",programId:""}])},Y=K=>{x.length>1&&b(x.filter(q=>q.id!==K))},te=(K,q,re)=>{b(x.map(ne=>ne.id===K?{...ne,[q]:re}:ne)),N[`${K}-${q}`]&&j({...N,[`${K}-${q}`]:""})},me=()=>{_==null||_(),u==="single"?(p(""),v(""),g("")):b([{id:Date.now().toString(),address:"",name:"",programId:""}]),j({})},ce=P?{text:"Registering...",color:"text-yellow-400",bg:"bg-yellow-500/20"}:O?{text:"Confirming Registration",color:"text-blue-400",bg:"bg-blue-500/20"}:W?{text:"Registration Successful",color:"text-green-400",bg:"bg-green-500/20"}:Z?{text:"Registration Failed",color:"text-red-400",bg:"bg-red-500/20"}:{text:"Ready to Register",color:"text-gray-400",bg:"bg-gray-500/20"};return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400",children:u==="single"?"Student Registration":"Batch Student Registration"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:u==="single"?"Register a single student to an educational program":`Register multiple students at once (max: ${c})`})]}),!d&&!ee&&!W&&n.jsx("div",{className:"mt-2 md:mt-0 p-1 bg-gray-700/50 rounded-lg",children:n.jsxs("div",{className:"flex text-sm",children:[n.jsx("button",{type:"button",onClick:()=>m("single"),className:`px-3 py-1 rounded-md transition-colors ${u==="single"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-300"}`,children:"Single Student"}),n.jsx("button",{type:"button",onClick:()=>m("batch"),className:`px-3 py-1 rounded-md transition-colors ${u==="batch"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-300"}`,children:"Batch Registration"})]})})]}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${ce.bg} border border-${ce.color.replace("text-","")}/30 mb-4`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${ce.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-sm font-medium ${ce.color}`,children:ce.text})]}),n.jsxs("form",{onSubmit:D,className:"space-y-4",children:[u==="single"&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"student-address",type:"text",value:h,onChange:K=>R("address",K.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${N.address?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:ee}),N.address&&n.jsx("p",{className:"text-xs text-red-400",children:N.address}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-name",className:"block text-sm font-medium text-gray-300",children:"Student Name"}),n.jsx("input",{id:"student-name",type:"text",value:f,onChange:K=>R("name",K.target.value),placeholder:"Full Name",className:`w-full px-3 py-2 bg-gray-700 border ${N.name?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:ee}),N.name&&n.jsx("p",{className:"text-xs text-red-400",children:N.name}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"program-id",className:"block text-sm font-medium text-gray-300",children:"Program ID"}),r.length>0?n.jsxs("select",{id:"program-id",value:y,onChange:K=>R("programId",K.target.value),className:`w-full px-3 py-2 bg-gray-700 border ${N.programId?"border-red-500":"border-gray-600"} rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:ee,children:[n.jsx("option",{value:"",children:"Select a program"}),r.map(K=>n.jsxs("option",{value:K.id,children:[K.name," (ID: ",K.id,")"]},K.id))]}):n.jsx("input",{id:"program-id",type:"number",value:y,onChange:K=>R("programId",K.target.value),placeholder:"Program ID",className:`w-full px-3 py-2 bg-gray-700 border ${N.programId?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,min:"0",disabled:ee}),N.programId&&n.jsx("p",{className:"text-xs text-red-400",children:N.programId}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the ID of the program the student is enrolling in"})]})]}),u==="batch"&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Student Information"}),n.jsxs("span",{className:"text-xs text-gray-400",children:[x.length," ",x.length===1?"student":"students"]})]}),n.jsx("div",{className:"space-y-4",children:x.map((K,q)=>n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h5",{className:"text-sm font-medium text-gray-300",children:["Student #",q+1]}),n.jsx("button",{type:"button",onClick:()=>Y(K.id),className:"text-xs text-gray-400 hover:text-red-400",disabled:x.length===1||ee,children:x.length>1?"Remove":""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:`address-${K.id}`,className:"block text-xs font-medium text-gray-300",children:"Wallet Address"}),n.jsx("input",{id:`address-${K.id}`,type:"text",value:K.address,onChange:re=>te(K.id,"address",re.target.value),placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${N[`${K.id}-address`]?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm`,disabled:ee}),N[`${K.id}-address`]&&n.jsx("p",{className:"text-xs text-red-400",children:N[`${K.id}-address`]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:`name-${K.id}`,className:"block text-xs font-medium text-gray-300",children:"Student Name"}),n.jsx("input",{id:`name-${K.id}`,type:"text",value:K.name,onChange:re=>te(K.id,"name",re.target.value),placeholder:"Full Name",className:`w-full px-3 py-2 bg-gray-700 border ${N[`${K.id}-name`]?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm`,disabled:ee}),N[`${K.id}-name`]&&n.jsx("p",{className:"text-xs text-red-400",children:N[`${K.id}-name`]})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{htmlFor:`program-${K.id}`,className:"block text-xs font-medium text-gray-300",children:"Program ID"}),r.length>0?n.jsxs("select",{id:`program-${K.id}`,value:K.programId,onChange:re=>te(K.id,"programId",re.target.value),className:`w-full px-3 py-2 bg-gray-700 border ${N[`${K.id}-programId`]?"border-red-500":"border-gray-600"} rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm`,disabled:ee,children:[n.jsx("option",{value:"",children:"Select a program"}),r.map(re=>n.jsxs("option",{value:re.id,children:[re.name," (ID: ",re.id,")"]},re.id))]}):n.jsx("input",{id:`program-${K.id}`,type:"number",value:K.programId,onChange:re=>te(K.id,"programId",re.target.value),placeholder:"Program ID",className:`w-full px-3 py-2 bg-gray-700 border ${N[`${K.id}-programId`]?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm`,min:"0",disabled:ee}),N[`${K.id}-programId`]&&n.jsx("p",{className:"text-xs text-red-400",children:N[`${K.id}-programId`]})]})]})]},K.id))}),n.jsxs("button",{type:"button",onClick:F,className:"mt-4 w-full py-2 border border-dashed border-gray-600 rounded-md text-gray-400 hover:text-gray-300 hover:border-gray-500 transition-colors flex items-center justify-center",disabled:ee||x.length>=c,children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Another Student ",x.length>=c?`(Max: ${c})`:""]})]}),Z&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3",children:n.jsxs("p",{className:"text-sm",children:["Error registering ",u==="single"?"student":"students",":",Z.message||"Unknown error"]})}),W&&C&&n.jsxs("div",{className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-3",children:[u==="single"?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm",children:"Student registration successful!"}),n.jsxs("div",{className:"flex flex-col space-y-1 mt-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-20",children:"Name:"}),n.jsx("span",{className:"text-xs text-white",children:f})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-20",children:"Address:"}),n.jsx("span",{className:"text-xs text-white font-mono truncate",children:h})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-20",children:"Program ID:"}),n.jsx("span",{className:"text-xs text-white",children:y})]})]})]}):n.jsxs("p",{className:"text-sm",children:["Successfully registered ",x.length," students!"]}),n.jsxs("div",{className:"mt-2 flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-20",children:"TX Hash:"}),n.jsx("a",{href:`https://etherscan.io/tx/${C}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 font-mono truncate hover:underline",children:C}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(C)},className:"ml-2 p-1 bg-gray-700 hover:bg-gray-600 rounded text-gray-300",title:"Copy to clipboard",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs("button",{type:"button",onClick:me,className:"text-sm bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded-md transition-colors",children:["Register Another ",u==="single"?"Student":"Batch"]})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{type:"button",onClick:me,className:`px-4 py-2 rounded-md text-white font-medium transition-colors ${ee?"bg-gray-600 cursor-not-allowed opacity-50":"bg-gray-600 hover:bg-gray-700"}`,disabled:ee||W,children:"Reset Form"}),n.jsx("button",{type:"submit",className:`px-4 py-2 rounded-md text-white font-medium transition-colors ${ee||W?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:ee||W,children:ee?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),P?"Registering...":"Confirming..."]}):W?"Registration Complete":`Register ${u==="single"?"Student":"Students"}`})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Registration Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Function: "}),n.jsx("span",{className:"text-gray-200 font-mono",children:u==="single"?"registerStudent":"batchRegisterStudents"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Transaction Type: "}),n.jsx("span",{className:"text-gray-200",children:"Non-payable"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Gas Estimate: "}),n.jsx("span",{className:"text-gray-200",children:u==="single"?"~80,000 gas":`~100,000 + 50,000 per student (${x.length} students)`})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Confirmation Time: "}),n.jsx("span",{className:"text-gray-200",children:"~15-30 seconds"})]})]}),n.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:[n.jsxs("p",{className:"mb-1",children:["Note: ",u==="single"?"The wallet address must be a valid Ethereum address starting with 0x.":"All students in the batch must have valid wallet addresses, names, and program IDs."]}),n.jsx("p",{children:u==="single"?"After registration, the student will need to make their first attendance to activate their account.":"Make sure each address is unique and has the correct format (0x followed by 40 hexadecimal characters)."})]})]})]})},rD=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",mode:"single",singleStudent:null,batchStudents:null,timestamp:null}),i=o=>{o.mode==="single"&&(r(o.singleStudent),a(o))};return{SingleStudentRegistrationComponent:(o={})=>n.jsx(zg,{defaultMode:"single",initialSingleStudent:e,onDataChange:i,hideModeSwitcher:!0,...o}),studentData:t,registrationResult:s,isRegistering:s.status==="pending"||s.status==="confirming",isSuccess:s.status==="success",isError:s.status==="error",error:s.error,transactionHash:s.hash}},sD=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",mode:"batch",singleStudent:null,batchStudents:null,timestamp:null}),i=o=>{o.mode==="batch"&&(r(o.batchStudents),a(o))};return{BatchStudentRegistrationComponent:(o={})=>n.jsx(zg,{defaultMode:"batch",initialBatchStudents:e,onDataChange:i,hideModeSwitcher:!0,...o}),studentsData:t,registrationResult:s,studentCount:(t==null?void 0:t.length)||0,isRegistering:s.status==="pending"||s.status==="confirming",isSuccess:s.status==="success",isError:s.status==="error",error:s.error,transactionHash:s.hash}},aD=(e="single")=>{const[t,r]=w.useState({status:"idle",mode:e,singleStudent:null,batchStudents:null,timestamp:null}),s=a=>{r(a)};return{StudentRegistrationComponent:(a={})=>n.jsx(zg,{defaultMode:e,onDataChange:s,...a}),SingleRegistration:rD(),BatchRegistration:sD(),data:t,getCurrentMode:()=>t.mode,getStatus:()=>t.status,getRegisteredData:()=>t.mode==="single"?t.singleStudent:t.batchStudents,isProcessing:t.status==="pending"||t.status==="confirming",isSuccess:t.status==="success",isError:t.status==="error"}},_v=({contract:e,schoolAddress:t,onStatusFetched:r})=>{const{address:s}=Ge(),[a,i]=w.useState(t||""),[o,l]=w.useState(!t),[c,d]=w.useState("");w.useEffect(()=>{t?(i(t),l(!1)):l(!0)},[t]);const u=o?a:t||s||"",{data:m,isLoading:h,isError:p,refetch:f}=ke({...e,functionName:"isActiveSchool",args:[u],query:{enabled:!!u}});w.useEffect(()=>{m!==void 0&&u&&r&&r(m,u)},[m,u,r]);const v=N=>N?/^0x[a-fA-F0-9]{40}$/.test(N)?(d(""),!0):(d("Invalid Ethereum address format"),!1):(d("School address is required"),!1),y=N=>{i(N),d("")},g=()=>{v(a)&&f()},b=m===void 0?{text:"Unknown Status",color:"text-gray-400",bg:"bg-gray-500/20"}:m===!0?{text:"Active School",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Inactive School",color:"text-red-400",bg:"bg-red-500/20"};return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"School Status Checker"}),o&&n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:a,onChange:N=>y(N.target.value),placeholder:"School address (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${c?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`})}),n.jsx("button",{type:"button",onClick:g,className:"px-3 py-2 bg-gray-600 text-gray-200 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h||!a,children:h?n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}):"Check Status"})]}),c&&n.jsx("p",{className:"text-xs text-red-400",children:c})]}),h&&n.jsxs("div",{className:"flex items-center justify-center py-6",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Checking school status..."})]}),p&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm",children:"Error checking school status. Please try again later."})}),!h&&!p&&m!==void 0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"School Address:"}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-sm font-mono text-gray-300 truncate",children:u})})]}),n.jsxs("div",{className:`${b.bg} border border-${b.color.replace("text-","")}/30 rounded-lg p-5 flex items-center`,children:[n.jsx("div",{className:`w-10 h-10 ${b.color.replace("text-","bg-")}/20 rounded-full flex items-center justify-center mr-4`,children:m?n.jsx("svg",{className:`w-6 h-6 ${b.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:`w-6 h-6 ${b.color}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("div",{children:[n.jsx("h4",{className:`text-lg font-bold ${b.color}`,children:b.text}),n.jsx("p",{className:"text-sm text-gray-300",children:m?"This address is registered as an active school in the system.":"This address is not recognized as an active school."})]})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"What This Means"}),m?n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"This address has been verified as an active school in the educational system. Active schools enjoy several privileges and capabilities:"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Student Management:"})," Ability to register students and manage their educational records"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Program Participation:"})," Access to educational programs and curriculum resources"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Attendance Tracking:"})," Authority to record and verify student attendance"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Certification Authority:"})," Ability to validate student achievements and completed terms"]})]})]})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"This address is not recognized as an active school in the system. There could be several reasons for this status:"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Not Registered:"})," The address may not be registered in the system at all"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Pending Approval:"})," Registration could be pending administrative approval"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Suspended Status:"})," The school may have been suspended from the system"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Different Role:"})," The address might be registered with a different role (e.g., student or teacher)"]})]})]})]})]}),n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-md p-3",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"Next Steps"}),n.jsx("p",{className:"text-sm text-gray-300",children:m?"This address can perform all school-related functions in the system. School administrators can manage students, record attendance, and participate in educational programs.":"If you believe this address should be recognized as an active school, please contact the system administrator or initiate the school registration process through the administrative interface."})]})]}),!h&&!p&&m===void 0&&u&&n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-6 text-center",children:[n.jsx("svg",{className:"w-12 h-12 text-gray-500 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),n.jsx("p",{className:"text-gray-400 mb-3",children:"Enter a school address to check its status"}),n.jsx("p",{className:"text-xs text-gray-500",children:"You can verify if an address is registered as an active school in the educational system."})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About School Status"}),n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"In this educational system, schools are entities that provide educational services to students. Schools must be registered and active in the system to perform various administrative functions related to student management and educational program delivery."}),n.jsx("p",{className:"text-sm text-gray-400",children:"A school's status is an important indicator of whether it is authorized to register students, record attendance, mark completed terms, and participate in the broader educational ecosystem. Only addresses with active school status can perform these functions within the system."})]})]})},iD=({contract:e,hasRoleFunction:t,grantRoleFunction:r,revokeRoleFunction:s,onRoleDataFetched:a})=>{const{address:i}=Ge(),[o,l]=w.useState("overview"),[c,d]=w.useState(""),[u,m]=w.useState(""),[h,p]=w.useState(""),[f,v]=w.useState(""),[y,g]=w.useState({}),[x,b]=w.useState({}),[N,j]=w.useState(null),{data:C,isLoading:E,isError:P}=Oc({contracts:[{...e,functionName:"MASTER_ADMIN_ROLE"},{...e,functionName:"DEFAULT_ADMIN_ROLE"},{...e,functionName:"ADMIN_ROLE"},{...e,functionName:"SCHOOL_ROLE"},{...e,functionName:"TEACHER_ROLE"}]}),[L,_]=w.useState(!1),O=t&&c&&L&&C?[{...t,functionName:"hasRole",args:[C[0].result,c]},{...t,functionName:"hasRole",args:[C[1].result,c]},{...t,functionName:"hasRole",args:[C[2].result,c]},{...t,functionName:"hasRole",args:[C[3].result,c]},{...t,functionName:"hasRole",args:[C[4].result,c]}]:[],{data:W,isLoading:H,refetch:Z}=Oc({contracts:O,query:{enabled:t!==void 0&&c!==""&&L&&C!==void 0&&C.length===5&&!P}}),ee=t&&i&&C?[{...t,functionName:"hasRole",args:[C[0].result,i]},{...t,functionName:"hasRole",args:[C[1].result,i]},{...t,functionName:"hasRole",args:[C[2].result,i]},{...t,functionName:"hasRole",args:[C[3].result,i]},{...t,functionName:"hasRole",args:[C[4].result,i]}]:[],{data:I}=Oc({contracts:ee,query:{enabled:t!==void 0&&i!==void 0&&C!==void 0&&C.length===5&&!P}}),{data:A,error:T,isPending:$,writeContract:D}=zt(),{isLoading:R,isSuccess:F,error:Y}=on({hash:A}),{data:te,isPending:me,writeContract:le}=zt(),{isLoading:ce,isSuccess:K}=on({hash:te}),q=$||R,re=me||ce,ne=T||Y,z=se=>se?`${se.substring(0,10)}...${se.substring(se.length-8)}`:"N/A";w.useEffect(()=>{if(C&&C.length===5&&!P){const se={MASTER_ADMIN_ROLE:C[0].result,DEFAULT_ADMIN_ROLE:C[1].result,ADMIN_ROLE:C[2].result,SCHOOL_ROLE:C[3].result,TEACHER_ROLE:C[4].result};g({MASTER_ADMIN_ROLE:{name:"Master Administrator",description:"The highest authority role with complete system control.",capabilities:["Grant or revoke any role in the system","Perform system-wide configuration changes","Execute emergency system operations","Manage critical contract parameters","Access all administrative functions"],color:"purple",importance:5,icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},DEFAULT_ADMIN_ROLE:{name:"Default Administrator",description:"The built-in administrator role from OpenZeppelin AccessControl.",capabilities:["Grant or revoke most roles in the system","Configure system parameters","Perform administrative operations","Manage contract functionality"],color:"indigo",importance:4,icon:n.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},ADMIN_ROLE:{name:"Administrator",description:"Standard administrative role for day-to-day management.",capabilities:["Manage student registrations","Oversee program operations","Configure educational parameters","Run administrative reports","Handle operational tasks"],color:"blue",importance:3,icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},SCHOOL_ROLE:{name:"School Manager",description:"Role for school-level management and operations.",capabilities:["Manage school-specific programs","Register students in their school","Record and update attendance","Configure school parameters","Generate school reports"],color:"green",importance:2,icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},TEACHER_ROLE:{name:"Teacher",description:"Role for teachers and instructors in the system.",capabilities:["Record student attendance","Update attendance dates","View student information","Generate classroom reports","Manage day-to-day educational activities"],color:"teal",importance:1,icon:n.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),n.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]})}}),a&&a(se)}},[C,P,a]),w.useEffect(()=>{if(I&&I.length===5){const se={MASTER_ADMIN_ROLE:I[0].result,DEFAULT_ADMIN_ROLE:I[1].result,ADMIN_ROLE:I[2].result,SCHOOL_ROLE:I[3].result,TEACHER_ROLE:I[4].result};b(se)}},[I]),w.useEffect(()=>{W&&W.length===5&&_(!0)},[W]);const U=se=>se?/^0x[a-fA-F0-9]{40}$/.test(se)?(v(""),!0):(v("Invalid Ethereum address format"),!1):(v("Address is required"),!1),J=()=>{U(c)&&(_(!0),Z())},ie=()=>{var se;if(!(!r||!h||!u)&&U(u))try{const de=["MASTER_ADMIN_ROLE","DEFAULT_ADMIN_ROLE","ADMIN_ROLE","SCHOOL_ROLE","TEACHER_ROLE"].indexOf(h),je=de!==-1&&C?(se=C[de])==null?void 0:se.result:void 0;if(!je){v("Invalid role selected");return}D({...r,functionName:"grantRole",args:[je,u]})}catch(de){console.error("Error granting role:",de)}},oe=()=>{var se;if(!(!s||!h||!c)&&U(c))try{const de=["MASTER_ADMIN_ROLE","DEFAULT_ADMIN_ROLE","ADMIN_ROLE","SCHOOL_ROLE","TEACHER_ROLE"].indexOf(h),je=de!==-1&&C?(se=C[de])==null?void 0:se.result:void 0;if(!je){v("Invalid role selected");return}le({...s,functionName:"revokeRole",args:[je,c]})}catch(de){console.error("Error revoking role:",de)}},ue=se=>{j(N===se?null:se)};w.useEffect(()=>{F&&!R&&(p(""),c===u&&Z()),K&&!ce&&(p(""),Z())},[F,R,K,ce,u,c,Z]);const xe=()=>n.jsxs("div",{className:"mt-4 p-4 bg-gray-700/20 rounded-lg border border-gray-600",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Role Hierarchy"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-4 top-7 bottom-7 w-0.5 bg-gray-600"}),Object.entries(y).sort(([,se],[,de])=>de.importance-se.importance).map(([se,de])=>n.jsxs("div",{className:"relative pl-8 pb-4 last:pb-0",children:[n.jsx("div",{className:"absolute left-4 top-3.5 w-4 h-0.5 bg-gray-600"}),n.jsx("div",{className:`mb-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${de.color}-500/20 text-${de.color}-400 border border-${de.color}-500/30`,children:de.name}),n.jsx("p",{className:"text-xs text-gray-400 ml-1",children:de.description})]},se))]}),n.jsx("p",{className:"text-xs text-gray-400 mt-3 italic",children:"Higher roles typically have all capabilities of lower roles, plus additional privileges."})]}),ge=()=>n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Object.entries(y).sort(([,se],[,de])=>de.importance-se.importance).map(([se,de])=>{var M;const je=N===se,Le=["MASTER_ADMIN_ROLE","DEFAULT_ADMIN_ROLE","ADMIN_ROLE","SCHOOL_ROLE","TEACHER_ROLE"].indexOf(se),pe=Le!==-1&&C?(M=C[Le])==null?void 0:M.result:"";return n.jsxs(X.div,{initial:{height:"auto"},animate:{height:"auto"},className:"bg-gray-700/30 border border-gray-600 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:`p-3 cursor-pointer flex items-center justify-between bg-${de.color}-500/10 hover:bg-${de.color}-500/20 transition-colors`,onClick:()=>ue(se),children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full bg-${de.color}-500/20 text-${de.color}-400 flex items-center justify-center mr-3`,children:de.icon}),n.jsxs("div",{children:[n.jsx("h4",{className:`text-sm font-medium text-${de.color}-400`,children:de.name}),n.jsx("p",{className:"text-xs text-gray-400",children:se})]})]}),n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${je?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),je&&n.jsxs("div",{className:"p-3 border-t border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:de.description}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h5",{className:"text-xs font-medium text-gray-400 mb-1",children:"Role Identifier:"}),n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-xs font-mono text-gray-300",children:z(pe)})})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xs font-medium text-gray-400 mb-1",children:"Capabilities:"}),n.jsx("ul",{className:"text-xs text-gray-300 space-y-1",children:de.capabilities.map((S,k)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:`w-3 h-3 text-${de.color}-400 mr-1 mt-0.5`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),S]},k))})]})]})]},se)})}),ve=()=>{if(!W||W.length!==5)return null;const se=W.some(de=>de.result);return n.jsxs("div",{className:"mt-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:["Roles for Address: ",n.jsx("span",{className:"font-mono text-xs",children:c})]}),se?n.jsx("div",{className:"space-y-2",children:Object.entries(y).sort(([,de],[,je])=>je.importance-de.importance).map(([de,je])=>{var M;const Le=["MASTER_ADMIN_ROLE","DEFAULT_ADMIN_ROLE","ADMIN_ROLE","SCHOOL_ROLE","TEACHER_ROLE"].indexOf(de),pe=Le!==-1&&((M=W[Le])==null?void 0:M.result);return n.jsx("div",{className:`p-3 rounded-md border ${pe?`border-${je.color}-500/30 bg-${je.color}-500/10`:"border-gray-600 bg-gray-700/20"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-6 h-6 rounded-full ${pe?`bg-${je.color}-500/20 text-${je.color}-400`:"bg-gray-600/20 text-gray-400"} flex items-center justify-center mr-2`,children:pe?n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("div",{children:[n.jsx("h5",{className:`text-sm font-medium ${pe?`text-${je.color}-400`:"text-gray-400"}`,children:je.name}),n.jsx("p",{className:"text-xs text-gray-400",children:de})]})]}),s&&pe&&(x.MASTER_ADMIN_ROLE||x.DEFAULT_ADMIN_ROLE)&&n.jsx("button",{type:"button",onClick:()=>{p(de),oe()},className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-md text-xs hover:bg-red-500/30 transition-colors",disabled:re,children:re&&h===de?n.jsx("div",{className:"w-4 h-4 border-2 border-t-red-400 border-red-200/30 rounded-full animate-spin mx-auto"}):"Revoke"})]})},de)})}):n.jsxs("div",{className:"bg-gray-700/20 p-4 rounded-md text-center",children:[n.jsx("svg",{className:"w-10 h-10 text-gray-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),n.jsx("p",{className:"text-gray-400 mb-1",children:"No Roles Assigned"}),n.jsx("p",{className:"text-xs text-gray-500",children:"This address doesn't have any administrative roles in the system."}),r&&(x.MASTER_ADMIN_ROLE||x.DEFAULT_ADMIN_ROLE)&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Want to grant a role to this address?"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("select",{value:h,onChange:de=>p(de.target.value),className:"flex-grow px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select a role"}),Object.entries(y).map(([de,je])=>n.jsx("option",{value:de,children:je.name},de))]}),n.jsx("button",{type:"button",onClick:ie,className:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",disabled:q||!h,children:q?n.jsx("div",{className:"w-4 h-4 border-2 border-t-white border-white/30 rounded-full animate-spin"}):"Grant"})]})]})]})]})},Ce=()=>!r||!(x.MASTER_ADMIN_ROLE||x.DEFAULT_ADMIN_ROLE)?n.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-md p-4 text-center",children:[n.jsx("svg",{className:"w-10 h-10 text-yellow-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),n.jsx("p",{className:"text-yellow-400 mb-1",children:"Access Restricted"}),n.jsx("p",{className:"text-sm text-gray-300",children:"You need administrative privileges to grant roles."})]}):n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Grant Role to Address"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"grant-address",className:"block text-xs text-gray-400 mb-1",children:"Address"}),n.jsx("input",{id:"grant-address",type:"text",value:u,onChange:se=>{m(se.target.value),v("")},placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${f?"border-red-500":"border-gray-600"} rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:q}),f&&n.jsx("p",{className:"text-xs text-red-400 mt-1",children:f})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"grant-role",className:"block text-xs text-gray-400 mb-1",children:"Role to Grant"}),n.jsxs("select",{id:"grant-role",value:h,onChange:se=>p(se.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:q,children:[n.jsx("option",{value:"",children:"Select a role"}),Object.entries(y).map(([se,de])=>n.jsx("option",{value:se,children:de.name},se))]})]}),h&&n.jsx("div",{className:`p-2 rounded-md bg-${y[h].color}-500/10 border border-${y[h].color}-500/30`,children:n.jsxs("p",{className:"text-xs text-gray-300",children:[n.jsx("span",{className:`text-${y[h].color}-400 font-medium`,children:y[h].name}),": ",y[h].description]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:ie,className:`px-4 py-2 rounded-md text-white font-medium ${q||!h||!u?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:q||!h||!u,children:q?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Granting Role..."]}):"Grant Role"})}),F&&!R&&n.jsxs("div",{className:"bg-green-500/20 text-green-400 border border-green-500/30 rounded-md p-3 mt-2",children:[n.jsx("p",{className:"text-sm",children:"Role successfully granted!"}),n.jsxs("div",{className:"mt-1 flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 mr-2",children:"Transaction Hash:"}),n.jsx("a",{href:`https://etherscan.io/tx/${A}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 font-mono truncate hover:underline",children:A})]})]}),ne&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mt-2",children:n.jsxs("p",{className:"text-sm",children:["Error granting role: ",ne.message||"Unknown error"]})})]})]});return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-2 md:mb-0",children:"Educational Role Management"}),i&&t&&I&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(y).filter(([se])=>x[se]).map(([se,de])=>n.jsxs("div",{className:`px-2.5 py-1 rounded-full text-xs font-medium bg-${de.color}-500/20 text-${de.color}-400 border border-${de.color}-500/30 flex items-center`,children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${de.color}-400 mr-1.5`}),de.name]},se)),!Object.values(x).some(Boolean)&&n.jsx("div",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-gray-700 text-gray-400 border border-gray-600",children:"No Administrative Roles"})]})]}),n.jsxs("div",{className:"flex border-b border-gray-700 mb-4",children:[n.jsx("button",{className:`px-4 py-2 text-sm font-medium ${o==="overview"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>l("overview"),children:"Role Overview"}),n.jsx("button",{className:`px-4 py-2 text-sm font-medium ${o==="lookup"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>l("lookup"),children:"Role Lookup"}),n.jsx("button",{className:`px-4 py-2 text-sm font-medium ${o==="grant"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>l("grant"),children:"Grant Role"})]}),E&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Loading role information..."})]}),P&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm",children:"Error loading role information. Please try again later."})}),!E&&!P&&n.jsxs("div",{children:[o==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Role System Overview"}),n.jsx("p",{className:"text-sm text-gray-300",children:"This educational system uses role-based access control to manage permissions and responsibilities. Different roles have different capabilities within the system, arranged in a hierarchical structure from highest authority (Master Administrator) to specialized roles (Teacher)."}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex items-center text-purple-400 mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),n.jsx("h5",{className:"text-sm font-medium",children:"Role-Based Access"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Each role has specific permissions and capabilities within the system, determining what actions a user can perform."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex items-center text-blue-400 mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),n.jsx("h5",{className:"text-sm font-medium",children:"Hierarchical Structure"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Roles follow a hierarchy where higher roles typically have all the capabilities of lower roles plus additional privileges."})]}),n.jsxs("div",{className:"bg-gray-700/40 rounded-md p-3",children:[n.jsxs("div",{className:"flex items-center text-green-400 mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),n.jsx("h5",{className:"text-sm font-medium",children:"Administrative Control"})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Higher-level administrators can grant or revoke roles, providing governance and access control throughout the system."})]})]})]}),xe(),ge()]}),o==="lookup"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Role Lookup"}),n.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Check which roles are assigned to a specific address in the educational system."}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:c,onChange:se=>{d(se.target.value),v(""),_(!1)},placeholder:"Address to check (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${f?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,disabled:H})}),n.jsx("button",{type:"button",onClick:J,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:H||!c,children:H?n.jsx("div",{className:"w-5 h-5 border-2 border-t-white border-white/30 rounded-full animate-spin"}):"Check Roles"})]}),f&&n.jsx("p",{className:"text-xs text-red-400 mt-1",children:f})]}),H&&n.jsxs("div",{className:"flex items-center justify-center py-4",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Checking roles..."})]}),!H&&L&&ve()]}),o==="grant"&&n.jsxs("div",{className:"space-y-4",children:[Ce(),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About Role Management"}),n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Granting roles is an administrative function that gives specific capabilities to addresses within the educational system. Different roles have different levels of access and responsibility."}),n.jsx("p",{className:"text-sm text-gray-400",children:"Only addresses with appropriate administrative roles (Master Admin or Default Admin) can grant roles to others. Carefully consider which roles to grant to which addresses, as each role provides specific permissions within the system."})]})]})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Educational Guide: Role-Based Access Control"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"This system implements role-based access control (RBAC) using the OpenZeppelin AccessControl contract. RBAC is a method of restricting system access to authorized users based on their assigned roles within the organization."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-blue-400 mb-1",children:"How Roles Work in Blockchain"}),n.jsx("p",{className:"text-xs text-gray-400",children:"In blockchain-based educational systems, roles are represented by unique identifiers (bytes32 values) that are associated with Ethereum addresses. When an address attempts to perform an action, the smart contract checks if that address has the required role before allowing the action to proceed."})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-green-400 mb-1",children:"Benefits of Role-Based Access"}),n.jsx("p",{className:"text-xs text-gray-400",children:"RBAC provides numerous benefits: it simplifies administration by grouping permissions, enhances security by limiting access based on responsibilities, and facilitates compliance by clearly defining who can perform which actions within the system."})]})]})]})]})},Bu=({defaultMode:e="activate-school",initialSchoolAddress:t,initialStudentAddress:r,onSchoolActivated:s,onStudentDeactivated:a,onStudentTransferred:i,onDataChange:o,contract:l=yl,hideRoleChecker:c=!1,showAllTabs:d=!0})=>{const{address:u}=Ge(),[m,h]=w.useState(e==="activate-school"?"activate":e==="deactivate-student"?"deactivate":"transfer"),[p,f]=w.useState(t||""),[v,y]=w.useState(void 0),[g,x]=w.useState(null),[b,N]=w.useState(r||""),[j]=w.useState(""),[C,E]=w.useState(void 0),[P,L]=w.useState(""),[_,O]=w.useState(null),[W,H]=w.useState(r||""),[Z,ee]=w.useState(""),[I,A]=w.useState(""),[T,$]=w.useState(null),[D,R]=w.useState(null),[F,Y]=w.useState(0),[te,me]=w.useState(null),[le,ce]=w.useState(c),[K,q]=w.useState(c),[re,ne]=w.useState(c),[z,U]=w.useState(""),[J,ie]=w.useState(!1),[oe,ue]=w.useState(!1),[xe,ge]=w.useState(""),[ve,Ce]=w.useState(""),[,se]=w.useState("initial"),[de,je]=w.useState({status:"idle",hash:void 0,error:null,timestamp:null}),{writeContractAsync:Le,isPending:pe,isSuccess:M,isError:S,error:k,data:B,reset:G}=zt(),V={address:p,isActive:v,activationTime:g},ae={address:b,isActive:C,currentSchoolAddress:j,deactivationReason:P,deactivationTime:_},we={studentAddress:W,currentSchoolAddress:Z,newSchoolAddress:I,isStudentVerified:T,isNewSchoolActive:D,verificationStep:F,lastUpdated:te},Ue=w.useCallback(()=>({activeOperation:m==="activate"?"activate-school":m==="deactivate"?"deactivate-student":"transfer-student",schoolData:p?{...V}:null,studentData:b?{...ae}:null,transferData:W&&Z&&I?{...we}:null,operationResult:{...de},permissions:{hasTeacherRole:le,hasAdminRole:K,roleCheckComplete:re}}),[m,V,p,ae,b,we,W,Z,I,de,le,K,re]);w.useEffect(()=>{if(o){const Se=Ue();o(Se)}},[Ue,o]);const Ie=(Se,xa)=>Se?/^0x[a-fA-F0-9]{40}$/.test(Se)?(U(""),!0):(U(`Invalid Ethereum address format for ${xa}`),!1):(U(`${xa} address is required`),!1);w.useEffect(()=>{M&&B&&(je({status:"success",hash:B,error:null,timestamp:new Date}),se("completed"),m==="activate"?(x(new Date),y(!0),ge("School activated successfully! The school can now manage students and participate in educational programs."),s&&s(!0,p)):m==="deactivate"?(O(new Date),E(!1),Ce("Student deactivated successfully! The student is no longer active in the educational system."),a&&a(!0,b)):m==="transfer"&&(me(new Date),i&&i(!0,W,I)))},[M,B,m,p,b,W,I,s,a,i]),w.useEffect(()=>{if(S&&k){const Se=(k==null?void 0:k.message)||"Unknown error occurred";je({status:"error",hash:void 0,error:Se,timestamp:new Date}),se("initial"),m==="activate"?(ge(`Error activating school: ${Se}`),s&&s(!1,p)):m==="deactivate"?(Ce(`Error deactivating student: ${Se}`),a&&a(!1,b)):m==="transfer"&&(me(new Date),i&&i(!1,W,I))}},[S,k,m,p,b,W,I,s,a,i]);const Ne=()=>{U(""),se("initial"),G==null||G(),m==="activate"?(t||f(""),ie(!1),ge(""),y(void 0),x(null)):m==="deactivate"?(r||N(""),ue(!1),Ce(""),L(""),O(null),E(void 0)):m==="transfer"&&(r||H(""),ee(""),A(""),$(null),R(null),Y(0),me(null)),je({status:"idle",hash:void 0,error:null,timestamp:null})},Pe=Se=>{h(Se),Ne()},_3=Se=>{y(Se),ie(!Se)},F3=(Se,xa)=>{m==="deactivate"&&xa===b?(E(Se),ue(Se)):m==="transfer"&&xa===W&&($(Se),F===1&&Y(2))},O3=async()=>{if(Ie(p,"School"))try{se("processing"),je({status:"pending",hash:void 0,error:null,timestamp:new Date});const Se=await Le({abi:l.abi,address:l.address,functionName:"activateSchool",args:[p]});je({status:"pending",hash:Se,error:null,timestamp:new Date}),ge("School activation transaction submitted. It may take a moment to process.")}catch(Se){console.error("Error activating school:",Se),je({status:"error",hash:void 0,error:(Se==null?void 0:Se.message)||"Unknown error",timestamp:new Date}),se("initial"),ge("Error submitting activation transaction. Please try again.")}},D3=async()=>{if(Ie(b,"Student"))try{se("processing"),je({status:"pending",hash:void 0,error:null,timestamp:new Date});const Se=await Le({abi:l.abi,address:l.address,functionName:"deactivateStudent",args:[b]});je({status:"pending",hash:Se,error:null,timestamp:new Date}),Ce("Student deactivation transaction submitted. It may take a moment to process.")}catch(Se){console.error("Error deactivating student:",Se),je({status:"error",hash:void 0,error:(Se==null?void 0:Se.message)||"Unknown error",timestamp:new Date}),se("initial"),Ce("Error submitting deactivation transaction. Please try again.")}},$3=Se=>{Se.preventDefault(),!(!Ie(W,"Student")||!Ie(Z,"Current School")||!Ie(I,"New School"))&&(Y(1),me(new Date))},B3=async()=>{if(!(!T||!D))try{se("processing"),je({status:"pending",hash:void 0,error:null,timestamp:new Date});const Se=await Le({abi:l.abi,address:l.address,functionName:"transferStudent",args:[W,I]});je({status:"pending",hash:Se,error:null,timestamp:new Date})}catch(Se){console.error("Error transferring student:",Se),je({status:"error",hash:void 0,error:(Se==null?void 0:Se.message)||"Unknown error",timestamp:new Date}),se("initial")}},z3=()=>T===null?{text:"Not Verified",color:"text-gray-400",bg:"bg-gray-500/20"}:T?{text:"Verified",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Not Verified",color:"text-red-400",bg:"bg-red-500/20"},U3=()=>D===null?{text:"Unknown Status",color:"text-gray-400",bg:"bg-gray-500/20"}:D?{text:"Active School",color:"text-green-400",bg:"bg-green-500/20"}:{text:"Inactive School",color:"text-red-400",bg:"bg-red-500/20"},$l=T&&D&&F===3&&!pe,Di=z3(),$i=U3();return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Student Management System"}),n.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Manage schools, students, and transfers on the blockchain."}),d&&n.jsxs("div",{className:"flex flex-wrap mb-6 border-b border-gray-700",children:[n.jsx("button",{onClick:()=>Pe("activate"),className:`py-2 px-4 text-sm font-medium transition-colors ${m==="activate"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Activate School"}),n.jsx("button",{onClick:()=>Pe("deactivate"),className:`py-2 px-4 text-sm font-medium transition-colors ${m==="deactivate"?"text-red-400 border-b-2 border-red-400":"text-gray-400 hover:text-gray-300"}`,children:"Deactivate Student"}),n.jsx("button",{onClick:()=>Pe("transfer"),className:`py-2 px-4 text-sm font-medium transition-colors ${m==="transfer"?"text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:"Transfer Student"})]}),u&&n.jsx("div",{className:"mb-4 bg-gray-700/30 p-3 rounded-md",children:n.jsxs("p",{className:"text-xs text-gray-400",children:["Connected as: ",n.jsx("span",{className:"text-blue-400 font-mono",children:u})]})}),!c&&n.jsx("div",{className:"hidden",children:n.jsx(iD,{contract:l,hasRoleFunction:l,onRoleDataFetched:()=>{ce(!0),q(!0),ne(!0)}})}),m==="activate"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-blue-400 mb-3",children:"School Activation Portal"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Activate a school to grant it permissions for managing students and educational programs."})}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsx("div",{className:"flex space-x-2",children:n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:p,onChange:Se=>{f(Se.target.value),U(""),ie(!1),G==null||G()},placeholder:"School address (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${z?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`})})}),z&&n.jsx("p",{className:"text-xs text-red-400",children:z})]}),p&&Ie(p,"School")&&v!==void 0&&n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:`flex items-center p-3 rounded-md ${v?"bg-green-900/20 border border-green-700/30":"bg-yellow-900/20 border border-yellow-700/30"}`,children:[v?n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("span",{className:`text-sm ${v?"text-green-300":"text-yellow-300"}`,children:v?"This address is an active school in the system":"This address is not currently active as a school"})]})}),p&&Ie(p,"School")&&n.jsx("div",{className:v!==void 0?"hidden":"mb-6",children:n.jsx(_v,{contract:l,schoolAddress:p,onStatusFetched:_3})}),J&&n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-lg font-medium text-blue-400 mb-3",children:"Activate School"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-4",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"You are about to activate the following address as a school in the system:"}),n.jsx("div",{className:"bg-gray-800/50 rounded-md p-3 font-mono text-sm text-white break-all mb-3",children:p}),n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Activating a school grants this address the following capabilities:"}),n.jsxs("ul",{className:"space-y-2 mb-3",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Register and manage student accounts"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Record student attendance and progress"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Participate in educational programs"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Issue credentials and certifications"})]})]}),n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-md p-3 text-sm text-yellow-200",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("span",{children:"This action will grant significant permissions to the address. Please ensure this is a legitimate school administration address before proceeding."})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>ie(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:pe,children:"Cancel"}),n.jsx("button",{type:"button",onClick:O3,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:pe,children:pe?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Activating..."]}):"Activate School"})]})]})]}),de.status==="success"&&m==="activate"&&n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-green-900/20 border border-green-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-green-400",children:"Activation Successful"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:xe}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-700/30",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"The school is now ready to register students and participate in educational programs. To begin managing students, navigate to the School Management Dashboard."}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Activate Another School"})})]})]})]})}),de.status==="error"&&m==="activate"&&n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-red-900/20 border border-red-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-red-400",children:"Activation Failed"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:xe}),n.jsx("div",{className:"mt-3 pt-3 border-t border-red-700/30",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Try Again"})})]})]})}),v&&!J&&de.status!=="success"&&de.status!=="error"&&n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-blue-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-blue-400",children:"School Already Active"}),n.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["The address ",n.jsx("span",{className:"font-mono bg-gray-800/70 px-1 rounded",children:p})," is already registered as an active school in the system."]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"This school can already register students and participate in educational programs. If you need to manage this school, you can visit the School Management Dashboard."}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Check Another School"})})]})]})]})}),!v&&!J&&de.status!=="success"&&de.status!=="error"&&n.jsxs("div",{className:"mt-6 bg-gray-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"About School Activation"}),n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"School activation is the process of granting an Ethereum address the permissions and capabilities needed to function as a school within the educational system. This is typically performed by system administrators."}),n.jsx("p",{className:"text-sm text-gray-300",children:"To activate a school, you'll need to:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-300 mt-2 pl-2",children:[n.jsx("li",{children:"Enter the Ethereum address of the school to be activated"}),n.jsx("li",{children:"Verify the current status of the address (active/inactive)"}),n.jsx("li",{children:"If the address is not already active, proceed with activation"}),n.jsx("li",{children:"Confirm the activation transaction using your connected wallet"})]})]})]})}),m==="deactivate"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-red-400 mb-3",children:"Student Deactivation Portal"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Deactivate a student to remove them from active participation in educational programs."})}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Student Address"}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("div",{className:"flex-grow",children:n.jsx("input",{type:"text",value:b,onChange:Se=>{N(Se.target.value),U(""),ue(!1),G==null||G()},placeholder:"Student address (0x...)",className:`w-full px-3 py-2 bg-gray-700 border ${z?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent`})})}),z&&n.jsx("p",{className:"text-xs text-red-400",children:z})]}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Test Student Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>N("0x742d35Cc6634C0532925a3b844Bc454e4438f44e"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test Student 1"}),n.jsx("button",{type:"button",onClick:()=>N("0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199"),className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Test Student 2"})]})]}),b&&Ie(b,"Student")&&n.jsx("div",{className:"mb-6",children:n.jsx(vO,{contract:l,studentAddress:b,onVerificationResult:F3})}),oe&&n.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-red-900/20 border border-red-700/30 rounded-lg p-4",children:[n.jsx("h4",{className:"text-lg font-medium text-red-400 mb-3",children:"Deactivate Student"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-4",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"You are about to deactivate the following student in the educational system:"}),n.jsx("div",{className:"bg-gray-800/50 rounded-md p-3 font-mono text-sm text-white break-all mb-3",children:b}),n.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Deactivating a student will have the following effects:"}),n.jsxs("ul",{className:"space-y-2 mb-3",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Remove the student from active class rosters"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Prevent the student from earning new credentials"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"Halt attendance tracking for this student"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-gray-300",children:"End participation in current programs and activities"})]})]}),n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsx("label",{className:"block text-sm text-gray-400",children:"Reason for Deactivation"}),n.jsx("textarea",{value:P,onChange:Se=>L(Se.target.value),placeholder:"Please provide a reason for deactivating this student (for record-keeping purposes)",rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Note: This reason is stored in your administrative records but is not written to the blockchain."})]}),n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-md p-3 text-sm text-red-200 mt-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("span",{children:"This action will immediately remove student privileges from this address. The student's academic record will remain intact, but they will no longer be active in the system."})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>ue(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:pe,children:"Cancel"}),n.jsx("button",{type:"button",onClick:D3,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",disabled:pe,children:pe?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deactivating..."]}):"Deactivate Student"})]})]})]}),de.status==="success"&&m==="deactivate"&&n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-green-900/20 border border-green-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-green-400",children:"Deactivation Successful"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:ve}),_&&n.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Completed ",Zt(_,{addSuffix:!0})]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-green-700/30",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"The student has been deactivated and can no longer participate in the educational system. Their academic record remains intact for reference."}),n.jsx("div",{className:"mt-3",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Deactivate Another Student"})})]})]})]})}),de.status==="error"&&m==="deactivate"&&n.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6 bg-red-900/20 border border-red-700/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-red-400",children:"Deactivation Failed"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:ve}),n.jsx("div",{className:"mt-3 pt-3 border-t border-red-700/30",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Try Again"})})]})]})})]})}),m==="transfer"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-green-400 mb-3",children:"Student Transfer System"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Transfer a student from one school to another while maintaining their academic records."})}),n.jsx("form",{onSubmit:$3,className:"space-y-4 mb-4",children:n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"student-address",className:"block text-sm font-medium text-gray-300",children:"Student Wallet Address"}),n.jsx("input",{id:"student-address",type:"text",value:W,onChange:Se=>{H(Se.target.value),U(""),Y(0),$(null),G==null||G()},placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${z&&!W?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the student's Ethereum wallet address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"current-school-address",className:"block text-sm font-medium text-gray-300",children:"Current School Address"}),n.jsx("input",{id:"current-school-address",type:"text",value:Z,onChange:Se=>{ee(Se.target.value),U(""),Y(0),$(null),G==null||G()},placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${z&&!Z?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the address of the student's current school"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"new-school-address",className:"block text-sm font-medium text-gray-300",children:"New School Address"}),n.jsx("input",{id:"new-school-address",type:"text",value:I,onChange:Se=>{A(Se.target.value),U(""),Y(0),R(null),G==null||G()},placeholder:"0x...",className:`w-full px-3 py-2 bg-gray-700 border ${z&&!I?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent`}),n.jsx("p",{className:"text-xs text-gray-400",children:"Enter the address of the school to transfer to"})]}),z&&n.jsx("div",{className:"text-xs text-red-400 bg-red-400/10 p-2 rounded border border-red-400/30",children:z}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs text-gray-400 mb-1",children:"Test Addresses:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{H("0x742d35Cc6634C0532925a3b844Bc454e4438f44e"),ee("0xdD2FD4581271e230360230F9337D5c0430Bf44C0"),A("0x5FbDB2315678afecb367f032d93F642f64180aa3"),U(""),Y(0),$(null),R(null),G==null||G()},className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Load Test Data"}),n.jsx("button",{type:"button",onClick:Ne,className:"text-xs bg-gray-600 hover:bg-gray-500 text-gray-200 py-1 px-2 rounded",children:"Reset"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",disabled:F>0,children:F>0?"Verification in progress...":"Verify Eligibility"})})]})}),F>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Verification Status"}),n.jsxs("div",{className:"bg-gray-700/30 border border-gray-600 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300",children:"Student Enrollment Check"}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${Di.bg} border border-${Di.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${Di.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-xs font-medium ${Di.color}`,children:Di.text})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Student Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:W})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Current School Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:Z})]})]}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:T===null?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Verifying student enrollment..."})]}):T?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm text-green-400",children:"Verified: Student is enrolled at the specified school"})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-red-400",children:"Not verified: Student is not enrolled at the specified school"})]})})]}),F===2&&n.jsx("div",{className:"hidden",children:n.jsx(_v,{contract:l,schoolAddress:I,onStatusFetched:Se=>{R(Se),F===2&&Y(3)}})}),F>=2&&n.jsxs("div",{className:"bg-gray-700/30 border border-gray-600 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300",children:"New School Status Check"}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${$i.bg} border border-${$i.color.replace("text-","")}/30`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${$i.color.replace("text-","bg-")} mr-2`}),n.jsx("span",{className:`text-xs font-medium ${$i.color}`,children:$i.text})]})]}),n.jsxs("div",{className:"space-y-1 mb-4",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Target School Address:"}),n.jsx("p",{className:"text-sm font-mono text-white break-all",children:I})]}),n.jsx("div",{className:"bg-gray-700/40 rounded-md p-3 border border-gray-600",children:D===null?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-sm text-gray-300",children:"Checking school status..."})]}):D?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm text-green-400",children:"Verified: School is active in the system"})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("span",{className:"text-sm text-red-400",children:"Not verified: School is not active in the system"})]})})]}),F===3&&n.jsxs("div",{className:`${$l?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"} border rounded-lg p-4`,children:[n.jsx("h5",{className:`text-sm font-medium ${$l?"text-green-400":"text-red-400"} mb-2`,children:"Transfer Eligibility Status"}),n.jsxs("ul",{className:"space-y-2 mb-4",children:[n.jsxs("li",{className:"flex items-start",children:[T?n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"Student Verification:"})," Student ",T?"is":"is not"," enrolled at current school"]})]}),n.jsxs("li",{className:"flex items-start",children:[D?n.jsx("svg",{className:"w-5 h-5 text-green-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-white font-medium",children:"New School Status:"})," New school ",D?"is":"is not"," active in the system"]})]})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3",children:$l?n.jsx("p",{className:"text-sm text-green-400",children:"Student is eligible for transfer to the new school"}):n.jsx("p",{className:"text-sm text-red-400",children:"Student is not eligible for transfer. Please ensure the student is enrolled at the current school and the new school is active."})}),$l&&n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{type:"button",onClick:B3,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:pe,children:pe?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Transfer..."]}):"Initiate Transfer"})})]}),de.status==="success"&&m==="transfer"&&n.jsx("div",{className:"bg-green-500/10 border-green-500/30 border rounded-lg p-4 mt-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-green-400",children:"Transfer Successful"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Student has been successfully transferred to the new school."}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Transfer Another Student"})})]})]})}),de.status==="error"&&m==="transfer"&&n.jsx("div",{className:"bg-red-500/10 border-red-500/30 border rounded-lg p-4 mt-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-red-400",children:"Transfer Failed"}),n.jsx("p",{className:"text-sm text-gray-300 mt-1",children:de.error?de.error.message:"An error occurred during the transfer process."}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Try Again"})})]})]})}),te&&n.jsxs("div",{className:"text-xs text-gray-400 text-right mt-2",children:["Last updated ",Zt(te,{addSuffix:!0})]})]})]})})]})},oD=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",timestamp:null}),i=o=>{r(o.schoolData),a(o.operationResult)};return{SchoolActivationComponent:(o={})=>n.jsx(Bu,{defaultMode:"activate-school",initialSchoolAddress:e,onDataChange:i,showAllTabs:!1,...o}),schoolData:t,operationResult:s,isActive:(t==null?void 0:t.isActive)||!1,isLoading:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",error:s.error}},lD=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",timestamp:null}),i=o=>{r(o.studentData),a(o.operationResult)};return{StudentDeactivationComponent:(o={})=>n.jsx(Bu,{defaultMode:"deactivate-student",initialStudentAddress:e,onDataChange:i,showAllTabs:!1,...o}),studentData:t,operationResult:s,isActive:(t==null?void 0:t.isActive)||!1,deactivationReason:(t==null?void 0:t.deactivationReason)||"",isLoading:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",error:s.error}},cD=e=>{const[t,r]=w.useState(null),[s,a]=w.useState({status:"idle",timestamp:null}),i=o=>{r(o.transferData),a(o.operationResult)};return{StudentTransferComponent:(o={})=>n.jsx(Bu,{defaultMode:"transfer-student",initialStudentAddress:e,onDataChange:i,showAllTabs:!1,...o}),transferData:t,operationResult:s,isVerified:(t==null?void 0:t.isStudentVerified)||!1,isNewSchoolActive:(t==null?void 0:t.isNewSchoolActive)||!1,verificationStep:(t==null?void 0:t.verificationStep)||0,isLoading:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",error:s.error}},dD=()=>{const[e,t]=w.useState(null),r=s=>{t(s)};return{StudentManagementComponent:(s={})=>n.jsx(Bu,{onDataChange:r,showAllTabs:!0,...s}),SchoolActivation:oD(),StudentDeactivation:lD(),StudentTransfer:cD(),data:e,getCurrentOperation:()=>(e==null?void 0:e.activeOperation)||"activate-school",hasPermission:s=>s==="teacher"?(e==null?void 0:e.permissions.hasTeacherRole)||!1:s==="admin"&&(e==null?void 0:e.permissions.hasAdminRole)||!1}},uD=({withdrawContract:e=rs,feeContract:t=rs,roleContract:r=rs,pauseContract:s=rs,onFinancialActionComplete:a,initialFinancialData:i})=>{const{address:o}=Ge(),[l,c]=w.useState("withdraw"),[d,u]=w.useState((i==null?void 0:i.programId)||1),[m,h]=w.useState((i==null?void 0:i.registrationFee)||0),[p,f]=w.useState((i==null?void 0:i.termFee)||0),[v,y]=w.useState((i==null?void 0:i.graduationFee)||0),[g,x]=w.useState((i==null?void 0:i.lateFeePercentage)||0),[b,N]=w.useState((i==null?void 0:i.contractBalance)||BigInt(0)),[j,C]=w.useState((i==null?void 0:i.canWithdraw)||!1),[E,P]=w.useState((i==null?void 0:i.canManageFees)||!1),[L,_]=w.useState((i==null?void 0:i.hasAdminRole)||null),[O,W]=w.useState((i==null?void 0:i.isSystemPaused)||null),[H,Z]=w.useState((i==null?void 0:i.lastChecked)||null),[ee,I]=w.useState((i==null?void 0:i.errorMessage)||""),[A,T]=w.useState((i==null?void 0:i.validationError)||""),{data:$,isLoading:D,isError:R}=ke({...r,functionName:"ADMIN_ROLE"}),{data:F,isLoading:Y,isError:te,refetch:me}=ke({...s,functionName:"paused"}),{data:le,isLoading:ce,isError:K,refetch:q}=ke({...r,functionName:"hasRole",args:$&&o?[$,o]:void 0,query:{enabled:!!$&&!!o}}),{data:re,isLoading:ne,isError:z,refetch:U}=ke({...e,functionName:"getBalance",query:{enabled:!0}}),{data:J,error:ie,isPending:oe,writeContract:ue}=zt(),{isLoading:xe,isSuccess:ge,error:ve}=on({hash:J}),{data:Ce,error:se,isPending:de,writeContract:je}=zt(),{isLoading:Le,isSuccess:pe,error:M}=on({hash:Ce}),S=D||Y||ce||ne,k=oe||xe||de||Le,G={status:ge||pe?"success":ie||se?"error":xe||Le?"confirming":oe||de?"pending":S?"checking":"idle"},V=Ne=>isNaN(Ne)||Ne<=0?(T("Program ID must be a positive number"),!1):(T(""),!0),ae=()=>{const Ne=[{value:m,name:"Registration fee"},{value:p,name:"Term fee"},{value:v,name:"Graduation fee"}];for(const Pe of Ne)if(isNaN(Pe.value)||Pe.value<0)return T(`${Pe.name} must be a non-negative number`),!1;return isNaN(g)||g<0||g>100?(T("Late fee percentage must be between 0 and 100"),!1):(T(""),!0)},we=()=>{if(!j){I(le?F?"System is paused. Cannot withdraw funds at this time":"Unable to withdraw funds due to system constraints":"You do not have the ADMIN_ROLE required to withdraw funds");return}if(!b||b<=BigInt(0)){I("No balance available to withdraw");return}try{I(""),ue({...e,functionName:"withdrawBalance",args:[]})}catch(Ne){console.error("Error withdrawing balance:",Ne),I("Error initiating withdrawal")}},Ue=Ne=>{if(Ne.preventDefault(),!(!V(d)||!ae())){if(!E){T(le?F?"System is paused. Cannot set program fees at this time":"Unable to set program fees due to system constraints":"You do not have the ADMIN_ROLE required to set program fees");return}try{je({...t,functionName:"setProgramFees",args:[BigInt(d),BigInt(m),BigInt(p),BigInt(v),BigInt(g)]})}catch(Pe){console.error("Error setting program fees:",Pe),T("Error initiating fee update")}}};w.useEffect(()=>{if(!S){const Ne=!!le,Pe=!!F;_(Ne),W(Pe),C(Ne&&!Pe),P(Ne&&!Pe),Z(new Date),re&&N(re),I(R||te||K||z?"Error connecting to blockchain. Please check your connection and try again.":"")}},[le,F,re,S,R,te,K,z]),w.useEffect(()=>{(ge||pe)&&!k&&(a&&(ge&&J&&a("withdrawal",J),pe&&Ce&&a("fee-update",Ce)),q(),me(),U(),h(0),f(0),y(0),x(0))},[ge,pe,k,J,Ce,a,q,me,U]),w.useEffect(()=>{ve?I(`Transaction error: ${ve.message}`):M&&T(`Transaction error: ${M.message}`)},[ve,M]);const Ie=()=>H?Zt(H,{addSuffix:!0}):"Never checked";return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900 text-white p-6 rounded-xl shadow-2xl border border-gray-800",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-blue-600",children:"Financial Management Dashboard"}),n.jsx("div",{className:"mb-4 text-center",children:n.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${G.status==="success"?"bg-green-500/20 text-green-400":G.status==="error"?"bg-red-500/20 text-red-400":G.status==="pending"||G.status==="confirming"?"bg-yellow-500/20 text-yellow-400":G.status==="checking"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:["Status: ",G.status.charAt(0).toUpperCase()+G.status.slice(1)]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Current Contract Balance"}),n.jsx("div",{className:"text-2xl font-bold text-green-400",children:b?`${Mt(b)} ETH`:"0 ETH"})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"System Status"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${L?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:`text-sm ${L?"text-green-400":"text-red-400"}`,children:L?"Admin Access: Granted":"Admin Access: Denied"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${O?"bg-red-500":"bg-green-500"}`}),n.jsx("span",{className:`text-sm ${O?"text-red-400":"text-green-400"}`,children:O?"System: Paused":"System: Active"})]})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex border-b border-gray-700",children:[n.jsx("button",{onClick:()=>c("withdraw"),className:`px-4 py-2 text-sm font-medium 
              text-gray-300 hover:text-white hover:bg-gray-800 
              border-b-2 ${l==="withdraw"?"border-amber-500 text-white":"border-transparent"} 
              focus:outline-none transition-colors`,children:"Withdraw Balance"}),n.jsx("button",{onClick:()=>c("fees"),className:`px-4 py-2 text-sm font-medium 
              text-gray-300 hover:text-white hover:bg-gray-800 
              border-b-2 ${l==="fees"?"border-purple-500 text-white":"border-transparent"} 
              focus:outline-none transition-colors`,children:"Manage Program Fees"})]})}),l==="withdraw"&&n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold text-amber-400 mb-4",children:"Contract Balance Withdrawal"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Current Withdrawable Balance"}),n.jsx("div",{className:"text-2xl font-bold text-green-400 mb-4",children:b?`${Mt(b)} ETH`:"0 ETH"}),ee&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:ee})]}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsx("button",{onClick:we,disabled:k||!j||!b||b<=BigInt(0),className:`w-full py-3 rounded-md font-medium transition-colors ${k||!j||!b||b<=BigInt(0)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:k?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Withdrawal..."]}):"Withdraw All Funds"}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Requires admin role and active system status"})]})]})]}),l==="fees"&&n.jsxs("form",{onSubmit:Ue,className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:"Program Fee Configuration"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"programId",className:"block text-sm font-medium text-gray-300 mb-2",children:"Program ID"}),n.jsx("input",{id:"programId",type:"number",min:"1",value:d,onChange:Ne=>{const Pe=parseInt(Ne.target.value);u(Pe),V(Pe)},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&(!d||d<=0)?"border-red-500":"border-gray-600"}`,disabled:k||!E})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"registrationFee",className:"block text-sm font-medium text-gray-300 mb-2",children:"Registration Fee (wei)"}),n.jsx("input",{id:"registrationFee",type:"number",min:"0",value:m,onChange:Ne=>{h(parseFloat(Ne.target.value)),ae()},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&m<0?"border-red-500":"border-gray-600"}`,disabled:k||!E})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"termFee",className:"block text-sm font-medium text-gray-300 mb-2",children:"Term Fee (wei)"}),n.jsx("input",{id:"termFee",type:"number",min:"0",value:p,onChange:Ne=>{f(parseFloat(Ne.target.value)),ae()},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&p<0?"border-red-500":"border-gray-600"}`,disabled:k||!E})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"graduationFee",className:"block text-sm font-medium text-gray-300 mb-2",children:"Graduation Fee (wei)"}),n.jsx("input",{id:"graduationFee",type:"number",min:"0",value:v,onChange:Ne=>{y(parseFloat(Ne.target.value)),ae()},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&v<0?"border-red-500":"border-gray-600"}`,disabled:k||!E})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lateFeePercentage",className:"block text-sm font-medium text-gray-300 mb-2",children:"Late Fee Percentage (0-100%)"}),n.jsx("input",{id:"lateFeePercentage",type:"number",min:"0",max:"100",value:g,onChange:Ne=>{x(parseFloat(Ne.target.value)),ae()},className:`w-full px-3 py-2 bg-gray-700 border rounded text-white ${A&&(g<0||g>100)?"border-red-500":"border-gray-600"}`,disabled:k||!E})]})}),A&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:A}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:k||!E,className:`px-6 py-3 rounded-md font-medium transition-colors ${k||!E?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:k?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating Fees..."]}):"Set Program Fees"})})]}),(J||Ce)&&n.jsxs("div",{className:"mt-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Recent Transaction"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Transaction Hash"}),n.jsx("p",{className:"text-xs text-blue-300 break-all",children:J||Ce})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Transaction Status"}),n.jsx("div",{className:`text-sm font-medium ${ge||pe?"text-green-400":k?"text-yellow-400":"text-red-400"}`,children:ge||pe?"Transaction Confirmed":k?"Processing...":"Transaction Failed"})]})]})]}),(R||te||K||z)&&n.jsxs("div",{className:"mt-6 bg-red-500/10 rounded-lg p-4 border border-red-500/30",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("h3",{className:"text-sm font-medium text-red-400",children:"Connection Error"})]}),n.jsx("p",{className:"mt-2 text-xs text-red-300",children:"There was an error connecting to the blockchain network. Please check your connection and try again."})]}),n.jsxs("div",{className:"mt-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"System Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Last Checked"}),n.jsx("p",{className:"text-sm text-blue-300",children:Ie()})]}),n.jsx("div",{children:n.jsx("button",{onClick:()=>{q(),me(),U(),Z(new Date)},className:"w-full py-2 px-4 bg-gray-700 hover:bg-gray-600 rounded-md text-sm text-white transition-colors",children:"Refresh System Status"})})]})]})]})},mD=e=>e?`${e.slice(0,6)}...${e.slice(-4)}`:"",hD=e=>e?new Date(e*1e3).toLocaleString():"N/A",pD=e=>{if(!e)return{days:0,hours:0,minutes:0};const t=Math.floor(Date.now()/1e3),r=Math.max(0,e-t),s=Math.floor(r/(60*60*24)),a=Math.floor(r%(60*60*24)/(60*60)),i=Math.floor(r%(60*60)/60);return{days:s,hours:a,minutes:i}},fD=({contract:e,onDetailsChange:t,onRefresh:r,defaultAddress:s="",autoFetch:a=!1,hideProgressBar:i=!1})=>{const o=e||G_,[l,c]=w.useState(s),[d,u]=w.useState(null),[m,h]=w.useState(!1),[p,f]=w.useState(""),[v,y]=w.useState(!1),[g,x]=w.useState(null),{isError:b,isLoading:N,refetch:j}=ke({...o,functionName:"getOrganizationDetails",args:[l],enabled:!1});w.useEffect(()=>{s&&c(s)},[s]);const C=d?d.isActive?"Active":d.isInGracePeriod?"Grace Period":"Inactive":"",E=d?pD(d.subscriptionEnd):{days:0,hours:0,minutes:0},L=d?(()=>{if(!d||!d.subscriptionDuration)return 0;const W=Math.floor(Date.now()/1e3),H=Math.max(0,W-(d.subscriptionEnd-d.subscriptionDuration));return Math.min(100,H/d.subscriptionDuration*100)})():0;w.useEffect(()=>{if(t){const W={address:l,details:d,subscriptionStatus:C,timeRemaining:E,progress:L,lastFetched:g,isLoading:N,isError:b,errorMessage:p.includes("Error")||p.includes("invalid")?p:null};t(W)}},[l,d,C,E,L,g,N,b,p,t]);const _=async()=>{if(!l){f("Please enter an organization address"),y(!0);return}try{const W=await j();if(W.data){const H=W.data;u({contractAddress:H[0],isActive:H[1],subscriptionEnd:Number(H[2]),subscriptionDuration:Number(H[3]),isInGracePeriod:H[4]}),x(new Date),f("Organization details fetched successfully"),h(!0),r&&r()}else f("No organization details found or invalid address"),u(null),h(!1)}catch(W){console.error("Error fetching organization details:",W),f("Error fetching organization details"),u(null),h(!1)}y(!0)};w.useEffect(()=>{if(v){const W=setTimeout(()=>{y(!1)},5e3);return()=>clearTimeout(W)}},[v]),w.useEffect(()=>{a&&l&&!g&&_()},[a,l,g]);const O=W=>{W&&W!==l?(c(W),setTimeout(()=>{_()},100)):_()};return w.useEffect(()=>(typeof window<"u"&&(window.__organizationDetailsRefresh=O),()=>{typeof window<"u"&&delete window.__organizationDetailsRefresh}),[l]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Organization Details"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"orgAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Organization Address"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("input",{id:"orgAddress",type:"text",value:l,onChange:W=>c(W.target.value),placeholder:"0x...",className:"bg-gray-800 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-blue-500 focus:border-purple-500 block w-full p-2.5"}),n.jsx(X.button,{onClick:_,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:N,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:N?"Loading...":"Fetch"})]})]}),v&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md ${p.includes("Error")||p.includes("invalid")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:p})}),N&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading organization details..."})]}),b&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error fetching organization details"})]})}),m&&d&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Organization Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsxs("div",{className:"font-mono text-gray-200 break-all",children:[n.jsx("span",{className:"block md:hidden",children:mD(d.contractAddress)}),n.jsx("span",{className:"hidden md:block",children:d.contractAddress})]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Subscription Status"}),n.jsx("div",{className:`font-semibold ${d.isActive?"text-green-400":d.isInGracePeriod?"text-yellow-400":"text-red-400"}`,children:C})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Subscription End"}),n.jsx("div",{className:"text-gray-200",children:hD(d.subscriptionEnd)})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Subscription Duration"}),n.jsxs("div",{className:"text-gray-200",children:[Math.floor(d.subscriptionDuration/86400)," days"]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Time Remaining"}),n.jsxs("div",{className:"text-gray-200",children:[E.days," days, ",E.hours," hours, ",E.minutes," minutes"]})]})]}),d.isActive&&!i&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Subscription Progress"}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:d.subscriptionDuration>0&&n.jsx("div",{className:`h-4 rounded-full ${d.isInGracePeriod?"bg-gradient-to-r from-yellow-500 to-red-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`,style:{width:`${Math.min(100,100-(d.subscriptionEnd-Math.floor(Date.now()/1e3))/d.subscriptionDuration*100)}%`}})})]}),g&&n.jsx("div",{className:"mt-4 bg-gray-700/20 rounded-md p-2.5",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-end",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",g.toLocaleString()]})})]})]})})]})},gD=(e,t=!1)=>{const[r,s]=w.useState(null),a=i=>{s(i)};return{OrganizationDetailsComponent:()=>n.jsx(fD,{defaultAddress:e,onDetailsChange:a,autoFetch:t}),data:r,refreshDetails:i=>{typeof window<"u"&&window.__organizationDetailsRefresh&&window.__organizationDetailsRefresh(i)}}},xD=({balanceContract:e,schoolAddress:t,onBalanceChange:r,onRefresh:s,hideCustomInput:a=!1})=>{const i=e||rs,{address:o}=Ge(),[l,c]=w.useState(t||o),[d,u]=w.useState(""),[m,h]=w.useState(!t&&!o&&!a),[p,f]=w.useState(""),[v,y]=w.useState(null);w.useEffect(()=>{t?(c(t),h(!1)):o?(c(o),h(!1)):a||h(!0)},[t,o,a]);const{data:g,isLoading:x,isError:b,refetch:N}=ke({...i,functionName:"schoolBalance",args:l?[l]:void 0,query:{enabled:!!l}}),j=g?Mt(g):"0",C=g?g>BigInt(0):!1;w.useEffect(()=>{r&&r({address:l,balance:{raw:g,formatted:j,hasFunds:C},lastChecked:v,isLoading:x,isError:b})},[l,g,j,C,v,x,b,r]);const E=Z=>{u(Z.target.value),f("")},P=Z=>Z?/^0x[a-fA-F0-9]{40}$/.test(Z)?(f(""),!0):(f("Invalid Ethereum address format"),!1):(f("School address is required"),!1),L=()=>{P(d)&&(c(d),y(new Date))},_=()=>v?Zt(v,{addSuffix:!0}):"Never checked",O=()=>{N(),y(new Date),s&&s()},W=()=>{h(!m),m?o&&c(o):(c(void 0),u(""))},H=Z=>{Z&&Z!==l?(c(Z),setTimeout(()=>{N(),y(new Date)},100)):(N(),y(new Date))};return w.useEffect(()=>(typeof window<"u"&&(window.__schoolBalanceRefresh=H),()=>{typeof window<"u"&&delete window.__schoolBalanceRefresh}),[l]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-teal-400 mb-3",children:"School Balance Viewer"}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"School Address"}),!t&&!a&&n.jsx("button",{onClick:W,className:"text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500",children:m?"Use Connected Address":"Enter Custom Address"})]}),m?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:d,onChange:E,placeholder:"0x...",className:`flex-1 px-3 py-2 bg-gray-700 border ${p?"border-red-500":"border-gray-600"} rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent`}),n.jsx("button",{onClick:L,className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 rounded-md text-white font-medium focus:outline-none focus:ring-2 focus:ring-teal-500",children:"Check"})]}),p&&n.jsx("div",{className:"text-xs text-red-400",children:p})]}):n.jsxs("div",{className:"bg-gray-700/50 rounded-md p-3",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Current Address:"}),n.jsx("div",{className:"font-mono text-sm text-white break-all",children:l||"No address selected"})]})]}),n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"School Balance"}),x&&n.jsx("div",{className:"flex items-center justify-center py-6",children:n.jsx("div",{className:"w-6 h-6 border-2 border-t-teal-400 border-teal-200/30 rounded-full animate-spin"})}),b&&!x&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4 w-full",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Balance Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:"Unable to fetch school balance. Please try again later."})]})]})}),!x&&!b&&l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold text-teal-400 mb-2",children:[j," ETH"]}),n.jsx("div",{className:"w-full flex justify-center mb-2",children:n.jsx("div",{className:`py-1 px-3 rounded-full text-xs font-medium ${C?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:C?"Funds Available":"No Funds Available"})}),n.jsx("p",{className:"text-xs text-gray-400 text-center",children:"This is the current balance allocated to the school address in the system"}),n.jsxs("button",{onClick:O,className:"mt-4 flex items-center text-xs px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Balance"]})]})]})}),v&&!x&&!b&&l&&n.jsx("div",{className:"bg-gray-700/20 rounded-md p-3",children:n.jsxs("div",{className:"text-xs text-gray-400 flex items-center justify-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last checked: ",_()]})}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About School Balance"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"This component allows you to view the balance allocated to a school address in the system. This balance represents funds that have been assigned to the school but may not be directly accessible in the wallet."}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3 mb-3",children:[n.jsx("h5",{className:"text-xs font-medium text-teal-400 mb-1",children:"Understanding School Balance"}),n.jsx("p",{className:"text-xs text-gray-400",children:"The school balance tracked by the contract may differ from the actual Ethereum balance of the address. It represents an internal accounting balance that might be associated with payments, allocations, or other financial operations within the educational system."})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Administrators and school officials can use this information for financial planning, auditing, and reconciliation purposes. The balance is updated whenever relevant financial transactions occur within the system."})]})]})},yD=e=>{const[t,r]=w.useState(null),s=a=>{r(a)};return{BalanceComponent:()=>n.jsx(xD,{schoolAddress:e,onBalanceChange:s,hideCustomInput:!1}),data:t,refreshBalance:a=>{typeof window<"u"&&window.__schoolBalanceRefresh&&window.__schoolBalanceRefresh(a)}}},bD=({adminContract:e,onCheckComplete:t,onRoleDataChange:r,onRefresh:s,defaultAddress:a,hideForm:i=!1})=>{const o=e||Od,{address:l}=Ge(),[c,d]=w.useState(a||""),[u,m]=w.useState(null),[h,p]=w.useState(!1),[f,v]=w.useState(""),[y,g]=w.useState(!0),[x,b]=w.useState(!1),[N,j]=w.useState([]);w.useEffect(()=>{a?d(a):l&&c===""&&d(l)},[l,c,a]),w.useEffect(()=>{const ee=/^0x[a-fA-F0-9]{40}$/.test(c);p(ee),g(!!(l&&c===l))},[c,l]);const{data:C,isLoading:E,isError:P,refetch:L,error:_}=ke({...o,functionName:"hasAdminRole",args:h?[c]:void 0,query:{enabled:h}});w.useEffect(()=>{if(r){const ee={address:c,hasAdminRole:C!==void 0?C:null,lastChecked:u,isLoading:E,isError:P,errorMessage:_?_.message:null,checkHistory:N};r(ee)}},[c,C,u,E,P,_,N,r]);const O=()=>u?Zt(u,{addSuffix:!0}):"Never checked",W=()=>{if(!h){v("Please enter a valid Ethereum address");return}v(""),L().then(ee=>{const I=new Date;if(m(I),ee.data!==void 0){const A=[{address:c,hasRole:ee.data,timestamp:I},...N].slice(0,5);j(A),t&&t(ee.data,c),s&&s()}}).catch(ee=>{console.error("Error checking role:",ee),v("Error checking admin role: "+ee.message)})},H=ee=>{d(ee)},Z=ee=>{ee&&ee!==c?(d(ee),setTimeout(()=>{W()},100)):W()};return w.useEffect(()=>(typeof window<"u"&&(window.__adminRoleCheck=Z),()=>{typeof window<"u"&&delete window.__adminRoleCheck}),[c]),w.useEffect(()=>{a&&h&&!u&&W()},[a,h,u]),n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-amber-400 mb-3",children:"Admin Role Checker"}),!i&&n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"accountToCheck",className:"block text-sm font-medium text-gray-300 mb-1",children:"Account Address"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"accountToCheck",type:"text",value:c,onChange:ee=>d(ee.target.value),placeholder:"0x...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),l&&n.jsx("button",{onClick:()=>d(l),className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-xs text-gray-300 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500",title:"Use my connected wallet address",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the Ethereum address to check for admin role privileges"})]}),f&&n.jsx("div",{className:"w-full bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-3 mb-4 text-sm",children:f}),n.jsx("button",{onClick:W,disabled:!h||E,className:`w-full px-4 py-3 rounded-md text-white font-medium flex items-center justify-center mb-4 ${!h||E?"bg-gray-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500"}`,children:E?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking Admin Role..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Check Admin Role"]})}),h&&n.jsx("div",{className:"w-full text-center",children:n.jsx("p",{className:"text-xs text-gray-400",children:y?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-3 h-3 mr-1 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}),"Checking your connected wallet address"]}):"Checking external wallet address"})})]}),h&&C!==void 0&&!P&&n.jsxs("div",{className:`w-full rounded-lg p-4 flex items-center justify-between ${C?"bg-green-900/20 border border-green-700/30":"bg-red-900/20 border border-red-700/30"}`,children:[n.jsx("div",{className:"flex items-center",children:C?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3 relative",children:n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-green-400",children:"Admin Role Granted"}),n.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:y?"Your connected wallet has admin privileges":`${c.substring(0,6)}...${c.substring(c.length-4)} has admin privileges`})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-red-400",children:"No Admin Role"}),n.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:y?"Your connected wallet does not have admin privileges":`${c.substring(0,6)}...${c.substring(c.length-4)} does not have admin privileges`})]})]})}),n.jsx("div",{children:n.jsxs("p",{className:"text-xs text-gray-400",children:["Last checked ",O(),y&&n.jsxs("span",{className:"ml-1 inline-flex items-center text-amber-400",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1v-3a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-2xs",children:"Your wallet"})]})]})})]}),P&&n.jsx("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Role Check Error"}),n.jsx("p",{className:"text-xs mt-1",children:_?_.message:"An error occurred while checking the admin role. Please try again."})]})]})}),N.length>0&&!i&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Recent Checks"}),n.jsxs("button",{onClick:()=>b(!x),className:"text-xs text-amber-400 hover:text-amber-300 flex items-center focus:outline-none",children:[x?"Hide History":"Show History",n.jsx("svg",{className:`ml-1 w-4 h-4 transition-transform ${x?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),x&&n.jsx("div",{className:"bg-gray-700/20 rounded-lg p-2 mt-2",children:n.jsx("ul",{className:"divide-y divide-gray-700",children:N.map((ee,I)=>n.jsx("li",{className:"py-2 first:pt-0 last:pb-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${ee.hasRole?"bg-green-500":"bg-red-500"} mr-2`}),n.jsxs("button",{onClick:()=>H(ee.address),className:"text-blue-400 hover:text-blue-300 font-mono text-xs hover:underline",children:[ee.address.substring(0,10),"...",ee.address.substring(ee.address.length-8)]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`text-xs ${ee.hasRole?"text-green-400":"text-red-400"} mr-3`,children:ee.hasRole?"Admin":"Not Admin"}),n.jsx("span",{className:"text-xs text-gray-400",children:Zt(ee.timestamp,{addSuffix:!0})})]})]})},I))})})]}),!i&&n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"About Admin Role Checks"}),n.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"The Admin Role Checker allows you to verify if a specific Ethereum address has been granted admin privileges in the system."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Admin Privileges"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Addresses with admin privileges can perform sensitive operations such as updating fee structures, pausing contracts, and managing system configurations."})]}),n.jsxs("div",{className:"bg-gray-700/20 rounded-md p-3",children:[n.jsx("h5",{className:"text-xs font-medium text-amber-400 mb-1",children:"Security Considerations"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Admin roles should be granted with caution and only to trusted entities. Regular audits of admin privileges help maintain system security."})]})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"This role check verifies permissions against the blockchain's current state. If an address recently gained or lost admin privileges, those changes will be reflected in the check results."})]})]})},vD=e=>{const[t,r]=w.useState(null),s=a=>{r(a)};return{RoleCheckerComponent:()=>n.jsx(bD,{defaultAddress:e,onRoleDataChange:s,hideForm:!1}),data:t,checkRole:a=>{typeof window<"u"&&window.__adminRoleCheck&&window.__adminRoleCheck(a)}}},im=e=>e?`${e.slice(0,6)}...${e.slice(-4)}`:"",wD=({contract:e,onAddressesChange:t,onRefresh:r,autoFetch:s=!1,hideVerifyLinks:a=!1})=>{const i=e||H_,[o,l]=w.useState(""),[c,d]=w.useState(""),[u,m]=w.useState(""),[h,p]=w.useState(!1),[f,v]=w.useState(""),[y,g]=w.useState(!1),[x,b]=w.useState(!1),[N,j]=w.useState(null),C=ke({address:i.address,abi:i.abi,functionName:"studentProfile",query:{enabled:!0}}),E=ke({address:i.address,abi:i.abi,functionName:"tuitionSystem",query:{enabled:!0}}),P=ke({address:i.address,abi:i.abi,functionName:"revenueSystem",query:{enabled:!0}});w.useEffect(()=>{if(t){const W=C.isError||E.isError||P.isError;t({studentProfile:o,tuitionSystem:c,revenueSystem:u,lastFetched:N,isLoading:h,hasError:W,statusMessage:f})}},[o,c,u,N,h,f,C.isError,E.isError,P.isError,t]);const L=async()=>{p(!0);try{const[W,H,Z]=await Promise.all([C.refetch(),E.refetch(),P.refetch()]);W.data&&l(String(W.data)),H.data&&d(String(H.data)),Z.data&&m(String(Z.data)),j(new Date),v("System addresses fetched successfully"),b(!0),r&&r()}catch(W){console.error("Error fetching system addresses:",W),v("Error fetching system addresses"),b(!1)}finally{p(!1),g(!0)}};w.useEffect(()=>{if(y){const W=setTimeout(()=>{g(!1)},5e3);return()=>clearTimeout(W)}},[y]),w.useEffect(()=>{s&&!N&&L()},[s,N]);const _=()=>{L()};w.useEffect(()=>(typeof window<"u"&&(window.__systemAddressesRefresh=_),()=>{typeof window<"u"&&delete window.__systemAddressesRefresh}),[]);const O=C.isError||E.isError||P.isError;return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700 shadow-xl rounded-lg p-6 max-w-full mx-auto w-full md:max-w-full mb-9",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"System Addresses"}),n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx(X.button,{onClick:L,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:h,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-6 rounded-md hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-colors duration-300 shadow-lg disabled:opacity-50",children:h?"Loading...":"Fetch System Addresses"})}),y&&n.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4",children:n.jsx("p",{className:`p-2 rounded-md ${f.includes("Error")?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:f})}),h&&n.jsxs("div",{className:"flex justify-center items-center h-40",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-400 border-r-purple-500 border-b-blue-400 border-l-purple-500 rounded-full animate-spin"}),n.jsx("span",{className:"ml-3 text-gray-300",children:"Loading system addresses..."})]}),O&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-red-400 text-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-lg",children:"Error fetching one or more system addresses"})]})}),x&&n.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-6",children:n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Connected Systems"}),n.jsxs("div",{className:"mb-4 bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center mr-3",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),n.jsx("h4",{className:"text-lg font-medium text-white",children:"Student Profile System"})]}),n.jsxs("div",{className:"pl-11",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"font-mono text-gray-200 break-all",children:[n.jsx("span",{className:"block md:hidden",children:o?im(o):"Not fetched"}),n.jsx("span",{className:"hidden md:block",children:o||"Not fetched"})]}),o&&n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(o),v("Student Profile address copied to clipboard!"),g(!0)},className:"ml-2 p-1 rounded-md hover:bg-gray-700 text-gray-400 hover:text-gray-200 transition-colors duration-200",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Manages student information and academic records"})]})]}),n.jsxs("div",{className:"mb-4 bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center mr-3",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})}),n.jsx("h4",{className:"text-lg font-medium text-white",children:"Tuition System"})]}),n.jsxs("div",{className:"pl-11",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"font-mono text-gray-200 break-all",children:[n.jsx("span",{className:"block md:hidden",children:c?im(c):"Not fetched"}),n.jsx("span",{className:"hidden md:block",children:c||"Not fetched"})]}),c&&n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),v("Tuition System address copied to clipboard!"),g(!0)},className:"ml-2 p-1 rounded-md hover:bg-gray-700 text-gray-400 hover:text-gray-200 transition-colors duration-200",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Handles student tuition payments and fee structures"})]})]}),n.jsxs("div",{className:"bg-gray-800/80 rounded-lg p-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center mr-3",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),n.jsx("h4",{className:"text-lg font-medium text-white",children:"Revenue System"})]}),n.jsxs("div",{className:"pl-11",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"font-mono text-gray-200 break-all",children:[n.jsx("span",{className:"block md:hidden",children:u?im(u):"Not fetched"}),n.jsx("span",{className:"hidden md:block",children:u||"Not fetched"})]}),u&&n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),v("Revenue System address copied to clipboard!"),g(!0)},className:"ml-2 p-1 rounded-md hover:bg-gray-700 text-gray-400 hover:text-gray-200 transition-colors duration-200",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Manages institutional revenue and financial operations"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"System Interaction Flow"}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"w-full max-w-xs flex justify-between items-center",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center border border-blue-500/30",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),n.jsx("div",{className:"h-1 flex-grow bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"}),n.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center border border-purple-500/30",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-400",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})})]}),n.jsx("div",{className:"h-10 w-1 bg-gradient-to-b from-purple-500 to-indigo-500 my-2"}),n.jsx("div",{className:"w-16 h-16 bg-indigo-500/20 rounded-full flex items-center justify-center border border-indigo-500/30",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-indigo-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-4",children:[n.jsx("div",{className:"text-center",children:"Student Profile"}),n.jsx("div",{className:"text-center",children:"Tuition System"}),n.jsx("div",{className:"text-center",children:"Revenue System"})]})]})}),!a&&n.jsxs(X.div,{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[o&&n.jsxs("a",{href:`https://etherscan.io/address/${o}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition-colors duration-300 shadow-md flex items-center justify-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"})}),"Verify Student Profile"]}),c&&n.jsxs("a",{href:`https://etherscan.io/address/${c}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition-colors duration-300 shadow-md flex items-center justify-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"})}),"Verify Tuition System"]}),u&&n.jsxs("a",{href:`https://etherscan.io/address/${u}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 transition-colors duration-300 shadow-md flex items-center justify-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"})}),"Verify Revenue System"]})]})]})})]})},Fv=()=>{var O,W,H,Z,ee,I,A,T,$,D,R,F,Y,te,me,le,ce,K;const[e,t]=w.useState(!0),[r,s]=w.useState(null),[a,i]=w.useState("overview"),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[u,m]=w.useState("create"),{address:h,isConnected:p}=Ge(),{data:f,refreshDetails:v}=gD("",!0),{data:y,refreshBalance:g}=yD(),{data:x}=QO(),{data:b,checkRole:N}=vD(),{ProgramManagementComponent:j}=ZO(),{StudentRegistrationComponent:C}=aD(),{StudentManagementComponent:E}=dD(),P=w.useCallback(async q=>{if(!(!q||c)){d(!0);try{await N(q)}finally{d(!1)}}},[N,c]);w.useEffect(()=>{b&&b.hasAdminRole!==null&&l(b.hasAdminRole)},[b]),w.useEffect(()=>{const q=setTimeout(()=>{t(!1),s(new Date)},1500);return()=>clearTimeout(q)},[]),w.useEffect(()=>{p&&h&&!o&&!c&&P(h)},[p,h,o,P,c]);const L=()=>{t(!0),v(),g(),p&&h&&!c&&P(h),setTimeout(()=>{t(!1),s(new Date)},1500)},_=()=>{if(!r)return"";const re=new Date().getTime()-r.getTime(),ne=Math.floor(re/6e4);if(ne<1)return"Just now";if(ne===1)return"1 minute ago";if(ne<60)return`${ne} minutes ago`;const z=Math.floor(ne/60);return z===1?"1 hour ago":`${z} hours ago`};return n.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[n.jsx("header",{className:"bg-gradient-to-r from-blue-800 to-purple-900 py-3 sm:py-4 md:py-6 shadow-xl",children:n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-6",children:[n.jsx("div",{className:"mb-3 sm:mb-4 md:mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-4",children:[n.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white",children:"School Administrator Dashboard"}),n.jsxs("div",{className:"flex items-center gap-2",children:[o&&n.jsx("button",{onClick:L,disabled:c||e,className:`p-1.5 rounded-full ${e||c?"bg-gray-700 text-gray-500":"bg-green-800/30 text-green-500 hover:bg-green-800/50"} transition-colors`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 sm:h-5 sm:w-5 ${e?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-400",children:["Last Updated: ",new Date(r||0).toLocaleTimeString()]})]})]})}),p?n.jsx("div",{className:"text-xs sm:text-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"bg-green-900/30 text-green-500 px-2 py-1 rounded-full text-xs",children:"Connected"}),n.jsx("span",{className:"text-xs text-gray-400",children:h?`${h.slice(0,6)}...${h.slice(-4)}`:"Unknown"})]})}):n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3 sm:p-4 md:p-6 text-center",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-300 mb-2 sm:mb-3",children:"Please connect your wallet to verify admin access."}),n.jsx("div",{className:"bg-blue-500/20 text-blue-400 inline-block px-3 py-1.5 sm:px-4 sm:py-2 rounded-md",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-xs sm:text-sm",children:"Connect Wallet"})]})})]})]})}),n.jsxs("main",{className:"container mx-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4 md:py-8",children:[n.jsxs("div",{className:"flex mb-4 sm:mb-6 md:mb-8 border-b border-gray-700 overflow-x-auto pb-2 hide-scrollbar",children:[n.jsx("button",{onClick:()=>i("overview"),className:`px-2 sm:px-3 md:px-4 py-2 mr-1 sm:mr-2 whitespace-nowrap text-xs sm:text-sm ${a==="overview"?"bg-blue-500/20 text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Overview"}),n.jsx("button",{onClick:()=>i("programs"),className:`px-2 sm:px-3 md:px-4 py-2 mr-1 sm:mr-2 whitespace-nowrap text-xs sm:text-sm ${a==="programs"?"bg-green-500/20 text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:"Program Management"}),n.jsx("button",{onClick:()=>i("students"),className:`px-2 sm:px-3 md:px-4 py-2 mr-1 sm:mr-2 whitespace-nowrap text-xs sm:text-sm ${a==="students"?"bg-purple-500/20 text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-gray-300"}`,children:"Student Management"}),n.jsx("button",{onClick:()=>i("finances"),className:`px-2 sm:px-3 md:px-4 py-2 mr-1 sm:mr-2 whitespace-nowrap text-xs sm:text-sm ${a==="finances"?"bg-yellow-500/20 text-yellow-400 border-b-2 border-yellow-400":"text-gray-400 hover:text-gray-300"}`,children:"Financial Management"}),n.jsx("button",{onClick:()=>i("system"),className:`px-2 sm:px-3 md:px-4 py-2 whitespace-nowrap text-xs sm:text-sm ${a==="system"?"bg-red-500/20 text-red-400 border-b-2 border-red-400":"text-gray-400 hover:text-gray-300"}`,children:"System"})]}),n.jsxs("div",{className:"tab-content",children:[a==="overview"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Dashboard Overview"}),n.jsxs("div",{className:"flex items-center",children:[r&&n.jsxs("span",{className:"text-xs text-gray-400 mr-3 hidden md:inline-flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Last updated: ",_()]}),n.jsx("button",{onClick:L,disabled:e,className:"flex items-center space-x-1 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 text-sm px-3 py-1.5 rounded transition-colors disabled:opacity-50",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-t-blue-400 border-r-blue-400 border-b-blue-400 border-l-transparent rounded-full animate-spin mr-1"}),n.jsx("span",{children:"Refreshing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),n.jsx("span",{children:"Refresh"})]})})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 mb-6 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-400",children:"Organization Status"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:f?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Subscription Status"}),n.jsx("div",{className:`font-semibold ${f.subscriptionStatus==="Active"?"text-green-400":f.subscriptionStatus==="Grace Period"?"text-yellow-400":"text-red-400"}`,children:f.subscriptionStatus})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Time Remaining"}),n.jsxs("div",{className:"text-white",children:[f.timeRemaining.days," days, ",f.timeRemaining.hours," hours"]})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Contract Address"}),n.jsx("div",{className:"font-mono text-xs text-gray-300 truncate",children:f.address||"Not available"})]})]}):n.jsx("div",{className:"col-span-3 bg-gray-700/30 rounded-lg p-6 border border-gray-600 flex justify-center",children:e?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-r-blue-400 border-b-blue-400 border-l-transparent rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-400",children:"Loading organization data..."})]}):n.jsx("p",{className:"text-gray-400",children:"Organization data not available"})})}),f&&f.subscriptionStatus==="Active"&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Subscription Progress"}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:n.jsx("div",{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-purple-500",style:{width:`${f.progress}%`}})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:e?Array(4).fill(0).map((q,re)=>n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg flex flex-col items-center justify-center h-24",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Loading data..."})]},re)):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Active Programs"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-blue-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:f!=null&&f.details?f.details.isActive?"5":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Total Students"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-purple-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:f!=null&&f.details?f.details.isActive?"24":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Pending Registrations"}),n.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"})]}),n.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:f!=null&&f.details?f.details.isActive?"3":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"This Month's Revenue"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-green-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-green-400",children:y!=null&&y.balance?`${Number(y.balance.formatted).toFixed(2)} ETH`:"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:y!=null&&y.lastChecked?`Last updated: ${new Date(y.lastChecked).toLocaleTimeString()}`:"Not yet fetched"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-teal-400",children:"School Balance"}),y?n.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[n.jsxs("div",{className:"text-3xl font-bold text-teal-400 mb-3",children:[y.balance.formatted," ETH"]}),n.jsx("div",{className:"w-full flex justify-center mb-4",children:n.jsx("div",{className:`py-1 px-3 rounded-full text-xs font-medium ${y.balance.hasFunds?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:y.balance.hasFunds?"Funds Available":"No Funds Available"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"This is the current balance allocated to your school in the system"}),y.lastChecked&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last checked: ",new Date(y.lastChecked).toLocaleString()]})]})]}):n.jsx("div",{className:"flex justify-center items-center py-8",children:e?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-teal-400 border-r-teal-400 border-b-teal-400 border-l-transparent rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-400",children:"Loading balance data..."})]}):n.jsx("button",{onClick:()=>g(),className:"bg-teal-500/20 hover:bg-teal-500/30 text-teal-400 px-4 py-2 rounded-md transition-colors",children:"Check School Balance"})})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-400",children:"Attendance Rate"}),n.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[n.jsx("div",{className:"relative w-32 h-32 mb-4",children:n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[n.jsx("circle",{className:"text-gray-700",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50"}),n.jsx("circle",{className:"text-purple-500",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"40",cx:"50",cy:"50",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-(f!=null&&f.details?87:0)/100)}`,strokeLinecap:"round",transform:"rotate(-90 50 50)"}),n.jsxs("text",{x:"50",y:"50",className:"text-2xl",dominantBaseline:"middle",textAnchor:"middle",fill:"white",children:[f!=null&&f.details?"87":"0","%"]})]})}),n.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Average attendance rate across all programs"})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-400",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[n.jsxs("button",{onClick:()=>i("programs"),className:"bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),n.jsx("span",{className:"text-sm",children:"Create Program"})]}),n.jsxs("button",{onClick:()=>i("students"),className:"bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),n.jsx("span",{className:"text-sm",children:"Register Student"})]}),n.jsxs("button",{onClick:()=>i("finances"),className:"bg-green-500/10 hover:bg-green-500/20 text-green-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm",children:"Manage Fees"})]}),n.jsxs("button",{onClick:()=>i("students"),className:"bg-yellow-500/10 hover:bg-yellow-500/20 text-yellow-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm",children:"Take Attendance"})]}),n.jsxs("button",{onClick:()=>i("finances"),className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 p-4 rounded-lg flex flex-col items-center transition-colors",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("span",{className:"text-sm",children:"Withdraw Funds"})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-400",children:"Administrator Access"}),p?n.jsxs("div",{children:[n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Connected Address:"}),n.jsx("span",{className:"text-sm font-mono text-gray-300",children:h?`${h.slice(0,6)}...${h.slice(-4)}`:"Unknown"})]})}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Admin Status:"}),c?n.jsx("span",{className:"bg-gray-600/50 text-gray-400 px-2 py-1 rounded-full text-xs",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 border-2 border-t-gray-400 border-r-gray-400 border-b-gray-400 border-l-transparent rounded-full animate-spin mr-1"}),"Checking..."]})}):o===null?n.jsx("span",{className:"bg-gray-600/50 text-gray-400 px-2 py-1 rounded-full text-xs",children:"Not Checked"}):o?n.jsx("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs",children:"Admin Access"}):n.jsx("span",{className:"bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded-full text-xs",children:"Limited Access"})]})})]}):n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-6 text-center",children:[n.jsx("p",{className:"text-gray-300 mb-3",children:"Please connect your wallet to verify admin access."}),n.jsx("div",{className:"bg-blue-500/20 text-blue-400 inline-block px-4 py-2 rounded-md",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Connect Wallet"]})})]})]})]}),a==="programs"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent",children:"Program Management"})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-400",children:"Programs Overview"}),n.jsx("div",{className:"space-y-4",children:e?n.jsxs("div",{className:"flex justify-center items-center h-32",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-green-400 border-green-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-400",children:"Loading program data..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Total Programs:"}),n.jsx("span",{className:"text-white font-semibold",children:f!=null&&f.details?f.details.isActive?"5":"0":"N/A"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Active Programs:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-white font-semibold mr-2",children:f!=null&&f.details?f.details.isActive?"3":"0":"N/A"}),n.jsx(Iv,{isActive:!0})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Inactive Programs:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-white font-semibold mr-2",children:f!=null&&f.details?f.details.isActive?"2":"0":"N/A"}),n.jsx(Iv,{isActive:!1})]})]}),n.jsxs("div",{className:"pt-3 border-t border-gray-700",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Average Enrollment"}),n.jsx(YO,{enrollmentPercentage:f!=null&&f.details&&f.details.isActive?75:0}),n.jsx("div",{className:"text-xs text-gray-500 text-right mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]})]})})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-400",children:"Quick Program Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>{m("create"),i("programs")},disabled:e||!((O=f==null?void 0:f.details)!=null&&O.isActive),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${(W=f==null?void 0:f.details)!=null&&W.isActive?"bg-green-500/20 hover:bg-green-500/30 text-green-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[e?n.jsx("div",{className:"w-5 h-5 border-2 border-t-green-400 border-green-200/30 rounded-full animate-spin mr-2"}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Program"]}),n.jsxs("button",{onClick:()=>{m("view"),i("programs")},disabled:e||!((H=f==null?void 0:f.details)!=null&&H.isActive),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${(Z=f==null?void 0:f.details)!=null&&Z.isActive?"bg-blue-500/20 hover:bg-blue-500/30 text-blue-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M8 2a1 1 0 000 2h2a1 1 0 100-2H8z"}),n.jsx("path",{d:"M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z"})]}),"View Program Data"]}),n.jsxs("button",{onClick:()=>{m("update"),i("programs")},disabled:e||!((ee=f==null?void 0:f.details)!=null&&ee.isActive),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${(I=f==null?void 0:f.details)!=null&&I.isActive?"bg-purple-500/20 hover:bg-purple-500/30 text-purple-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Update Program Details"]})]})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg lg:col-span-2",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-400",children:"Program Management Console"}),e?n.jsxs("div",{className:"flex items-center justify-center py-10",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-green-400 border-green-200/30 rounded-full animate-spin mr-3"}),n.jsx("span",{className:"text-gray-300",children:"Loading program management..."})]}):(A=f==null?void 0:f.details)!=null&&A.isActive?n.jsx(j,{defaultMode:u,hideRoleChecker:!0,onDataChange:q=>{console.log("Program data updated:",q),q.status.isSuccess&&L()}}):n.jsx("div",{className:"bg-red-900/20 text-red-400 p-4 rounded-md",children:n.jsx("p",{children:"Organization is not active. Please activate your organization to manage programs."})})]})})})]})]}),a==="students"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-500 bg-clip-text text-transparent",children:"Student Management"})}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e?Array(4).fill(0).map((q,re)=>n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg flex flex-col items-center justify-center h-24",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Loading data..."})]},re)):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",onClick:()=>g(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Total Students"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-purple-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:f!=null&&f.details?f.details.isActive?"24":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",onClick:()=>g(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Active Students"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-green-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-green-400",children:f!=null&&f.details?f.details.isActive?"22":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",onClick:()=>g(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Inactive Students"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-red-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-red-400",children:f!=null&&f.details?f.details.isActive?"2":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",onClick:()=>g(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Recent Registrations"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-blue-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:f!=null&&f.details?f.details.isActive?"4":"0":"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f!=null&&f.lastFetched?`Last updated: ${new Date(f.lastFetched).toLocaleTimeString()}`:"Not yet fetched"})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-400",children:"Student Registration"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Register new students to the system. You can add students individually or in batch."})}),n.jsx(C,{defaultMode:"single",availablePrograms:[{id:1,name:"Computer Science"},{id:2,name:"Data Science"},{id:3,name:"Blockchain Development"},{id:4,name:"Web3 Fundamentals"},{id:5,name:"Smart Contract Engineering"}],hideModeSwitcher:!1,maxBatchSize:20})]})}),n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-purple-400",children:"Student Administration"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Manage existing students. Activate schools, deactivate students, or transfer students between schools."})}),n.jsx(E,{defaultMode:"activate-school",hideRoleChecker:!0,showAllTabs:!0})]})})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-purple-400",children:"Recent Students"}),n.jsxs("button",{className:"text-sm bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 px-3 py-1 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 10-1.414 1.414L13.586 15H11a1 1 0 100 2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"View All"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-700/30",children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Address"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Program"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-700",children:[{id:1,name:"Alice Johnson",address:"0x1234...5678",program:"Computer Science",isActive:!0},{id:2,name:"Bob Smith",address:"0x8765...4321",program:"Data Science",isActive:!0},{id:3,name:"Charlie Brown",address:"0xabcd...efgh",program:"Blockchain Development",isActive:!1},{id:4,name:"Diana Prince",address:"0x9876...5432",program:"Smart Contract Engineering",isActive:!0},{id:5,name:"Ethan Hunt",address:"0xijkl...mnop",program:"Web3 Fundamentals",isActive:!0}].map(q=>n.jsxs("tr",{className:"hover:bg-gray-700/20",children:[n.jsx("td",{className:"px-4 py-2 text-sm text-white",children:q.name}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-300 font-mono",children:q.address}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-300",children:q.program}),n.jsx("td",{className:"px-4 py-2 text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.isActive?"bg-green-900/20 text-green-400":"bg-red-900/20 text-red-400"}`,children:q.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-4 py-2 text-sm",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-1 text-blue-400 hover:text-blue-300",title:"View",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),n.jsx("button",{className:"p-1 text-yellow-400 hover:text-yellow-300",title:"Edit",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),n.jsx("button",{className:"p-1 text-purple-400 hover:text-purple-300",title:"Transfer",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"})})})]})})]},q.id))})]})})]})]}),a==="finances"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-400 to-amber-500 bg-clip-text text-transparent",children:"Financial Management"})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Financial Overview"}),n.jsxs("div",{className:"space-y-4",children:[y?n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"School Balance"}),n.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[y.balance.formatted," ETH"]}),n.jsx("div",{className:"mt-2",children:n.jsx("div",{className:`inline-block py-1 px-2 rounded-full text-xs ${y.balance.hasFunds?"bg-green-900/20 text-green-400":"bg-red-900/20 text-red-400"}`,children:y.balance.hasFunds?"Funds Available":"No Funds Available"})})]}):n.jsx("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600 flex justify-center",children:n.jsx("button",{onClick:()=>g(),className:"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 px-3 py-1.5 rounded transition-colors",children:"Check Balance"})}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Revenue This Month"}),x!=null&&x.revenueTracking?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-lg font-semibold text-green-400",children:x.revenueTracking.totalRevenue.formatted||(y!=null&&y.balance?`${Number(y.balance.formatted).toFixed(2)} ETH`:"0 ETH")}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:x.revenueTracking.lastWithdrawalTime.timeAgo||"No withdrawals yet"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-lg font-semibold text-green-400",children:y!=null&&y.balance?`${Number(y.balance.formatted).toFixed(2)} ETH`:"0 ETH"}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Last updated: ",y!=null&&y.lastChecked?new Date(y.lastChecked).toLocaleTimeString():"N/A"]})]})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-gray-600",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Pending Transactions"}),e?n.jsxs("div",{className:"flex items-center justify-center py-2",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Loading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-lg font-semibold text-blue-400",children:(T=f==null?void 0:f.details)!=null&&T.isActive?"2":"0"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:($=f==null?void 0:f.details)!=null&&$.isActive?`Total value: ${((D=x==null?void 0:x.programRevenue)==null?void 0:D.formatted)||(y!=null&&y.balance.raw?`${(Number(y.balance.formatted)*.3).toFixed(2)} ETH`:"0 ETH")}`:"No pending transactions"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>y!=null&&y.balance.hasFunds?g():null,disabled:e||!(y!=null&&y.balance.hasFunds),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${y!=null&&y.balance.hasFunds?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"})}),e?"Loading...":`Withdraw Funds${y!=null&&y.balance?` (${y.balance.formatted} ETH)`:""}`]}),n.jsxs("button",{onClick:()=>x?L():null,disabled:e,className:`w-full bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 py-2 px-4 rounded-md transition-colors flex items-center justify-center ${e?"opacity-50":""}`,children:[e?n.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin mr-2"}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-14a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Transaction History"]}),n.jsxs("button",{onClick:()=>{var q;return(q=f==null?void 0:f.details)!=null&&q.isActive?L():null},disabled:e||!((R=f==null?void 0:f.details)!=null&&R.isActive),className:`w-full py-2 px-4 rounded-md transition-colors flex items-center justify-center ${(F=f==null?void 0:f.details)!=null&&F.isActive?"bg-green-500/20 hover:bg-green-500/30 text-green-400":"bg-gray-500/20 text-gray-400 cursor-not-allowed"} ${e?"opacity-50":""}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v6a1 1 0 102 0V8z",clipRule:"evenodd"})}),e?"Loading...":"Financial Reports"]})]})]})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg mb-6",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Fee Management"}),n.jsx(uD,{onFinancialActionComplete:(q,re)=>{console.log(`${q} completed with hash: ${re}`),g()}})]})}),n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"School Finance Manager"}),n.jsx(nD,{defaultTab:"fees",hideEducationalInfo:!0,onFeeUpdateComplete:q=>{console.log(`Fee update completed with hash: ${q}`),g()},onWithdrawComplete:(q,re)=>{console.log(`Withdrawal of ${re} completed with hash: ${q}`),g()}})]})})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-5 shadow-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Financial Dashboard"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:e?Array(3).fill(0).map((q,re)=>n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg flex flex-col items-center justify-center h-24",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-400 border-blue-200/30 rounded-full animate-spin"}),n.jsx("span",{className:"text-xs text-gray-400 mt-2",children:"Loading data..."})]},re)):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Total Revenue"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-green-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-green-400",children:((Y=x==null?void 0:x.revenueTracking)==null?void 0:Y.totalRevenue.formatted)||(y!=null&&y.balance?`${Number(y.balance.formatted).toFixed(2)} ETH`:"0 ETH")}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(te=x==null?void 0:x.lastChecked)!=null&&te.revenueTracking?`Last updated: ${new Date(x.lastChecked.revenueTracking).toLocaleTimeString()}`:y!=null&&y.lastChecked?`Last checked: ${new Date(y.lastChecked).toLocaleTimeString()}`:"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Platform Share"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-blue-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:((me=x==null?void 0:x.revenueTracking)==null?void 0:me.platformShare.formatted)||(y!=null&&y.balance?`${(Number(y.balance.formatted)*.2).toFixed(2)} ETH`:"0 ETH")}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(le=x==null?void 0:x.lastChecked)!=null&&le.revenueTracking?`Last updated: ${new Date(x.lastChecked.revenueTracking).toLocaleTimeString()}`:y!=null&&y.lastChecked?"Platform fee: 20%":"Not yet fetched"})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"School Share"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-yellow-400":"bg-purple-400"}`})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:((ce=x==null?void 0:x.revenueTracking)==null?void 0:ce.schoolShare.formatted)||(y!=null&&y.balance?`${(Number(y.balance.formatted)*.8).toFixed(2)} ETH`:"0 ETH")}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(K=x==null?void 0:x.lastChecked)!=null&&K.revenueTracking?`Last updated: ${new Date(x.lastChecked.revenueTracking).toLocaleTimeString()}`:y!=null&&y.lastChecked?"School share: 80%":"Not yet fetched"})]})]})}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-4 mb-4",children:n.jsx("p",{className:"text-sm text-gray-300",children:"View your financial data, manage fees, and monitor your institution's revenue."})}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{onClick:()=>console.log("Refresh financial data"),className:"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 px-4 py-2 rounded-md transition-colors flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Load Financial Data"]})})]})]}),a==="system"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("div",{className:"flex justify-between items-center mb-3 sm:mb-4 md:mb-6",children:n.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-red-400 to-pink-500 bg-clip-text text-transparent",children:"System Configuration"})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 md:gap-6 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4 md:p-5 shadow-lg",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4 text-red-400",children:"Organization Details"}),f&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Subscription Status"}),n.jsx("p",{className:"text-white",children:f.subscriptionStatus||"Not available"})]}),n.jsxs("div",{className:"bg-gray-700/30 rounded-md p-3",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Contract Address"}),n.jsx("p",{className:"text-white font-mono text-sm",children:f.address||"Not available"})]})]})]}),n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3 sm:p-4 md:p-5 shadow-lg",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4 text-red-400",children:"System Addresses"}),n.jsx("div",{className:"bg-gray-700/30 rounded-md p-3",children:n.jsx(wD,{})})]})]})]})]})]})]})},jD=()=>{if(typeof window<"u"){const e=window.location.protocol,t=window.location.hostname;return t==="localhost"?`${e}//${t}:5173`:`${e}//${t}`}return"http://localhost:5173"},ND=w.memo(({isProcessing:e})=>n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mb-4"}),n.jsx("p",{className:"text-xl text-gray-300",children:e?"Finalizing your login...":"Processing your login..."}),n.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:e?"We are preparing your home page":"Validating your credentials"})]})})),SD=w.memo(()=>{var s;const e=Ir(),{authState:t}=vs.useOCAuth(),r=w.useCallback(()=>{e("/")},[e]);return n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900",children:n.jsxs("div",{className:"text-center p-8 bg-gray-800 rounded-lg shadow-xl",children:[n.jsx("p",{className:"text-xl text-red-500 mb-4",children:"Login Error"}),n.jsx("p",{className:"text-gray-300",children:((s=t.error)==null?void 0:s.message)||"An unknown error occurred"}),n.jsx("button",{onClick:r,className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Return to Home"})]})})}),kD=()=>{const e=Ir(),{ocAuth:t,isInitialized:r,authState:s}=vs.useOCAuth(),[a,i]=w.useState(!1),o=w.useCallback(async()=>{try{console.log("Login successful, preparing navigation..."),i(!0),r||await new Promise(d=>setTimeout(d,5500));const c=jD();if(console.log("Configured redirect URI:",c),s.isAuthenticated)try{if(console.log("Auth State:",{isAuthenticated:s.isAuthenticated,user:s.user,token:s.token,session:s.session}),t)try{await t.signInWithRedirect({redirectUri:c,state:"opencampus"})}catch(d){console.warn("Redirect configuration error:",d)}}catch(d){console.warn("Auth state handling error:",d)}else console.warn("User not authenticated in authState");await new Promise(d=>setTimeout(d,500)),e("/",{replace:!0})}catch(c){console.error("Error in login success handler:",c),e("/",{replace:!0})}finally{i(!1)}},[e,r,t,s]),l=w.useCallback(c=>{console.error("Authentication error:",c),e("/",{replace:!0})},[e]);return w.useEffect(()=>()=>{i(!1)},[]),n.jsx(vs.LoginCallBack,{errorCallback:l,successCallback:o,customErrorComponent:n.jsx(SD,{}),customLoadingComponent:n.jsx(ND,{isProcessing:a})})},CD=({children:e})=>{const{isAuthenticated:t,isLoading:r}=vs.useOCAuth();return r?n.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?n.jsx(n.Fragment,{children:e}):n.jsx(wI,{to:"/",replace:!0})},TD=()=>{const e=Ir(),{address:t,isConnected:r}=Ge(),[s,a]=w.useState(null),i=[{id:"school-admin",title:"School Administrator",description:"Manage school operations, programs, students, and finances",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),route:"/school-admin",authRequired:!0,roleCheck:"admin"},{id:"teacher",title:"Teacher",description:"Manage classes, track attendance, and grade students",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),route:"/teachers",authRequired:!0,roleCheck:"teacher"},{id:"student",title:"Student",description:"View classes, track progress, and manage tuition",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),route:"/student-dashboard",authRequired:!0,roleCheck:"student"},{id:"guest",title:"Guest",description:"Explore the platform with limited access",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),route:"/guest-dashboard",authRequired:!1,roleCheck:null}],o=d=>{a(d)},l=async()=>{if(s){if(s.authRequired&&!r){alert("Please connect your wallet to continue");return}s.roleCheck&&console.log(`Checking ${s.roleCheck} role for address: ${t}`),e(s.route)}},c=()=>{e("/")};return n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center p-4 sm:p-6",children:[n.jsxs("div",{className:"w-full max-w-4xl bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-4 sm:px-6 py-3 sm:py-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white",children:"Select Your Role"}),n.jsx("button",{onClick:c,className:"text-white/80 hover:text-white transition-colors p-1",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsx("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-gray-700/50 border-b border-gray-700",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full ${r?"bg-green-500":"bg-red-500"} mr-1 sm:mr-2`}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:r&&t?`Connected: ${t.substring(0,6)}...${t.substring(t.length-4)}`:"Wallet not connected"}),!r&&n.jsx(Ou,{className:"text-xs px-2 sm:px-3 py-1 bg-blue-500/20 rounded-md border border-blue-500/30 text-blue-400"})]})}),n.jsx("div",{className:"p-4 sm:p-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:i.map(d=>n.jsxs(X.div,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>o(d),className:`flex flex-col items-center justify-center p-4 sm:p-6 rounded-lg cursor-pointer transition-all ${(s==null?void 0:s.id)===d.id?"bg-blue-500/20 border-2 border-blue-500":"bg-gray-700 border-2 border-transparent hover:bg-gray-700/70"}`,children:[n.jsx("div",{className:`${(s==null?void 0:s.id)===d.id?"text-blue-400":"text-gray-300"} h-8 w-8 sm:h-12 sm:w-12 mb-2 sm:mb-4`,children:d.icon}),n.jsx("h3",{className:`text-base sm:text-lg font-semibold ${(s==null?void 0:s.id)===d.id?"text-blue-400":"text-white"} text-center`,children:d.title}),n.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm text-center text-gray-400",children:d.description}),d.authRequired&&n.jsx("div",{className:"mt-2 sm:mt-3 text-[10px] sm:text-xs px-2 py-1 rounded-full bg-yellow-900/30 text-yellow-500",children:"Authentication Required"})]},d.id))})}),n.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-700/30 border-t border-gray-700 flex flex-col sm:flex-row justify-between gap-3 sm:gap-0",children:[n.jsx("button",{onClick:c,className:"w-full sm:w-auto px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg transition-colors text-sm sm:text-base",children:"Back to Home"}),n.jsx("button",{onClick:l,disabled:!s,className:`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg transition-colors text-sm sm:text-base ${s?"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:opacity-90":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:s?"Continue":"Select a Role"})]})]}),n.jsxs("div",{className:"mt-4 sm:mt-6 text-center max-w-2xl px-4",children:[n.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-300 mb-2",children:"About Role-Based Access"}),n.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Different roles have different access levels and features within mySchoolTree. Administrators can manage schools, teachers can handle classes, and students can track their progress. Guest access provides a limited view of the platform's capabilities."})]})]})},ED=()=>{const e=Ir(),[t,r]=w.useState("overview"),s=[{id:1,name:"Introduction to Blockchain",students:24,institution:"Crypto Academy"},{id:2,name:"Smart Contract Development",students:18,institution:"Blockchain University"},{id:3,name:"Web3 Fundamentals",students:32,institution:"DeFi Institute"}],a=l=>{r(l)},i=()=>{e("/role-select")},o=()=>{e("/signup")};return n.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[n.jsx("header",{className:"bg-gray-800 border-b border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16 items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:"mySchoolTree"}),n.jsx("span",{className:"ml-3 px-2 py-1 bg-blue-900/30 text-blue-400 text-xs rounded-md",children:"Guest Mode"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Ou,{className:"bg-blue-500/20 text-blue-400 px-3 py-1.5 rounded-md border border-blue-500/30 text-sm"}),n.jsx("button",{onClick:o,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-1.5 rounded-md text-sm transition-colors",children:"Create Account"})]})]})})}),n.jsx("nav",{className:"bg-gray-800/50 border-b border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex space-x-4 overflow-x-auto hide-scrollbar",children:[n.jsx("button",{onClick:()=>a("overview"),className:`px-3 py-3 text-sm ${t==="overview"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Overview"}),n.jsx("button",{onClick:()=>a("programs"),className:`px-3 py-3 text-sm ${t==="programs"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Programs"}),n.jsx("button",{onClick:()=>a("demo"),className:`px-3 py-3 text-sm ${t==="demo"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Interactive Demo"}),n.jsx("button",{onClick:()=>a("about"),className:`px-3 py-3 text-sm ${t==="about"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"About"})]})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8 bg-yellow-900/30 border border-yellow-800/50 rounded-lg p-4 text-yellow-500 flex items-start",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"You are browsing in Guest Mode"}),n.jsx("p",{className:"mt-1 text-sm",children:"Guest access provides limited functionality. To access all features, please create an account or connect your wallet."}),n.jsxs("div",{className:"mt-2 flex space-x-2",children:[n.jsx("button",{onClick:o,className:"text-xs px-2 py-1 bg-yellow-700/30 hover:bg-yellow-700/50 rounded transition-colors",children:"Sign Up"}),n.jsx("button",{onClick:i,className:"text-xs px-2 py-1 bg-yellow-700/30 hover:bg-yellow-700/50 rounded transition-colors",children:"Change Role"})]})]})]}),t==="overview"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Welcome to mySchoolTree"}),n.jsx("p",{className:"text-gray-300",children:"mySchoolTree bridges traditional education with blockchain technology, providing a secure and transparent system for academic record management. As a guest, you can explore our platform's key features before creating an account."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center mb-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Immutable Academic Records"}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Student records and achievements are securely stored on the blockchain, preventing tampering and ensuring authenticity."})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center mb-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"})})}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transparent Verification"}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Employers and educational institutions can instantly verify credentials without lengthy verification processes."})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[n.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mb-4",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),n.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),n.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]})}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Efficient Tuition Management"}),n.jsx("p",{className:"mt-2 text-gray-400 text-sm",children:"Streamlined payment processing with automatic record-keeping and transparent fee structures."})]})]})]}),t==="programs"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Educational Programs"}),n.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"bg-gray-700 px-6 py-4",children:[n.jsx("h2",{className:"text-lg font-medium text-white",children:"Blockchain Education Programs"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Sample programs available on the platform"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-700/50",children:[n.jsx("th",{className:"py-3 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Program Name"}),n.jsx("th",{className:"py-3 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Institution"}),n.jsx("th",{className:"py-3 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Students"}),n.jsx("th",{className:"py-3 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-700",children:s.map(l=>n.jsxs("tr",{className:"hover:bg-gray-700/30",children:[n.jsx("td",{className:"py-4 px-6 text-sm font-medium text-white",children:l.name}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-300",children:l.institution}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-300",children:l.students}),n.jsx("td",{className:"py-4 px-6 text-sm",children:n.jsx("button",{onClick:()=>alert("Feature only available for registered users"),className:"text-blue-400 hover:text-blue-300 transition-colors",children:"View Details"})})]},l.id))})]})}),n.jsxs("div",{className:"bg-gray-700/30 px-6 py-4 text-center",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Full program details and enrollment options are available to registered users only"}),n.jsx("button",{onClick:o,className:"mt-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md text-sm transition-colors",children:"Create Account to Explore"})]})]})]}),t==="demo"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Interactive Demo"}),n.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:n.jsxs("div",{className:"text-center py-6",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-white",children:"Interactive Demo"}),n.jsx("p",{className:"mt-2 text-gray-400",children:"Experience how mySchoolTree works with our interactive demo."}),n.jsx("button",{onClick:()=>alert("Demo feature restricted to registered users"),className:"mt-6 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors",children:"Start Demo"}),n.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"Demo functionality is restricted in guest mode. Create an account for full access."})]})})]}),t==="about"&&n.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"About mySchoolTree"}),n.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[n.jsx("p",{className:"text-gray-300",children:"mySchoolTree is a revolutionary platform that combines traditional education systems with blockchain technology. Our mission is to create a secure, transparent, and efficient educational ecosystem for all stakeholders."}),n.jsx("h2",{className:"text-xl font-semibold text-white mt-6 mb-3",children:"Our Vision"}),n.jsx("p",{className:"text-gray-300",children:"We envision a future where educational records are immutable, instantly verifiable, and controlled by the students who earned them. By leveraging blockchain technology, we eliminate fraud, reduce administrative overhead, and empower students with ownership of their credentials."}),n.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Join the Revolution"}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[n.jsx("button",{onClick:o,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-md hover:opacity-90 transition-opacity",children:"Create an Account"}),n.jsx("button",{onClick:()=>e("/about"),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md transition-colors",children:"Learn More"})]})]})]})]})]}),n.jsx("footer",{className:"bg-gray-800 border-t border-gray-700 mt-8",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[n.jsx("div",{className:"text-gray-400 text-sm",children:" 2025 mySchoolTree - Blockchain Education Management"}),n.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-6",children:[n.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-300 transition-colors",children:"Terms of Service"}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-300 transition-colors",children:"Privacy Policy"}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-300 transition-colors",children:"Contact"})]})]})})})]})};function PD(){return n.jsxs(NI,{children:[n.jsx(Vn,{path:"/",element:n.jsx(c_,{})}),n.jsx(Vn,{path:"/countdown",element:n.jsx(u_,{})}),n.jsx(Vn,{path:"/student-dashboard",element:n.jsx(EO,{})}),n.jsx(Vn,{path:"/teachers",element:n.jsx(KO,{})}),n.jsx(Vn,{path:"/school-admin",element:n.jsx(Fv,{})}),n.jsx(Vn,{path:"/redirect",element:n.jsx(kD,{})}),n.jsx(Vn,{path:"/role-select",element:n.jsx(TD,{})}),n.jsx(Vn,{path:"/guest-dashboard",element:n.jsx(ED,{})}),n.jsx(Vn,{path:"/dashboard",element:n.jsx(CD,{children:n.jsx(Fv,{})})})]})}globalThis.Buffer=a1.Buffer;const AD=new _5;bm.createRoot(document.getElementById("root")).render(n.jsx(a5.StrictMode,{children:n.jsx(aP,{config:o3,children:n.jsx(B5,{client:AD,children:n.jsx(GI,{children:n.jsxs(IA,{children:[" ",n.jsx(PD,{})]})})})})}));export{fe as B,qE as E,jo as H,jn as I,Ai as _,ID as a,DD as b,V3 as c,iT as d,a1 as e,bf as f,qv as g,_n as h,Be as i,j8 as j,Ow as k,_j as l,xi as m,Uw as n,fs as o,Mw as p,OD as q,bd as r,zD as s,cu as t,El as u,BD as v,$D as w};
